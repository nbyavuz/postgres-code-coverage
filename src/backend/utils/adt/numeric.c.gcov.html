<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - Differential Code coverage report between 8951941fb8a4d7f239760d7a4cd8fcaeecde13e2 and 5f6f951f88e53630b3ebe9bde762a9612ca6202f - src/backend/utils/adt/numeric.c</title>
  <link rel="stylesheet" type="text/css" href="../../../../gcov.css">
</head>

<body>

          <table width="100%" border=0 cellspacing=0 cellpadding=0>
            <tr><td class="title">LCOV - differential code coverage report</td></tr>
            <tr><td class="ruler"><img src="../../../../glass.png" width=3 height=3 alt=""></td></tr>

            <tr>
              <td width="100%">
                <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="10%" class="headerValue"><a href="../../../../index.html" title="Click to go to top-level">top level</a> - <a href="../../../index.html" title="Click to go to directory src">src</a>/<a href="../../index.html" title="Click to go to directory backend">backend</a>/<a href="../index.html" title="Click to go to directory utils">utils</a>/<a href="index.html" title="Click to go to directory adt">adt</a> - numeric.c<span style="font-size: 80%;"> (source / <a href="numeric.c.func-c.html" title="Click to go to function table">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="5%"></td>
            <td width="5%" class="headerCovTableHead">Coverage</td>
            <td width="5%" class="headerCovTableHead" title="Covered + Uncovered code (not including EUB, ECB, DUB, DCB categories)">Total</td>
            <td width="5%" class="headerCovTableHead" title="Exercised code only (CBC + GBC + GNC + GIC)">Hit</td>
            <td width="5%" class="headerCovTableHeadUNC" title="Uncovered New Code (+ => 0):
Newly added code is not tested">UNC</td>
            <td width="5%" class="headerCovTableHeadLBC" title="Lost Baseline Coverage (1 => 0):
Unchanged code is no longer tested">LBC</td>
            <td width="5%" class="headerCovTableHeadUIC" title="Uncovered Included Code (# => 0):
Previously unused code is untested">UIC</td>
            <td width="5%" class="headerCovTableHeadUBC" title="Uncovered Baseline Code (0 => 0):
Unchanged code was untested before, is untested now">UBC</td>
            <td width="5%" class="headerCovTableHeadGIC" title="Gained Included Coverage (# => 1):
Previously unused code is tested now">GIC</td>
            <td width="5%" class="headerCovTableHeadGNC" title="Gained New Coverage (+ => 1):
Newly added code is tested">GNC</td>
            <td width="5%" class="headerCovTableHeadCBC" title="Covered Baseline Code (1 => 1):
Unchanged code was tested before and is still tested">CBC</td>
            <td width="5%" class="headerCovTableHeadEUB" title="Excluded Uncovered Baseline (0 => #):
Previously untested code is unused now">EUB</td>
            <td width="5%" class="headerCovTableHeadECB" title="Excluded Covered Baseline (1 => #):
Previously tested code is unused now">ECB</td>
            <td width="5%" class="headerCovTableHeadDUB" title="Deleted Uncovered Baseline (0 => -):
Previously untested code has been deleted">DUB</td>
            <td width="5%" class="headerCovTableHeadDCB" title="Deleted Covered Baseline (1 => -):
Previously tested code has been deleted">DCB</td>
          </tr>
          <tr>
            <td class="headerItem">Current:</td>
            <td class="headerValue">Differential Code coverage report between 8951941fb8a4d7f239760d7a4cd8fcaeecde13e2 and 5f6f951f88e53630b3ebe9bde762a9612ca6202f</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntryHi">94.5&nbsp;%</td>
            <td class="headerCovTableEntry">4052</td>
            <td class="headerCovTableEntry">3828</td>
            <td class="headerCovTableEntry"><a href="#L6382" title="goto first UNC line">1</a></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"><a href="#L705" title="goto first UBC line">223</a></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"><a href="#L1972" title="goto first GNC line">74</a></td>
            <td class="headerCovTableEntry"><a href="#L626" title="goto first CBC line">3754</a></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry">9</td>
            <td class="headerCovTableEntry">106</td>
          </tr>
          <tr>
            <td class="headerItem">Current Date:</td>
            <td class="headerValue">2025-08-26 13:23:18 +0300</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntryHi">99.5&nbsp;%</td>
            <td class="headerCovTableEntry">211</td>
            <td class="headerCovTableEntry">210</td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry">1</td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry">27</td>
            <td class="headerCovTableEntry">183</td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry">4</td>
          </tr>
          <tr>
            <td class="headerItem">Baseline:</td>
            <td class="headerValue">lcov-20250826-141335-baseline</td>
            <td></td>
            <td class="headerItem">Branches:</td>
            <td class="headerCovTableEntryMed">78.3&nbsp;%</td>
            <td class="headerCovTableEntry">2533</td>
            <td class="headerCovTableEntry">1984</td>
            <td class="headerCovTableEntry"><a href="#L1974" title="goto first UNC branch">12</a></td>
            <td class="headerCovTableEntry"><a href="#L1979" title="goto first LBC branch">1</a></td>
            <td class="headerCovTableEntry"><a href="#L6486" title="goto first UIC branch">8</a></td>
            <td class="headerCovTableEntry"><a href="#L704" title="goto first UBC branch">528</a></td>
            <td class="headerCovTableEntry"><a href="#L6486" title="goto first GIC branch">8</a></td>
            <td class="headerCovTableEntry"><a href="#L1972" title="goto first GNC branch">36</a></td>
            <td class="headerCovTableEntry"><a href="#L641" title="goto first CBC branch">1940</a></td>
            <td class="headerCovTableEntry"><a href="#L5285" title="goto first EUB branch">42</a></td>
            <td class="headerCovTableEntry"><a href="#L5285" title="goto first ECB branch">22</a></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
          </tr>
          <tr>
            <td class="headerItem">Baseline Date:</td>
            <td class="headerValue">2025-08-26 13:23:53 +0300</td>
            <td></td>
            <td class="subTableHeader" colspan="15">Line coverage date bins:</td>
          </tr>
          <tr>
            <td class="headerItem">Legend:</td>
            <td class="headerValueLeg">            Lines:&nbsp&nbsp&nbsp&nbsp
            <span class="coverLegendCov">hit</span>
            <span class="coverLegendNoCov">not hit</span>
            <br>Branches:
            <span class="coverLegendCov">+</span> taken
            <span class="coverLegendNoCov">-</span> not taken
            <span class="coverLegendNoCov">#</span> not executed
</td>
            <td></td>
            <td class="headerItem">(7,30] days:</td>
            <td class="headerCovTableEntryHi">98.6&nbsp;%</td>
            <td class="headerCovTableEntry">74</td>
            <td class="headerCovTableEntry">73</td>
            <td class="tlaUNC"><a href="#L6382" title="goto first UNC line in &ldquo;(7,30] days&rdquo; bin" class="tlaBgUNC">1</a></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"><a href="#L4376" title="goto first GNC line in &ldquo;(7,30] days&rdquo; bin" class="tlaBgGNC">72</a></td>
            <td class="headerCovTableEntry"><a href="#L5644" title="goto first CBC line in &ldquo;(7,30] days&rdquo; bin" class="tlaBgCBC">1</a></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td class="headerItem">(30,360] days:</td>
            <td class="headerCovTableEntryHi">92.7&nbsp;%</td>
            <td class="headerCovTableEntry">179</td>
            <td class="headerCovTableEntry">166</td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"><a href="#L1862" title="goto first UBC line in &ldquo;(30,360] days&rdquo; bin" class="tlaBgUBC">13</a></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"><a href="#L1972" title="goto first GNC line in &ldquo;(30,360] days&rdquo; bin" class="tlaBgGNC">2</a></td>
            <td class="headerCovTableEntry"><a href="#L1824" title="goto first CBC line in &ldquo;(30,360] days&rdquo; bin" class="tlaBgCBC">164</a></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td class="headerItem">(360..) days:</td>
            <td class="headerCovTableEntryHi">94.5&nbsp;%</td>
            <td class="headerCovTableEntry">3799</td>
            <td class="headerCovTableEntry">3589</td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"><a href="#L705" title="goto first UBC line in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">210</a></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"><a href="#L626" title="goto first CBC line in &ldquo;(360..) days&rdquo; bin" class="tlaBgCBC">3589</a></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td class="subTableHeader" colspan="15">Function coverage date bins:</td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td class="headerItem">(7,30] days:</td>
            <td class="headerCovTableEntryHi">100.0&nbsp;%</td>
            <td class="headerCovTableEntry">5</td>
            <td class="headerCovTableEntry">5</td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry">5</td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td class="headerItem">(30,360] days:</td>
            <td class="headerCovTableEntryHi">100.0&nbsp;%</td>
            <td class="headerCovTableEntry">1</td>
            <td class="headerCovTableEntry">1</td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry">1</td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td class="headerItem">(360..) days:</td>
            <td class="headerCovTableEntryHi">99.5&nbsp;%</td>
            <td class="headerCovTableEntry">205</td>
            <td class="headerCovTableEntry">204</td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry">1</td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry">22</td>
            <td class="headerCovTableEntry">182</td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td class="subTableHeader" colspan="15">Branch coverage date bins:</td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td class="headerItem">(7,30] days:</td>
            <td class="headerCovTableEntryLo">72.5&nbsp;%</td>
            <td class="headerCovTableEntry">40</td>
            <td class="headerCovTableEntry">29</td>
            <td class="tlaUNC"><a href="#L5618" title="goto first UNC branch in &ldquo;(7,30] days&rdquo; bin" class="tlaBgUNC">11</a></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"><a href="#L5557" title="goto first GNC branch in &ldquo;(7,30] days&rdquo; bin" class="tlaBgGNC">29</a></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td class="headerItem">(30,360] days:</td>
            <td class="headerCovTableEntryMed">87.3&nbsp;%</td>
            <td class="headerCovTableEntry">110</td>
            <td class="headerCovTableEntry">96</td>
            <td class="tlaUNC"><a href="#L1974" title="goto first UNC branch in &ldquo;(30,360] days&rdquo; bin" class="tlaBgUNC">1</a></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"><a href="#L1834" title="goto first UBC branch in &ldquo;(30,360] days&rdquo; bin" class="tlaBgUBC">13</a></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"><a href="#L1972" title="goto first GNC branch in &ldquo;(30,360] days&rdquo; bin" class="tlaBgGNC">7</a></td>
            <td class="headerCovTableEntry"><a href="#L1829" title="goto first CBC branch in &ldquo;(30,360] days&rdquo; bin" class="tlaBgCBC">89</a></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td class="headerItem">(360..) days:</td>
            <td class="headerCovTableEntryMed">76.0&nbsp;%</td>
            <td class="headerCovTableEntry">2447</td>
            <td class="headerCovTableEntry">1859</td>
            <td class="headerCovTableEntry"></td>
            <td class="tlaLBC"><a href="#L1979" title="goto first LBC branch in &ldquo;(360..) days&rdquo; bin" class="tlaBgLBC">1</a></td>
            <td class="tlaUIC"><a href="#L6486" title="goto first UIC branch in &ldquo;(360..) days&rdquo; bin" class="tlaBgUIC">8</a></td>
            <td class="headerCovTableEntry"><a href="#L704" title="goto first UBC branch in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">515</a></td>
            <td class="headerCovTableEntry"><a href="#L6486" title="goto first GIC branch in &ldquo;(360..) days&rdquo; bin" class="tlaBgGIC">8</a></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"><a href="#L641" title="goto first CBC branch in &ldquo;(360..) days&rdquo; bin" class="tlaBgCBC">1851</a></td>
            <td class="headerCovTableEntry"><a href="#L5285" title="goto first EUB branch in &ldquo;(360..) days&rdquo; bin" class="tlaBgEUB">42</a></td>
            <td class="headerCovTableEntry"><a href="#L5285" title="goto first ECB branch in &ldquo;(360..) days&rdquo; bin" class="tlaBgECB">22</a></td>
            <td class="headerCovTableEntry"></td>
            <td class="headerCovTableEntry"></td>
          </tr>
                  <tr><td><img src="../../../../glass.png" width=3 height=3 alt=""></td></tr>
                </table>
              </td>
            </tr>

            <tr><td class="ruler"><img src="../../../../glass.png" width=3 height=3 alt=""></td></tr>
          </table>

          <table cellpadding=0 cellspacing=0 border=0>
            <tr>
              <td><br></td>
            </tr>
            <tr>
              <td>
<pre class="sourceHeading"> Age         Owner                    Branch data    TLA  Line data    Source code</pre>
<pre class="source">
<span id="L1" title="Line 1: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">       1</span>                 :                : /*-------------------------------------------------------------------------</span>
<span id="L2" title="Line 2: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">       2</span>                 :                :  *</span>
<span id="L3" title="Line 3: commit 6724a5078748 on 1999-02-13 by bruce@momjian.us">                           <span class="lineNum">       3</span>                 :                :  * numeric.c</span>
<span id="L4" title="Line 4: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">       4</span>                 :                :  *    An exact numeric data type for the Postgres database system</span>
<span id="L5" title="Line 5: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">       5</span>                 :                :  *</span>
<span id="L6" title="Line 6: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">       6</span>                 :                :  * Original coding 1998, Jan Wieck.  Heavily revised 2003, Tom Lane.</span>
<span id="L7" title="Line 7: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">       7</span>                 :                :  *</span>
<span id="L8" title="Line 8: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">       8</span>                 :                :  * Many of the algorithmic ideas are borrowed from David M. Smith's &quot;FM&quot;</span>
<span id="L9" title="Line 9: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">       9</span>                 :                :  * multiple-precision math library, most recently published as Algorithm</span>
<span id="L10" title="Line 10: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      10</span>                 :                :  * 786: Multiple-Precision Complex Arithmetic and Functions, ACM</span>
<span id="L11" title="Line 11: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      11</span>                 :                :  * Transactions on Mathematical Software, Vol. 24, No. 4, December 1998,</span>
<span id="L12" title="Line 12: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      12</span>                 :                :  * pages 359-367.</span>
<span id="L13" title="Line 13: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      13</span>                 :                :  *</span>
<span id="L14" title="Line 14: commit 50e6eb731d98 on 2025-01-01 by bruce@momjian.us">                           <span class="lineNum">      14</span>                 :                :  * Copyright (c) 1998-2025, PostgreSQL Global Development Group</span>
<span id="L15" title="Line 15: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      15</span>                 :                :  *</span>
<span id="L16" title="Line 16: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      16</span>                 :                :  * IDENTIFICATION</span>
<span id="L17" title="Line 17: commit 9f2e21138693 on 2010-09-20 by magnus@hagander.net">                           <span class="lineNum">      17</span>                 :                :  *    src/backend/utils/adt/numeric.c</span>
<span id="L18" title="Line 18: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      18</span>                 :                :  *</span>
<span id="L19" title="Line 19: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      19</span>                 :                :  *-------------------------------------------------------------------------</span>
<span id="L20" title="Line 20: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      20</span>                 :                :  */</span>
<span id="L21" title="Line 21: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      21</span>                 :                : </span>
<span id="L22" title="Line 22: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      22</span>                 :                : #include &quot;postgres.h&quot;</span>
<span id="L23" title="Line 23: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      23</span>                 :                : </span>
<span id="L24" title="Line 24: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      24</span>                 :                : #include &lt;ctype.h&gt;</span>
<span id="L25" title="Line 25: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      25</span>                 :                : #include &lt;float.h&gt;</span>
<span id="L26" title="Line 26: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      26</span>                 :                : #include &lt;limits.h&gt;</span>
<span id="L27" title="Line 27: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      27</span>                 :                : #include &lt;math.h&gt;</span>
<span id="L28" title="Line 28: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      28</span>                 :                : </span>
<span id="L29" title="Line 29: commit 05d8449e7369 on 2020-02-27 by rhaas@postgresql.org">                           <span class="lineNum">      29</span>                 :                : #include &quot;common/hashfn.h&quot;</span>
<span id="L30" title="Line 30: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">      30</span>                 :                : #include &quot;common/int.h&quot;</span>
<span id="L31" title="Line 31: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">      31</span>                 :                : #include &quot;common/int128.h&quot;</span>
<span id="L32" title="Line 32: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">      32</span>                 :                : #include &quot;funcapi.h&quot;</span>
<span id="L33" title="Line 33: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">      33</span>                 :                : #include &quot;lib/hyperloglog.h&quot;</span>
<span id="L34" title="Line 34: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      34</span>                 :                : #include &quot;libpq/pqformat.h&quot;</span>
<span id="L35" title="Line 35: commit e17e40f783da on 2007-06-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      35</span>                 :                : #include &quot;miscadmin.h&quot;</span>
<span id="L36" title="Line 36: commit 3cc0800829a6 on 2012-02-07 by rhaas@postgresql.org">                           <span class="lineNum">      36</span>                 :                : #include &quot;nodes/nodeFuncs.h&quot;</span>
<span id="L37" title="Line 37: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      37</span>                 :                : #include &quot;nodes/supportnodes.h&quot;</span>
<span id="L38" title="Line 38: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">      38</span>                 :                : #include &quot;optimizer/optimizer.h&quot;</span>
<span id="L39" title="Line 39: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      39</span>                 :                : #include &quot;utils/array.h&quot;</span>
<span id="L40" title="Line 40: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      40</span>                 :                : #include &quot;utils/builtins.h&quot;</span>
<span id="L41" title="Line 41: commit 6bf0bc842bd7 on 2018-07-29 by tomas.vondra@postgresql.org">                           <span class="lineNum">      41</span>                 :                : #include &quot;utils/float.h&quot;</span>
<span id="L42" title="Line 42: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">      42</span>                 :                : #include &quot;utils/guc.h&quot;</span>
<span id="L43" title="Line 43: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      43</span>                 :                : #include &quot;utils/numeric.h&quot;</span>
<span id="L44" title="Line 44: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">      44</span>                 :                : #include &quot;utils/pg_lsn.h&quot;</span>
<span id="L45" title="Line 45: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">      45</span>                 :                : #include &quot;utils/sortsupport.h&quot;</span>
<span id="L46" title="Line 46: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      46</span>                 :                : </span>
<span id="L47" title="Line 47: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      47</span>                 :                : /* ----------</span>
<span id="L48" title="Line 48: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      48</span>                 :                :  * Uncomment the following to enable compilation of dump_numeric()</span>
<span id="L49" title="Line 49: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      49</span>                 :                :  * and dump_var() and to get a dump of any result produced by make_result().</span>
<span id="L50" title="Line 50: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      50</span>                 :                :  * ----------</span>
<span id="L51" title="Line 51: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      51</span>                 :                : #define NUMERIC_DEBUG</span>
<span id="L52" title="Line 52: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      52</span>                 :                :  */</span>
<span id="L53" title="Line 53: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      53</span>                 :                : </span>
<span id="L54" title="Line 54: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      54</span>                 :                : </span>
<span id="L55" title="Line 55: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      55</span>                 :                : /* ----------</span>
<span id="L56" title="Line 56: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">      56</span>                 :                :  * Local data types</span>
<span id="L57" title="Line 57: commit 3cb8c8da68c0 on 2000-01-15 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      57</span>                 :                :  *</span>
<span id="L58" title="Line 58: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      58</span>                 :                :  * Numeric values are represented in a base-NBASE floating point format.</span>
<span id="L59" title="Line 59: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      59</span>                 :                :  * Each &quot;digit&quot; ranges from 0 to NBASE-1.  The type NumericDigit is signed</span>
<span id="L60" title="Line 60: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      60</span>                 :                :  * and wide enough to store a digit.  We assume that NBASE*NBASE can fit in</span>
<span id="L61" title="Line 61: commit 0a7832005792 on 2014-05-06 by bruce@momjian.us">                           <span class="lineNum">      61</span>                 :                :  * an int.  Although the purely calculational routines could handle any even</span>
<span id="L62" title="Line 62: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      62</span>                 :                :  * NBASE that's less than sqrt(INT_MAX), in practice we are only interested</span>
<span id="L63" title="Line 63: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      63</span>                 :                :  * in NBASE a power of ten, so that I/O conversions and decimal rounding</span>
<span id="L64" title="Line 64: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      64</span>                 :                :  * are easy.  Also, it's actually more efficient if NBASE is rather less than</span>
<span id="L65" title="Line 65: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">      65</span>                 :                :  * sqrt(INT_MAX), so that there is &quot;headroom&quot; for mul_var and div_var to</span>
<span id="L66" title="Line 66: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      66</span>                 :                :  * postpone processing carries.</span>
<span id="L67" title="Line 67: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">      67</span>                 :                :  *</span>
<span id="L68" title="Line 68: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">      68</span>                 :                :  * Values of NBASE other than 10000 are considered of historical interest only</span>
<span id="L69" title="Line 69: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">      69</span>                 :                :  * and are no longer supported in any sense; no mechanism exists for the client</span>
<span id="L70" title="Line 70: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">      70</span>                 :                :  * to discover the base, so every client supporting binary mode expects the</span>
<span id="L71" title="Line 71: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">      71</span>                 :                :  * base-10000 format.  If you plan to change this, also note the numeric</span>
<span id="L72" title="Line 72: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">      72</span>                 :                :  * abbreviation code, which assumes NBASE=10000.</span>
<span id="L73" title="Line 73: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      73</span>                 :                :  * ----------</span>
<span id="L74" title="Line 74: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      74</span>                 :                :  */</span>
<span id="L75" title="Line 75: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      75</span>                 :                : </span>
<span id="L76" title="Line 76: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      76</span>                 :                : #if 0</span>
<span id="L77" title="Line 77: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      77</span>                 :                : #define NBASE       10</span>
<span id="L78" title="Line 78: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      78</span>                 :                : #define HALF_NBASE  5</span>
<span id="L79" title="Line 79: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      79</span>                 :                : #define DEC_DIGITS  1           /* decimal digits per NBASE digit */</span>
<span id="L80" title="Line 80: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      80</span>                 :                : #define MUL_GUARD_DIGITS    4   /* these are measured in NBASE digits */</span>
<span id="L81" title="Line 81: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      81</span>                 :                : #define DIV_GUARD_DIGITS    8</span>
<span id="L82" title="Line 82: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      82</span>                 :                : </span>
<span id="L83" title="Line 83: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      83</span>                 :                : typedef signed char NumericDigit;</span>
<span id="L84" title="Line 84: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      84</span>                 :                : #endif</span>
<span id="L85" title="Line 85: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      85</span>                 :                : </span>
<span id="L86" title="Line 86: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      86</span>                 :                : #if 0</span>
<span id="L87" title="Line 87: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      87</span>                 :                : #define NBASE       100</span>
<span id="L88" title="Line 88: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      88</span>                 :                : #define HALF_NBASE  50</span>
<span id="L89" title="Line 89: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      89</span>                 :                : #define DEC_DIGITS  2           /* decimal digits per NBASE digit */</span>
<span id="L90" title="Line 90: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      90</span>                 :                : #define MUL_GUARD_DIGITS    3   /* these are measured in NBASE digits */</span>
<span id="L91" title="Line 91: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      91</span>                 :                : #define DIV_GUARD_DIGITS    6</span>
<span id="L92" title="Line 92: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      92</span>                 :                : </span>
<span id="L93" title="Line 93: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      93</span>                 :                : typedef signed char NumericDigit;</span>
<span id="L94" title="Line 94: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      94</span>                 :                : #endif</span>
<span id="L95" title="Line 95: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      95</span>                 :                : </span>
<span id="L96" title="Line 96: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      96</span>                 :                : #if 1</span>
<span id="L97" title="Line 97: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      97</span>                 :                : #define NBASE       10000</span>
<span id="L98" title="Line 98: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      98</span>                 :                : #define HALF_NBASE  5000</span>
<span id="L99" title="Line 99: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">      99</span>                 :                : #define DEC_DIGITS  4           /* decimal digits per NBASE digit */</span>
<span id="L100" title="Line 100: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     100</span>                 :                : #define MUL_GUARD_DIGITS    2   /* these are measured in NBASE digits */</span>
<span id="L101" title="Line 101: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     101</span>                 :                : #define DIV_GUARD_DIGITS    4</span>
<span id="L102" title="Line 102: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     102</span>                 :                : </span>
<span id="L103" title="Line 103: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     103</span>                 :                : typedef int16 NumericDigit;</span>
<span id="L104" title="Line 104: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     104</span>                 :                : #endif</span>
<span id="L105" title="Line 105: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     105</span>                 :                : </span>
<span id="L106" title="Line 106: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     106</span>                 :                : #define NBASE_SQR   (NBASE * NBASE)</span>
<span id="L107" title="Line 107: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     107</span>                 :                : </span>
<span id="L108" title="Line 108: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     108</span>                 :                : /*</span>
<span id="L109" title="Line 109: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     109</span>                 :                :  * The Numeric type as stored on disk.</span>
<span id="L110" title="Line 110: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     110</span>                 :                :  *</span>
<span id="L111" title="Line 111: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     111</span>                 :                :  * If the high bits of the first word of a NumericChoice (n_header, or</span>
<span id="L112" title="Line 112: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     112</span>                 :                :  * n_short.n_header, or n_long.n_sign_dscale) are NUMERIC_SHORT, then the</span>
<span id="L113" title="Line 113: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     113</span>                 :                :  * numeric follows the NumericShort format; if they are NUMERIC_POS or</span>
<span id="L114" title="Line 114: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     114</span>                 :                :  * NUMERIC_NEG, it follows the NumericLong format. If they are NUMERIC_SPECIAL,</span>
<span id="L115" title="Line 115: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     115</span>                 :                :  * the value is a NaN or Infinity.  We currently always store SPECIAL values</span>
<span id="L116" title="Line 116: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     116</span>                 :                :  * using just two bytes (i.e. only n_header), but previous releases used only</span>
<span id="L117" title="Line 117: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     117</span>                 :                :  * the NumericLong format, so we might find 4-byte NaNs (though not infinities)</span>
<span id="L118" title="Line 118: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     118</span>                 :                :  * on disk if a database has been migrated using pg_upgrade.  In either case,</span>
<span id="L119" title="Line 119: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     119</span>                 :                :  * the low-order bits of a special value's header are reserved and currently</span>
<span id="L120" title="Line 120: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     120</span>                 :                :  * should always be set to zero.</span>
<span id="L121" title="Line 121: commit fc946c39aeac on 2010-11-23 by peter_e@gmx.net">                           <span class="lineNum">     121</span>                 :                :  *</span>
<span id="L122" title="Line 122: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     122</span>                 :                :  * In the NumericShort format, the remaining 14 bits of the header word</span>
<span id="L123" title="Line 123: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     123</span>                 :                :  * (n_short.n_header) are allocated as follows: 1 for sign (positive or</span>
<span id="L124" title="Line 124: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     124</span>                 :                :  * negative), 6 for dynamic scale, and 7 for weight.  In practice, most</span>
<span id="L125" title="Line 125: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     125</span>                 :                :  * commonly-encountered values can be represented this way.</span>
<span id="L126" title="Line 126: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     126</span>                 :                :  *</span>
<span id="L127" title="Line 127: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     127</span>                 :                :  * In the NumericLong format, the remaining 14 bits of the header word</span>
<span id="L128" title="Line 128: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     128</span>                 :                :  * (n_long.n_sign_dscale) represent the display scale; and the weight is</span>
<span id="L129" title="Line 129: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     129</span>                 :                :  * stored separately in n_weight.</span>
<span id="L130" title="Line 130: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     130</span>                 :                :  *</span>
<span id="L131" title="Line 131: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     131</span>                 :                :  * NOTE: by convention, values in the packed form have been stripped of</span>
<span id="L132" title="Line 132: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     132</span>                 :                :  * all leading and trailing zero digits (where a &quot;digit&quot; is of base NBASE).</span>
<span id="L133" title="Line 133: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     133</span>                 :                :  * In particular, if the value is zero, there will be no digits at all!</span>
<span id="L134" title="Line 134: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     134</span>                 :                :  * The weight is arbitrary in that case, but we normally set it to zero.</span>
<span id="L135" title="Line 135: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     135</span>                 :                :  */</span>
<span id="L136" title="Line 136: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     136</span>                 :                : </span>
<span id="L137" title="Line 137: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     137</span>                 :                : struct NumericShort</span>
<span id="L138" title="Line 138: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     138</span>                 :                : {</span>
<span id="L139" title="Line 139: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     139</span>                 :                :     uint16      n_header;       /* Sign + display scale + weight */</span>
<span id="L140" title="Line 140: commit 2e211211a767 on 2015-02-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     140</span>                 :                :     NumericDigit n_data[FLEXIBLE_ARRAY_MEMBER]; /* Digits */</span>
<span id="L141" title="Line 141: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     141</span>                 :                : };</span>
<span id="L142" title="Line 142: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     142</span>                 :                : </span>
<span id="L143" title="Line 143: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     143</span>                 :                : struct NumericLong</span>
<span id="L144" title="Line 144: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     144</span>                 :                : {</span>
<span id="L145" title="Line 145: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     145</span>                 :                :     uint16      n_sign_dscale;  /* Sign + display scale */</span>
<span id="L146" title="Line 146: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     146</span>                 :                :     int16       n_weight;       /* Weight of 1st digit  */</span>
<span id="L147" title="Line 147: commit 2e211211a767 on 2015-02-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     147</span>                 :                :     NumericDigit n_data[FLEXIBLE_ARRAY_MEMBER]; /* Digits */</span>
<span id="L148" title="Line 148: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     148</span>                 :                : };</span>
<span id="L149" title="Line 149: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     149</span>                 :                : </span>
<span id="L150" title="Line 150: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     150</span>                 :                : union NumericChoice</span>
<span id="L151" title="Line 151: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     151</span>                 :                : {</span>
<span id="L152" title="Line 152: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     152</span>                 :                :     uint16      n_header;       /* Header word */</span>
<span id="L153" title="Line 153: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     153</span>                 :                :     struct NumericLong n_long;  /* Long form (4-byte header) */</span>
<span id="L154" title="Line 154: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     154</span>                 :                :     struct NumericShort n_short;    /* Short form (2-byte header) */</span>
<span id="L155" title="Line 155: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     155</span>                 :                : };</span>
<span id="L156" title="Line 156: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     156</span>                 :                : </span>
<span id="L157" title="Line 157: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     157</span>                 :                : struct NumericData</span>
<span id="L158" title="Line 158: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     158</span>                 :                : {</span>
<span id="L159" title="Line 159: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     159</span>                 :                :     int32       vl_len_;        /* varlena header (do not touch directly!) */</span>
<span id="L160" title="Line 160: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     160</span>                 :                :     union NumericChoice choice; /* choice of format */</span>
<span id="L161" title="Line 161: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     161</span>                 :                : };</span>
<span id="L162" title="Line 162: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     162</span>                 :                : </span>
<span id="L163" title="Line 163: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     163</span>                 :                : </span>
<span id="L164" title="Line 164: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     164</span>                 :                : /*</span>
<span id="L165" title="Line 165: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     165</span>                 :                :  * Interpretation of high bits.</span>
<span id="L166" title="Line 166: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     166</span>                 :                :  */</span>
<span id="L167" title="Line 167: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     167</span>                 :                : </span>
<span id="L168" title="Line 168: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     168</span>                 :                : #define NUMERIC_SIGN_MASK   0xC000</span>
<span id="L169" title="Line 169: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     169</span>                 :                : #define NUMERIC_POS         0x0000</span>
<span id="L170" title="Line 170: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     170</span>                 :                : #define NUMERIC_NEG         0x4000</span>
<span id="L171" title="Line 171: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     171</span>                 :                : #define NUMERIC_SHORT       0x8000</span>
<span id="L172" title="Line 172: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     172</span>                 :                : #define NUMERIC_SPECIAL     0xC000</span>
<span id="L173" title="Line 173: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     173</span>                 :                : </span>
<span id="L174" title="Line 174: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     174</span>                 :                : #define NUMERIC_FLAGBITS(n) ((n)-&gt;choice.n_header &amp; NUMERIC_SIGN_MASK)</span>
<span id="L175" title="Line 175: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     175</span>                 :                : #define NUMERIC_IS_SHORT(n)     (NUMERIC_FLAGBITS(n) == NUMERIC_SHORT)</span>
<span id="L176" title="Line 176: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     176</span>                 :                : #define NUMERIC_IS_SPECIAL(n)   (NUMERIC_FLAGBITS(n) == NUMERIC_SPECIAL)</span>
<span id="L177" title="Line 177: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     177</span>                 :                : </span>
<span id="L178" title="Line 178: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     178</span>                 :                : #define NUMERIC_HDRSZ   (VARHDRSZ + sizeof(uint16) + sizeof(int16))</span>
<span id="L179" title="Line 179: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     179</span>                 :                : #define NUMERIC_HDRSZ_SHORT (VARHDRSZ + sizeof(uint16))</span>
<span id="L180" title="Line 180: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     180</span>                 :                : </span>
<span id="L181" title="Line 181: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     181</span>                 :                : /*</span>
<span id="L182" title="Line 182: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     182</span>                 :                :  * If the flag bits are NUMERIC_SHORT or NUMERIC_SPECIAL, we want the short</span>
<span id="L183" title="Line 183: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     183</span>                 :                :  * header; otherwise, we want the long one.  Instead of testing against each</span>
<span id="L184" title="Line 184: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     184</span>                 :                :  * value, we can just look at the high bit, for a slight efficiency gain.</span>
<span id="L185" title="Line 185: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     185</span>                 :                :  */</span>
<span id="L186" title="Line 186: commit 1a2b2034d48d on 2015-01-27 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     186</span>                 :                : #define NUMERIC_HEADER_IS_SHORT(n)  (((n)-&gt;choice.n_header &amp; 0x8000) != 0)</span>
<span id="L187" title="Line 187: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     187</span>                 :                : #define NUMERIC_HEADER_SIZE(n) \</span>
<span id="L188" title="Line 188: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     188</span>                 :                :     (VARHDRSZ + sizeof(uint16) + \</span>
<span id="L189" title="Line 189: commit 1a2b2034d48d on 2015-01-27 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     189</span>                 :                :      (NUMERIC_HEADER_IS_SHORT(n) ? 0 : sizeof(int16)))</span>
<span id="L190" title="Line 190: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     190</span>                 :                : </span>
<span id="L191" title="Line 191: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     191</span>                 :                : /*</span>
<span id="L192" title="Line 192: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     192</span>                 :                :  * Definitions for special values (NaN, positive infinity, negative infinity).</span>
<span id="L193" title="Line 193: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     193</span>                 :                :  *</span>
<span id="L194" title="Line 194: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     194</span>                 :                :  * The two bits after the NUMERIC_SPECIAL bits are 00 for NaN, 01 for positive</span>
<span id="L195" title="Line 195: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     195</span>                 :                :  * infinity, 11 for negative infinity.  (This makes the sign bit match where</span>
<span id="L196" title="Line 196: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     196</span>                 :                :  * it is in a short-format value, though we make no use of that at present.)</span>
<span id="L197" title="Line 197: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     197</span>                 :                :  * We could mask off the remaining bits before testing the active bits, but</span>
<span id="L198" title="Line 198: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     198</span>                 :                :  * currently those bits must be zeroes, so masking would just add cycles.</span>
<span id="L199" title="Line 199: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     199</span>                 :                :  */</span>
<span id="L200" title="Line 200: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     200</span>                 :                : #define NUMERIC_EXT_SIGN_MASK   0xF000  /* high bits plus NaN/Inf flag bits */</span>
<span id="L201" title="Line 201: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     201</span>                 :                : #define NUMERIC_NAN             0xC000</span>
<span id="L202" title="Line 202: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     202</span>                 :                : #define NUMERIC_PINF            0xD000</span>
<span id="L203" title="Line 203: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     203</span>                 :                : #define NUMERIC_NINF            0xF000</span>
<span id="L204" title="Line 204: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     204</span>                 :                : #define NUMERIC_INF_SIGN_MASK   0x2000</span>
<span id="L205" title="Line 205: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     205</span>                 :                : </span>
<span id="L206" title="Line 206: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     206</span>                 :                : #define NUMERIC_EXT_FLAGBITS(n) ((n)-&gt;choice.n_header &amp; NUMERIC_EXT_SIGN_MASK)</span>
<span id="L207" title="Line 207: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     207</span>                 :                : #define NUMERIC_IS_NAN(n)       ((n)-&gt;choice.n_header == NUMERIC_NAN)</span>
<span id="L208" title="Line 208: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     208</span>                 :                : #define NUMERIC_IS_PINF(n)      ((n)-&gt;choice.n_header == NUMERIC_PINF)</span>
<span id="L209" title="Line 209: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     209</span>                 :                : #define NUMERIC_IS_NINF(n)      ((n)-&gt;choice.n_header == NUMERIC_NINF)</span>
<span id="L210" title="Line 210: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     210</span>                 :                : #define NUMERIC_IS_INF(n) \</span>
<span id="L211" title="Line 211: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     211</span>                 :                :     (((n)-&gt;choice.n_header &amp; ~NUMERIC_INF_SIGN_MASK) == NUMERIC_PINF)</span>
<span id="L212" title="Line 212: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     212</span>                 :                : </span>
<span id="L213" title="Line 213: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     213</span>                 :                : /*</span>
<span id="L214" title="Line 214: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     214</span>                 :                :  * Short format definitions.</span>
<span id="L215" title="Line 215: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     215</span>                 :                :  */</span>
<span id="L216" title="Line 216: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     216</span>                 :                : </span>
<span id="L217" title="Line 217: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     217</span>                 :                : #define NUMERIC_SHORT_SIGN_MASK         0x2000</span>
<span id="L218" title="Line 218: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     218</span>                 :                : #define NUMERIC_SHORT_DSCALE_MASK       0x1F80</span>
<span id="L219" title="Line 219: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     219</span>                 :                : #define NUMERIC_SHORT_DSCALE_SHIFT      7</span>
<span id="L220" title="Line 220: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     220</span>                 :                : #define NUMERIC_SHORT_DSCALE_MAX        \</span>
<span id="L221" title="Line 221: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     221</span>                 :                :     (NUMERIC_SHORT_DSCALE_MASK &gt;&gt; NUMERIC_SHORT_DSCALE_SHIFT)</span>
<span id="L222" title="Line 222: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     222</span>                 :                : #define NUMERIC_SHORT_WEIGHT_SIGN_MASK  0x0040</span>
<span id="L223" title="Line 223: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     223</span>                 :                : #define NUMERIC_SHORT_WEIGHT_MASK       0x003F</span>
<span id="L224" title="Line 224: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     224</span>                 :                : #define NUMERIC_SHORT_WEIGHT_MAX        NUMERIC_SHORT_WEIGHT_MASK</span>
<span id="L225" title="Line 225: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     225</span>                 :                : #define NUMERIC_SHORT_WEIGHT_MIN        (-(NUMERIC_SHORT_WEIGHT_MASK+1))</span>
<span id="L226" title="Line 226: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     226</span>                 :                : </span>
<span id="L227" title="Line 227: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     227</span>                 :                : /*</span>
<span id="L228" title="Line 228: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     228</span>                 :                :  * Extract sign, display scale, weight.  These macros extract field values</span>
<span id="L229" title="Line 229: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     229</span>                 :                :  * suitable for the NumericVar format from the Numeric (on-disk) format.</span>
<span id="L230" title="Line 230: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     230</span>                 :                :  *</span>
<span id="L231" title="Line 231: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     231</span>                 :                :  * Note that we don't trouble to ensure that dscale and weight read as zero</span>
<span id="L232" title="Line 232: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     232</span>                 :                :  * for an infinity; however, that doesn't matter since we never convert</span>
<span id="L233" title="Line 233: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     233</span>                 :                :  * &quot;special&quot; numerics to NumericVar form.  Only the constants defined below</span>
<span id="L234" title="Line 234: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     234</span>                 :                :  * (const_nan, etc) ever represent a non-finite value as a NumericVar.</span>
<span id="L235" title="Line 235: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     235</span>                 :                :  */</span>
<span id="L236" title="Line 236: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     236</span>                 :                : </span>
<span id="L237" title="Line 237: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     237</span>                 :                : #define NUMERIC_DSCALE_MASK         0x3FFF</span>
<span id="L238" title="Line 238: commit e7fc488ad67c on 2021-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     238</span>                 :                : #define NUMERIC_DSCALE_MAX          NUMERIC_DSCALE_MASK</span>
<span id="L239" title="Line 239: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     239</span>                 :                : </span>
<span id="L240" title="Line 240: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     240</span>                 :                : #define NUMERIC_SIGN(n) \</span>
<span id="L241" title="Line 241: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     241</span>                 :                :     (NUMERIC_IS_SHORT(n) ? \</span>
<span id="L242" title="Line 242: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     242</span>                 :                :         (((n)-&gt;choice.n_short.n_header &amp; NUMERIC_SHORT_SIGN_MASK) ? \</span>
<span id="L243" title="Line 243: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     243</span>                 :                :          NUMERIC_NEG : NUMERIC_POS) : \</span>
<span id="L244" title="Line 244: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     244</span>                 :                :         (NUMERIC_IS_SPECIAL(n) ? \</span>
<span id="L245" title="Line 245: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     245</span>                 :                :          NUMERIC_EXT_FLAGBITS(n) : NUMERIC_FLAGBITS(n)))</span>
<span id="L246" title="Line 246: commit 1a2b2034d48d on 2015-01-27 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     246</span>                 :                : #define NUMERIC_DSCALE(n)   (NUMERIC_HEADER_IS_SHORT((n)) ? \</span>
<span id="L247" title="Line 247: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     247</span>                 :                :     ((n)-&gt;choice.n_short.n_header &amp; NUMERIC_SHORT_DSCALE_MASK) \</span>
<span id="L248" title="Line 248: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     248</span>                 :                :         &gt;&gt; NUMERIC_SHORT_DSCALE_SHIFT \</span>
<span id="L249" title="Line 249: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     249</span>                 :                :     : ((n)-&gt;choice.n_long.n_sign_dscale &amp; NUMERIC_DSCALE_MASK))</span>
<span id="L250" title="Line 250: commit 1a2b2034d48d on 2015-01-27 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     250</span>                 :                : #define NUMERIC_WEIGHT(n)   (NUMERIC_HEADER_IS_SHORT((n)) ? \</span>
<span id="L251" title="Line 251: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     251</span>                 :                :     (((n)-&gt;choice.n_short.n_header &amp; NUMERIC_SHORT_WEIGHT_SIGN_MASK ? \</span>
<span id="L252" title="Line 252: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     252</span>                 :                :         ~NUMERIC_SHORT_WEIGHT_MASK : 0) \</span>
<span id="L253" title="Line 253: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     253</span>                 :                :      | ((n)-&gt;choice.n_short.n_header &amp; NUMERIC_SHORT_WEIGHT_MASK)) \</span>
<span id="L254" title="Line 254: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     254</span>                 :                :     : ((n)-&gt;choice.n_long.n_weight))</span>
<span id="L255" title="Line 255: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     255</span>                 :                : </span>
<span id="L256" title="Line 256: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     256</span>                 :                : /*</span>
<span id="L257" title="Line 257: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     257</span>                 :                :  * Maximum weight of a stored Numeric value (based on the use of int16 for the</span>
<span id="L258" title="Line 258: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     258</span>                 :                :  * weight in NumericLong).  Note that intermediate values held in NumericVar</span>
<span id="L259" title="Line 259: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     259</span>                 :                :  * and NumericSumAccum variables may have much larger weights.</span>
<span id="L260" title="Line 260: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     260</span>                 :                :  */</span>
<span id="L261" title="Line 261: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     261</span>                 :                : #define NUMERIC_WEIGHT_MAX          PG_INT16_MAX</span>
<span id="L262" title="Line 262: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     262</span>                 :                : </span>
<span id="L263" title="Line 263: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     263</span>                 :                : /* ----------</span>
<span id="L264" title="Line 264: commit 0a7832005792 on 2014-05-06 by bruce@momjian.us">                           <span class="lineNum">     264</span>                 :                :  * NumericVar is the format we use for arithmetic.  The digit-array part</span>
<span id="L265" title="Line 265: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     265</span>                 :                :  * is the same as the NumericData storage format, but the header is more</span>
<span id="L266" title="Line 266: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     266</span>                 :                :  * complex.</span>
<span id="L267" title="Line 267: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     267</span>                 :                :  *</span>
<span id="L268" title="Line 268: commit 3cb8c8da68c0 on 2000-01-15 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     268</span>                 :                :  * The value represented by a NumericVar is determined by the sign, weight,</span>
<span id="L269" title="Line 269: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     269</span>                 :                :  * ndigits, and digits[] array.  If it is a &quot;special&quot; value (NaN or Inf)</span>
<span id="L270" title="Line 270: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     270</span>                 :                :  * then only the sign field matters; ndigits should be zero, and the weight</span>
<span id="L271" title="Line 271: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     271</span>                 :                :  * and dscale fields are ignored.</span>
<span id="L272" title="Line 272: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     272</span>                 :                :  *</span>
<span id="L273" title="Line 273: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     273</span>                 :                :  * Note: the first digit of a NumericVar's value is assumed to be multiplied</span>
<span id="L274" title="Line 274: commit 0a7832005792 on 2014-05-06 by bruce@momjian.us">                           <span class="lineNum">     274</span>                 :                :  * by NBASE ** weight.  Another way to say it is that there are weight+1</span>
<span id="L275" title="Line 275: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     275</span>                 :                :  * digits before the decimal point.  It is possible to have weight &lt; 0.</span>
<span id="L276" title="Line 276: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     276</span>                 :                :  *</span>
<span id="L277" title="Line 277: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     277</span>                 :                :  * buf points at the physical start of the palloc'd digit buffer for the</span>
<span id="L278" title="Line 278: commit 0a7832005792 on 2014-05-06 by bruce@momjian.us">                           <span class="lineNum">     278</span>                 :                :  * NumericVar.  digits points at the first digit in actual use (the one</span>
<span id="L279" title="Line 279: commit 0a7832005792 on 2014-05-06 by bruce@momjian.us">                           <span class="lineNum">     279</span>                 :                :  * with the specified weight).  We normally leave an unused digit or two</span>
<span id="L280" title="Line 280: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     280</span>                 :                :  * (preset to zeroes) between buf and digits, so that there is room to store</span>
<span id="L281" title="Line 281: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     281</span>                 :                :  * a carry out of the top digit without reallocating space.  We just need to</span>
<span id="L282" title="Line 282: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     282</span>                 :                :  * decrement digits (and increment weight) to make room for the carry digit.</span>
<span id="L283" title="Line 283: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     283</span>                 :                :  * (There is no such extra space in a numeric value stored in the database,</span>
<span id="L284" title="Line 284: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     284</span>                 :                :  * only in a NumericVar in memory.)</span>
<span id="L285" title="Line 285: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     285</span>                 :                :  *</span>
<span id="L286" title="Line 286: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     286</span>                 :                :  * If buf is NULL then the digit buffer isn't actually palloc'd and should</span>
<span id="L287" title="Line 287: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     287</span>                 :                :  * not be freed --- see the constants below for an example.</span>
<span id="L288" title="Line 288: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     288</span>                 :                :  *</span>
<span id="L289" title="Line 289: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     289</span>                 :                :  * dscale, or display scale, is the nominal precision expressed as number</span>
<span id="L290" title="Line 290: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     290</span>                 :                :  * of digits after the decimal point (it must always be &gt;= 0 at present).</span>
<span id="L291" title="Line 291: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     291</span>                 :                :  * dscale may be more than the number of physically stored fractional digits,</span>
<span id="L292" title="Line 292: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     292</span>                 :                :  * implying that we have suppressed storage of significant trailing zeroes.</span>
<span id="L293" title="Line 293: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     293</span>                 :                :  * It should never be less than the number of stored digits, since that would</span>
<span id="L294" title="Line 294: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     294</span>                 :                :  * imply hiding digits that are present.  NOTE that dscale is always expressed</span>
<span id="L295" title="Line 295: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     295</span>                 :                :  * in *decimal* digits, and so it may correspond to a fractional number of</span>
<span id="L296" title="Line 296: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     296</span>                 :                :  * base-NBASE digits --- divide by DEC_DIGITS to convert to NBASE digits.</span>
<span id="L297" title="Line 297: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     297</span>                 :                :  *</span>
<span id="L298" title="Line 298: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     298</span>                 :                :  * rscale, or result scale, is the target precision for a computation.</span>
<span id="L299" title="Line 299: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     299</span>                 :                :  * Like dscale it is expressed as number of *decimal* digits after the decimal</span>
<span id="L300" title="Line 300: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     300</span>                 :                :  * point, and is always &gt;= 0 at present.</span>
<span id="L301" title="Line 301: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     301</span>                 :                :  * Note that rscale is not stored in variables --- it's figured on-the-fly</span>
<span id="L302" title="Line 302: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     302</span>                 :                :  * from the dscales of the inputs.</span>
<span id="L303" title="Line 303: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     303</span>                 :                :  *</span>
<span id="L304" title="Line 304: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     304</span>                 :                :  * While we consistently use &quot;weight&quot; to refer to the base-NBASE weight of</span>
<span id="L305" title="Line 305: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     305</span>                 :                :  * a numeric value, it is convenient in some scale-related calculations to</span>
<span id="L306" title="Line 306: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     306</span>                 :                :  * make use of the base-10 weight (ie, the approximate log10 of the value).</span>
<span id="L307" title="Line 307: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     307</span>                 :                :  * To avoid confusion, such a decimal-units weight is called a &quot;dweight&quot;.</span>
<span id="L308" title="Line 308: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     308</span>                 :                :  *</span>
<span id="L309" title="Line 309: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     309</span>                 :                :  * NB: All the variable-level functions are written in a style that makes it</span>
<span id="L310" title="Line 310: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     310</span>                 :                :  * possible to give one and the same variable as argument and destination.</span>
<span id="L311" title="Line 311: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     311</span>                 :                :  * This is feasible because the digit buffer is separate from the variable.</span>
<span id="L312" title="Line 312: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     312</span>                 :                :  * ----------</span>
<span id="L313" title="Line 313: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     313</span>                 :                :  */</span>
<span id="L314" title="Line 314: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">     314</span>                 :                : typedef struct NumericVar</span>
<span id="L315" title="Line 315: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">     315</span>                 :                : {</span>
<span id="L316" title="Line 316: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     316</span>                 :                :     int         ndigits;        /* # of digits in digits[] - can be 0! */</span>
<span id="L317" title="Line 317: commit 3cb8c8da68c0 on 2000-01-15 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     317</span>                 :                :     int         weight;         /* weight of first digit */</span>
<span id="L318" title="Line 318: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     318</span>                 :                :     int         sign;           /* NUMERIC_POS, _NEG, _NAN, _PINF, or _NINF */</span>
<span id="L319" title="Line 319: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     319</span>                 :                :     int         dscale;         /* display scale */</span>
<span id="L320" title="Line 320: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     320</span>                 :                :     NumericDigit *buf;          /* start of palloc'd space for digits[] */</span>
<span id="L321" title="Line 321: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     321</span>                 :                :     NumericDigit *digits;       /* base-NBASE digits */</span>
<span id="L322" title="Line 322: commit fcff1cdf4ead on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">     322</span>                 :                : } NumericVar;</span>
<span id="L323" title="Line 323: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     323</span>                 :                : </span>
<span id="L324" title="Line 324: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     324</span>                 :                : </span>
<span id="L325" title="Line 325: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">     325</span>                 :                : /* ----------</span>
<span id="L326" title="Line 326: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">     326</span>                 :                :  * Data for generate_series</span>
<span id="L327" title="Line 327: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">     327</span>                 :                :  * ----------</span>
<span id="L328" title="Line 328: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">     328</span>                 :                :  */</span>
<span id="L329" title="Line 329: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">     329</span>                 :                : typedef struct</span>
<span id="L330" title="Line 330: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">     330</span>                 :                : {</span>
<span id="L331" title="Line 331: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">     331</span>                 :                :     NumericVar  current;</span>
<span id="L332" title="Line 332: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">     332</span>                 :                :     NumericVar  stop;</span>
<span id="L333" title="Line 333: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">     333</span>                 :                :     NumericVar  step;</span>
<span id="L334" title="Line 334: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">     334</span>                 :                : } generate_series_numeric_fctx;</span>
<span id="L335" title="Line 335: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">     335</span>                 :                : </span>
<span id="L336" title="Line 336: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">     336</span>                 :                : </span>
<span id="L337" title="Line 337: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     337</span>                 :                : /* ----------</span>
<span id="L338" title="Line 338: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     338</span>                 :                :  * Sort support.</span>
<span id="L339" title="Line 339: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     339</span>                 :                :  * ----------</span>
<span id="L340" title="Line 340: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     340</span>                 :                :  */</span>
<span id="L341" title="Line 341: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     341</span>                 :                : typedef struct</span>
<span id="L342" title="Line 342: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     342</span>                 :                : {</span>
<span id="L343" title="Line 343: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     343</span>                 :                :     void       *buf;            /* buffer for short varlenas */</span>
<span id="L344" title="Line 344: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     344</span>                 :                :     int64       input_count;    /* number of non-null values seen */</span>
<span id="L345" title="Line 345: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     345</span>                 :                :     bool        estimating;     /* true if estimating cardinality */</span>
<span id="L346" title="Line 346: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     346</span>                 :                : </span>
<span id="L347" title="Line 347: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     347</span>                 :                :     hyperLogLogState abbr_card; /* cardinality estimator */</span>
<span id="L348" title="Line 348: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     348</span>                 :                : } NumericSortSupport;</span>
<span id="L349" title="Line 349: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     349</span>                 :                : </span>
<span id="L350" title="Line 350: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     350</span>                 :                : </span>
<span id="L351" title="Line 351: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     351</span>                 :                : /* ----------</span>
<span id="L352" title="Line 352: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     352</span>                 :                :  * Fast sum accumulator.</span>
<span id="L353" title="Line 353: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     353</span>                 :                :  *</span>
<span id="L354" title="Line 354: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     354</span>                 :                :  * NumericSumAccum is used to implement SUM(), and other standard aggregates</span>
<span id="L355" title="Line 355: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     355</span>                 :                :  * that track the sum of input values.  It uses 32-bit integers to store the</span>
<span id="L356" title="Line 356: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     356</span>                 :                :  * digits, instead of the normal 16-bit integers (with NBASE=10000).  This</span>
<span id="L357" title="Line 357: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     357</span>                 :                :  * way, we can safely accumulate up to NBASE - 1 values without propagating</span>
<span id="L358" title="Line 358: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     358</span>                 :                :  * carry, before risking overflow of any of the digits.  'num_uncarried'</span>
<span id="L359" title="Line 359: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     359</span>                 :                :  * tracks how many values have been accumulated without propagating carry.</span>
<span id="L360" title="Line 360: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     360</span>                 :                :  *</span>
<span id="L361" title="Line 361: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     361</span>                 :                :  * Positive and negative values are accumulated separately, in 'pos_digits'</span>
<span id="L362" title="Line 362: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     362</span>                 :                :  * and 'neg_digits'.  This is simpler and faster than deciding whether to add</span>
<span id="L363" title="Line 363: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     363</span>                 :                :  * or subtract from the current value, for each new value (see sub_var() for</span>
<span id="L364" title="Line 364: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     364</span>                 :                :  * the logic we avoid by doing this).  Both buffers are of same size, and</span>
<span id="L365" title="Line 365: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     365</span>                 :                :  * have the same weight and scale.  In accum_sum_final(), the positive and</span>
<span id="L366" title="Line 366: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     366</span>                 :                :  * negative sums are added together to produce the final result.</span>
<span id="L367" title="Line 367: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     367</span>                 :                :  *</span>
<span id="L368" title="Line 368: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     368</span>                 :                :  * When a new value has a larger ndigits or weight than the accumulator</span>
<span id="L369" title="Line 369: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     369</span>                 :                :  * currently does, the accumulator is enlarged to accommodate the new value.</span>
<span id="L370" title="Line 370: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     370</span>                 :                :  * We normally have one zero digit reserved for carry propagation, and that</span>
<span id="L371" title="Line 371: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     371</span>                 :                :  * is indicated by the 'have_carry_space' flag.  When accum_sum_carry() uses</span>
<span id="L372" title="Line 372: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     372</span>                 :                :  * up the reserved digit, it clears the 'have_carry_space' flag.  The next</span>
<span id="L373" title="Line 373: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     373</span>                 :                :  * call to accum_sum_add() will enlarge the buffer, to make room for the</span>
<span id="L374" title="Line 374: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     374</span>                 :                :  * extra digit, and set the flag again.</span>
<span id="L375" title="Line 375: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     375</span>                 :                :  *</span>
<span id="L376" title="Line 376: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     376</span>                 :                :  * To initialize a new accumulator, simply reset all fields to zeros.</span>
<span id="L377" title="Line 377: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     377</span>                 :                :  *</span>
<span id="L378" title="Line 378: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     378</span>                 :                :  * The accumulator does not handle NaNs.</span>
<span id="L379" title="Line 379: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     379</span>                 :                :  * ----------</span>
<span id="L380" title="Line 380: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     380</span>                 :                :  */</span>
<span id="L381" title="Line 381: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     381</span>                 :                : typedef struct NumericSumAccum</span>
<span id="L382" title="Line 382: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     382</span>                 :                : {</span>
<span id="L383" title="Line 383: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     383</span>                 :                :     int         ndigits;</span>
<span id="L384" title="Line 384: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     384</span>                 :                :     int         weight;</span>
<span id="L385" title="Line 385: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     385</span>                 :                :     int         dscale;</span>
<span id="L386" title="Line 386: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     386</span>                 :                :     int         num_uncarried;</span>
<span id="L387" title="Line 387: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     387</span>                 :                :     bool        have_carry_space;</span>
<span id="L388" title="Line 388: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     388</span>                 :                :     int32      *pos_digits;</span>
<span id="L389" title="Line 389: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     389</span>                 :                :     int32      *neg_digits;</span>
<span id="L390" title="Line 390: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     390</span>                 :                : } NumericSumAccum;</span>
<span id="L391" title="Line 391: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     391</span>                 :                : </span>
<span id="L392" title="Line 392: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     392</span>                 :                : </span>
<span id="L393" title="Line 393: commit 368b7c601e3a on 2015-04-03 by rhaas@postgresql.org">                           <span class="lineNum">     393</span>                 :                : /*</span>
<span id="L394" title="Line 394: commit 368b7c601e3a on 2015-04-03 by rhaas@postgresql.org">                           <span class="lineNum">     394</span>                 :                :  * We define our own macros for packing and unpacking abbreviated-key</span>
<span id="L395" title="Line 395: commit 6aebedc38497 on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     395</span>                 :                :  * representations, just to have a notational indication that that's</span>
<span id="L396" title="Line 396: commit 6aebedc38497 on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     396</span>                 :                :  * what we're doing.  Now that sizeof(Datum) is always 8, we can rely</span>
<span id="L397" title="Line 397: commit 6aebedc38497 on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     397</span>                 :                :  * on fitting an int64 into Datum.</span>
<span id="L398" title="Line 398: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     398</span>                 :                :  *</span>
<span id="L399" title="Line 399: commit 6aebedc38497 on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     399</span>                 :                :  * The range of abbreviations for finite values is from +PG_INT64_MAX</span>
<span id="L400" title="Line 400: commit 6aebedc38497 on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     400</span>                 :                :  * to -PG_INT64_MAX.  NaN has the abbreviation PG_INT64_MIN, and we</span>
<span id="L401" title="Line 401: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     401</span>                 :                :  * define the sort ordering to make that work out properly (see further</span>
<span id="L402" title="Line 402: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     402</span>                 :                :  * comments below).  PINF and NINF share the abbreviations of the largest</span>
<span id="L403" title="Line 403: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     403</span>                 :                :  * and smallest finite abbreviation classes.</span>
<span id="L404" title="Line 404: commit 368b7c601e3a on 2015-04-03 by rhaas@postgresql.org">                           <span class="lineNum">     404</span>                 :                :  */</span>
<span id="L405" title="Line 405: commit 6aebedc38497 on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     405</span>                 :                : #define NumericAbbrevGetDatum(X) Int64GetDatum(X)</span>
<span id="L406" title="Line 406: commit 6aebedc38497 on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     406</span>                 :                : #define DatumGetNumericAbbrev(X) DatumGetInt64(X)</span>
<span id="L407" title="Line 407: commit 368b7c601e3a on 2015-04-03 by rhaas@postgresql.org">                           <span class="lineNum">     407</span>                 :                : #define NUMERIC_ABBREV_NAN       NumericAbbrevGetDatum(PG_INT64_MIN)</span>
<span id="L408" title="Line 408: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     408</span>                 :                : #define NUMERIC_ABBREV_PINF      NumericAbbrevGetDatum(-PG_INT64_MAX)</span>
<span id="L409" title="Line 409: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     409</span>                 :                : #define NUMERIC_ABBREV_NINF      NumericAbbrevGetDatum(PG_INT64_MAX)</span>
<span id="L410" title="Line 410: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     410</span>                 :                : </span>
<span id="L411" title="Line 411: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     411</span>                 :                : </span>
<span id="L412" title="Line 412: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     412</span>                 :                : /* ----------</span>
<span id="L413" title="Line 413: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     413</span>                 :                :  * Some preinitialized constants</span>
<span id="L414" title="Line 414: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     414</span>                 :                :  * ----------</span>
<span id="L415" title="Line 415: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     415</span>                 :                :  */</span>
<span id="L416" title="Line 416: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     416</span>                 :                : static const NumericDigit const_zero_data[1] = {0};</span>
<span id="L417" title="Line 417: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     417</span>                 :                : static const NumericVar const_zero =</span>
<span id="L418" title="Line 418: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     418</span>                 :                : {0, 0, NUMERIC_POS, 0, NULL, (NumericDigit *) const_zero_data};</span>
<span id="L419" title="Line 419: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     419</span>                 :                : </span>
<span id="L420" title="Line 420: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     420</span>                 :                : static const NumericDigit const_one_data[1] = {1};</span>
<span id="L421" title="Line 421: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     421</span>                 :                : static const NumericVar const_one =</span>
<span id="L422" title="Line 422: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     422</span>                 :                : {1, 0, NUMERIC_POS, 0, NULL, (NumericDigit *) const_one_data};</span>
<span id="L423" title="Line 423: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     423</span>                 :                : </span>
<span id="L424" title="Line 424: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     424</span>                 :                : static const NumericVar const_minus_one =</span>
<span id="L425" title="Line 425: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     425</span>                 :                : {1, 0, NUMERIC_NEG, 0, NULL, (NumericDigit *) const_one_data};</span>
<span id="L426" title="Line 426: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     426</span>                 :                : </span>
<span id="L427" title="Line 427: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     427</span>                 :                : static const NumericDigit const_two_data[1] = {2};</span>
<span id="L428" title="Line 428: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     428</span>                 :                : static const NumericVar const_two =</span>
<span id="L429" title="Line 429: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     429</span>                 :                : {1, 0, NUMERIC_POS, 0, NULL, (NumericDigit *) const_two_data};</span>
<span id="L430" title="Line 430: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     430</span>                 :                : </span>
<span id="L431" title="Line 431: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     431</span>                 :                : #if DEC_DIGITS == 4</span>
<span id="L432" title="Line 432: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     432</span>                 :                : static const NumericDigit const_zero_point_nine_data[1] = {9000};</span>
<span id="L433" title="Line 433: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     433</span>                 :                : #elif DEC_DIGITS == 2</span>
<span id="L434" title="Line 434: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     434</span>                 :                : static const NumericDigit const_zero_point_nine_data[1] = {90};</span>
<span id="L435" title="Line 435: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     435</span>                 :                : #elif DEC_DIGITS == 1</span>
<span id="L436" title="Line 436: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     436</span>                 :                : static const NumericDigit const_zero_point_nine_data[1] = {9};</span>
<span id="L437" title="Line 437: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     437</span>                 :                : #endif</span>
<span id="L438" title="Line 438: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     438</span>                 :                : static const NumericVar const_zero_point_nine =</span>
<span id="L439" title="Line 439: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     439</span>                 :                : {1, -1, NUMERIC_POS, 1, NULL, (NumericDigit *) const_zero_point_nine_data};</span>
<span id="L440" title="Line 440: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     440</span>                 :                : </span>
<span id="L441" title="Line 441: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     441</span>                 :                : #if DEC_DIGITS == 4</span>
<span id="L442" title="Line 442: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     442</span>                 :                : static const NumericDigit const_one_point_one_data[2] = {1, 1000};</span>
<span id="L443" title="Line 443: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     443</span>                 :                : #elif DEC_DIGITS == 2</span>
<span id="L444" title="Line 444: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     444</span>                 :                : static const NumericDigit const_one_point_one_data[2] = {1, 10};</span>
<span id="L445" title="Line 445: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     445</span>                 :                : #elif DEC_DIGITS == 1</span>
<span id="L446" title="Line 446: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     446</span>                 :                : static const NumericDigit const_one_point_one_data[2] = {1, 1};</span>
<span id="L447" title="Line 447: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     447</span>                 :                : #endif</span>
<span id="L448" title="Line 448: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     448</span>                 :                : static const NumericVar const_one_point_one =</span>
<span id="L449" title="Line 449: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     449</span>                 :                : {2, 0, NUMERIC_POS, 1, NULL, (NumericDigit *) const_one_point_one_data};</span>
<span id="L450" title="Line 450: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     450</span>                 :                : </span>
<span id="L451" title="Line 451: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     451</span>                 :                : static const NumericVar const_nan =</span>
<span id="L452" title="Line 452: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     452</span>                 :                : {0, 0, NUMERIC_NAN, 0, NULL, NULL};</span>
<span id="L453" title="Line 453: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     453</span>                 :                : </span>
<span id="L454" title="Line 454: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     454</span>                 :                : static const NumericVar const_pinf =</span>
<span id="L455" title="Line 455: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     455</span>                 :                : {0, 0, NUMERIC_PINF, 0, NULL, NULL};</span>
<span id="L456" title="Line 456: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     456</span>                 :                : </span>
<span id="L457" title="Line 457: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     457</span>                 :                : static const NumericVar const_ninf =</span>
<span id="L458" title="Line 458: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     458</span>                 :                : {0, 0, NUMERIC_NINF, 0, NULL, NULL};</span>
<span id="L459" title="Line 459: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     459</span>                 :                : </span>
<span id="L460" title="Line 460: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     460</span>                 :                : #if DEC_DIGITS == 4</span>
<span id="L461" title="Line 461: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">     461</span>                 :                : static const int round_powers[4] = {0, 1000, 100, 10};</span>
<span id="L462" title="Line 462: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     462</span>                 :                : #endif</span>
<span id="L463" title="Line 463: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     463</span>                 :                : </span>
<span id="L464" title="Line 464: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     464</span>                 :                : </span>
<span id="L465" title="Line 465: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     465</span>                 :                : /* ----------</span>
<span id="L466" title="Line 466: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     466</span>                 :                :  * Local functions</span>
<span id="L467" title="Line 467: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     467</span>                 :                :  * ----------</span>
<span id="L468" title="Line 468: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     468</span>                 :                :  */</span>
<span id="L469" title="Line 469: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     469</span>                 :                : </span>
<span id="L470" title="Line 470: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     470</span>                 :                : #ifdef NUMERIC_DEBUG</span>
<span id="L471" title="Line 471: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     471</span>                 :                : static void dump_numeric(const char *str, Numeric num);</span>
<span id="L472" title="Line 472: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     472</span>                 :                : static void dump_var(const char *str, NumericVar *var);</span>
<span id="L473" title="Line 473: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     473</span>                 :                : #else</span>
<span id="L474" title="Line 474: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     474</span>                 :                : #define dump_numeric(s,n)</span>
<span id="L475" title="Line 475: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     475</span>                 :                : #define dump_var(s,v)</span>
<span id="L476" title="Line 476: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     476</span>                 :                : #endif</span>
<span id="L477" title="Line 477: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     477</span>                 :                : </span>
<span id="L478" title="Line 478: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     478</span>                 :                : #define digitbuf_alloc(ndigits)  \</span>
<span id="L479" title="Line 479: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     479</span>                 :                :     ((NumericDigit *) palloc((ndigits) * sizeof(NumericDigit)))</span>
<span id="L480" title="Line 480: commit 52f77df613ce on 2000-04-12 by bruce@momjian.us">                           <span class="lineNum">     480</span>                 :                : #define digitbuf_free(buf)  \</span>
<span id="L481" title="Line 481: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     481</span>                 :                :     do { \</span>
<span id="L482" title="Line 482: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     482</span>                 :                :          if ((buf) != NULL) \</span>
<span id="L483" title="Line 483: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     483</span>                 :                :              pfree(buf); \</span>
<span id="L484" title="Line 484: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     484</span>                 :                :     } while (0)</span>
<span id="L485" title="Line 485: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     485</span>                 :                : </span>
<span id="L486" title="Line 486: commit 3438c988fd75 on 2020-09-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     486</span>                 :                : #define init_var(v)     memset(v, 0, sizeof(NumericVar))</span>
<span id="L487" title="Line 487: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     487</span>                 :                : </span>
<span id="L488" title="Line 488: commit 1a2b2034d48d on 2015-01-27 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     488</span>                 :                : #define NUMERIC_DIGITS(num) (NUMERIC_HEADER_IS_SHORT(num) ? \</span>
<span id="L489" title="Line 489: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     489</span>                 :                :     (num)-&gt;choice.n_short.n_data : (num)-&gt;choice.n_long.n_data)</span>
<span id="L490" title="Line 490: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">     490</span>                 :                : #define NUMERIC_NDIGITS(num) \</span>
<span id="L491" title="Line 491: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     491</span>                 :                :     ((VARSIZE(num) - NUMERIC_HEADER_SIZE(num)) / sizeof(NumericDigit))</span>
<span id="L492" title="Line 492: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     492</span>                 :                : #define NUMERIC_CAN_BE_SHORT(scale,weight) \</span>
<span id="L493" title="Line 493: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     493</span>                 :                :     ((scale) &lt;= NUMERIC_SHORT_DSCALE_MAX &amp;&amp; \</span>
<span id="L494" title="Line 494: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     494</span>                 :                :     (weight) &lt;= NUMERIC_SHORT_WEIGHT_MAX &amp;&amp; \</span>
<span id="L495" title="Line 495: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">     495</span>                 :                :     (weight) &gt;= NUMERIC_SHORT_WEIGHT_MIN)</span>
<span id="L496" title="Line 496: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">     496</span>                 :                : </span>
<span id="L497" title="Line 497: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     497</span>                 :                : static void alloc_var(NumericVar *var, int ndigits);</span>
<span id="L498" title="Line 498: commit fcff1cdf4ead on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">     498</span>                 :                : static void free_var(NumericVar *var);</span>
<span id="L499" title="Line 499: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     499</span>                 :                : static void zero_var(NumericVar *var);</span>
<span id="L500" title="Line 500: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     500</span>                 :                : </span>
<span id="L501" title="Line 501: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     501</span>                 :                : static bool set_var_from_str(const char *str, const char *cp,</span>
<span id="L502" title="Line 502: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     502</span>                 :                :                              NumericVar *dest, const char **endptr,</span>
<span id="L503" title="Line 503: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     503</span>                 :                :                              Node *escontext);</span>
<span id="L504" title="Line 504: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     504</span>                 :                : static bool set_var_from_non_decimal_integer_str(const char *str,</span>
<span id="L505" title="Line 505: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     505</span>                 :                :                                                  const char *cp, int sign,</span>
<span id="L506" title="Line 506: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     506</span>                 :                :                                                  int base, NumericVar *dest,</span>
<span id="L507" title="Line 507: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     507</span>                 :                :                                                  const char **endptr,</span>
<span id="L508" title="Line 508: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     508</span>                 :                :                                                  Node *escontext);</span>
<span id="L509" title="Line 509: commit a601366a460f on 2022-09-20 by pg@bowt.ie">                           <span class="lineNum">     509</span>                 :                : static void set_var_from_num(Numeric num, NumericVar *dest);</span>
<span id="L510" title="Line 510: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     510</span>                 :                : static void init_var_from_num(Numeric num, NumericVar *dest);</span>
<span id="L511" title="Line 511: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     511</span>                 :                : static void set_var_from_var(const NumericVar *value, NumericVar *dest);</span>
<span id="L512" title="Line 512: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     512</span>                 :                : static char *get_str_from_var(const NumericVar *var);</span>
<span id="L513" title="Line 513: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     513</span>                 :                : static char *get_str_from_var_sci(const NumericVar *var, int rscale);</span>
<span id="L514" title="Line 514: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     514</span>                 :                : </span>
<span id="L515" title="Line 515: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     515</span>                 :                : static void numericvar_serialize(StringInfo buf, const NumericVar *var);</span>
<span id="L516" title="Line 516: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     516</span>                 :                : static void numericvar_deserialize(StringInfo buf, NumericVar *var);</span>
<span id="L517" title="Line 517: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     517</span>                 :                : </span>
<span id="L518" title="Line 518: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     518</span>                 :                : static Numeric duplicate_numeric(Numeric num);</span>
<span id="L519" title="Line 519: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     519</span>                 :                : static Numeric make_result(const NumericVar *var);</span>
<span id="L520" title="Line 520: commit a601366a460f on 2022-09-20 by pg@bowt.ie">                           <span class="lineNum">     520</span>                 :                : static Numeric make_result_opt_error(const NumericVar *var, bool *have_error);</span>
<span id="L521" title="Line 521: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     521</span>                 :                : </span>
<span id="L522" title="Line 522: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     522</span>                 :                : static bool apply_typmod(NumericVar *var, int32 typmod, Node *escontext);</span>
<span id="L523" title="Line 523: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     523</span>                 :                : static bool apply_typmod_special(Numeric num, int32 typmod, Node *escontext);</span>
<span id="L524" title="Line 524: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     524</span>                 :                : </span>
<span id="L525" title="Line 525: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">     525</span>                 :                : static bool numericvar_to_int32(const NumericVar *var, int32 *result);</span>
<span id="L526" title="Line 526: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     526</span>                 :                : static bool numericvar_to_int64(const NumericVar *var, int64 *result);</span>
<span id="L527" title="Line 527: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">     527</span>                 :                : static void int64_to_numericvar(int64 val, NumericVar *var);</span>
<span id="L528" title="Line 528: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">     528</span>                 :                : static bool numericvar_to_uint64(const NumericVar *var, uint64 *result);</span>
<span id="L529" title="Line 529: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     529</span>                 :                : static void int128_to_numericvar(INT128 val, NumericVar *var);</span>
<span id="L530" title="Line 530: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     530</span>                 :                : static double numericvar_to_double_no_overflow(const NumericVar *var);</span>
<span id="L531" title="Line 531: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     531</span>                 :                : </span>
<span id="L532" title="Line 532: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     532</span>                 :                : static Datum numeric_abbrev_convert(Datum original_datum, SortSupport ssup);</span>
<span id="L533" title="Line 533: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     533</span>                 :                : static bool numeric_abbrev_abort(int memtupcount, SortSupport ssup);</span>
<span id="L534" title="Line 534: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     534</span>                 :                : static int  numeric_fast_cmp(Datum x, Datum y, SortSupport ssup);</span>
<span id="L535" title="Line 535: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     535</span>                 :                : static int  numeric_cmp_abbrev(Datum x, Datum y, SortSupport ssup);</span>
<span id="L536" title="Line 536: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     536</span>                 :                : </span>
<span id="L537" title="Line 537: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     537</span>                 :                : static Datum numeric_abbrev_convert_var(const NumericVar *var,</span>
<span id="L538" title="Line 538: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     538</span>                 :                :                                         NumericSortSupport *nss);</span>
<span id="L539" title="Line 539: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">     539</span>                 :                : </span>
<span id="L540" title="Line 540: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     540</span>                 :                : static int  cmp_numerics(Numeric num1, Numeric num2);</span>
<span id="L541" title="Line 541: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     541</span>                 :                : static int  cmp_var(const NumericVar *var1, const NumericVar *var2);</span>
<span id="L542" title="Line 542: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     542</span>                 :                : static int  cmp_var_common(const NumericDigit *var1digits, int var1ndigits,</span>
<span id="L543" title="Line 543: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     543</span>                 :                :                            int var1weight, int var1sign,</span>
<span id="L544" title="Line 544: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     544</span>                 :                :                            const NumericDigit *var2digits, int var2ndigits,</span>
<span id="L545" title="Line 545: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     545</span>                 :                :                            int var2weight, int var2sign);</span>
<span id="L546" title="Line 546: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     546</span>                 :                : static void add_var(const NumericVar *var1, const NumericVar *var2,</span>
<span id="L547" title="Line 547: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     547</span>                 :                :                     NumericVar *result);</span>
<span id="L548" title="Line 548: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     548</span>                 :                : static void sub_var(const NumericVar *var1, const NumericVar *var2,</span>
<span id="L549" title="Line 549: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     549</span>                 :                :                     NumericVar *result);</span>
<span id="L550" title="Line 550: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     550</span>                 :                : static void mul_var(const NumericVar *var1, const NumericVar *var2,</span>
<span id="L551" title="Line 551: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     551</span>                 :                :                     NumericVar *result,</span>
<span id="L552" title="Line 552: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     552</span>                 :                :                     int rscale);</span>
<span id="L553" title="Line 553: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     553</span>                 :                : static void mul_var_short(const NumericVar *var1, const NumericVar *var2,</span>
<span id="L554" title="Line 554: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     554</span>                 :                :                           NumericVar *result);</span>
<span id="L555" title="Line 555: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     555</span>                 :                : static void div_var(const NumericVar *var1, const NumericVar *var2,</span>
<span id="L556" title="Line 556: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     556</span>                 :                :                     NumericVar *result, int rscale, bool round, bool exact);</span>
<span id="L557" title="Line 557: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     557</span>                 :                : static void div_var_int(const NumericVar *var, int ival, int ival_weight,</span>
<span id="L558" title="Line 558: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     558</span>                 :                :                         NumericVar *result, int rscale, bool round);</span>
<span id="L559" title="Line 559: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     559</span>                 :                : #ifdef HAVE_INT128</span>
<span id="L560" title="Line 560: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     560</span>                 :                : static void div_var_int64(const NumericVar *var, int64 ival, int ival_weight,</span>
<span id="L561" title="Line 561: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     561</span>                 :                :                           NumericVar *result, int rscale, bool round);</span>
<span id="L562" title="Line 562: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     562</span>                 :                : #endif</span>
<span id="L563" title="Line 563: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     563</span>                 :                : static int  select_div_scale(const NumericVar *var1, const NumericVar *var2);</span>
<span id="L564" title="Line 564: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     564</span>                 :                : static void mod_var(const NumericVar *var1, const NumericVar *var2,</span>
<span id="L565" title="Line 565: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     565</span>                 :                :                     NumericVar *result);</span>
<span id="L566" title="Line 566: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     566</span>                 :                : static void div_mod_var(const NumericVar *var1, const NumericVar *var2,</span>
<span id="L567" title="Line 567: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     567</span>                 :                :                         NumericVar *quot, NumericVar *rem);</span>
<span id="L568" title="Line 568: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     568</span>                 :                : static void ceil_var(const NumericVar *var, NumericVar *result);</span>
<span id="L569" title="Line 569: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     569</span>                 :                : static void floor_var(const NumericVar *var, NumericVar *result);</span>
<span id="L570" title="Line 570: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     570</span>                 :                : </span>
<span id="L571" title="Line 571: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     571</span>                 :                : static void gcd_var(const NumericVar *var1, const NumericVar *var2,</span>
<span id="L572" title="Line 572: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     572</span>                 :                :                     NumericVar *result);</span>
<span id="L573" title="Line 573: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     573</span>                 :                : static void sqrt_var(const NumericVar *arg, NumericVar *result, int rscale);</span>
<span id="L574" title="Line 574: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     574</span>                 :                : static void exp_var(const NumericVar *arg, NumericVar *result, int rscale);</span>
<span id="L575" title="Line 575: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     575</span>                 :                : static int  estimate_ln_dweight(const NumericVar *var);</span>
<span id="L576" title="Line 576: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     576</span>                 :                : static void ln_var(const NumericVar *arg, NumericVar *result, int rscale);</span>
<span id="L577" title="Line 577: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     577</span>                 :                : static void log_var(const NumericVar *base, const NumericVar *num,</span>
<span id="L578" title="Line 578: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     578</span>                 :                :                     NumericVar *result);</span>
<span id="L579" title="Line 579: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     579</span>                 :                : static void power_var(const NumericVar *base, const NumericVar *exp,</span>
<span id="L580" title="Line 580: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     580</span>                 :                :                       NumericVar *result);</span>
<span id="L581" title="Line 581: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     581</span>                 :                : static void power_var_int(const NumericVar *base, int exp, int exp_dscale,</span>
<span id="L582" title="Line 582: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     582</span>                 :                :                           NumericVar *result);</span>
<span id="L583" title="Line 583: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     583</span>                 :                : static void power_ten_int(int exp, NumericVar *result);</span>
<span id="L584" title="Line 584: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     584</span>                 :                : static void random_var(pg_prng_state *state, const NumericVar *rmin,</span>
<span id="L585" title="Line 585: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     585</span>                 :                :                        const NumericVar *rmax, NumericVar *result);</span>
<span id="L586" title="Line 586: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     586</span>                 :                : </span>
<span id="L587" title="Line 587: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     587</span>                 :                : static int  cmp_abs(const NumericVar *var1, const NumericVar *var2);</span>
<span id="L588" title="Line 588: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     588</span>                 :                : static int  cmp_abs_common(const NumericDigit *var1digits, int var1ndigits,</span>
<span id="L589" title="Line 589: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     589</span>                 :                :                            int var1weight,</span>
<span id="L590" title="Line 590: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     590</span>                 :                :                            const NumericDigit *var2digits, int var2ndigits,</span>
<span id="L591" title="Line 591: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     591</span>                 :                :                            int var2weight);</span>
<span id="L592" title="Line 592: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     592</span>                 :                : static void add_abs(const NumericVar *var1, const NumericVar *var2,</span>
<span id="L593" title="Line 593: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     593</span>                 :                :                     NumericVar *result);</span>
<span id="L594" title="Line 594: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     594</span>                 :                : static void sub_abs(const NumericVar *var1, const NumericVar *var2,</span>
<span id="L595" title="Line 595: commit 8255c7a5eeba on 2019-05-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     595</span>                 :                :                     NumericVar *result);</span>
<span id="L596" title="Line 596: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     596</span>                 :                : static void round_var(NumericVar *var, int rscale);</span>
<span id="L597" title="Line 597: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     597</span>                 :                : static void trunc_var(NumericVar *var, int rscale);</span>
<span id="L598" title="Line 598: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     598</span>                 :                : static void strip_var(NumericVar *var);</span>
<span id="L599" title="Line 599: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">     599</span>                 :                : static void compute_bucket(Numeric operand, Numeric bound1, Numeric bound2,</span>
<span id="L600" title="Line 600: commit 0dcf753bd82a on 2024-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     600</span>                 :                :                            const NumericVar *count_var,</span>
<span id="L601" title="Line 601: commit 7538708394e7 on 2020-10-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     601</span>                 :                :                            NumericVar *result_var);</span>
<span id="L602" title="Line 602: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     602</span>                 :                : </span>
<span id="L603" title="Line 603: commit a601366a460f on 2022-09-20 by pg@bowt.ie">                           <span class="lineNum">     603</span>                 :                : static void accum_sum_add(NumericSumAccum *accum, const NumericVar *val);</span>
<span id="L604" title="Line 604: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de">                           <span class="lineNum">     604</span>                 :                : static void accum_sum_rescale(NumericSumAccum *accum, const NumericVar *val);</span>
<span id="L605" title="Line 605: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     605</span>                 :                : static void accum_sum_carry(NumericSumAccum *accum);</span>
<span id="L606" title="Line 606: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     606</span>                 :                : static void accum_sum_reset(NumericSumAccum *accum);</span>
<span id="L607" title="Line 607: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     607</span>                 :                : static void accum_sum_final(NumericSumAccum *accum, NumericVar *result);</span>
<span id="L608" title="Line 608: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     608</span>                 :                : static void accum_sum_copy(NumericSumAccum *dst, NumericSumAccum *src);</span>
<span id="L609" title="Line 609: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     609</span>                 :                : static void accum_sum_combine(NumericSumAccum *accum, NumericSumAccum *accum2);</span>
<span id="L610" title="Line 610: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     610</span>                 :                : </span>
<span id="L611" title="Line 611: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     611</span>                 :                : </span>
<span id="L612" title="Line 612: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     612</span>                 :                : /* ----------------------------------------------------------------------</span>
<span id="L613" title="Line 613: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     613</span>                 :                :  *</span>
<span id="L614" title="Line 614: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     614</span>                 :                :  * Input-, output- and rounding-functions</span>
<span id="L615" title="Line 615: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     615</span>                 :                :  *</span>
<span id="L616" title="Line 616: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     616</span>                 :                :  * ----------------------------------------------------------------------</span>
<span id="L617" title="Line 617: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     617</span>                 :                :  */</span>
<span id="L618" title="Line 618: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     618</span>                 :                : </span>
<span id="L619" title="Line 619: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     619</span>                 :                : </span>
<span id="L620" title="Line 620: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     620</span>                 :                : /*</span>
<span id="L621" title="Line 621: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     621</span>                 :                :  * numeric_in() -</span>
<span id="L622" title="Line 622: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     622</span>                 :                :  *</span>
<span id="L623" title="Line 623: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     623</span>                 :                :  *  Input function for numeric data type</span>
<span id="L624" title="Line 624: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     624</span>                 :                :  */</span>
<span id="L625" title="Line 625: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     625</span>                 :                : Datum</span>
<span id="L626" title="Line 626: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us"> <a href="#L706" title="next CBC in &ldquo;(360..) days&rdquo; bin">9205</a> <a href="#L722" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">     626</span>                 :<a href="#L706" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">       81994 : numeric_in(PG_FUNCTION_ARGS)</span></span>
<span id="L627" title="Line 627: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     627</span>                 :                : {</span>
<span id="L628" title="Line 628: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     628</span>                 :<span class="tlaCBC">          81994 :     char       *str = PG_GETARG_CSTRING(0);</span></span>
<span id="L629" title="Line 629: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     629</span>                 :                : #ifdef NOT_USED</span>
<span id="L630" title="Line 630: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     630</span>                 :                :     Oid         typelem = PG_GETARG_OID(1);</span>
<span id="L631" title="Line 631: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     631</span>                 :                : #endif</span>
<span id="L632" title="Line 632: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     632</span>                 :<span class="tlaCBC">          81994 :     int32       typmod = PG_GETARG_INT32(2);</span></span>
<span id="L633" title="Line 633: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">  991                      <span class="lineNum">     633</span>                 :<span class="tlaCBC">          81994 :     Node       *escontext = fcinfo-&gt;context;</span></span>
<span id="L634" title="Line 634: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     634</span>                 :                :     Numeric     res;</span>
<span id="L635" title="Line 635: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     635</span>                 :                :     const char *cp;</span>
<span id="L636" title="Line 636: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     636</span>                 :                :     const char *numstart;</span>
<span id="L637" title="Line 637: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     637</span>                 :                :     int         sign;</span>
<span id="L638" title="Line 638: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     638</span>                 :                : </span>
<span id="L639" title="Line 639: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     639</span>                 :                :     /* Skip leading spaces */</span>
<span id="L640" title="Line 640: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us"> 5984                      <span class="lineNum">     640</span>                 :<span class="tlaCBC">          81994 :     cp = str;</span></span>
<span id="L641" title="Line 641: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     641</span>         [<span class="tlaCBC"> <a href="#L643" title="CBC: Branch 0 was taken 94195 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L643" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          94204 :     while (*cp)</span></span>
<span id="L642" title="Line 642: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     642</span>                 :                :     {</span>
<span id="L643" title="Line 643: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     643</span>         [<span class="tlaCBC"> <a href="#L656" title="CBC: Branch 0 was taken 81985 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L656" title="CBC: Branch 1 was taken 12210 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          94195 :         if (!isspace((unsigned char) *cp))</span></span>
<span id="L644" title="Line 644: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     644</span>                 :<span class="tlaCBC">          81985 :             break;</span></span>
<span id="L645" title="Line 645: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     645</span>                 :<span class="tlaCBC">          12210 :         cp++;</span></span>
<span id="L646" title="Line 646: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     646</span>                 :                :     }</span>
<span id="L647" title="Line 647: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     647</span>                 :                : </span>
<span id="L648" title="Line 648: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">     648</span>                 :                :     /*</span>
<span id="L649" title="Line 649: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     649</span>                 :                :      * Process the number's sign. This duplicates logic in set_var_from_str(),</span>
<span id="L650" title="Line 650: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     650</span>                 :                :      * but it's worth doing here, since it simplifies the handling of</span>
<span id="L651" title="Line 651: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     651</span>                 :                :      * infinities and non-decimal integers.</span>
<span id="L652" title="Line 652: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     652</span>                 :                :      */</span>
<span id="L653" title="Line 653: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">  946 <a href="#L706" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">     653</span>                 :<span class="tlaCBC">          81994 :     numstart = cp;</span></span>
<span id="L654" title="Line 654: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     654</span>                 :<span class="tlaCBC">          81994 :     sign = NUMERIC_POS;</span></span>
<span id="L655" title="Line 655: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     655</span>                 :                : </span>
<span id="L656" title="Line 656: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     656</span>         [<span class="tlaCBC"> <a href="#L658" title="CBC: Branch 0 was taken 24 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L658" title="CBC: Branch 1 was taken 81970 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          81994 :     if (*cp == '+')</span></span>
<span id="L657" title="Line 657: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     657</span>                 :<span class="tlaCBC">             24 :         cp++;</span></span>
<span id="L658" title="Line 658: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     658</span>         [<span class="tlaCBC"> <a href="#L671" title="CBC: Branch 0 was taken 2083 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L671" title="CBC: Branch 1 was taken 79887 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          81970 :     else if (*cp == '-')</span></span>
<span id="L659" title="Line 659: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     659</span>                 :                :     {</span>
<span id="L660" title="Line 660: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     660</span>                 :<span class="tlaCBC">           2083 :         sign = NUMERIC_NEG;</span></span>
<span id="L661" title="Line 661: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     661</span>                 :<span class="tlaCBC">           2083 :         cp++;</span></span>
<span id="L662" title="Line 662: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     662</span>                 :                :     }</span>
<span id="L663" title="Line 663: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     663</span>                 :                : </span>
<span id="L664" title="Line 664: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     664</span>                 :                :     /*</span>
<span id="L665" title="Line 665: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     665</span>                 :                :      * Check for NaN and infinities.  We recognize the same strings allowed by</span>
<span id="L666" title="Line 666: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     666</span>                 :                :      * float8in().</span>
<span id="L667" title="Line 667: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     667</span>                 :                :      *</span>
<span id="L668" title="Line 668: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     668</span>                 :                :      * Since all other legal inputs have a digit or a decimal point after the</span>
<span id="L669" title="Line 669: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     669</span>                 :                :      * sign, we need only check for NaN/infinity if that's not the case.</span>
<span id="L670" title="Line 670: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     670</span>                 :                :      */</span>
<span id="L671" title="Line 671: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     671</span>   [<span class="tlaCBC"> <a href="#L677" title="CBC: Branch 0 was taken 1085 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L677" title="CBC: Branch 1 was taken 80909 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L677" title="CBC: Branch 2 was taken 894 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L677" title="CBC: Branch 3 was taken 191 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          81994 :     if (!isdigit((unsigned char) *cp) &amp;&amp; *cp != '.')</span></span>
<span id="L672" title="Line 672: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     672</span>                 :                :     {</span>
<span id="L673" title="Line 673: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     673</span>                 :                :         /*</span>
<span id="L674" title="Line 674: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     674</span>                 :                :          * The number must be NaN or infinity; anything else can only be a</span>
<span id="L675" title="Line 675: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     675</span>                 :                :          * syntax error. Note that NaN mustn't have a sign.</span>
<span id="L676" title="Line 676: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     676</span>                 :                :          */</span>
<span id="L677" title="Line 677: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     677</span>         [<span class="tlaCBC"> <a href="#L682" title="CBC: Branch 0 was taken 299 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L682" title="CBC: Branch 1 was taken 595 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            894 :         if (pg_strncasecmp(numstart, &quot;NaN&quot;, 3) == 0)</span></span>
<span id="L678" title="Line 678: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     678</span>                 :                :         {</span>
<span id="L679" title="Line 679: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     679</span>                 :<span class="tlaCBC">            299 :             res = make_result(&amp;const_nan);</span></span>
<span id="L680" title="Line 680: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     680</span>                 :<span class="tlaCBC">            299 :             cp = numstart + 3;</span></span>
<span id="L681" title="Line 681: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     681</span>                 :                :         }</span>
<span id="L682" title="Line 682: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     682</span>         [<span class="tlaCBC"> <a href="#L684" title="CBC: Branch 0 was taken 246 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L684" title="CBC: Branch 1 was taken 349 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            595 :         else if (pg_strncasecmp(cp, &quot;Infinity&quot;, 8) == 0)</span></span>
<span id="L683" title="Line 683: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     683</span>                 :                :         {</span>
<span id="L684" title="Line 684: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     684</span>         [<span class="tlaCBC"> <a href="#L687" title="CBC: Branch 0 was taken 141 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L687" title="CBC: Branch 1 was taken 105 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            246 :             res = make_result(sign == NUMERIC_POS ? &amp;const_pinf : &amp;const_ninf);</span></span>
<span id="L685" title="Line 685: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     685</span>                 :<span class="tlaCBC">            246 :             cp += 8;</span></span>
<span id="L686" title="Line 686: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     686</span>                 :                :         }</span>
<span id="L687" title="Line 687: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     687</span>         [<span class="tlaCBC"> <a href="#L689" title="CBC: Branch 0 was taken 294 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L689" title="CBC: Branch 1 was taken 55 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            349 :         else if (pg_strncasecmp(cp, &quot;inf&quot;, 3) == 0)</span></span>
<span id="L688" title="Line 688: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     688</span>                 :                :         {</span>
<span id="L689" title="Line 689: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     689</span>         [<span class="tlaCBC"> <a href="#L702" title="CBC: Branch 0 was taken 174 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L702" title="CBC: Branch 1 was taken 120 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            294 :             res = make_result(sign == NUMERIC_POS ? &amp;const_pinf : &amp;const_ninf);</span></span>
<span id="L690" title="Line 690: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     690</span>                 :<span class="tlaCBC">            294 :             cp += 3;</span></span>
<span id="L691" title="Line 691: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     691</span>                 :                :         }</span>
<span id="L692" title="Line 692: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     692</span>                 :                :         else</span>
<span id="L693" title="Line 693: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     693</span>                 :<span class="tlaCBC">             55 :             goto invalid_syntax;</span></span>
<span id="L694" title="Line 694: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     694</span>                 :                : </span>
<span id="L695" title="Line 695: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     695</span>                 :                :         /*</span>
<span id="L696" title="Line 696: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     696</span>                 :                :          * Check for trailing junk; there should be nothing left but spaces.</span>
<span id="L697" title="Line 697: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     697</span>                 :                :          *</span>
<span id="L698" title="Line 698: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     698</span>                 :                :          * We intentionally do this check before applying the typmod because</span>
<span id="L699" title="Line 699: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     699</span>                 :                :          * we would like to throw any trailing-junk syntax error before any</span>
<span id="L700" title="Line 700: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     700</span>                 :                :          * semantic error resulting from apply_typmod_special().</span>
<span id="L701" title="Line 701: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     701</span>                 :                :          */</span>
<span id="L702" title="Line 702: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     702</span>         [<span class="tlaCBC"> <a href="#L704" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L704" title="CBC: Branch 1 was taken 839 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            860 :         while (*cp)</span></span>
<span id="L703" title="Line 703: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     703</span>                 :                :         {</span>
<span id="L704" title="Line 704: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     704</span>         [<span class="tlaUBC"> <a href="#L709" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L709" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             21 :             if (!isspace((unsigned char) *cp))</span></span>
<span id="L705" title="Line 705: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 946 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L710" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">946</a> <a href="#L710" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">     705</span>                 :<a href="#L710" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                 goto invalid_syntax;</span></span>
<span id="L706" title="Line 706: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">  <a href="#L722" title="next CBC in &ldquo;(360..) days&rdquo; bin">946</a> <a href="#L728" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">     706</span>                 :<a href="#L722" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          21 :             cp++;</span></span>
<span id="L707" title="Line 707: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     707</span>                 :                :         }</span>
<span id="L708" title="Line 708: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     708</span>                 :                : </span>
<span id="L709" title="Line 709: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     709</span>         [<span class="tlaUBC"> <a href="#L754" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L728" title="CBC: Branch 1 was taken 839 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            839 :         if (!apply_typmod_special(res, typmod, escontext))</span></span>
<span id="L710" title="Line 710: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 946 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L762" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">946</a> <a href="#L762" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">     710</span>                 :<a href="#L762" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             PG_RETURN_NULL();</span></span>
<span id="L711" title="Line 711: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     711</span>                 :                :     }</span>
<span id="L712" title="Line 712: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     712</span>                 :                :     else</span>
<span id="L713" title="Line 713: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     713</span>                 :                :     {</span>
<span id="L714" title="Line 714: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     714</span>                 :                :         /*</span>
<span id="L715" title="Line 715: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     715</span>                 :                :          * We have a normal numeric value, which may be a non-decimal integer</span>
<span id="L716" title="Line 716: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     716</span>                 :                :          * or a regular decimal number.</span>
<span id="L717" title="Line 717: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     717</span>                 :                :          */</span>
<span id="L718" title="Line 718: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     718</span>                 :                :         NumericVar  value;</span>
<span id="L719" title="Line 719: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     719</span>                 :                :         int         base;</span>
<span id="L720" title="Line 720: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     720</span>                 :                :         bool        have_error;</span>
<span id="L721" title="Line 721: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     721</span>                 :                : </span>
<span id="L722" title="Line 722: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us"> <a href="#L769" title="next CBC in &ldquo;(360..) days&rdquo; bin">5984</a> <a href="#L769" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">     722</span>                 :<a href="#L769" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">       81100 :         init_var(&amp;value);</span></span>
<span id="L723" title="Line 723: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     723</span>                 :                : </span>
<span id="L724" title="Line 724: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     724</span>                 :                :         /*</span>
<span id="L725" title="Line 725: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     725</span>                 :                :          * Determine the number's base by looking for a non-decimal prefix</span>
<span id="L726" title="Line 726: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     726</span>                 :                :          * indicator (&quot;0x&quot;, &quot;0o&quot;, or &quot;0b&quot;).</span>
<span id="L727" title="Line 727: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     727</span>                 :                :          */</span>
<span id="L728" title="Line 728: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">  946 <a href="#L772" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">     728</span>         [<span class="tlaCBC"> <a href="#L730" title="CBC: Branch 0 was taken 24737 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L730" title="CBC: Branch 1 was taken 56363 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          81100 :         if (cp[0] == '0')</span></span>
<span id="L729" title="Line 729: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     729</span>                 :                :         {</span>
<span id="L730" title="Line 730: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     730</span>   [<span class="tlaCBC"> <a href="#L752" title="CBC: Branch 0 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L752" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L752" title="CBC: Branch 2 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L752" title="CBC: Branch 3 was taken 24659 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          24737 :             switch (cp[1])</span></span>
<span id="L731" title="Line 731: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     731</span>                 :                :             {</span>
<span id="L732" title="Line 732: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     732</span>                 :<span class="tlaCBC">             36 :                 case 'x':</span></span>
<span id="L733" title="Line 733: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     733</span>                 :                :                 case 'X':</span>
<span id="L734" title="Line 734: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     734</span>                 :<span class="tlaCBC">             36 :                     base = 16;</span></span>
<span id="L735" title="Line 735: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     735</span>                 :<span class="tlaCBC">             36 :                     break;</span></span>
<span id="L736" title="Line 736: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     736</span>                 :<span class="tlaCBC">             21 :                 case 'o':</span></span>
<span id="L737" title="Line 737: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     737</span>                 :                :                 case 'O':</span>
<span id="L738" title="Line 738: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     738</span>                 :<span class="tlaCBC">             21 :                     base = 8;</span></span>
<span id="L739" title="Line 739: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     739</span>                 :<span class="tlaCBC">             21 :                     break;</span></span>
<span id="L740" title="Line 740: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     740</span>                 :<span class="tlaCBC">             21 :                 case 'b':</span></span>
<span id="L741" title="Line 741: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     741</span>                 :                :                 case 'B':</span>
<span id="L742" title="Line 742: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     742</span>                 :<span class="tlaCBC">             21 :                     base = 2;</span></span>
<span id="L743" title="Line 743: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     743</span>                 :<span class="tlaCBC">             21 :                     break;</span></span>
<span id="L744" title="Line 744: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     744</span>                 :<span class="tlaCBC">          24659 :                 default:</span></span>
<span id="L745" title="Line 745: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     745</span>                 :<span class="tlaCBC">          24659 :                     base = 10;</span></span>
<span id="L746" title="Line 746: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     746</span>                 :                :             }</span>
<span id="L747" title="Line 747: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     747</span>                 :                :         }</span>
<span id="L748" title="Line 748: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     748</span>                 :                :         else</span>
<span id="L749" title="Line 749: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     749</span>                 :<span class="tlaCBC">          56363 :             base = 10;</span></span>
<span id="L750" title="Line 750: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     750</span>                 :                : </span>
<span id="L751" title="Line 751: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     751</span>                 :                :         /* Parse the rest of the number and apply the sign */</span>
<span id="L752" title="Line 752: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     752</span>         [<span class="tlaCBC"> <a href="#L754" title="CBC: Branch 0 was taken 81022 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L754" title="CBC: Branch 1 was taken 78 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          81100 :         if (base == 10)</span></span>
<span id="L753" title="Line 753: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     753</span>                 :                :         {</span>
<span id="L754" title="Line 754: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     754</span>         [<span class="tlaUBC"> <a href="#L760" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L760" title="CBC: Branch 1 was taken 80998 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          81022 :             if (!set_var_from_str(str, cp, &amp;value, &amp;cp, escontext))</span></span>
<span id="L755" title="Line 755: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     755</span>                 :<span class="tlaCBC">             21 :                 PG_RETURN_NULL();</span></span>
<span id="L756" title="Line 756: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     756</span>                 :<span class="tlaCBC">          80998 :             value.sign = sign;</span></span>
<span id="L757" title="Line 757: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     757</span>                 :                :         }</span>
<span id="L758" title="Line 758: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     758</span>                 :                :         else</span>
<span id="L759" title="Line 759: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     759</span>                 :                :         {</span>
<span id="L760" title="Line 760: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     760</span>         [<span class="tlaUBC"> <a href="#L869" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L769" title="CBC: Branch 1 was taken 69 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             78 :             if (!set_var_from_non_decimal_integer_str(str, cp + 2, sign, base,</span></span>
<span id="L761" title="Line 761: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     761</span>                 :                :                                                       &amp;value, &amp;cp, escontext))</span>
<span id="L762" title="Line 762: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 946 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L870" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">946</a> <a href="#L1293" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">     762</span>                 :<a href="#L870" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                 PG_RETURN_NULL();</span></span>
<span id="L763" title="Line 763: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     763</span>                 :                :         }</span>
<span id="L764" title="Line 764: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     764</span>                 :                : </span>
<span id="L765" title="Line 765: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     765</span>                 :                :         /*</span>
<span id="L766" title="Line 766: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     766</span>                 :                :          * Should be nothing left but spaces. As above, throw any typmod error</span>
<span id="L767" title="Line 767: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     767</span>                 :                :          * after finishing syntax check.</span>
<span id="L768" title="Line 768: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     768</span>                 :                :          */</span>
<span id="L769" title="Line 769: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us"> <a href="#L871" title="next CBC in &ldquo;(360..) days&rdquo; bin">5984</a> <a href="#L773" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">     769</span>         [<span class="tlaCBC"> <a href="#L771" title="CBC: Branch 0 was taken 75 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L771" title="CBC: Branch 1 was taken 81031 times" class="branchTla">+</a> </span>]:<a href="#L871" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">       81106 :         while (*cp)</span></span>
<span id="L770" title="Line 770: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     770</span>                 :                :         {</span>
<span id="L771" title="Line 771: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     771</span>         [<span class="tlaCBC"> <a href="#L776" title="CBC: Branch 0 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L776" title="CBC: Branch 1 was taken 39 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             75 :             if (!isspace((unsigned char) *cp))</span></span>
<span id="L772" title="Line 772: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">  946 <a href="#L791" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">     772</span>                 :<span class="tlaCBC">             36 :                 goto invalid_syntax;</span></span>
<span id="L773" title="Line 773: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us"> 5984 <a href="#L805" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">     773</span>                 :<span class="tlaCBC">             39 :             cp++;</span></span>
<span id="L774" title="Line 774: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     774</span>                 :                :         }</span>
<span id="L775" title="Line 775: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     775</span>                 :                : </span>
<span id="L776" title="Line 776: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">  991                      <span class="lineNum">     776</span>         [<span class="tlaCBC"> <a href="#L781" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L781" title="CBC: Branch 1 was taken 81019 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          81031 :         if (!apply_typmod(&amp;value, typmod, escontext))</span></span>
<span id="L777" title="Line 777: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     777</span>                 :<span class="tlaCBC">             12 :             PG_RETURN_NULL();</span></span>
<span id="L778" title="Line 778: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     778</span>                 :                : </span>
<span id="L779" title="Line 779: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     779</span>                 :<span class="tlaCBC">          81019 :         res = make_result_opt_error(&amp;value, &amp;have_error);</span></span>
<span id="L780" title="Line 780: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     780</span>                 :                : </span>
<span id="L781" title="Line 781: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     781</span>         [<span class="tlaCBC"> <a href="#L782" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L782" title="CBC: Branch 1 was taken 81010 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          81019 :         if (have_error)</span></span>
<span id="L782" title="Line 782: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     782</span>         [<span class="tlaCBC"> <a href="#L792" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L792" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :             ereturn(escontext, (Datum) 0,</span></span>
<span id="L783" title="Line 783: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     783</span>                 :                :                     (errcode(ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE),</span>
<span id="L784" title="Line 784: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     784</span>                 :                :                      errmsg(&quot;value overflows numeric format&quot;)));</span>
<span id="L785" title="Line 785: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     785</span>                 :                : </span>
<span id="L786" title="Line 786: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us"> 5984                      <span class="lineNum">     786</span>                 :<span class="tlaCBC">          81010 :         free_var(&amp;value);</span></span>
<span id="L787" title="Line 787: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     787</span>                 :                :     }</span>
<span id="L788" title="Line 788: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     788</span>                 :                : </span>
<span id="L789" title="Line 789: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us"> 9205                      <span class="lineNum">     789</span>                 :<span class="tlaCBC">          81849 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L790" title="Line 790: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     790</span>                 :                : </span>
<span id="L791" title="Line 791: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">  946 <a href="#L896" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">     791</span>                 :<span class="tlaCBC">             91 : invalid_syntax:</span></span>
<span id="L792" title="Line 792: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     792</span>         [<span class="tlaCBC"> <a href="#L814" title="CBC: Branch 0 was taken 64 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L814" title="CBC: Branch 1 was taken 27 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             91 :     ereturn(escontext, (Datum) 0,</span></span>
<span id="L793" title="Line 793: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     793</span>                 :                :             (errcode(ERRCODE_INVALID_TEXT_REPRESENTATION),</span>
<span id="L794" title="Line 794: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     794</span>                 :                :              errmsg(&quot;invalid input syntax for type %s: \&quot;%s\&quot;&quot;,</span>
<span id="L795" title="Line 795: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     795</span>                 :                :                     &quot;numeric&quot;, str)));</span>
<span id="L796" title="Line 796: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     796</span>                 :                : }</span>
<span id="L797" title="Line 797: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     797</span>                 :                : </span>
<span id="L798" title="Line 798: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     798</span>                 :                : </span>
<span id="L799" title="Line 799: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     799</span>                 :                : /*</span>
<span id="L800" title="Line 800: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     800</span>                 :                :  * numeric_out() -</span>
<span id="L801" title="Line 801: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     801</span>                 :                :  *</span>
<span id="L802" title="Line 802: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     802</span>                 :                :  *  Output function for numeric data type</span>
<span id="L803" title="Line 803: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     803</span>                 :                :  */</span>
<span id="L804" title="Line 804: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     804</span>                 :                : Datum</span>
<span id="L805" title="Line 805: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us"> 9205 <a href="#L831" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">     805</span>                 :<span class="tlaCBC">         425958 : numeric_out(PG_FUNCTION_ARGS)</span></span>
<span id="L806" title="Line 806: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     806</span>                 :                : {</span>
<span id="L807" title="Line 807: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     807</span>                 :<span class="tlaCBC">         425958 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L808" title="Line 808: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     808</span>                 :                :     NumericVar  x;</span>
<span id="L809" title="Line 809: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     809</span>                 :                :     char       *str;</span>
<span id="L810" title="Line 810: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     810</span>                 :                : </span>
<span id="L811" title="Line 811: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">     811</span>                 :                :     /*</span>
<span id="L812" title="Line 812: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     812</span>                 :                :      * Handle NaN and infinities</span>
<span id="L813" title="Line 813: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     813</span>                 :                :      */</span>
<span id="L814" title="Line 814: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">     814</span>         [<span class="tlaCBC"> <a href="#L816" title="CBC: Branch 0 was taken 1794 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L816" title="CBC: Branch 1 was taken 424164 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         425958 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L815" title="Line 815: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     815</span>                 :                :     {</span>
<span id="L816" title="Line 816: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     816</span>         [<span class="tlaCBC"> <a href="#L818" title="CBC: Branch 0 was taken 520 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L818" title="CBC: Branch 1 was taken 1274 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1794 :         if (NUMERIC_IS_PINF(num))</span></span>
<span id="L817" title="Line 817: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     817</span>                 :<span class="tlaCBC">            520 :             PG_RETURN_CSTRING(pstrdup(&quot;Infinity&quot;));</span></span>
<span id="L818" title="Line 818: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     818</span>         [<span class="tlaCBC"> <a href="#L867" title="CBC: Branch 0 was taken 329 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L867" title="CBC: Branch 1 was taken 945 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1274 :         else if (NUMERIC_IS_NINF(num))</span></span>
<span id="L819" title="Line 819: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     819</span>                 :<span class="tlaCBC">            329 :             PG_RETURN_CSTRING(pstrdup(&quot;-Infinity&quot;));</span></span>
<span id="L820" title="Line 820: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     820</span>                 :                :         else</span>
<span id="L821" title="Line 821: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     821</span>                 :<span class="tlaCBC">            945 :             PG_RETURN_CSTRING(pstrdup(&quot;NaN&quot;));</span></span>
<span id="L822" title="Line 822: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     822</span>                 :                :     }</span>
<span id="L823" title="Line 823: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     823</span>                 :                : </span>
<span id="L824" title="Line 824: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">     824</span>                 :                :     /*</span>
<span id="L825" title="Line 825: commit 3cb8c8da68c0 on 2000-01-15 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     825</span>                 :                :      * Get the number in the variable format.</span>
<span id="L826" title="Line 826: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     826</span>                 :                :      */</span>
<span id="L827" title="Line 827: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L999" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">     827</span>                 :<span class="tlaCBC">         424164 :     init_var_from_num(num, &amp;x);</span></span>
<span id="L828" title="Line 828: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     828</span>                 :                : </span>
<span id="L829" title="Line 829: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">     829</span>                 :<span class="tlaCBC">         424164 :     str = get_str_from_var(&amp;x);</span></span>
<span id="L830" title="Line 830: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     830</span>                 :                : </span>
<span id="L831" title="Line 831: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us"> 9205 <a href="#L851" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">     831</span>                 :<span class="tlaCBC">         424164 :     PG_RETURN_CSTRING(str);</span></span>
<span id="L832" title="Line 832: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     832</span>                 :                : }</span>
<span id="L833" title="Line 833: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">     833</span>                 :                : </span>
<span id="L834" title="Line 834: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     834</span>                 :                : /*</span>
<span id="L835" title="Line 835: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     835</span>                 :                :  * numeric_is_nan() -</span>
<span id="L836" title="Line 836: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     836</span>                 :                :  *</span>
<span id="L837" title="Line 837: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     837</span>                 :                :  *  Is Numeric value a NaN?</span>
<span id="L838" title="Line 838: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     838</span>                 :                :  */</span>
<span id="L839" title="Line 839: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     839</span>                 :                : bool</span>
<span id="L840" title="Line 840: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org"> 5506 <a href="#L942" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">     840</span>                 :<span class="tlaCBC">           3733 : numeric_is_nan(Numeric num)</span></span>
<span id="L841" title="Line 841: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     841</span>                 :                : {</span>
<span id="L842" title="Line 842: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     842</span>                 :<span class="tlaCBC">           3733 :     return NUMERIC_IS_NAN(num);</span></span>
<span id="L843" title="Line 843: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     843</span>                 :                : }</span>
<span id="L844" title="Line 844: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     844</span>                 :                : </span>
<span id="L845" title="Line 845: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     845</span>                 :                : /*</span>
<span id="L846" title="Line 846: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     846</span>                 :                :  * numeric_is_inf() -</span>
<span id="L847" title="Line 847: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     847</span>                 :                :  *</span>
<span id="L848" title="Line 848: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     848</span>                 :                :  *  Is Numeric value an infinity?</span>
<span id="L849" title="Line 849: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     849</span>                 :                :  */</span>
<span id="L850" title="Line 850: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     850</span>                 :                : bool</span>
<span id="L851" title="Line 851: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L871" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">     851</span>                 :<span class="tlaCBC">            156 : numeric_is_inf(Numeric num)</span></span>
<span id="L852" title="Line 852: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     852</span>                 :                : {</span>
<span id="L853" title="Line 853: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     853</span>                 :<span class="tlaCBC">            156 :     return NUMERIC_IS_INF(num);</span></span>
<span id="L854" title="Line 854: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     854</span>                 :                : }</span>
<span id="L855" title="Line 855: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     855</span>                 :                : </span>
<span id="L856" title="Line 856: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     856</span>                 :                : /*</span>
<span id="L857" title="Line 857: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     857</span>                 :                :  * numeric_is_integral() -</span>
<span id="L858" title="Line 858: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     858</span>                 :                :  *</span>
<span id="L859" title="Line 859: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     859</span>                 :                :  *  Is Numeric value integral?</span>
<span id="L860" title="Line 860: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     860</span>                 :                :  */</span>
<span id="L861" title="Line 861: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     861</span>                 :                : static bool</span>
<span id="L862" title="Line 862: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     862</span>                 :<span class="tlaCBC">             33 : numeric_is_integral(Numeric num)</span></span>
<span id="L863" title="Line 863: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     863</span>                 :                : {</span>
<span id="L864" title="Line 864: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     864</span>                 :                :     NumericVar  arg;</span>
<span id="L865" title="Line 865: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     865</span>                 :                : </span>
<span id="L866" title="Line 866: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     866</span>                 :                :     /* Reject NaN, but infinities are considered integral */</span>
<span id="L867" title="Line 867: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     867</span>         [<span class="tlaCBC"> <a href="#L869" title="CBC: Branch 0 was taken 15 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L869" title="CBC: Branch 1 was taken 18 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             33 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L868" title="Line 868: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     868</span>                 :                :     {</span>
<span id="L869" title="Line 869: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     869</span>         [<span class="tlaUBC"> <a href="#L947" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L877" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             15 :         if (NUMERIC_IS_NAN(num))</span></span>
<span id="L870" title="Line 870: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L948" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L1026" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">     870</span>                 :<a href="#L948" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             return false;</span></span>
<span id="L871" title="Line 871: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L951" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L981" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">     871</span>                 :<a href="#L951" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          15 :         return true;</span></span>
<span id="L872" title="Line 872: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     872</span>                 :                :     }</span>
<span id="L873" title="Line 873: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     873</span>                 :                : </span>
<span id="L874" title="Line 874: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     874</span>                 :                :     /* Integral if there are no digits to the right of the decimal point */</span>
<span id="L875" title="Line 875: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     875</span>                 :<span class="tlaCBC">             18 :     init_var_from_num(num, &amp;arg);</span></span>
<span id="L876" title="Line 876: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     876</span>                 :                : </span>
<span id="L877" title="Line 877: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     877</span>   [<span class="tlaCBC"> <a href="#L947" title="CBC: Branch 0 was taken 15 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L947" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L947" title="CBC: Branch 2 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L947" title="CBC: Branch 3 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :     return (arg.ndigits == 0 || arg.ndigits &lt;= arg.weight + 1);</span></span>
<span id="L878" title="Line 878: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     878</span>                 :                : }</span>
<span id="L879" title="Line 879: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     879</span>                 :                : </span>
<span id="L880" title="Line 880: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     880</span>                 :                : /*</span>
<span id="L881" title="Line 881: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     881</span>                 :                :  * make_numeric_typmod() -</span>
<span id="L882" title="Line 882: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     882</span>                 :                :  *</span>
<span id="L883" title="Line 883: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     883</span>                 :                :  *  Pack numeric precision and scale values into a typmod.  The upper 16 bits</span>
<span id="L884" title="Line 884: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     884</span>                 :                :  *  are used for the precision (though actually not all these bits are needed,</span>
<span id="L885" title="Line 885: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     885</span>                 :                :  *  since the maximum allowed precision is 1000).  The lower 16 bits are for</span>
<span id="L886" title="Line 886: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     886</span>                 :                :  *  the scale, but since the scale is constrained to the range [-1000, 1000],</span>
<span id="L887" title="Line 887: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     887</span>                 :                :  *  we use just the lower 11 of those 16 bits, and leave the remaining 5 bits</span>
<span id="L888" title="Line 888: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     888</span>                 :                :  *  unset, for possible future use.</span>
<span id="L889" title="Line 889: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     889</span>                 :                :  *</span>
<span id="L890" title="Line 890: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     890</span>                 :                :  *  For purely historical reasons VARHDRSZ is then added to the result, thus</span>
<span id="L891" title="Line 891: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     891</span>                 :                :  *  the unused space in the upper 16 bits is not all as freely available as it</span>
<span id="L892" title="Line 892: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     892</span>                 :                :  *  might seem.  (We can't let the result overflow to a negative int32, as</span>
<span id="L893" title="Line 893: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     893</span>                 :                :  *  other parts of the system would interpret that as not-a-valid-typmod.)</span>
<span id="L894" title="Line 894: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     894</span>                 :                :  */</span>
<span id="L895" title="Line 895: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     895</span>                 :                : static inline int32</span>
<span id="L896" title="Line 896: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> 1492 <a href="#L947" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">     896</span>                 :<span class="tlaCBC">            939 : make_numeric_typmod(int precision, int scale)</span></span>
<span id="L897" title="Line 897: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     897</span>                 :                : {</span>
<span id="L898" title="Line 898: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     898</span>                 :<span class="tlaCBC">            939 :     return ((precision &lt;&lt; 16) | (scale &amp; 0x7ff)) + VARHDRSZ;</span></span>
<span id="L899" title="Line 899: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     899</span>                 :                : }</span>
<span id="L900" title="Line 900: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     900</span>                 :                : </span>
<span id="L901" title="Line 901: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     901</span>                 :                : /*</span>
<span id="L902" title="Line 902: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     902</span>                 :                :  * Because of the offset, valid numeric typmods are at least VARHDRSZ</span>
<span id="L903" title="Line 903: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     903</span>                 :                :  */</span>
<span id="L904" title="Line 904: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     904</span>                 :                : static inline bool</span>
<span id="L905" title="Line 905: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     905</span>                 :<span class="tlaCBC">          93498 : is_valid_numeric_typmod(int32 typmod)</span></span>
<span id="L906" title="Line 906: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     906</span>                 :                : {</span>
<span id="L907" title="Line 907: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     907</span>                 :<span class="tlaCBC">          93498 :     return typmod &gt;= (int32) VARHDRSZ;</span></span>
<span id="L908" title="Line 908: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     908</span>                 :                : }</span>
<span id="L909" title="Line 909: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     909</span>                 :                : </span>
<span id="L910" title="Line 910: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     910</span>                 :                : /*</span>
<span id="L911" title="Line 911: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     911</span>                 :                :  * numeric_typmod_precision() -</span>
<span id="L912" title="Line 912: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     912</span>                 :                :  *</span>
<span id="L913" title="Line 913: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     913</span>                 :                :  *  Extract the precision from a numeric typmod --- see make_numeric_typmod().</span>
<span id="L914" title="Line 914: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     914</span>                 :                :  */</span>
<span id="L915" title="Line 915: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     915</span>                 :                : static inline int</span>
<span id="L916" title="Line 916: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     916</span>                 :<span class="tlaCBC">          24268 : numeric_typmod_precision(int32 typmod)</span></span>
<span id="L917" title="Line 917: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     917</span>                 :                : {</span>
<span id="L918" title="Line 918: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     918</span>                 :<span class="tlaCBC">          24268 :     return ((typmod - VARHDRSZ) &gt;&gt; 16) &amp; 0xffff;</span></span>
<span id="L919" title="Line 919: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     919</span>                 :                : }</span>
<span id="L920" title="Line 920: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     920</span>                 :                : </span>
<span id="L921" title="Line 921: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     921</span>                 :                : /*</span>
<span id="L922" title="Line 922: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     922</span>                 :                :  * numeric_typmod_scale() -</span>
<span id="L923" title="Line 923: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     923</span>                 :                :  *</span>
<span id="L924" title="Line 924: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     924</span>                 :                :  *  Extract the scale from a numeric typmod --- see make_numeric_typmod().</span>
<span id="L925" title="Line 925: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     925</span>                 :                :  *</span>
<span id="L926" title="Line 926: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     926</span>                 :                :  *  Note that the scale may be negative, so we must do sign extension when</span>
<span id="L927" title="Line 927: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     927</span>                 :                :  *  unpacking it.  We do this using the bit hack (x^1024)-1024, which sign</span>
<span id="L928" title="Line 928: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     928</span>                 :                :  *  extends an 11-bit two's complement number x.</span>
<span id="L929" title="Line 929: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     929</span>                 :                :  */</span>
<span id="L930" title="Line 930: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     930</span>                 :                : static inline int</span>
<span id="L931" title="Line 931: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     931</span>                 :<span class="tlaCBC">          20744 : numeric_typmod_scale(int32 typmod)</span></span>
<span id="L932" title="Line 932: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     932</span>                 :                : {</span>
<span id="L933" title="Line 933: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     933</span>                 :<span class="tlaCBC">          20744 :     return (((typmod - VARHDRSZ) &amp; 0x7ff) ^ 1024) - 1024;</span></span>
<span id="L934" title="Line 934: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     934</span>                 :                : }</span>
<span id="L935" title="Line 935: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">     935</span>                 :                : </span>
<span id="L936" title="Line 936: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     936</span>                 :                : /*</span>
<span id="L937" title="Line 937: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     937</span>                 :                :  * numeric_maximum_size() -</span>
<span id="L938" title="Line 938: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     938</span>                 :                :  *</span>
<span id="L939" title="Line 939: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     939</span>                 :                :  *  Maximum size of a numeric with given typmod, or -1 if unlimited/unknown.</span>
<span id="L940" title="Line 940: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     940</span>                 :                :  */</span>
<span id="L941" title="Line 941: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     941</span>                 :                : int32</span>
<span id="L942" title="Line 942: commit 97f38001acc6 on 2010-08-04 by rhaas@postgresql.org"> 5501 <a href="#L963" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">     942</span>                 :<span class="tlaCBC">           3524 : numeric_maximum_size(int32 typmod)</span></span>
<span id="L943" title="Line 943: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     943</span>                 :                : {</span>
<span id="L944" title="Line 944: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     944</span>                 :                :     int         precision;</span>
<span id="L945" title="Line 945: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     945</span>                 :                :     int         numeric_digits;</span>
<span id="L946" title="Line 946: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     946</span>                 :                : </span>
<span id="L947" title="Line 947: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> 1492 <a href="#L951" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">     947</span>         [<span class="tlaUBC"> <a href="#L1024" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L989" title="CBC: Branch 1 was taken 3524 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3524 :     if (!is_valid_numeric_typmod(typmod))</span></span>
<span id="L948" title="Line 948: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 5506 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L1026" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">5506</a> <a href="#L1292" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">     948</span>                 :<a href="#L1026" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         return -1;</span></span>
<span id="L949" title="Line 949: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     949</span>                 :                : </span>
<span id="L950" title="Line 950: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     950</span>                 :                :     /* precision (ie, max # of digits) is in upper bits of typmod */</span>
<span id="L951" title="Line 951: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> <a href="#L1034" title="next CBC in &ldquo;(360..) days&rdquo; bin">1492</a> <a href="#L1205" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">     951</span>                 :<a href="#L1034" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        3524 :     precision = numeric_typmod_precision(typmod);</span></span>
<span id="L952" title="Line 952: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     952</span>                 :                : </span>
<span id="L953" title="Line 953: commit 97f38001acc6 on 2010-08-04 by rhaas@postgresql.org">                           <span class="lineNum">     953</span>                 :                :     /*</span>
<span id="L954" title="Line 954: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     954</span>                 :                :      * This formula computes the maximum number of NumericDigits we could need</span>
<span id="L955" title="Line 955: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     955</span>                 :                :      * in order to store the specified number of decimal digits. Because the</span>
<span id="L956" title="Line 956: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     956</span>                 :                :      * weight is stored as a number of NumericDigits rather than a number of</span>
<span id="L957" title="Line 957: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     957</span>                 :                :      * decimal digits, it's possible that the first NumericDigit will contain</span>
<span id="L958" title="Line 958: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     958</span>                 :                :      * only a single decimal digit.  Thus, the first two decimal digits can</span>
<span id="L959" title="Line 959: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     959</span>                 :                :      * require two NumericDigits to store, but it isn't until we reach</span>
<span id="L960" title="Line 960: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     960</span>                 :                :      * DEC_DIGITS + 2 decimal digits that we potentially need a third</span>
<span id="L961" title="Line 961: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     961</span>                 :                :      * NumericDigit.</span>
<span id="L962" title="Line 962: commit 97f38001acc6 on 2010-08-04 by rhaas@postgresql.org">                           <span class="lineNum">     962</span>                 :                :      */</span>
<span id="L963" title="Line 963: commit 97f38001acc6 on 2010-08-04 by rhaas@postgresql.org"> 5501 <a href="#L1188" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">     963</span>                 :<span class="tlaCBC">           3524 :     numeric_digits = (precision + 2 * (DEC_DIGITS - 1)) / DEC_DIGITS;</span></span>
<span id="L964" title="Line 964: commit 97f38001acc6 on 2010-08-04 by rhaas@postgresql.org">                           <span class="lineNum">     964</span>                 :                : </span>
<span id="L965" title="Line 965: commit 97f38001acc6 on 2010-08-04 by rhaas@postgresql.org">                           <span class="lineNum">     965</span>                 :                :     /*</span>
<span id="L966" title="Line 966: commit 97f38001acc6 on 2010-08-04 by rhaas@postgresql.org">                           <span class="lineNum">     966</span>                 :                :      * In most cases, the size of a numeric will be smaller than the value</span>
<span id="L967" title="Line 967: commit 97f38001acc6 on 2010-08-04 by rhaas@postgresql.org">                           <span class="lineNum">     967</span>                 :                :      * computed below, because the varlena header will typically get toasted</span>
<span id="L968" title="Line 968: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     968</span>                 :                :      * down to a single byte before being stored on disk, and it may also be</span>
<span id="L969" title="Line 969: commit 0a7832005792 on 2014-05-06 by bruce@momjian.us">                           <span class="lineNum">     969</span>                 :                :      * possible to use a short numeric header.  But our job here is to compute</span>
<span id="L970" title="Line 970: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">     970</span>                 :                :      * the worst case.</span>
<span id="L971" title="Line 971: commit 97f38001acc6 on 2010-08-04 by rhaas@postgresql.org">                           <span class="lineNum">     971</span>                 :                :      */</span>
<span id="L972" title="Line 972: commit 97f38001acc6 on 2010-08-04 by rhaas@postgresql.org">                           <span class="lineNum">     972</span>                 :<span class="tlaCBC">           3524 :     return NUMERIC_HDRSZ + (numeric_digits * sizeof(NumericDigit));</span></span>
<span id="L973" title="Line 973: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     973</span>                 :                : }</span>
<span id="L974" title="Line 974: commit 8a4dc94ca0ef on 2010-07-30 by rhaas@postgresql.org">                           <span class="lineNum">     974</span>                 :                : </span>
<span id="L975" title="Line 975: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     975</span>                 :                : /*</span>
<span id="L976" title="Line 976: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     976</span>                 :                :  * numeric_out_sci() -</span>
<span id="L977" title="Line 977: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     977</span>                 :                :  *</span>
<span id="L978" title="Line 978: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     978</span>                 :                :  *  Output function for numeric data type in scientific notation.</span>
<span id="L979" title="Line 979: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     979</span>                 :                :  */</span>
<span id="L980" title="Line 980: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     980</span>                 :                : char *</span>
<span id="L981" title="Line 981: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us"> 5860 <a href="#L1001" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">     981</span>                 :<span class="tlaCBC">            123 : numeric_out_sci(Numeric num, int scale)</span></span>
<span id="L982" title="Line 982: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     982</span>                 :                : {</span>
<span id="L983" title="Line 983: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     983</span>                 :                :     NumericVar  x;</span>
<span id="L984" title="Line 984: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     984</span>                 :                :     char       *str;</span>
<span id="L985" title="Line 985: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     985</span>                 :                : </span>
<span id="L986" title="Line 986: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     986</span>                 :                :     /*</span>
<span id="L987" title="Line 987: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     987</span>                 :                :      * Handle NaN and infinities</span>
<span id="L988" title="Line 988: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     988</span>                 :                :      */</span>
<span id="L989" title="Line 989: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">     989</span>         [<span class="tlaCBC"> <a href="#L991" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L991" title="CBC: Branch 1 was taken 114 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            123 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L990" title="Line 990: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     990</span>                 :                :     {</span>
<span id="L991" title="Line 991: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     991</span>         [<span class="tlaCBC"> <a href="#L993" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L993" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :         if (NUMERIC_IS_PINF(num))</span></span>
<span id="L992" title="Line 992: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     992</span>                 :<span class="tlaCBC">              3 :             return pstrdup(&quot;Infinity&quot;);</span></span>
<span id="L993" title="Line 993: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     993</span>         [<span class="tlaCBC"> <a href="#L1024" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1024" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              6 :         else if (NUMERIC_IS_NINF(num))</span></span>
<span id="L994" title="Line 994: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     994</span>                 :<span class="tlaCBC">              3 :             return pstrdup(&quot;-Infinity&quot;);</span></span>
<span id="L995" title="Line 995: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     995</span>                 :                :         else</span>
<span id="L996" title="Line 996: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     996</span>                 :<span class="tlaCBC">              3 :             return pstrdup(&quot;NaN&quot;);</span></span>
<span id="L997" title="Line 997: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     997</span>                 :                :     }</span>
<span id="L998" title="Line 998: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">     998</span>                 :                : </span>
<span id="L999" title="Line 999: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L1159" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">     999</span>                 :<span class="tlaCBC">            114 :     init_var_from_num(num, &amp;x);</span></span>
<span id="L1000" title="Line 1000: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1000</span>                 :                : </span>
<span id="L1001" title="Line 1001: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us"> 5860 <a href="#L1024" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1001</span>                 :<span class="tlaCBC">            114 :     str = get_str_from_var_sci(&amp;x, scale);</span></span>
<span id="L1002" title="Line 1002: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1002</span>                 :                : </span>
<span id="L1003" title="Line 1003: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1003</span>                 :<span class="tlaCBC">            114 :     return str;</span></span>
<span id="L1004" title="Line 1004: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1004</span>                 :                : }</span>
<span id="L1005" title="Line 1005: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1005</span>                 :                : </span>
<span id="L1006" title="Line 1006: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1006</span>                 :                : /*</span>
<span id="L1007" title="Line 1007: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1007</span>                 :                :  * numeric_normalize() -</span>
<span id="L1008" title="Line 1008: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1008</span>                 :                :  *</span>
<span id="L1009" title="Line 1009: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1009</span>                 :                :  *  Output function for numeric data type, suppressing insignificant trailing</span>
<span id="L1010" title="Line 1010: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1010</span>                 :                :  *  zeroes and then any trailing decimal point.  The intent of this is to</span>
<span id="L1011" title="Line 1011: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1011</span>                 :                :  *  produce strings that are equal if and only if the input numeric values</span>
<span id="L1012" title="Line 1012: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1012</span>                 :                :  *  compare equal.</span>
<span id="L1013" title="Line 1013: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1013</span>                 :                :  */</span>
<span id="L1014" title="Line 1014: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1014</span>                 :                : char *</span>
<span id="L1015" title="Line 1015: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net"> 4174 <a href="#L1034" title="next CBC in &ldquo;andrew@dunslane.net&rdquo; bin">andrew@dunslane.net</a>  <span class="lineNum">    1015</span>                 :<span class="tlaCBC">          19551 : numeric_normalize(Numeric num)</span></span>
<span id="L1016" title="Line 1016: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1016</span>                 :                : {</span>
<span id="L1017" title="Line 1017: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1017</span>                 :                :     NumericVar  x;</span>
<span id="L1018" title="Line 1018: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1018</span>                 :                :     char       *str;</span>
<span id="L1019" title="Line 1019: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1019</span>                 :                :     int         last;</span>
<span id="L1020" title="Line 1020: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1020</span>                 :                : </span>
<span id="L1021" title="Line 1021: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1021</span>                 :                :     /*</span>
<span id="L1022" title="Line 1022: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1022</span>                 :                :      * Handle NaN and infinities</span>
<span id="L1023" title="Line 1023: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1023</span>                 :                :      */</span>
<span id="L1024" title="Line 1024: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L1039" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1024</span>         [<span class="tlaUBC"> <a href="#L1026" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1039" title="CBC: Branch 1 was taken 19551 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          19551 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L1025" title="Line 1025: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1025</span>                 :                :     {</span>
<span id="L1026" title="Line 1026: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L1091" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L1091" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    1026</span>         [<span class="tlaUBC"> <a href="#L1028" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1028" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L1091" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         if (NUMERIC_IS_PINF(num))</span></span>
<span id="L1027" title="Line 1027: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    1027</span>                 :<span class="tlaUBC">              0 :             return pstrdup(&quot;Infinity&quot;);</span></span>
<span id="L1028" title="Line 1028: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    1028</span>         [<span class="tlaUBC"> <a href="#L1050" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1050" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :         else if (NUMERIC_IS_NINF(num))</span></span>
<span id="L1029" title="Line 1029: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    1029</span>                 :<span class="tlaUBC">              0 :             return pstrdup(&quot;-Infinity&quot;);</span></span>
<span id="L1030" title="Line 1030: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1030</span>                 :                :         else</span>
<span id="L1031" title="Line 1031: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    1031</span>                 :<span class="tlaUBC">              0 :             return pstrdup(&quot;NaN&quot;);</span></span>
<span id="L1032" title="Line 1032: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1032</span>                 :                :     }</span>
<span id="L1033" title="Line 1033: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1033</span>                 :                : </span>
<span id="L1034" title="Line 1034: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net"> <a href="#L1099" title="next CBC in &ldquo;(360..) days&rdquo; bin">4174</a> <a href="#L1057" title="next CBC in &ldquo;andrew@dunslane.net&rdquo; bin">andrew@dunslane.net</a>  <span class="lineNum">    1034</span>                 :<a href="#L1099" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">       19551 :     init_var_from_num(num, &amp;x);</span></span>
<span id="L1035" title="Line 1035: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1035</span>                 :                : </span>
<span id="L1036" title="Line 1036: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1036</span>                 :<span class="tlaCBC">          19551 :     str = get_str_from_var(&amp;x);</span></span>
<span id="L1037" title="Line 1037: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1037</span>                 :                : </span>
<span id="L1038" title="Line 1038: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1038</span>                 :                :     /* If there's no decimal point, there's certainly nothing to remove. */</span>
<span id="L1039" title="Line 1039: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us"> 3946 <a href="#L1067" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1039</span>         [<span class="tlaCBC"> <a href="#L1046" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1046" title="CBC: Branch 1 was taken 19530 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          19551 :     if (strchr(str, '.') != NULL)</span></span>
<span id="L1040" title="Line 1040: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1040</span>                 :                :     {</span>
<span id="L1041" title="Line 1041: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1041</span>                 :                :         /*</span>
<span id="L1042" title="Line 1042: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1042</span>                 :                :          * Back up over trailing fractional zeroes.  Since there is a decimal</span>
<span id="L1043" title="Line 1043: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1043</span>                 :                :          * point, this loop will terminate safely.</span>
<span id="L1044" title="Line 1044: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1044</span>                 :                :          */</span>
<span id="L1045" title="Line 1045: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1045</span>                 :<span class="tlaCBC">             21 :         last = strlen(str) - 1;</span></span>
<span id="L1046" title="Line 1046: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1046</span>         [<span class="tlaCBC"> <a href="#L1050" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1050" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             42 :         while (str[last] == '0')</span></span>
<span id="L1047" title="Line 1047: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1047</span>                 :<span class="tlaCBC">             21 :             last--;</span></span>
<span id="L1048" title="Line 1048: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1048</span>                 :                : </span>
<span id="L1049" title="Line 1049: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1049</span>                 :                :         /* We want to get rid of the decimal point too, if it's now last. */</span>
<span id="L1050" title="Line 1050: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1050</span>         [<span class="tlaCBC"> <a href="#L1090" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1090" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             21 :         if (str[last] == '.')</span></span>
<span id="L1051" title="Line 1051: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1051</span>                 :<span class="tlaCBC">             21 :             last--;</span></span>
<span id="L1052" title="Line 1052: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1052</span>                 :                : </span>
<span id="L1053" title="Line 1053: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1053</span>                 :                :         /* Delete whatever we backed up over. */</span>
<span id="L1054" title="Line 1054: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1054</span>                 :<span class="tlaCBC">             21 :         str[last + 1] = '\0';</span></span>
<span id="L1055" title="Line 1055: commit 4875931938b2 on 2014-11-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1055</span>                 :                :     }</span>
<span id="L1056" title="Line 1056: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1056</span>                 :                : </span>
<span id="L1057" title="Line 1057: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net"> 4174 <a href="#top" title="next CBC in &ldquo;andrew@dunslane.net&rdquo; bin">andrew@dunslane.net</a>  <span class="lineNum">    1057</span>                 :<span class="tlaCBC">          19551 :     return str;</span></span>
<span id="L1058" title="Line 1058: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1058</span>                 :                : }</span>
<span id="L1059" title="Line 1059: commit d9134d0a355c on 2014-03-23 by andrew@dunslane.net">                           <span class="lineNum">    1059</span>                 :                : </span>
<span id="L1060" title="Line 1060: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1060</span>                 :                : /*</span>
<span id="L1061" title="Line 1061: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1061</span>                 :                :  *      numeric_recv            - converts external binary format to numeric</span>
<span id="L1062" title="Line 1062: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1062</span>                 :                :  *</span>
<span id="L1063" title="Line 1063: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1063</span>                 :                :  * External format is a sequence of int16's:</span>
<span id="L1064" title="Line 1064: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1064</span>                 :                :  * ndigits, weight, sign, dscale, NumericDigits.</span>
<span id="L1065" title="Line 1065: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1065</span>                 :                :  */</span>
<span id="L1066" title="Line 1066: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1066</span>                 :                : Datum</span>
<span id="L1067" title="Line 1067: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us"> 8142 <a href="#L1099" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1067</span>                 :<span class="tlaCBC">             51 : numeric_recv(PG_FUNCTION_ARGS)</span></span>
<span id="L1068" title="Line 1068: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1068</span>                 :                : {</span>
<span id="L1069" title="Line 1069: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1069</span>                 :<span class="tlaCBC">             51 :     StringInfo  buf = (StringInfo) PG_GETARG_POINTER(0);</span></span>
<span id="L1070" title="Line 1070: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    1070</span>                 :                : </span>
<span id="L1071" title="Line 1071: commit d78397d30117 on 2005-07-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1071</span>                 :                : #ifdef NOT_USED</span>
<span id="L1072" title="Line 1072: commit d78397d30117 on 2005-07-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1072</span>                 :                :     Oid         typelem = PG_GETARG_OID(1);</span>
<span id="L1073" title="Line 1073: commit d78397d30117 on 2005-07-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1073</span>                 :                : #endif</span>
<span id="L1074" title="Line 1074: commit d78397d30117 on 2005-07-10 by tgl@sss.pgh.pa.us"> 7352                      <span class="lineNum">    1074</span>                 :<span class="tlaCBC">             51 :     int32       typmod = PG_GETARG_INT32(2);</span></span>
<span id="L1075" title="Line 1075: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1075</span>                 :                :     NumericVar  value;</span>
<span id="L1076" title="Line 1076: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1076</span>                 :                :     Numeric     res;</span>
<span id="L1077" title="Line 1077: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1077</span>                 :                :     int         len,</span>
<span id="L1078" title="Line 1078: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1078</span>                 :                :                 i;</span>
<span id="L1079" title="Line 1079: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1079</span>                 :                : </span>
<span id="L1080" title="Line 1080: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us"> 8142                      <span class="lineNum">    1080</span>                 :<span class="tlaCBC">             51 :     init_var(&amp;value);</span></span>
<span id="L1081" title="Line 1081: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1081</span>                 :                : </span>
<span id="L1082" title="Line 1082: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1082</span>                 :<span class="tlaCBC">             51 :     len = (uint16) pq_getmsgint(buf, sizeof(uint16));</span></span>
<span id="L1083" title="Line 1083: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1083</span>                 :                : </span>
<span id="L1084" title="Line 1084: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1084</span>                 :<span class="tlaCBC">             51 :     alloc_var(&amp;value, len);</span></span>
<span id="L1085" title="Line 1085: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1085</span>                 :                : </span>
<span id="L1086" title="Line 1086: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1086</span>                 :<span class="tlaCBC">             51 :     value.weight = (int16) pq_getmsgint(buf, sizeof(int16));</span></span>
<span id="L1087" title="Line 1087: commit 0927bf8060ec on 2014-12-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1087</span>                 :                :     /* we allow any int16 for weight --- OK? */</span>
<span id="L1088" title="Line 1088: commit 0927bf8060ec on 2014-12-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1088</span>                 :                : </span>
<span id="L1089" title="Line 1089: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1089</span>                 :<span class="tlaCBC">             51 :     value.sign = (uint16) pq_getmsgint(buf, sizeof(uint16));</span></span>
<span id="L1090" title="Line 1090: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1090</span>         [<span class="tlaUBC"> <a href="#L1091" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1100" title="CBC: Branch 1 was taken 51 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             51 :     if (!(value.sign == NUMERIC_POS ||</span></span>
<span id="L1091" title="Line 1091: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 8142 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L1101" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">8142</a> </span><a href="#L1101" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 8142 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    1091</span>         [<span class="tlaUBC"> <a href="#L1092" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1092" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L1101" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :           value.sign == NUMERIC_NEG ||</span></span>
<span id="L1092" title="Line 1092: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC"> 1861                     </span> <span class="lineNum">    1092</span>         [<span class="tlaUBC"> <a href="#L1093" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1093" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :           value.sign == NUMERIC_NAN ||</span></span>
<span id="L1093" title="Line 1093: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    1093</span>         [<span class="tlaUBC"> <a href="#L1094" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1094" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :           value.sign == NUMERIC_PINF ||</span></span>
<span id="L1094" title="Line 1094: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    1094</span>         [<span class="tlaUBC"> <a href="#L1095" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1095" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :           value.sign == NUMERIC_NINF))</span></span>
<span id="L1095" title="Line 1095: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 8066 days ago (bin 4: (360..) days)" class="tlaUBC"> 8066                     </span> <span class="lineNum">    1095</span>         [<span class="tlaUBC"> <a href="#L1100" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1100" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :         ereport(ERROR,</span></span>
<span id="L1096" title="Line 1096: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1096</span>                 :                :                 (errcode(ERRCODE_INVALID_BINARY_REPRESENTATION),</span>
<span id="L1097" title="Line 1097: commit 7438af96fa6e on 2003-09-29 by peter_e@gmx.net">                           <span class="lineNum">    1097</span>                 :                :                  errmsg(&quot;invalid sign in external \&quot;numeric\&quot; value&quot;)));</span>
<span id="L1098" title="Line 1098: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1098</span>                 :                : </span>
<span id="L1099" title="Line 1099: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us"> <a href="#L1105" title="next CBC in &ldquo;(360..) days&rdquo; bin">8142</a> <a href="#L1105" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1099</span>                 :<a href="#L1105" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          51 :     value.dscale = (uint16) pq_getmsgint(buf, sizeof(uint16));</span></span>
<span id="L1100" title="Line 1100: commit 0927bf8060ec on 2014-12-01 by tgl@sss.pgh.pa.us"> 3921                      <span class="lineNum">    1100</span>         [<span class="tlaUBC"> <a href="#L1101" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1105" title="CBC: Branch 1 was taken 51 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             51 :     if ((value.dscale &amp; NUMERIC_DSCALE_MASK) != value.dscale)</span></span>
<span id="L1101" title="Line 1101: commit 0927bf8060ec on 2014-12-01 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 3921 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L1110" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3921</a> </span><a href="#L1110" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 3921 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    1101</span>         [<span class="tlaUBC"> <a href="#L1109" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1109" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L1110" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         ereport(ERROR,</span></span>
<span id="L1102" title="Line 1102: commit 0927bf8060ec on 2014-12-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1102</span>                 :                :                 (errcode(ERRCODE_INVALID_BINARY_REPRESENTATION),</span>
<span id="L1103" title="Line 1103: commit 0927bf8060ec on 2014-12-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1103</span>                 :                :                  errmsg(&quot;invalid scale in external \&quot;numeric\&quot; value&quot;)));</span>
<span id="L1104" title="Line 1104: commit 0927bf8060ec on 2014-12-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1104</span>                 :                : </span>
<span id="L1105" title="Line 1105: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us"> <a href="#L1113" title="next CBC in &ldquo;(360..) days&rdquo; bin">8142</a> <a href="#L1109" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1105</span>         [<span class="tlaCBC"> <a href="#L1109" title="CBC: Branch 0 was taken 86 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1109" title="CBC: Branch 1 was taken 51 times" class="branchTla">+</a> </span>]:<a href="#L1113" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         137 :     for (i = 0; i &lt; len; i++)</span></span>
<span id="L1106" title="Line 1106: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1106</span>                 :                :     {</span>
<span id="L1107" title="Line 1107: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> 8058 <a href="#L1235" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    1107</span>                 :<span class="tlaCBC">             86 :         NumericDigit d = pq_getmsgint(buf, sizeof(NumericDigit));</span></span>
<span id="L1108" title="Line 1108: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1108</span>                 :                : </span>
<span id="L1109" title="Line 1109: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us"> 8142 <a href="#L1113" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1109</span>   [<span class="tlaCBC"> <a href="#L1126" title="CBC: Branch 0 was taken 86 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1110" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L1110" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1126" title="CBC: Branch 3 was taken 86 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             86 :         if (d &lt; 0 || d &gt;= NBASE)</span></span>
<span id="L1110" title="Line 1110: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 8066 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L1127" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">8066</a> </span><a href="#L1127" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 8066 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    1110</span>         [<span class="tlaUBC"> <a href="#L1126" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1126" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L1127" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             ereport(ERROR,</span></span>
<span id="L1111" title="Line 1111: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1111</span>                 :                :                     (errcode(ERRCODE_INVALID_BINARY_REPRESENTATION),</span>
<span id="L1112" title="Line 1112: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    1112</span>                 :                :                      errmsg(&quot;invalid digit in external \&quot;numeric\&quot; value&quot;)));</span>
<span id="L1113" title="Line 1113: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us"> <a href="#L1129" title="next CBC in &ldquo;(360..) days&rdquo; bin">8142</a> <a href="#L1129" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1113</span>                 :<a href="#L1129" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          86 :         value.digits[i] = d;</span></span>
<span id="L1114" title="Line 1114: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1114</span>                 :                :     }</span>
<span id="L1115" title="Line 1115: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1115</span>                 :                : </span>
<span id="L1116" title="Line 1116: commit 0927bf8060ec on 2014-12-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1116</span>                 :                :     /*</span>
<span id="L1117" title="Line 1117: commit 0927bf8060ec on 2014-12-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1117</span>                 :                :      * If the given dscale would hide any digits, truncate those digits away.</span>
<span id="L1118" title="Line 1118: commit 0927bf8060ec on 2014-12-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1118</span>                 :                :      * We could alternatively throw an error, but that would take a bunch of</span>
<span id="L1119" title="Line 1119: commit 0927bf8060ec on 2014-12-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1119</span>                 :                :      * extra code (about as much as trunc_var involves), and it might cause</span>
<span id="L1120" title="Line 1120: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1120</span>                 :                :      * client compatibility issues.  Be careful not to apply trunc_var to</span>
<span id="L1121" title="Line 1121: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1121</span>                 :                :      * special values, as it could do the wrong thing; we don't need it</span>
<span id="L1122" title="Line 1122: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1122</span>                 :                :      * anyway, since make_result will ignore all but the sign field.</span>
<span id="L1123" title="Line 1123: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1123</span>                 :                :      *</span>
<span id="L1124" title="Line 1124: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1124</span>                 :                :      * After doing that, be sure to check the typmod restriction.</span>
<span id="L1125" title="Line 1125: commit 0927bf8060ec on 2014-12-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1125</span>                 :                :      */</span>
<span id="L1126" title="Line 1126: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    1126</span>         [<span class="tlaUBC"> <a href="#L1127" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1167" title="CBC: Branch 1 was taken 51 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             51 :     if (value.sign == NUMERIC_POS ||</span></span>
<span id="L1127" title="Line 1127: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L1138" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L1138" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    1127</span>         [<span class="tlaUBC"> <a href="#L1196" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1196" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L1138" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         value.sign == NUMERIC_NEG)</span></span>
<span id="L1128" title="Line 1128: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1128</span>                 :                :     {</span>
<span id="L1129" title="Line 1129: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L1143" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L1143" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1129</span>                 :<a href="#L1143" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          51 :         trunc_var(&amp;value, value.dscale);</span></span>
<span id="L1130" title="Line 1130: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1130</span>                 :                : </span>
<span id="L1131" title="Line 1131: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">  991                      <span class="lineNum">    1131</span>                 :<span class="tlaCBC">             51 :         (void) apply_typmod(&amp;value, typmod, NULL);</span></span>
<span id="L1132" title="Line 1132: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1132</span>                 :                : </span>
<span id="L1133" title="Line 1133: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    1133</span>                 :<span class="tlaCBC">             51 :         res = make_result(&amp;value);</span></span>
<span id="L1134" title="Line 1134: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1134</span>                 :                :     }</span>
<span id="L1135" title="Line 1135: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1135</span>                 :                :     else</span>
<span id="L1136" title="Line 1136: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1136</span>                 :                :     {</span>
<span id="L1137" title="Line 1137: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1137</span>                 :                :         /* apply_typmod_special wants us to make the Numeric first */</span>
<span id="L1138" title="Line 1138: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L1262" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L1262" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    1138</span>                 :<a href="#L1262" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         res = make_result(&amp;value);</span></span>
<span id="L1139" title="Line 1139: commit 0927bf8060ec on 2014-12-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1139</span>                 :                : </span>
<span id="L1140" title="Line 1140: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 991 days ago (bin 4: (360..) days)" class="tlaUBC">  991                     </span> <span class="lineNum">    1140</span>                 :<span class="tlaUBC">              0 :         (void) apply_typmod_special(res, typmod, NULL);</span></span>
<span id="L1141" title="Line 1141: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1141</span>                 :                :     }</span>
<span id="L1142" title="Line 1142: commit d78397d30117 on 2005-07-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1142</span>                 :                : </span>
<span id="L1143" title="Line 1143: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us"> <a href="#L1267" title="next CBC in &ldquo;(360..) days&rdquo; bin">8142</a> <a href="#L1161" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1143</span>                 :<a href="#L1267" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          51 :     free_var(&amp;value);</span></span>
<span id="L1144" title="Line 1144: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1144</span>                 :                : </span>
<span id="L1145" title="Line 1145: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1145</span>                 :<span class="tlaCBC">             51 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L1146" title="Line 1146: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1146</span>                 :                : }</span>
<span id="L1147" title="Line 1147: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1147</span>                 :                : </span>
<span id="L1148" title="Line 1148: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1148</span>                 :                : /*</span>
<span id="L1149" title="Line 1149: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1149</span>                 :                :  *      numeric_send            - converts numeric to binary format</span>
<span id="L1150" title="Line 1150: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1150</span>                 :                :  */</span>
<span id="L1151" title="Line 1151: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1151</span>                 :                : Datum</span>
<span id="L1152" title="Line 1152: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1152</span>                 :<span class="tlaCBC">             35 : numeric_send(PG_FUNCTION_ARGS)</span></span>
<span id="L1153" title="Line 1153: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1153</span>                 :                : {</span>
<span id="L1154" title="Line 1154: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1154</span>                 :<span class="tlaCBC">             35 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L1155" title="Line 1155: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1155</span>                 :                :     NumericVar  x;</span>
<span id="L1156" title="Line 1156: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1156</span>                 :                :     StringInfoData buf;</span>
<span id="L1157" title="Line 1157: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1157</span>                 :                :     int         i;</span>
<span id="L1158" title="Line 1158: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1158</span>                 :                : </span>
<span id="L1159" title="Line 1159: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L1648" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    1159</span>                 :<span class="tlaCBC">             35 :     init_var_from_num(num, &amp;x);</span></span>
<span id="L1160" title="Line 1160: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1160</span>                 :                : </span>
<span id="L1161" title="Line 1161: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us"> 8142 <a href="#L1167" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1161</span>                 :<span class="tlaCBC">             35 :     pq_begintypsend(&amp;buf);</span></span>
<span id="L1162" title="Line 1162: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1162</span>                 :                : </span>
<span id="L1163" title="Line 1163: commit 31079a4a8e66 on 2017-10-11 by andres@anarazel.de"> 2876 <a href="#L1168" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    1163</span>                 :<span class="tlaCBC">             35 :     pq_sendint16(&amp;buf, x.ndigits);</span></span>
<span id="L1164" title="Line 1164: commit 31079a4a8e66 on 2017-10-11 by andres@anarazel.de">                           <span class="lineNum">    1164</span>                 :<span class="tlaCBC">             35 :     pq_sendint16(&amp;buf, x.weight);</span></span>
<span id="L1165" title="Line 1165: commit 31079a4a8e66 on 2017-10-11 by andres@anarazel.de">                           <span class="lineNum">    1165</span>                 :<span class="tlaCBC">             35 :     pq_sendint16(&amp;buf, x.sign);</span></span>
<span id="L1166" title="Line 1166: commit 31079a4a8e66 on 2017-10-11 by andres@anarazel.de">                           <span class="lineNum">    1166</span>                 :<span class="tlaCBC">             35 :     pq_sendint16(&amp;buf, x.dscale);</span></span>
<span id="L1167" title="Line 1167: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us"> 8142 <a href="#L1170" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1167</span>         [<span class="tlaCBC"> <a href="#L1190" title="CBC: Branch 0 was taken 62 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1190" title="CBC: Branch 1 was taken 35 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             97 :     for (i = 0; i &lt; x.ndigits; i++)</span></span>
<span id="L1168" title="Line 1168: commit 31079a4a8e66 on 2017-10-11 by andres@anarazel.de"> 2876 <a href="#L1989" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    1168</span>                 :<span class="tlaCBC">             62 :         pq_sendint16(&amp;buf, x.digits[i]);</span></span>
<span id="L1169" title="Line 1169: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1169</span>                 :                : </span>
<span id="L1170" title="Line 1170: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us"> 8142 <a href="#L1190" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1170</span>                 :<span class="tlaCBC">             35 :     PG_RETURN_BYTEA_P(pq_endtypsend(&amp;buf));</span></span>
<span id="L1171" title="Line 1171: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1171</span>                 :                : }</span>
<span id="L1172" title="Line 1172: commit 30f609484d02 on 2003-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1172</span>                 :                : </span>
<span id="L1173" title="Line 1173: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1173</span>                 :                : </span>
<span id="L1174" title="Line 1174: commit 3cc0800829a6 on 2012-02-07 by rhaas@postgresql.org">                           <span class="lineNum">    1174</span>                 :                : /*</span>
<span id="L1175" title="Line 1175: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1175</span>                 :                :  * numeric_support()</span>
<span id="L1176" title="Line 1176: commit 3cc0800829a6 on 2012-02-07 by rhaas@postgresql.org">                           <span class="lineNum">    1176</span>                 :                :  *</span>
<span id="L1177" title="Line 1177: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1177</span>                 :                :  * Planner support function for the numeric() length coercion function.</span>
<span id="L1178" title="Line 1178: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1178</span>                 :                :  *</span>
<span id="L1179" title="Line 1179: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1179</span>                 :                :  * Flatten calls that solely represent increases in allowable precision.</span>
<span id="L1180" title="Line 1180: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1180</span>                 :                :  * Scale changes mutate every datum, so they are unoptimizable.  Some values,</span>
<span id="L1181" title="Line 1181: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1181</span>                 :                :  * e.g. 1E-1001, can only fit into an unconstrained numeric, so a change from</span>
<span id="L1182" title="Line 1182: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1182</span>                 :                :  * an unconstrained numeric to any constrained numeric is also unoptimizable.</span>
<span id="L1183" title="Line 1183: commit 3cc0800829a6 on 2012-02-07 by rhaas@postgresql.org">                           <span class="lineNum">    1183</span>                 :                :  */</span>
<span id="L1184" title="Line 1184: commit 3cc0800829a6 on 2012-02-07 by rhaas@postgresql.org">                           <span class="lineNum">    1184</span>                 :                : Datum</span>
<span id="L1185" title="Line 1185: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us"> 2390                      <span class="lineNum">    1185</span>                 :<span class="tlaCBC">            258 : numeric_support(PG_FUNCTION_ARGS)</span></span>
<span id="L1186" title="Line 1186: commit 3cc0800829a6 on 2012-02-07 by rhaas@postgresql.org">                           <span class="lineNum">    1186</span>                 :                : {</span>
<span id="L1187" title="Line 1187: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1187</span>                 :<span class="tlaCBC">            258 :     Node       *rawreq = (Node *) PG_GETARG_POINTER(0);</span></span>
<span id="L1188" title="Line 1188: commit 3cc0800829a6 on 2012-02-07 by rhaas@postgresql.org"> 4949 <a href="#L1224" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    1188</span>                 :<span class="tlaCBC">            258 :     Node       *ret = NULL;</span></span>
<span id="L1189" title="Line 1189: commit 3cc0800829a6 on 2012-02-07 by rhaas@postgresql.org">                           <span class="lineNum">    1189</span>                 :                : </span>
<span id="L1190" title="Line 1190: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us"> 2390 <a href="#L1219" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1190</span>         [<span class="tlaCBC"> <a href="#L1196" title="CBC: Branch 0 was taken 114 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1196" title="CBC: Branch 1 was taken 144 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            258 :     if (IsA(rawreq, SupportRequestSimplify))</span></span>
<span id="L1191" title="Line 1191: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1191</span>                 :                :     {</span>
<span id="L1192" title="Line 1192: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1192</span>                 :<span class="tlaCBC">            114 :         SupportRequestSimplify *req = (SupportRequestSimplify *) rawreq;</span></span>
<span id="L1193" title="Line 1193: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1193</span>                 :<span class="tlaCBC">            114 :         FuncExpr   *expr = req-&gt;fcall;</span></span>
<span id="L1194" title="Line 1194: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1194</span>                 :                :         Node       *typmod;</span>
<span id="L1195" title="Line 1195: commit 3cc0800829a6 on 2012-02-07 by rhaas@postgresql.org">                           <span class="lineNum">    1195</span>                 :                : </span>
<span id="L1196" title="Line 1196: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1196</span>         [<span class="tlaUBC"> <a href="#L1200" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1200" title="CBC: Branch 1 was taken 114 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            114 :         Assert(list_length(expr-&gt;args) &gt;= 2);</span></span>
<span id="L1197" title="Line 1197: commit 3cc0800829a6 on 2012-02-07 by rhaas@postgresql.org">                           <span class="lineNum">    1197</span>                 :                : </span>
<span id="L1198" title="Line 1198: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1198</span>                 :<span class="tlaCBC">            114 :         typmod = (Node *) lsecond(expr-&gt;args);</span></span>
<span id="L1199" title="Line 1199: commit 3cc0800829a6 on 2012-02-07 by rhaas@postgresql.org">                           <span class="lineNum">    1199</span>                 :                : </span>
<span id="L1200" title="Line 1200: commit fa27dd40d5c5 on 2020-05-16 by tgl@sss.pgh.pa.us"> 1928                      <span class="lineNum">    1200</span>   [<span class="tlaCBC"> <a href="#L1217" title="CBC: Branch 0 was taken 114 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1217" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1217" title="CBC: Branch 2 was taken 114 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1217" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            114 :         if (IsA(typmod, Const) &amp;&amp; !((Const *) typmod)-&gt;constisnull)</span></span>
<span id="L1201" title="Line 1201: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1201</span>                 :                :         {</span>
<span id="L1202" title="Line 1202: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us"> 2390                      <span class="lineNum">    1202</span>                 :<span class="tlaCBC">            114 :             Node       *source = (Node *) linitial(expr-&gt;args);</span></span>
<span id="L1203" title="Line 1203: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1203</span>                 :<span class="tlaCBC">            114 :             int32       old_typmod = exprTypmod(source);</span></span>
<span id="L1204" title="Line 1204: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1204</span>                 :<span class="tlaCBC">            114 :             int32       new_typmod = DatumGetInt32(((Const *) typmod)-&gt;constvalue);</span></span>
<span id="L1205" title="Line 1205: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> 1492 <a href="#L1261" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    1205</span>                 :<span class="tlaCBC">            114 :             int32       old_scale = numeric_typmod_scale(old_typmod);</span></span>
<span id="L1206" title="Line 1206: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1206</span>                 :<span class="tlaCBC">            114 :             int32       new_scale = numeric_typmod_scale(new_typmod);</span></span>
<span id="L1207" title="Line 1207: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1207</span>                 :<span class="tlaCBC">            114 :             int32       old_precision = numeric_typmod_precision(old_typmod);</span></span>
<span id="L1208" title="Line 1208: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1208</span>                 :<span class="tlaCBC">            114 :             int32       new_precision = numeric_typmod_precision(new_typmod);</span></span>
<span id="L1209" title="Line 1209: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1209</span>                 :                : </span>
<span id="L1210" title="Line 1210: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1210</span>                 :                :             /*</span>
<span id="L1211" title="Line 1211: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1211</span>                 :                :              * If new_typmod is invalid, the destination is unconstrained;</span>
<span id="L1212" title="Line 1212: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1212</span>                 :                :              * that's always OK.  If old_typmod is valid, the source is</span>
<span id="L1213" title="Line 1213: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1213</span>                 :                :              * constrained, and we're OK if the scale is unchanged and the</span>
<span id="L1214" title="Line 1214: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1214</span>                 :                :              * precision is not decreasing.  See further notes in function</span>
<span id="L1215" title="Line 1215: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1215</span>                 :                :              * header comment.</span>
<span id="L1216" title="Line 1216: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1216</span>                 :                :              */</span>
<span id="L1217" title="Line 1217: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1217</span>   [<span class="tlaCBC"> <a href="#L1218" title="CBC: Branch 0 was taken 114 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1219" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1218" title="CBC: Branch 2 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1218" title="CBC: Branch 3 was taken 108 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            228 :             if (!is_valid_numeric_typmod(new_typmod) ||</span></span>
<span id="L1218" title="Line 1218: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1218</span>         [<span class="tlaCBC"> <a href="#L1219" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1219" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            120 :                 (is_valid_numeric_typmod(old_typmod) &amp;&amp;</span></span>
<span id="L1219" title="Line 1219: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us"> 2390 <a href="#L1237" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1219</span>         [<span class="tlaCBC"> <a href="#L1251" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1261" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :                  new_scale == old_scale &amp;&amp; new_precision &gt;= old_precision))</span></span>
<span id="L1220" title="Line 1220: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1220</span>                 :<span class="tlaCBC">              3 :                 ret = relabel_to_typmod(source, new_typmod);</span></span>
<span id="L1221" title="Line 1221: commit 1fb57af92069 on 2019-02-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1221</span>                 :                :         }</span>
<span id="L1222" title="Line 1222: commit 3cc0800829a6 on 2012-02-07 by rhaas@postgresql.org">                           <span class="lineNum">    1222</span>                 :                :     }</span>
<span id="L1223" title="Line 1223: commit 3cc0800829a6 on 2012-02-07 by rhaas@postgresql.org">                           <span class="lineNum">    1223</span>                 :                : </span>
<span id="L1224" title="Line 1224: commit 3cc0800829a6 on 2012-02-07 by rhaas@postgresql.org"> 4949 <a href="#L1281" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    1224</span>                 :<span class="tlaCBC">            258 :     PG_RETURN_POINTER(ret);</span></span>
<span id="L1225" title="Line 1225: commit 3cc0800829a6 on 2012-02-07 by rhaas@postgresql.org">                           <span class="lineNum">    1225</span>                 :                : }</span>
<span id="L1226" title="Line 1226: commit 3cc0800829a6 on 2012-02-07 by rhaas@postgresql.org">                           <span class="lineNum">    1226</span>                 :                : </span>
<span id="L1227" title="Line 1227: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1227</span>                 :                : /*</span>
<span id="L1228" title="Line 1228: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1228</span>                 :                :  * numeric() -</span>
<span id="L1229" title="Line 1229: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1229</span>                 :                :  *</span>
<span id="L1230" title="Line 1230: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1230</span>                 :                :  *  This is a special function called by the Postgres database system</span>
<span id="L1231" title="Line 1231: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1231</span>                 :                :  *  before a value is stored in a tuple's attribute. The precision and</span>
<span id="L1232" title="Line 1232: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    1232</span>                 :                :  *  scale of the attribute have to be applied on the value.</span>
<span id="L1233" title="Line 1233: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1233</span>                 :                :  */</span>
<span id="L1234" title="Line 1234: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1234</span>                 :                : Datum</span>
<span id="L1235" title="Line 1235: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us"> 6494 <a href="#L1315" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    1235</span>                 :<span class="tlaCBC">           5851 : numeric     (PG_FUNCTION_ARGS)</span></span>
<span id="L1236" title="Line 1236: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1236</span>                 :                : {</span>
<span id="L1237" title="Line 1237: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us"> 9205 <a href="#L1269" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1237</span>                 :<span class="tlaCBC">           5851 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L1238" title="Line 1238: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1238</span>                 :<span class="tlaCBC">           5851 :     int32       typmod = PG_GETARG_INT32(1);</span></span>
<span id="L1239" title="Line 1239: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1239</span>                 :                :     Numeric     new;</span>
<span id="L1240" title="Line 1240: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1240</span>                 :                :     int         precision;</span>
<span id="L1241" title="Line 1241: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1241</span>                 :                :     int         scale;</span>
<span id="L1242" title="Line 1242: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1242</span>                 :                :     int         ddigits;</span>
<span id="L1243" title="Line 1243: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1243</span>                 :                :     int         maxdigits;</span>
<span id="L1244" title="Line 1244: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1244</span>                 :                :     int         dscale;</span>
<span id="L1245" title="Line 1245: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1245</span>                 :                :     NumericVar  var;</span>
<span id="L1246" title="Line 1246: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1246</span>                 :                : </span>
<span id="L1247" title="Line 1247: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1247</span>                 :                :     /*</span>
<span id="L1248" title="Line 1248: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1248</span>                 :                :      * Handle NaN and infinities: if apply_typmod_special doesn't complain,</span>
<span id="L1249" title="Line 1249: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1249</span>                 :                :      * just return a copy of the input.</span>
<span id="L1250" title="Line 1250: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1250</span>                 :                :      */</span>
<span id="L1251" title="Line 1251: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    1251</span>         [<span class="tlaCBC"> <a href="#L1261" title="CBC: Branch 0 was taken 105 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1261" title="CBC: Branch 1 was taken 5746 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           5851 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L1252" title="Line 1252: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1252</span>                 :                :     {</span>
<span id="L1253" title="Line 1253: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">  991                      <span class="lineNum">    1253</span>                 :<span class="tlaCBC">            105 :         (void) apply_typmod_special(num, typmod, NULL);</span></span>
<span id="L1254" title="Line 1254: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    1254</span>                 :<span class="tlaCBC">             96 :         PG_RETURN_NUMERIC(duplicate_numeric(num));</span></span>
<span id="L1255" title="Line 1255: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1255</span>                 :                :     }</span>
<span id="L1256" title="Line 1256: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1256</span>                 :                : </span>
<span id="L1257" title="Line 1257: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1257</span>                 :                :     /*</span>
<span id="L1258" title="Line 1258: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    1258</span>                 :                :      * If the value isn't a valid type modifier, simply return a copy of the</span>
<span id="L1259" title="Line 1259: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    1259</span>                 :                :      * input value</span>
<span id="L1260" title="Line 1260: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1260</span>                 :                :      */</span>
<span id="L1261" title="Line 1261: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> 1492 <a href="#L1267" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    1261</span>         [<span class="tlaUBC"> <a href="#L1283" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1281" title="CBC: Branch 1 was taken 5746 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           5746 :     if (!is_valid_numeric_typmod(typmod))</span></span>
<span id="L1262" title="Line 1262: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L1284" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L1339" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    1262</span>                 :<a href="#L1284" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         PG_RETURN_NUMERIC(duplicate_numeric(num));</span></span>
<span id="L1263" title="Line 1263: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1263</span>                 :                : </span>
<span id="L1264" title="Line 1264: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1264</span>                 :                :     /*</span>
<span id="L1265" title="Line 1265: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1265</span>                 :                :      * Get the precision and scale out of the typmod value</span>
<span id="L1266" title="Line 1266: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1266</span>                 :                :      */</span>
<span id="L1267" title="Line 1267: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> <a href="#L1286" title="next CBC in &ldquo;(360..) days&rdquo; bin">1492</a> <a href="#L1272" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    1267</span>                 :<a href="#L1286" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        5746 :     precision = numeric_typmod_precision(typmod);</span></span>
<span id="L1268" title="Line 1268: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1268</span>                 :<span class="tlaCBC">           5746 :     scale = numeric_typmod_scale(typmod);</span></span>
<span id="L1269" title="Line 1269: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L1286" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1269</span>                 :<span class="tlaCBC">           5746 :     maxdigits = precision - scale;</span></span>
<span id="L1270" title="Line 1270: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1270</span>                 :                : </span>
<span id="L1271" title="Line 1271: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1271</span>                 :                :     /* The target display scale is non-negative */</span>
<span id="L1272" title="Line 1272: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> 1492 <a href="#L1283" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    1272</span>                 :<span class="tlaCBC">           5746 :     dscale = Max(scale, 0);</span></span>
<span id="L1273" title="Line 1273: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1273</span>                 :                : </span>
<span id="L1274" title="Line 1274: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1274</span>                 :                :     /*</span>
<span id="L1275" title="Line 1275: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1275</span>                 :                :      * If the number is certainly in bounds and due to the target scale no</span>
<span id="L1276" title="Line 1276: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    1276</span>                 :                :      * rounding could be necessary, just make a copy of the input and modify</span>
<span id="L1277" title="Line 1277: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    1277</span>                 :                :      * its scale fields, unless the larger scale forces us to abandon the</span>
<span id="L1278" title="Line 1278: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">    1278</span>                 :                :      * short representation.  (Note we assume the existing dscale is</span>
<span id="L1279" title="Line 1279: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">    1279</span>                 :                :      * honest...)</span>
<span id="L1280" title="Line 1280: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1280</span>                 :                :      */</span>
<span id="L1281" title="Line 1281: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"> 5502 <a href="#L1287" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    1281</span>   [<span class="tlaCBC"> <a href="#L1282" title="CBC: Branch 0 was taken 5482 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1282" title="CBC: Branch 1 was taken 264 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1282" title="CBC: Branch 2 was taken 271 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1282" title="CBC: Branch 3 was taken 5211 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           5746 :     ddigits = (NUMERIC_WEIGHT(num) + 1) * DEC_DIGITS;</span></span>
<span id="L1282" title="Line 1282: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    1282</span>   [<span class="tlaCBC"> <a href="#L1283" title="CBC: Branch 0 was taken 5615 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1283" title="CBC: Branch 1 was taken 131 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1283" title="CBC: Branch 2 was taken 5351 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1283" title="CBC: Branch 3 was taken 264 times" class="branchTla">+</a> </span> :<span class="tlaCBC">           5746 :     if (ddigits &lt;= maxdigits &amp;&amp; scale &gt;= NUMERIC_DSCALE(num)</span></span>
                           <span class="lineNum">        </span>          <span class="tlaCBC"> <a href="#L1283" title="CBC: Branch 4 was taken 3565 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1283" title="CBC: Branch 5 was taken 2050 times" class="branchTla">+</a> </span>]
<span id="L1283" title="Line 1283: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> 1492 <a href="#L1290" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    1283</span>   [<span class="tlaCBC"> <a href="#L1287" title="CBC: Branch 0 was taken 3565 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1284" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1287" title="CBC: Branch 2 was taken 3565 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1284" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span> :<span class="tlaCBC">           3565 :         &amp;&amp; (NUMERIC_CAN_BE_SHORT(dscale, NUMERIC_WEIGHT(num))</span></span>
                           <span class="lineNum">        </span> <span class="tlaCBC"> <a href="#L1287" title="CBC: Branch 4 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1287" title="CBC: Branch 5 was taken 3556 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1287" title="CBC: Branch 6 was taken 3565 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1284" title="UBC: Branch 7 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L1284" title="UBC: Branch 8 was not taken" class="branchTla">-</a> </span> 
                           <span class="lineNum">        </span> <span class="tlaUBC"> <a href="#L1284" title="UBC: Branch 9 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1287" title="CBC: Branch 10 was taken 3565 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1284" title="UBC: Branch 11 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1287" title="CBC: Branch 12 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1287" title="CBC: Branch 13 was taken 3556 times" class="branchTla">+</a> </span> 
                           <span class="lineNum">        </span>    <span class="tlaUBC"> <a href="#L1284" title="UBC: Branch 14 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1287" title="CBC: Branch 15 was taken 3565 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1284" title="UBC: Branch 16 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L1284" title="UBC: Branch 17 was not taken" class="branchTla">-</a> </span>]
<span id="L1284" title="Line 1284: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us"><span title="bruce@momjian.us 5252 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L1292" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">5252</a> </span><a href="#L6847" title="next UBC in &ldquo;bruce@momjian.us&rdquo; bin" class="tlaBgUBC">bruce@momjian.us</a><span title="bruce@momjian.us 5252 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">    </span> <span class="lineNum">    1284</span>         [<span class="tlaUBC"> <a href="#L1287" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1287" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L1292" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             || !NUMERIC_IS_SHORT(num)))</span></span>
<span id="L1285" title="Line 1285: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1285</span>                 :                :     {</span>
<span id="L1286" title="Line 1286: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L1294" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L1294" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1286</span>                 :<a href="#L1294" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        3565 :         new = duplicate_numeric(num);</span></span>
<span id="L1287" title="Line 1287: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"> 5502 <a href="#L1392" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    1287</span>         [<span class="tlaCBC"> <a href="#L1322" title="CBC: Branch 0 was taken 3565 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1292" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">           3565 :         if (NUMERIC_IS_SHORT(num))</span></span>
<span id="L1288" title="Line 1288: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    1288</span>                 :<span class="tlaCBC">           3565 :             new-&gt;choice.n_short.n_header =</span></span>
<span id="L1289" title="Line 1289: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    1289</span>                 :<span class="tlaCBC">           3565 :                 (num-&gt;choice.n_short.n_header &amp; ~NUMERIC_SHORT_DSCALE_MASK)</span></span>
<span id="L1290" title="Line 1290: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> 1492 <a href="#L1329" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    1290</span>                 :<span class="tlaCBC">           3565 :                 | (dscale &lt;&lt; NUMERIC_SHORT_DSCALE_SHIFT);</span></span>
<span id="L1291" title="Line 1291: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    1291</span>                 :                :         else</span>
<span id="L1292" title="Line 1292: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 5502 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L1339" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">5502</a> <a href="#L1438" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    1292</span>   [<span class="tlaUBC"> <a href="#L1325" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1325" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1325" title="UBC: Branch 2 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1325" title="UBC: Branch 3 was not executed" class="branchTla">#</a> </span>]:<a href="#L1339" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             new-&gt;choice.n_long.n_sign_dscale = NUMERIC_SIGN(new) |</span></span>
<span id="L1293" title="Line 1293: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1492 days ago (bin 4: (360..) days)" class="tlaUBC"> 1492 <a href="#L1862" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    1293</span>                 :<span class="tlaUBC">              0 :                 ((uint16) dscale &amp; NUMERIC_DSCALE_MASK);</span></span>
<span id="L1294" title="Line 1294: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us"> <a href="#L1344" title="next CBC in &ldquo;(360..) days&rdquo; bin">9205</a> <a href="#L1304" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1294</span>                 :<a href="#L1344" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        3565 :         PG_RETURN_NUMERIC(new);</span></span>
<span id="L1295" title="Line 1295: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1295</span>                 :                :     }</span>
<span id="L1296" title="Line 1296: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1296</span>                 :                : </span>
<span id="L1297" title="Line 1297: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1297</span>                 :                :     /*</span>
<span id="L1298" title="Line 1298: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1298</span>                 :                :      * We really need to fiddle with things - unpack the number into a</span>
<span id="L1299" title="Line 1299: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1299</span>                 :                :      * variable and let apply_typmod() do it.</span>
<span id="L1300" title="Line 1300: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1300</span>                 :                :      */</span>
<span id="L1301" title="Line 1301: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L1305" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    1301</span>                 :<span class="tlaCBC">           2181 :     init_var(&amp;var);</span></span>
<span id="L1302" title="Line 1302: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1302</span>                 :                : </span>
<span id="L1303" title="Line 1303: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1303</span>                 :<span class="tlaCBC">           2181 :     set_var_from_num(num, &amp;var);</span></span>
<span id="L1304" title="Line 1304: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">  991 <a href="#L1309" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1304</span>                 :<span class="tlaCBC">           2181 :     (void) apply_typmod(&amp;var, typmod, NULL);</span></span>
<span id="L1305" title="Line 1305: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L1506" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    1305</span>                 :<span class="tlaCBC">           2151 :     new = make_result(&amp;var);</span></span>
<span id="L1306" title="Line 1306: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1306</span>                 :                : </span>
<span id="L1307" title="Line 1307: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1307</span>                 :<span class="tlaCBC">           2151 :     free_var(&amp;var);</span></span>
<span id="L1308" title="Line 1308: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1308</span>                 :                : </span>
<span id="L1309" title="Line 1309: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us"> 9205 <a href="#L1320" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1309</span>                 :<span class="tlaCBC">           2151 :     PG_RETURN_NUMERIC(new);</span></span>
<span id="L1310" title="Line 1310: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1310</span>                 :                : }</span>
<span id="L1311" title="Line 1311: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1311</span>                 :                : </span>
<span id="L1312" title="Line 1312: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1312</span>                 :                : Datum</span>
<span id="L1313" title="Line 1313: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us"> 6814                      <span class="lineNum">    1313</span>                 :<span class="tlaCBC">            960 : numerictypmodin(PG_FUNCTION_ARGS)</span></span>
<span id="L1314" title="Line 1314: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1314</span>                 :                : {</span>
<span id="L1315" title="Line 1315: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us"> 6494 <a href="#L1360" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    1315</span>                 :<span class="tlaCBC">            960 :     ArrayType  *ta = PG_GETARG_ARRAYTYPE_P(0);</span></span>
<span id="L1316" title="Line 1316: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    1316</span>                 :                :     int32      *tl;</span>
<span id="L1317" title="Line 1317: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1317</span>                 :                :     int         n;</span>
<span id="L1318" title="Line 1318: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1318</span>                 :                :     int32       typmod;</span>
<span id="L1319" title="Line 1319: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1319</span>                 :                : </span>
<span id="L1320" title="Line 1320: commit 23347231a53b on 2007-06-15 by tgl@sss.pgh.pa.us"> 6647 <a href="#L1330" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1320</span>                 :<span class="tlaCBC">            960 :     tl = ArrayGetIntegerTypmods(ta, &amp;n);</span></span>
<span id="L1321" title="Line 1321: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1321</span>                 :                : </span>
<span id="L1322" title="Line 1322: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us"> 6814                      <span class="lineNum">    1322</span>         [<span class="tlaCBC"> <a href="#L1324" title="CBC: Branch 0 was taken 952 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1324" title="CBC: Branch 1 was taken 8 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            960 :     if (n == 2)</span></span>
<span id="L1323" title="Line 1323: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1323</span>                 :                :     {</span>
<span id="L1324" title="Line 1324: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1324</span>   [<span class="tlaCBC"> <a href="#L1325" title="CBC: Branch 0 was taken 946 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1325" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1325" title="CBC: Branch 2 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1325" title="CBC: Branch 3 was taken 943 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            952 :         if (tl[0] &lt; 1 || tl[0] &gt; NUMERIC_MAX_PRECISION)</span></span>
<span id="L1325" title="Line 1325: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1325</span>         [<span class="tlaCBC"> <a href="#L1329" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1330" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              9 :             ereport(ERROR,</span></span>
<span id="L1326" title="Line 1326: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1326</span>                 :                :                     (errcode(ERRCODE_INVALID_PARAMETER_VALUE),</span>
<span id="L1327" title="Line 1327: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1327</span>                 :                :                      errmsg(&quot;NUMERIC precision %d must be between 1 and %d&quot;,</span>
<span id="L1328" title="Line 1328: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1328</span>                 :                :                             tl[0], NUMERIC_MAX_PRECISION)));</span>
<span id="L1329" title="Line 1329: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> 1492 <a href="#L1334" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    1329</span>   [<span class="tlaCBC"> <a href="#L1330" title="CBC: Branch 0 was taken 940 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1330" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1330" title="CBC: Branch 2 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1330" title="CBC: Branch 3 was taken 937 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            943 :         if (tl[1] &lt; NUMERIC_MIN_SCALE || tl[1] &gt; NUMERIC_MAX_SCALE)</span></span>
<span id="L1330" title="Line 1330: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us"> 6814 <a href="#L1336" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1330</span>         [<span class="tlaCBC"> <a href="#L1336" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1338" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              6 :             ereport(ERROR,</span></span>
<span id="L1331" title="Line 1331: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1331</span>                 :                :                     (errcode(ERRCODE_INVALID_PARAMETER_VALUE),</span>
<span id="L1332" title="Line 1332: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1332</span>                 :                :                      errmsg(&quot;NUMERIC scale %d must be between %d and %d&quot;,</span>
<span id="L1333" title="Line 1333: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1333</span>                 :                :                             tl[1], NUMERIC_MIN_SCALE, NUMERIC_MAX_SCALE)));</span>
<span id="L1334" title="Line 1334: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> 1492 <a href="#L1344" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    1334</span>                 :<span class="tlaCBC">            937 :         typmod = make_numeric_typmod(tl[0], tl[1]);</span></span>
<span id="L1335" title="Line 1335: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1335</span>                 :                :     }</span>
<span id="L1336" title="Line 1336: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us"> 6814 <a href="#L1348" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1336</span>         [<span class="tlaCBC"> <a href="#L1338" title="CBC: Branch 0 was taken 2 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1338" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              8 :     else if (n == 1)</span></span>
<span id="L1337" title="Line 1337: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1337</span>                 :                :     {</span>
<span id="L1338" title="Line 1338: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1338</span>   [<span class="tlaCBC"> <a href="#L1348" title="CBC: Branch 0 was taken 2 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1339" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L1339" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1348" title="CBC: Branch 3 was taken 2 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              2 :         if (tl[0] &lt; 1 || tl[0] &gt; NUMERIC_MAX_PRECISION)</span></span>
<span id="L1339" title="Line 1339: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 6814 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L1368" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">6814</a> </span><a href="#L1368" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 6814 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    1339</span>         [<span class="tlaUBC"> <a href="#L1348" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1348" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L1368" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             ereport(ERROR,</span></span>
<span id="L1340" title="Line 1340: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1340</span>                 :                :                     (errcode(ERRCODE_INVALID_PARAMETER_VALUE),</span>
<span id="L1341" title="Line 1341: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1341</span>                 :                :                      errmsg(&quot;NUMERIC precision %d must be between 1 and %d&quot;,</span>
<span id="L1342" title="Line 1342: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1342</span>                 :                :                             tl[0], NUMERIC_MAX_PRECISION)));</span>
<span id="L1343" title="Line 1343: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1343</span>                 :                :         /* scale defaults to zero */</span>
<span id="L1344" title="Line 1344: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> <a href="#L1370" title="next CBC in &ldquo;(360..) days&rdquo; bin">1492</a> <a href="#L1363" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    1344</span>                 :<a href="#L1370" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           2 :         typmod = make_numeric_typmod(tl[0], 0);</span></span>
<span id="L1345" title="Line 1345: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1345</span>                 :                :     }</span>
<span id="L1346" title="Line 1346: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1346</span>                 :                :     else</span>
<span id="L1347" title="Line 1347: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1347</span>                 :                :     {</span>
<span id="L1348" title="Line 1348: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us"> 6814 <a href="#L1364" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1348</span>         [<span class="tlaCBC"> <a href="#L1363" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1363" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              6 :         ereport(ERROR,</span></span>
<span id="L1349" title="Line 1349: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1349</span>                 :                :                 (errcode(ERRCODE_INVALID_PARAMETER_VALUE),</span>
<span id="L1350" title="Line 1350: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    1350</span>                 :                :                  errmsg(&quot;invalid NUMERIC type modifier&quot;)));</span>
<span id="L1351" title="Line 1351: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1351</span>                 :                :         typmod = 0;             /* keep compiler quiet */</span>
<span id="L1352" title="Line 1352: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1352</span>                 :                :     }</span>
<span id="L1353" title="Line 1353: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1353</span>                 :                : </span>
<span id="L1354" title="Line 1354: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1354</span>                 :<span class="tlaCBC">            939 :     PG_RETURN_INT32(typmod);</span></span>
<span id="L1355" title="Line 1355: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1355</span>                 :                : }</span>
<span id="L1356" title="Line 1356: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1356</span>                 :                : </span>
<span id="L1357" title="Line 1357: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1357</span>                 :                : Datum</span>
<span id="L1358" title="Line 1358: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1358</span>                 :<span class="tlaCBC">            188 : numerictypmodout(PG_FUNCTION_ARGS)</span></span>
<span id="L1359" title="Line 1359: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1359</span>                 :                : {</span>
<span id="L1360" title="Line 1360: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us"> 6494 <a href="#L1451" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    1360</span>                 :<span class="tlaCBC">            188 :     int32       typmod = PG_GETARG_INT32(0);</span></span>
<span id="L1361" title="Line 1361: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    1361</span>                 :<span class="tlaCBC">            188 :     char       *res = (char *) palloc(64);</span></span>
<span id="L1362" title="Line 1362: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1362</span>                 :                : </span>
<span id="L1363" title="Line 1363: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> 1492 <a href="#L1553" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    1363</span>         [<span class="tlaCBC"> <a href="#L1392" title="CBC: Branch 0 was taken 188 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1402" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            188 :     if (is_valid_numeric_typmod(typmod))</span></span>
<span id="L1364" title="Line 1364: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us"> 6814 <a href="#L1370" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1364</span>                 :<span class="tlaCBC">            188 :         snprintf(res, 64, &quot;(%d,%d)&quot;,</span></span>
<span id="L1365" title="Line 1365: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1365</span>                 :                :                  numeric_typmod_precision(typmod),</span>
<span id="L1366" title="Line 1366: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1366</span>                 :                :                  numeric_typmod_scale(typmod));</span>
<span id="L1367" title="Line 1367: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1367</span>                 :                :     else</span>
<span id="L1368" title="Line 1368: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 6814 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L1438" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">6814</a> </span><a href="#L1519" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 6814 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    1368</span>                 :<a href="#L1438" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         *res = '\0';</span></span>
<span id="L1369" title="Line 1369: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1369</span>                 :                : </span>
<span id="L1370" title="Line 1370: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us"> <a href="#L1446" title="next CBC in &ldquo;(360..) days&rdquo; bin">6814</a> <a href="#L1395" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1370</span>                 :<a href="#L1446" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         188 :     PG_RETURN_CSTRING(res);</span></span>
<span id="L1371" title="Line 1371: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1371</span>                 :                : }</span>
<span id="L1372" title="Line 1372: commit 5725b9d9afc8 on 2006-12-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1372</span>                 :                : </span>
<span id="L1373" title="Line 1373: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1373</span>                 :                : </span>
<span id="L1374" title="Line 1374: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1374</span>                 :                : /* ----------------------------------------------------------------------</span>
<span id="L1375" title="Line 1375: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1375</span>                 :                :  *</span>
<span id="L1376" title="Line 1376: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1376</span>                 :                :  * Sign manipulation, rounding and the like</span>
<span id="L1377" title="Line 1377: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1377</span>                 :                :  *</span>
<span id="L1378" title="Line 1378: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1378</span>                 :                :  * ----------------------------------------------------------------------</span>
<span id="L1379" title="Line 1379: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1379</span>                 :                :  */</span>
<span id="L1380" title="Line 1380: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1380</span>                 :                : </span>
<span id="L1381" title="Line 1381: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1381</span>                 :                : Datum</span>
<span id="L1382" title="Line 1382: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159                      <span class="lineNum">    1382</span>                 :<span class="tlaCBC">           9753 : numeric_abs(PG_FUNCTION_ARGS)</span></span>
<span id="L1383" title="Line 1383: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1383</span>                 :                : {</span>
<span id="L1384" title="Line 1384: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1384</span>                 :<span class="tlaCBC">           9753 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L1385" title="Line 1385: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1385</span>                 :                :     Numeric     res;</span>
<span id="L1386" title="Line 1386: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1386</span>                 :                : </span>
<span id="L1387" title="Line 1387: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1387</span>                 :                :     /*</span>
<span id="L1388" title="Line 1388: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1388</span>                 :                :      * Do it the easy way directly on the packed format</span>
<span id="L1389" title="Line 1389: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1389</span>                 :                :      */</span>
<span id="L1390" title="Line 1390: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    1390</span>                 :<span class="tlaCBC">           9753 :     res = duplicate_numeric(num);</span></span>
<span id="L1391" title="Line 1391: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1391</span>                 :                : </span>
<span id="L1392" title="Line 1392: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"> 5502 <a href="#L1402" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    1392</span>         [<span class="tlaCBC"> <a href="#L1395" title="CBC: Branch 0 was taken 9720 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1395" title="CBC: Branch 1 was taken 33 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           9753 :     if (NUMERIC_IS_SHORT(num))</span></span>
<span id="L1393" title="Line 1393: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    1393</span>                 :<span class="tlaCBC">           9720 :         res-&gt;choice.n_short.n_header =</span></span>
<span id="L1394" title="Line 1394: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    1394</span>                 :<span class="tlaCBC">           9720 :             num-&gt;choice.n_short.n_header &amp; ~NUMERIC_SHORT_SIGN_MASK;</span></span>
<span id="L1395" title="Line 1395: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L1404" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1395</span>         [<span class="tlaCBC"> <a href="#L1402" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1402" title="CBC: Branch 1 was taken 24 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             33 :     else if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L1396" title="Line 1396: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1396</span>                 :                :     {</span>
<span id="L1397" title="Line 1397: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1397</span>                 :                :         /* This changes -Inf to Inf, and doesn't affect NaN */</span>
<span id="L1398" title="Line 1398: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1398</span>                 :<span class="tlaCBC">              9 :         res-&gt;choice.n_short.n_header =</span></span>
<span id="L1399" title="Line 1399: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1399</span>                 :<span class="tlaCBC">              9 :             num-&gt;choice.n_short.n_header &amp; ~NUMERIC_INF_SIGN_MASK;</span></span>
<span id="L1400" title="Line 1400: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1400</span>                 :                :     }</span>
<span id="L1401" title="Line 1401: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    1401</span>                 :                :     else</span>
<span id="L1402" title="Line 1402: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"> 5502 <a href="#L1435" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    1402</span>         [<span class="tlaUBC"> <a href="#L1432" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1419" title="CBC: Branch 1 was taken 24 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             24 :         res-&gt;choice.n_long.n_sign_dscale = NUMERIC_POS | NUMERIC_DSCALE(num);</span></span>
<span id="L1403" title="Line 1403: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1403</span>                 :                : </span>
<span id="L1404" title="Line 1404: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L1446" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1404</span>                 :<span class="tlaCBC">           9753 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L1405" title="Line 1405: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1405</span>                 :                : }</span>
<span id="L1406" title="Line 1406: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1406</span>                 :                : </span>
<span id="L1407" title="Line 1407: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1407</span>                 :                : </span>
<span id="L1408" title="Line 1408: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1408</span>                 :                : Datum</span>
<span id="L1409" title="Line 1409: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1409</span>                 :<span class="tlaCBC">            442 : numeric_uminus(PG_FUNCTION_ARGS)</span></span>
<span id="L1410" title="Line 1410: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1410</span>                 :                : {</span>
<span id="L1411" title="Line 1411: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1411</span>                 :<span class="tlaCBC">            442 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L1412" title="Line 1412: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1412</span>                 :                :     Numeric     res;</span>
<span id="L1413" title="Line 1413: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1413</span>                 :                : </span>
<span id="L1414" title="Line 1414: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1414</span>                 :                :     /*</span>
<span id="L1415" title="Line 1415: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1415</span>                 :                :      * Do it the easy way directly on the packed format</span>
<span id="L1416" title="Line 1416: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1416</span>                 :                :      */</span>
<span id="L1417" title="Line 1417: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    1417</span>                 :<span class="tlaCBC">            442 :     res = duplicate_numeric(num);</span></span>
<span id="L1418" title="Line 1418: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1418</span>                 :                : </span>
<span id="L1419" title="Line 1419: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1419</span>         [<span class="tlaCBC"> <a href="#L1422" title="CBC: Branch 0 was taken 63 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1422" title="CBC: Branch 1 was taken 379 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            442 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L1420" title="Line 1420: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1420</span>                 :                :     {</span>
<span id="L1421" title="Line 1421: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1421</span>                 :                :         /* Flip the sign, if it's Inf or -Inf */</span>
<span id="L1422" title="Line 1422: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1422</span>         [<span class="tlaCBC"> <a href="#L1432" title="CBC: Branch 0 was taken 42 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1432" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             63 :         if (!NUMERIC_IS_NAN(num))</span></span>
<span id="L1423" title="Line 1423: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1423</span>                 :<span class="tlaCBC">             42 :             res-&gt;choice.n_short.n_header =</span></span>
<span id="L1424" title="Line 1424: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1424</span>                 :<span class="tlaCBC">             42 :                 num-&gt;choice.n_short.n_header ^ NUMERIC_INF_SIGN_MASK;</span></span>
<span id="L1425" title="Line 1425: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1425</span>                 :                :     }</span>
<span id="L1426" title="Line 1426: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1426</span>                 :                : </span>
<span id="L1427" title="Line 1427: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1427</span>                 :                :     /*</span>
<span id="L1428" title="Line 1428: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    1428</span>                 :                :      * The packed format is known to be totally zero digit trimmed always. So</span>
<span id="L1429" title="Line 1429: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1429</span>                 :                :      * once we've eliminated specials, we can identify a zero by the fact that</span>
<span id="L1430" title="Line 1430: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1430</span>                 :                :      * there are no digits at all. Do nothing to a zero.</span>
<span id="L1431" title="Line 1431: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1431</span>                 :                :      */</span>
<span id="L1432" title="Line 1432: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1432</span>   [<span class="tlaCBC"> <a href="#L1435" title="CBC: Branch 0 was taken 379 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1435" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1435" title="CBC: Branch 2 was taken 322 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1435" title="CBC: Branch 3 was taken 57 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            379 :     else if (NUMERIC_NDIGITS(num) != 0)</span></span>
<span id="L1433" title="Line 1433: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1433</span>                 :                :     {</span>
<span id="L1434" title="Line 1434: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1434</span>                 :                :         /* Else, flip the sign */</span>
<span id="L1435" title="Line 1435: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"> 5502 <a href="#L2115" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    1435</span>         [<span class="tlaCBC"> <a href="#L1469" title="CBC: Branch 0 was taken 322 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1438" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            322 :         if (NUMERIC_IS_SHORT(num))</span></span>
<span id="L1436" title="Line 1436: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    1436</span>                 :<span class="tlaCBC">            322 :             res-&gt;choice.n_short.n_header =</span></span>
<span id="L1437" title="Line 1437: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    1437</span>                 :<span class="tlaCBC">            322 :                 num-&gt;choice.n_short.n_header ^ NUMERIC_SHORT_SIGN_MASK;</span></span>
<span id="L1438" title="Line 1438: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 5502 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L1519" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">5502</a> <a href="#L2204" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    1438</span>   [<span class="tlaUBC"> <a href="#L1440" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1440" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1440" title="UBC: Branch 2 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1440" title="UBC: Branch 3 was not executed" class="branchTla">#</a> </span> :<a href="#L1519" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         else if (NUMERIC_SIGN(num) == NUMERIC_POS)</span></span>
                           <span class="lineNum">        </span>          <span class="tlaUBC"> <a href="#L1440" title="UBC: Branch 4 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1440" title="UBC: Branch 5 was not executed" class="branchTla">#</a> </span>]
<span id="L1439" title="Line 1439: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 5502 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    1439</span>                 :<span class="tlaUBC">              0 :             res-&gt;choice.n_long.n_sign_dscale =</span></span>
<span id="L1440" title="Line 1440: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 5502 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    1440</span>         [<span class="tlaUBC"> <a href="#L1443" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1443" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :                 NUMERIC_NEG | NUMERIC_DSCALE(num);</span></span>
<span id="L1441" title="Line 1441: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1441</span>                 :                :         else</span>
<span id="L1442" title="Line 1442: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 5502 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    1442</span>                 :<span class="tlaUBC">              0 :             res-&gt;choice.n_long.n_sign_dscale =</span></span>
<span id="L1443" title="Line 1443: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 5502 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    1443</span>         [<span class="tlaUBC"> <a href="#L1471" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L1471" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :                 NUMERIC_POS | NUMERIC_DSCALE(num);</span></span>
<span id="L1444" title="Line 1444: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1444</span>                 :                :     }</span>
<span id="L1445" title="Line 1445: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1445</span>                 :                : </span>
<span id="L1446" title="Line 1446: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> <a href="#L1532" title="next CBC in &ldquo;(360..) days&rdquo; bin">9159</a> <a href="#L1455" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1446</span>                 :<a href="#L1532" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         442 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L1447" title="Line 1447: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1447</span>                 :                : }</span>
<span id="L1448" title="Line 1448: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1448</span>                 :                : </span>
<span id="L1449" title="Line 1449: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1449</span>                 :                : </span>
<span id="L1450" title="Line 1450: commit ba17165f55fe on 2001-06-07 by bruce@momjian.us">                           <span class="lineNum">    1450</span>                 :                : Datum</span>
<span id="L1451" title="Line 1451: commit ba17165f55fe on 2001-06-07 by bruce@momjian.us"> 8846 <a href="#L2072" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    1451</span>                 :<span class="tlaCBC">            249 : numeric_uplus(PG_FUNCTION_ARGS)</span></span>
<span id="L1452" title="Line 1452: commit ba17165f55fe on 2001-06-07 by bruce@momjian.us">                           <span class="lineNum">    1452</span>                 :                : {</span>
<span id="L1453" title="Line 1453: commit ba17165f55fe on 2001-06-07 by bruce@momjian.us">                           <span class="lineNum">    1453</span>                 :<span class="tlaCBC">            249 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L1454" title="Line 1454: commit ba17165f55fe on 2001-06-07 by bruce@momjian.us">                           <span class="lineNum">    1454</span>                 :                : </span>
<span id="L1455" title="Line 1455: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L1507" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1455</span>                 :<span class="tlaCBC">            249 :     PG_RETURN_NUMERIC(duplicate_numeric(num));</span></span>
<span id="L1456" title="Line 1456: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1456</span>                 :                : }</span>
<span id="L1457" title="Line 1457: commit ba17165f55fe on 2001-06-07 by bruce@momjian.us">                           <span class="lineNum">    1457</span>                 :                : </span>
<span id="L1458" title="Line 1458: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1458</span>                 :                : </span>
<span id="L1459" title="Line 1459: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1459</span>                 :                : /*</span>
<span id="L1460" title="Line 1460: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1460</span>                 :                :  * numeric_sign_internal() -</span>
<span id="L1461" title="Line 1461: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1461</span>                 :                :  *</span>
<span id="L1462" title="Line 1462: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1462</span>                 :                :  * Returns -1 if the argument is less than 0, 0 if the argument is equal</span>
<span id="L1463" title="Line 1463: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1463</span>                 :                :  * to 0, and 1 if the argument is greater than zero.  Caller must have</span>
<span id="L1464" title="Line 1464: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1464</span>                 :                :  * taken care of the NaN case, but we can handle infinities here.</span>
<span id="L1465" title="Line 1465: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1465</span>                 :                :  */</span>
<span id="L1466" title="Line 1466: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1466</span>                 :                : static int</span>
<span id="L1467" title="Line 1467: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1467</span>                 :<span class="tlaCBC">           1785 : numeric_sign_internal(Numeric num)</span></span>
<span id="L1468" title="Line 1468: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1468</span>                 :                : {</span>
<span id="L1469" title="Line 1469: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1469</span>         [<span class="tlaCBC"> <a href="#L1471" title="CBC: Branch 0 was taken 156 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1471" title="CBC: Branch 1 was taken 1629 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1785 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L1470" title="Line 1470: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1470</span>                 :                :     {</span>
<span id="L1471" title="Line 1471: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1471</span>         [<span class="tlaUBC"> <a href="#L1486" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1473" title="CBC: Branch 1 was taken 156 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            156 :         Assert(!NUMERIC_IS_NAN(num));</span></span>
<span id="L1472" title="Line 1472: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1472</span>                 :                :         /* Must be Inf or -Inf */</span>
<span id="L1473" title="Line 1473: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1473</span>         [<span class="tlaCBC"> <a href="#L1484" title="CBC: Branch 0 was taken 93 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1484" title="CBC: Branch 1 was taken 63 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            156 :         if (NUMERIC_IS_PINF(num))</span></span>
<span id="L1474" title="Line 1474: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1474</span>                 :<span class="tlaCBC">             93 :             return 1;</span></span>
<span id="L1475" title="Line 1475: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1475</span>                 :                :         else</span>
<span id="L1476" title="Line 1476: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1476</span>                 :<span class="tlaCBC">             63 :             return -1;</span></span>
<span id="L1477" title="Line 1477: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1477</span>                 :                :     }</span>
<span id="L1478" title="Line 1478: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1478</span>                 :                : </span>
<span id="L1479" title="Line 1479: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1479</span>                 :                :     /*</span>
<span id="L1480" title="Line 1480: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1480</span>                 :                :      * The packed format is known to be totally zero digit trimmed always. So</span>
<span id="L1481" title="Line 1481: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1481</span>                 :                :      * once we've eliminated specials, we can identify a zero by the fact that</span>
<span id="L1482" title="Line 1482: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1482</span>                 :                :      * there are no digits at all.</span>
<span id="L1483" title="Line 1483: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1483</span>                 :                :      */</span>
<span id="L1484" title="Line 1484: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1484</span>   [<span class="tlaCBC"> <a href="#L1486" title="CBC: Branch 0 was taken 1599 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1486" title="CBC: Branch 1 was taken 30 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1486" title="CBC: Branch 2 was taken 114 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1486" title="CBC: Branch 3 was taken 1515 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1629 :     else if (NUMERIC_NDIGITS(num) == 0)</span></span>
<span id="L1485" title="Line 1485: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1485</span>                 :<span class="tlaCBC">            114 :         return 0;</span></span>
<span id="L1486" title="Line 1486: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1486</span>   [<span class="tlaCBC"> <a href="#L1506" title="CBC: Branch 0 was taken 1485 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1506" title="CBC: Branch 1 was taken 30 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1509" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1506" title="CBC: Branch 3 was taken 30 times" class="branchTla">+</a> </span> :<span class="tlaCBC">           1515 :     else if (NUMERIC_SIGN(num) == NUMERIC_NEG)</span></span>
                           <span class="lineNum">        </span>          <span class="tlaCBC"> <a href="#L1506" title="CBC: Branch 4 was taken 366 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1506" title="CBC: Branch 5 was taken 1149 times" class="branchTla">+</a> </span>]
<span id="L1487" title="Line 1487: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1487</span>                 :<span class="tlaCBC">            366 :         return -1;</span></span>
<span id="L1488" title="Line 1488: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1488</span>                 :                :     else</span>
<span id="L1489" title="Line 1489: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1489</span>                 :<span class="tlaCBC">           1149 :         return 1;</span></span>
<span id="L1490" title="Line 1490: commit ba17165f55fe on 2001-06-07 by bruce@momjian.us">                           <span class="lineNum">    1490</span>                 :                : }</span>
<span id="L1491" title="Line 1491: commit ba17165f55fe on 2001-06-07 by bruce@momjian.us">                           <span class="lineNum">    1491</span>                 :                : </span>
<span id="L1492" title="Line 1492: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1492</span>                 :                : /*</span>
<span id="L1493" title="Line 1493: commit bab3d29fbab4 on 2002-10-19 by bruce@momjian.us">                           <span class="lineNum">    1493</span>                 :                :  * numeric_sign() -</span>
<span id="L1494" title="Line 1494: commit bab3d29fbab4 on 2002-10-19 by bruce@momjian.us">                           <span class="lineNum">    1494</span>                 :                :  *</span>
<span id="L1495" title="Line 1495: commit bab3d29fbab4 on 2002-10-19 by bruce@momjian.us">                           <span class="lineNum">    1495</span>                 :                :  * returns -1 if the argument is less than 0, 0 if the argument is equal</span>
<span id="L1496" title="Line 1496: commit bab3d29fbab4 on 2002-10-19 by bruce@momjian.us">                           <span class="lineNum">    1496</span>                 :                :  * to 0, and 1 if the argument is greater than zero.</span>
<span id="L1497" title="Line 1497: commit bab3d29fbab4 on 2002-10-19 by bruce@momjian.us">                           <span class="lineNum">    1497</span>                 :                :  */</span>
<span id="L1498" title="Line 1498: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1498</span>                 :                : Datum</span>
<span id="L1499" title="Line 1499: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159                      <span class="lineNum">    1499</span>                 :<span class="tlaCBC">             24 : numeric_sign(PG_FUNCTION_ARGS)</span></span>
<span id="L1500" title="Line 1500: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1500</span>                 :                : {</span>
<span id="L1501" title="Line 1501: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1501</span>                 :<span class="tlaCBC">             24 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L1502" title="Line 1502: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1502</span>                 :                : </span>
<span id="L1503" title="Line 1503: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1503</span>                 :                :     /*</span>
<span id="L1504" title="Line 1504: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1504</span>                 :                :      * Handle NaN (infinities can be handled normally)</span>
<span id="L1505" title="Line 1505: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1505</span>                 :                :      */</span>
<span id="L1506" title="Line 1506: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L1611" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    1506</span>         [<span class="tlaCBC"> <a href="#L1509" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1509" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             24 :     if (NUMERIC_IS_NAN(num))</span></span>
<span id="L1507" title="Line 1507: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L1532" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1507</span>                 :<span class="tlaCBC">              3 :         PG_RETURN_NUMERIC(make_result(&amp;const_nan));</span></span>
<span id="L1508" title="Line 1508: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1508</span>                 :                : </span>
<span id="L1509" title="Line 1509: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    1509</span>   [<span class="tlaCBC"> <a href="#L1542" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1542" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1542" title="CBC: Branch 2 was taken 9 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1714" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             21 :     switch (numeric_sign_internal(num))</span></span>
<span id="L1510" title="Line 1510: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1510</span>                 :                :     {</span>
<span id="L1511" title="Line 1511: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1511</span>                 :<span class="tlaCBC">              3 :         case 0:</span></span>
<span id="L1512" title="Line 1512: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1512</span>                 :<span class="tlaCBC">              3 :             PG_RETURN_NUMERIC(make_result(&amp;const_zero));</span></span>
<span id="L1513" title="Line 1513: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1513</span>                 :<span class="tlaCBC">              9 :         case 1:</span></span>
<span id="L1514" title="Line 1514: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1514</span>                 :<span class="tlaCBC">              9 :             PG_RETURN_NUMERIC(make_result(&amp;const_one));</span></span>
<span id="L1515" title="Line 1515: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1515</span>                 :<span class="tlaCBC">              9 :         case -1:</span></span>
<span id="L1516" title="Line 1516: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1516</span>                 :<span class="tlaCBC">              9 :             PG_RETURN_NUMERIC(make_result(&amp;const_minus_one));</span></span>
<span id="L1517" title="Line 1517: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1517</span>                 :                :     }</span>
<span id="L1518" title="Line 1518: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1518</span>                 :                : </span>
<span id="L1519" title="Line 1519: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L2024" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L2549" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    1519</span>                 :<a href="#L1862" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :     Assert(false);</span></span>
<span id="L1520" title="Line 1520: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1520</span>                 :                :     return (Datum) 0;</span>
<span id="L1521" title="Line 1521: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1521</span>                 :                : }</span>
<span id="L1522" title="Line 1522: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1522</span>                 :                : </span>
<span id="L1523" title="Line 1523: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1523</span>                 :                : </span>
<span id="L1524" title="Line 1524: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1524</span>                 :                : /*</span>
<span id="L1525" title="Line 1525: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1525</span>                 :                :  * numeric_round() -</span>
<span id="L1526" title="Line 1526: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1526</span>                 :                :  *</span>
<span id="L1527" title="Line 1527: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1527</span>                 :                :  *  Round a value to have 'scale' digits after the decimal point.</span>
<span id="L1528" title="Line 1528: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1528</span>                 :                :  *  We allow negative 'scale', implying rounding before the decimal</span>
<span id="L1529" title="Line 1529: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1529</span>                 :                :  *  point --- Oracle interprets rounding that way.</span>
<span id="L1530" title="Line 1530: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1530</span>                 :                :  */</span>
<span id="L1531" title="Line 1531: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1531</span>                 :                : Datum</span>
<span id="L1532" title="Line 1532: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us"> <a href="#L1957" title="next CBC in &ldquo;(360..) days&rdquo; bin">9205</a> <a href="#L1559" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1532</span>                 :<a href="#L1865" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        3904 : numeric_round(PG_FUNCTION_ARGS)</span></span>
<span id="L1533" title="Line 1533: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1533</span>                 :                : {</span>
<span id="L1534" title="Line 1534: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1534</span>                 :<span class="tlaCBC">           3904 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L1535" title="Line 1535: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1535</span>                 :<span class="tlaCBC">           3904 :     int32       scale = PG_GETARG_INT32(1);</span></span>
<span id="L1536" title="Line 1536: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1536</span>                 :                :     Numeric     res;</span>
<span id="L1537" title="Line 1537: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1537</span>                 :                :     NumericVar  arg;</span>
<span id="L1538" title="Line 1538: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1538</span>                 :                : </span>
<span id="L1539" title="Line 1539: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1539</span>                 :                :     /*</span>
<span id="L1540" title="Line 1540: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1540</span>                 :                :      * Handle NaN and infinities</span>
<span id="L1541" title="Line 1541: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1541</span>                 :                :      */</span>
<span id="L1542" title="Line 1542: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    1542</span>         [<span class="tlaCBC"> <a href="#L1565" title="CBC: Branch 0 was taken 48 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1565" title="CBC: Branch 1 was taken 3856 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3904 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L1543" title="Line 1543: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1543</span>                 :<span class="tlaCBC">             48 :         PG_RETURN_NUMERIC(duplicate_numeric(num));</span></span>
<span id="L1544" title="Line 1544: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1544</span>                 :                : </span>
<span id="L1545" title="Line 1545: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1545</span>                 :                :     /*</span>
<span id="L1546" title="Line 1546: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1546</span>                 :                :      * Limit the scale value to avoid possible overflow in calculations.</span>
<span id="L1547" title="Line 1547: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1547</span>                 :                :      *</span>
<span id="L1548" title="Line 1548: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1548</span>                 :                :      * These limits are based on the maximum number of digits a Numeric value</span>
<span id="L1549" title="Line 1549: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1549</span>                 :                :      * can have before and after the decimal point, but we must allow for one</span>
<span id="L1550" title="Line 1550: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1550</span>                 :                :      * extra digit before the decimal point, in case the most significant</span>
<span id="L1551" title="Line 1551: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1551</span>                 :                :      * digit rounds up; we must check if that causes Numeric overflow.</span>
<span id="L1552" title="Line 1552: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1552</span>                 :                :      */</span>
<span id="L1553" title="Line 1553: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">  414 <a href="#L1605" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    1553</span>                 :<span class="tlaCBC">           3856 :     scale = Max(scale, -(NUMERIC_WEIGHT_MAX + 1) * DEC_DIGITS - 1);</span></span>
<span id="L1554" title="Line 1554: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1554</span>                 :<span class="tlaCBC">           3856 :     scale = Min(scale, NUMERIC_DSCALE_MAX);</span></span>
<span id="L1555" title="Line 1555: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1555</span>                 :                : </span>
<span id="L1556" title="Line 1556: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1556</span>                 :                :     /*</span>
<span id="L1557" title="Line 1557: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1557</span>                 :                :      * Unpack the argument and round it at the proper digit position</span>
<span id="L1558" title="Line 1558: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1558</span>                 :                :      */</span>
<span id="L1559" title="Line 1559: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us"> 9297 <a href="#L1614" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1559</span>                 :<span class="tlaCBC">           3856 :     init_var(&amp;arg);</span></span>
<span id="L1560" title="Line 1560: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1560</span>                 :<span class="tlaCBC">           3856 :     set_var_from_num(num, &amp;arg);</span></span>
<span id="L1561" title="Line 1561: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1561</span>                 :                : </span>
<span id="L1562" title="Line 1562: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">    1562</span>                 :<span class="tlaCBC">           3856 :     round_var(&amp;arg, scale);</span></span>
<span id="L1563" title="Line 1563: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1563</span>                 :                : </span>
<span id="L1564" title="Line 1564: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1564</span>                 :                :     /* We don't allow negative output dscale */</span>
<span id="L1565" title="Line 1565: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1565</span>         [<span class="tlaCBC"> <a href="#L1596" title="CBC: Branch 0 was taken 108 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1596" title="CBC: Branch 1 was taken 3748 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3856 :     if (scale &lt; 0)</span></span>
<span id="L1566" title="Line 1566: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1566</span>                 :<span class="tlaCBC">            108 :         arg.dscale = 0;</span></span>
<span id="L1567" title="Line 1567: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1567</span>                 :                : </span>
<span id="L1568" title="Line 1568: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1568</span>                 :                :     /*</span>
<span id="L1569" title="Line 1569: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1569</span>                 :                :      * Return the rounded result</span>
<span id="L1570" title="Line 1570: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1570</span>                 :                :      */</span>
<span id="L1571" title="Line 1571: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us"> 9297                      <span class="lineNum">    1571</span>                 :<span class="tlaCBC">           3856 :     res = make_result(&amp;arg);</span></span>
<span id="L1572" title="Line 1572: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1572</span>                 :                : </span>
<span id="L1573" title="Line 1573: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1573</span>                 :<span class="tlaCBC">           3853 :     free_var(&amp;arg);</span></span>
<span id="L1574" title="Line 1574: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us"> 9205                      <span class="lineNum">    1574</span>                 :<span class="tlaCBC">           3853 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L1575" title="Line 1575: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1575</span>                 :                : }</span>
<span id="L1576" title="Line 1576: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1576</span>                 :                : </span>
<span id="L1577" title="Line 1577: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1577</span>                 :                : </span>
<span id="L1578" title="Line 1578: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1578</span>                 :                : /*</span>
<span id="L1579" title="Line 1579: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1579</span>                 :                :  * numeric_trunc() -</span>
<span id="L1580" title="Line 1580: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1580</span>                 :                :  *</span>
<span id="L1581" title="Line 1581: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1581</span>                 :                :  *  Truncate a value to have 'scale' digits after the decimal point.</span>
<span id="L1582" title="Line 1582: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1582</span>                 :                :  *  We allow negative 'scale', implying a truncation before the decimal</span>
<span id="L1583" title="Line 1583: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1583</span>                 :                :  *  point --- Oracle interprets truncation that way.</span>
<span id="L1584" title="Line 1584: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1584</span>                 :                :  */</span>
<span id="L1585" title="Line 1585: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1585</span>                 :                : Datum</span>
<span id="L1586" title="Line 1586: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1586</span>                 :<span class="tlaCBC">            313 : numeric_trunc(PG_FUNCTION_ARGS)</span></span>
<span id="L1587" title="Line 1587: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1587</span>                 :                : {</span>
<span id="L1588" title="Line 1588: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1588</span>                 :<span class="tlaCBC">            313 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L1589" title="Line 1589: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1589</span>                 :<span class="tlaCBC">            313 :     int32       scale = PG_GETARG_INT32(1);</span></span>
<span id="L1590" title="Line 1590: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    1590</span>                 :                :     Numeric     res;</span>
<span id="L1591" title="Line 1591: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    1591</span>                 :                :     NumericVar  arg;</span>
<span id="L1592" title="Line 1592: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1592</span>                 :                : </span>
<span id="L1593" title="Line 1593: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1593</span>                 :                :     /*</span>
<span id="L1594" title="Line 1594: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1594</span>                 :                :      * Handle NaN and infinities</span>
<span id="L1595" title="Line 1595: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1595</span>                 :                :      */</span>
<span id="L1596" title="Line 1596: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    1596</span>         [<span class="tlaCBC"> <a href="#L1617" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1617" title="CBC: Branch 1 was taken 295 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            313 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L1597" title="Line 1597: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1597</span>                 :<span class="tlaCBC">             18 :         PG_RETURN_NUMERIC(duplicate_numeric(num));</span></span>
<span id="L1598" title="Line 1598: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1598</span>                 :                : </span>
<span id="L1599" title="Line 1599: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1599</span>                 :                :     /*</span>
<span id="L1600" title="Line 1600: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1600</span>                 :                :      * Limit the scale value to avoid possible overflow in calculations.</span>
<span id="L1601" title="Line 1601: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1601</span>                 :                :      *</span>
<span id="L1602" title="Line 1602: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1602</span>                 :                :      * These limits are based on the maximum number of digits a Numeric value</span>
<span id="L1603" title="Line 1603: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1603</span>                 :                :      * can have before and after the decimal point.</span>
<span id="L1604" title="Line 1604: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1604</span>                 :                :      */</span>
<span id="L1605" title="Line 1605: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">  414 <a href="#L1824" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    1605</span>                 :<span class="tlaCBC">            295 :     scale = Max(scale, -(NUMERIC_WEIGHT_MAX + 1) * DEC_DIGITS);</span></span>
<span id="L1606" title="Line 1606: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1606</span>                 :<span class="tlaCBC">            295 :     scale = Min(scale, NUMERIC_DSCALE_MAX);</span></span>
<span id="L1607" title="Line 1607: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1607</span>                 :                : </span>
<span id="L1608" title="Line 1608: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1608</span>                 :                :     /*</span>
<span id="L1609" title="Line 1609: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1609</span>                 :                :      * Unpack the argument and truncate it at the proper digit position</span>
<span id="L1610" title="Line 1610: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1610</span>                 :                :      */</span>
<span id="L1611" title="Line 1611: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L1623" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    1611</span>                 :<span class="tlaCBC">            295 :     init_var(&amp;arg);</span></span>
<span id="L1612" title="Line 1612: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1612</span>                 :<span class="tlaCBC">            295 :     set_var_from_num(num, &amp;arg);</span></span>
<span id="L1613" title="Line 1613: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1613</span>                 :                : </span>
<span id="L1614" title="Line 1614: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L1626" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1614</span>                 :<span class="tlaCBC">            295 :     trunc_var(&amp;arg, scale);</span></span>
<span id="L1615" title="Line 1615: commit e631df3c1beb on 2000-03-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1615</span>                 :                : </span>
<span id="L1616" title="Line 1616: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1616</span>                 :                :     /* We don't allow negative output dscale */</span>
<span id="L1617" title="Line 1617: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1617</span>         [<span class="tlaCBC"> <a href="#L1645" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1645" title="CBC: Branch 1 was taken 283 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            295 :     if (scale &lt; 0)</span></span>
<span id="L1618" title="Line 1618: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1618</span>                 :<span class="tlaCBC">             12 :         arg.dscale = 0;</span></span>
<span id="L1619" title="Line 1619: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1619</span>                 :                : </span>
<span id="L1620" title="Line 1620: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    1620</span>                 :                :     /*</span>
<span id="L1621" title="Line 1621: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1621</span>                 :                :      * Return the truncated result</span>
<span id="L1622" title="Line 1622: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1622</span>                 :                :      */</span>
<span id="L1623" title="Line 1623: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L1649" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    1623</span>                 :<span class="tlaCBC">            295 :     res = make_result(&amp;arg);</span></span>
<span id="L1624" title="Line 1624: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1624</span>                 :                : </span>
<span id="L1625" title="Line 1625: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1625</span>                 :<span class="tlaCBC">            295 :     free_var(&amp;arg);</span></span>
<span id="L1626" title="Line 1626: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us"> 9205 <a href="#L1654" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1626</span>                 :<span class="tlaCBC">            295 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L1627" title="Line 1627: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1627</span>                 :                : }</span>
<span id="L1628" title="Line 1628: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1628</span>                 :                : </span>
<span id="L1629" title="Line 1629: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1629</span>                 :                : </span>
<span id="L1630" title="Line 1630: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1630</span>                 :                : /*</span>
<span id="L1631" title="Line 1631: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1631</span>                 :                :  * numeric_ceil() -</span>
<span id="L1632" title="Line 1632: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1632</span>                 :                :  *</span>
<span id="L1633" title="Line 1633: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1633</span>                 :                :  *  Return the smallest integer greater than or equal to the argument</span>
<span id="L1634" title="Line 1634: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1634</span>                 :                :  */</span>
<span id="L1635" title="Line 1635: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1635</span>                 :                : Datum</span>
<span id="L1636" title="Line 1636: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159                      <span class="lineNum">    1636</span>                 :<span class="tlaCBC">            111 : numeric_ceil(PG_FUNCTION_ARGS)</span></span>
<span id="L1637" title="Line 1637: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1637</span>                 :                : {</span>
<span id="L1638" title="Line 1638: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1638</span>                 :<span class="tlaCBC">            111 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L1639" title="Line 1639: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1639</span>                 :                :     Numeric     res;</span>
<span id="L1640" title="Line 1640: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1640</span>                 :                :     NumericVar  result;</span>
<span id="L1641" title="Line 1641: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1641</span>                 :                : </span>
<span id="L1642" title="Line 1642: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1642</span>                 :                :     /*</span>
<span id="L1643" title="Line 1643: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1643</span>                 :                :      * Handle NaN and infinities</span>
<span id="L1644" title="Line 1644: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1644</span>                 :                :      */</span>
<span id="L1645" title="Line 1645: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    1645</span>         [<span class="tlaCBC"> <a href="#L1673" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1673" title="CBC: Branch 1 was taken 102 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            111 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L1646" title="Line 1646: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1646</span>                 :<span class="tlaCBC">              9 :         PG_RETURN_NUMERIC(duplicate_numeric(num));</span></span>
<span id="L1647" title="Line 1647: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1647</span>                 :                : </span>
<span id="L1648" title="Line 1648: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L1676" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    1648</span>                 :<span class="tlaCBC">            102 :     init_var_from_num(num, &amp;result);</span></span>
<span id="L1649" title="Line 1649: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L1677" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    1649</span>                 :<span class="tlaCBC">            102 :     ceil_var(&amp;result, &amp;result);</span></span>
<span id="L1650" title="Line 1650: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1650</span>                 :                : </span>
<span id="L1651" title="Line 1651: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1651</span>                 :<span class="tlaCBC">            102 :     res = make_result(&amp;result);</span></span>
<span id="L1652" title="Line 1652: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1652</span>                 :<span class="tlaCBC">            102 :     free_var(&amp;result);</span></span>
<span id="L1653" title="Line 1653: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1653</span>                 :                : </span>
<span id="L1654" title="Line 1654: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L1682" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1654</span>                 :<span class="tlaCBC">            102 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L1655" title="Line 1655: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1655</span>                 :                : }</span>
<span id="L1656" title="Line 1656: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1656</span>                 :                : </span>
<span id="L1657" title="Line 1657: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1657</span>                 :                : </span>
<span id="L1658" title="Line 1658: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1658</span>                 :                : /*</span>
<span id="L1659" title="Line 1659: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1659</span>                 :                :  * numeric_floor() -</span>
<span id="L1660" title="Line 1660: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1660</span>                 :                :  *</span>
<span id="L1661" title="Line 1661: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1661</span>                 :                :  *  Return the largest integer equal to or less than the argument</span>
<span id="L1662" title="Line 1662: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1662</span>                 :                :  */</span>
<span id="L1663" title="Line 1663: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1663</span>                 :                : Datum</span>
<span id="L1664" title="Line 1664: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1664</span>                 :<span class="tlaCBC">             63 : numeric_floor(PG_FUNCTION_ARGS)</span></span>
<span id="L1665" title="Line 1665: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1665</span>                 :                : {</span>
<span id="L1666" title="Line 1666: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1666</span>                 :<span class="tlaCBC">             63 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L1667" title="Line 1667: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1667</span>                 :                :     Numeric     res;</span>
<span id="L1668" title="Line 1668: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1668</span>                 :                :     NumericVar  result;</span>
<span id="L1669" title="Line 1669: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1669</span>                 :                : </span>
<span id="L1670" title="Line 1670: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1670</span>                 :                :     /*</span>
<span id="L1671" title="Line 1671: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1671</span>                 :                :      * Handle NaN and infinities</span>
<span id="L1672" title="Line 1672: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1672</span>                 :                :      */</span>
<span id="L1673" title="Line 1673: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    1673</span>         [<span class="tlaCBC"> <a href="#L1704" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1704" title="CBC: Branch 1 was taken 54 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             63 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L1674" title="Line 1674: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1674</span>                 :<span class="tlaCBC">              9 :         PG_RETURN_NUMERIC(duplicate_numeric(num));</span></span>
<span id="L1675" title="Line 1675: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1675</span>                 :                : </span>
<span id="L1676" title="Line 1676: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L2048" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    1676</span>                 :<span class="tlaCBC">             54 :     init_var_from_num(num, &amp;result);</span></span>
<span id="L1677" title="Line 1677: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L2932" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    1677</span>                 :<span class="tlaCBC">             54 :     floor_var(&amp;result, &amp;result);</span></span>
<span id="L1678" title="Line 1678: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1678</span>                 :                : </span>
<span id="L1679" title="Line 1679: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1679</span>                 :<span class="tlaCBC">             54 :     res = make_result(&amp;result);</span></span>
<span id="L1680" title="Line 1680: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1680</span>                 :<span class="tlaCBC">             54 :     free_var(&amp;result);</span></span>
<span id="L1681" title="Line 1681: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1681</span>                 :                : </span>
<span id="L1682" title="Line 1682: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L1711" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1682</span>                 :<span class="tlaCBC">             54 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L1683" title="Line 1683: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1683</span>                 :                : }</span>
<span id="L1684" title="Line 1684: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    1684</span>                 :                : </span>
<span id="L1685" title="Line 1685: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1685</span>                 :                : </span>
<span id="L1686" title="Line 1686: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1686</span>                 :                : /*</span>
<span id="L1687" title="Line 1687: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1687</span>                 :                :  * generate_series_numeric() -</span>
<span id="L1688" title="Line 1688: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1688</span>                 :                :  *</span>
<span id="L1689" title="Line 1689: commit 2e211211a767 on 2015-02-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1689</span>                 :                :  *  Generate series of numeric.</span>
<span id="L1690" title="Line 1690: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1690</span>                 :                :  */</span>
<span id="L1691" title="Line 1691: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1691</span>                 :                : Datum</span>
<span id="L1692" title="Line 1692: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org"> 3941 <a href="#L1735" title="next CBC in &ldquo;fujii@postgresql.org&rdquo; bin">fujii@postgresql.org</a> <span class="lineNum">    1692</span>                 :<span class="tlaCBC">          60192 : generate_series_numeric(PG_FUNCTION_ARGS)</span></span>
<span id="L1693" title="Line 1693: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1693</span>                 :                : {</span>
<span id="L1694" title="Line 1694: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1694</span>                 :<span class="tlaCBC">          60192 :     return generate_series_step_numeric(fcinfo);</span></span>
<span id="L1695" title="Line 1695: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1695</span>                 :                : }</span>
<span id="L1696" title="Line 1696: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1696</span>                 :                : </span>
<span id="L1697" title="Line 1697: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1697</span>                 :                : Datum</span>
<span id="L1698" title="Line 1698: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1698</span>                 :<span class="tlaCBC">          60417 : generate_series_step_numeric(PG_FUNCTION_ARGS)</span></span>
<span id="L1699" title="Line 1699: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1699</span>                 :                : {</span>
<span id="L1700" title="Line 1700: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1700</span>                 :                :     generate_series_numeric_fctx *fctx;</span>
<span id="L1701" title="Line 1701: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1701</span>                 :                :     FuncCallContext *funcctx;</span>
<span id="L1702" title="Line 1702: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1702</span>                 :                :     MemoryContext oldcontext;</span>
<span id="L1703" title="Line 1703: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1703</span>                 :                : </span>
<span id="L1704" title="Line 1704: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1704</span>         [<span class="tlaCBC"> <a href="#L1711" title="CBC: Branch 0 was taken 87 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1711" title="CBC: Branch 1 was taken 60330 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          60417 :     if (SRF_IS_FIRSTCALL())</span></span>
<span id="L1705" title="Line 1705: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1705</span>                 :                :     {</span>
<span id="L1706" title="Line 1706: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1706</span>                 :<span class="tlaCBC">             87 :         Numeric     start_num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L1707" title="Line 1707: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1707</span>                 :<span class="tlaCBC">             87 :         Numeric     stop_num = PG_GETARG_NUMERIC(1);</span></span>
<span id="L1708" title="Line 1708: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1708</span>                 :<span class="tlaCBC">             87 :         NumericVar  steploc = const_one;</span></span>
<span id="L1709" title="Line 1709: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1709</span>                 :                : </span>
<span id="L1710" title="Line 1710: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1710</span>                 :                :         /* Reject NaN and infinities in start and stop values */</span>
<span id="L1711" title="Line 1711: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L1737" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1711</span>         [<span class="tlaCBC"> <a href="#L1713" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1713" title="CBC: Branch 1 was taken 81 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             87 :         if (NUMERIC_IS_SPECIAL(start_num))</span></span>
<span id="L1712" title="Line 1712: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1712</span>                 :                :         {</span>
<span id="L1713" title="Line 1713: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1713</span>         [<span class="tlaCBC"> <a href="#L1714" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1714" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              6 :             if (NUMERIC_IS_NAN(start_num))</span></span>
<span id="L1714" title="Line 1714: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1714</span>         [<span class="tlaCBC"> <a href="#L1718" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1718" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :                 ereport(ERROR,</span></span>
<span id="L1715" title="Line 1715: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1715</span>                 :                :                         (errcode(ERRCODE_INVALID_PARAMETER_VALUE),</span>
<span id="L1716" title="Line 1716: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1716</span>                 :                :                          errmsg(&quot;start value cannot be NaN&quot;)));</span>
<span id="L1717" title="Line 1717: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1717</span>                 :                :             else</span>
<span id="L1718" title="Line 1718: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1718</span>         [<span class="tlaCBC"> <a href="#L1722" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1725" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :                 ereport(ERROR,</span></span>
<span id="L1719" title="Line 1719: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1719</span>                 :                :                         (errcode(ERRCODE_INVALID_PARAMETER_VALUE),</span>
<span id="L1720" title="Line 1720: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1720</span>                 :                :                          errmsg(&quot;start value cannot be infinity&quot;)));</span>
<span id="L1721" title="Line 1721: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1721</span>                 :                :         }</span>
<span id="L1722" title="Line 1722: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1722</span>         [<span class="tlaCBC"> <a href="#L1724" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1724" title="CBC: Branch 1 was taken 75 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             81 :         if (NUMERIC_IS_SPECIAL(stop_num))</span></span>
<span id="L1723" title="Line 1723: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1723</span>                 :                :         {</span>
<span id="L1724" title="Line 1724: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1724</span>         [<span class="tlaCBC"> <a href="#L1725" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1725" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              6 :             if (NUMERIC_IS_NAN(stop_num))</span></span>
<span id="L1725" title="Line 1725: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1725</span>         [<span class="tlaCBC"> <a href="#L1729" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1729" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :                 ereport(ERROR,</span></span>
<span id="L1726" title="Line 1726: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1726</span>                 :                :                         (errcode(ERRCODE_INVALID_PARAMETER_VALUE),</span>
<span id="L1727" title="Line 1727: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1727</span>                 :                :                          errmsg(&quot;stop value cannot be NaN&quot;)));</span>
<span id="L1728" title="Line 1728: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1728</span>                 :                :             else</span>
<span id="L1729" title="Line 1729: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1729</span>         [<span class="tlaCBC"> <a href="#L1735" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1742" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :                 ereport(ERROR,</span></span>
<span id="L1730" title="Line 1730: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1730</span>                 :                :                         (errcode(ERRCODE_INVALID_PARAMETER_VALUE),</span>
<span id="L1731" title="Line 1731: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1731</span>                 :                :                          errmsg(&quot;stop value cannot be infinity&quot;)));</span>
<span id="L1732" title="Line 1732: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1732</span>                 :                :         }</span>
<span id="L1733" title="Line 1733: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1733</span>                 :                : </span>
<span id="L1734" title="Line 1734: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1734</span>                 :                :         /* see if we were given an explicit step size */</span>
<span id="L1735" title="Line 1735: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org"> 3941 <a href="#L1751" title="next CBC in &ldquo;fujii@postgresql.org&rdquo; bin">fujii@postgresql.org</a> <span class="lineNum">    1735</span>         [<span class="tlaCBC"> <a href="#L1739" title="CBC: Branch 0 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1739" title="CBC: Branch 1 was taken 39 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             75 :         if (PG_NARGS() == 3)</span></span>
<span id="L1736" title="Line 1736: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1736</span>                 :                :         {</span>
<span id="L1737" title="Line 1737: commit 2e211211a767 on 2015-02-21 by tgl@sss.pgh.pa.us"> 3839 <a href="#L1803" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1737</span>                 :<span class="tlaCBC">             36 :             Numeric     step_num = PG_GETARG_NUMERIC(2);</span></span>
<span id="L1738" title="Line 1738: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1738</span>                 :                : </span>
<span id="L1739" title="Line 1739: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    1739</span>         [<span class="tlaCBC"> <a href="#L1741" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1741" title="CBC: Branch 1 was taken 30 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             36 :             if (NUMERIC_IS_SPECIAL(step_num))</span></span>
<span id="L1740" title="Line 1740: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1740</span>                 :                :             {</span>
<span id="L1741" title="Line 1741: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1741</span>         [<span class="tlaCBC"> <a href="#L1742" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1742" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              6 :                 if (NUMERIC_IS_NAN(step_num))</span></span>
<span id="L1742" title="Line 1742: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1742</span>         [<span class="tlaCBC"> <a href="#L1746" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1746" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :                     ereport(ERROR,</span></span>
<span id="L1743" title="Line 1743: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1743</span>                 :                :                             (errcode(ERRCODE_INVALID_PARAMETER_VALUE),</span>
<span id="L1744" title="Line 1744: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1744</span>                 :                :                              errmsg(&quot;step size cannot be NaN&quot;)));</span>
<span id="L1745" title="Line 1745: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1745</span>                 :                :                 else</span>
<span id="L1746" title="Line 1746: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1746</span>         [<span class="tlaCBC"> <a href="#L1753" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1754" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :                     ereport(ERROR,</span></span>
<span id="L1747" title="Line 1747: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1747</span>                 :                :                             (errcode(ERRCODE_INVALID_PARAMETER_VALUE),</span>
<span id="L1748" title="Line 1748: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1748</span>                 :                :                              errmsg(&quot;step size cannot be infinity&quot;)));</span>
<span id="L1749" title="Line 1749: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1749</span>                 :                :             }</span>
<span id="L1750" title="Line 1750: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1750</span>                 :                : </span>
<span id="L1751" title="Line 1751: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org"> 3941 <a href="#L1806" title="next CBC in &ldquo;fujii@postgresql.org&rdquo; bin">fujii@postgresql.org</a> <span class="lineNum">    1751</span>                 :<span class="tlaCBC">             30 :             init_var_from_num(step_num, &amp;steploc);</span></span>
<span id="L1752" title="Line 1752: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1752</span>                 :                : </span>
<span id="L1753" title="Line 1753: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1753</span>         [<span class="tlaCBC"> <a href="#L1754" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1754" title="CBC: Branch 1 was taken 27 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             30 :             if (cmp_var(&amp;steploc, &amp;const_zero) == 0)</span></span>
<span id="L1754" title="Line 1754: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1754</span>         [<span class="tlaCBC"> <a href="#L1798" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1834" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :                 ereport(ERROR,</span></span>
<span id="L1755" title="Line 1755: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1755</span>                 :                :                         (errcode(ERRCODE_INVALID_PARAMETER_VALUE),</span>
<span id="L1756" title="Line 1756: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1756</span>                 :                :                          errmsg(&quot;step size cannot equal zero&quot;)));</span>
<span id="L1757" title="Line 1757: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1757</span>                 :                :         }</span>
<span id="L1758" title="Line 1758: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1758</span>                 :                : </span>
<span id="L1759" title="Line 1759: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1759</span>                 :                :         /* create a function context for cross-call persistence */</span>
<span id="L1760" title="Line 1760: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1760</span>                 :<span class="tlaCBC">             66 :         funcctx = SRF_FIRSTCALL_INIT();</span></span>
<span id="L1761" title="Line 1761: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1761</span>                 :                : </span>
<span id="L1762" title="Line 1762: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1762</span>                 :                :         /*</span>
<span id="L1763" title="Line 1763: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1763</span>                 :                :          * Switch to memory context appropriate for multiple function calls.</span>
<span id="L1764" title="Line 1764: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1764</span>                 :                :          */</span>
<span id="L1765" title="Line 1765: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1765</span>                 :<span class="tlaCBC">             66 :         oldcontext = MemoryContextSwitchTo(funcctx-&gt;multi_call_memory_ctx);</span></span>
<span id="L1766" title="Line 1766: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1766</span>                 :                : </span>
<span id="L1767" title="Line 1767: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1767</span>                 :                :         /* allocate memory for user context */</span>
<span id="L1768" title="Line 1768: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1768</span>                 :                :         fctx = (generate_series_numeric_fctx *)</span>
<span id="L1769" title="Line 1769: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1769</span>                 :<span class="tlaCBC">             66 :             palloc(sizeof(generate_series_numeric_fctx));</span></span>
<span id="L1770" title="Line 1770: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1770</span>                 :                : </span>
<span id="L1771" title="Line 1771: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1771</span>                 :                :         /*</span>
<span id="L1772" title="Line 1772: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1772</span>                 :                :          * Use fctx to keep state from call to call. Seed current with the</span>
<span id="L1773" title="Line 1773: commit 19e065c0492c on 2014-12-18 by fujii@postgresql.org">                           <span class="lineNum">    1773</span>                 :                :          * original start value. We must copy the start_num and stop_num</span>
<span id="L1774" title="Line 1774: commit 19e065c0492c on 2014-12-18 by fujii@postgresql.org">                           <span class="lineNum">    1774</span>                 :                :          * values rather than pointing to them, since we may have detoasted</span>
<span id="L1775" title="Line 1775: commit 19e065c0492c on 2014-12-18 by fujii@postgresql.org">                           <span class="lineNum">    1775</span>                 :                :          * them in the per-call context.</span>
<span id="L1776" title="Line 1776: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1776</span>                 :                :          */</span>
<span id="L1777" title="Line 1777: commit 19e065c0492c on 2014-12-18 by fujii@postgresql.org"> 3904                      <span class="lineNum">    1777</span>                 :<span class="tlaCBC">             66 :         init_var(&amp;fctx-&gt;current);</span></span>
<span id="L1778" title="Line 1778: commit 19e065c0492c on 2014-12-18 by fujii@postgresql.org">                           <span class="lineNum">    1778</span>                 :<span class="tlaCBC">             66 :         init_var(&amp;fctx-&gt;stop);</span></span>
<span id="L1779" title="Line 1779: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org"> 3941                      <span class="lineNum">    1779</span>                 :<span class="tlaCBC">             66 :         init_var(&amp;fctx-&gt;step);</span></span>
<span id="L1780" title="Line 1780: commit 19e065c0492c on 2014-12-18 by fujii@postgresql.org">                           <span class="lineNum">    1780</span>                 :                : </span>
<span id="L1781" title="Line 1781: commit 19e065c0492c on 2014-12-18 by fujii@postgresql.org"> 3904                      <span class="lineNum">    1781</span>                 :<span class="tlaCBC">             66 :         set_var_from_num(start_num, &amp;fctx-&gt;current);</span></span>
<span id="L1782" title="Line 1782: commit 19e065c0492c on 2014-12-18 by fujii@postgresql.org">                           <span class="lineNum">    1782</span>                 :<span class="tlaCBC">             66 :         set_var_from_num(stop_num, &amp;fctx-&gt;stop);</span></span>
<span id="L1783" title="Line 1783: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org"> 3941                      <span class="lineNum">    1783</span>                 :<span class="tlaCBC">             66 :         set_var_from_var(&amp;steploc, &amp;fctx-&gt;step);</span></span>
<span id="L1784" title="Line 1784: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1784</span>                 :                : </span>
<span id="L1785" title="Line 1785: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1785</span>                 :<span class="tlaCBC">             66 :         funcctx-&gt;user_fctx = fctx;</span></span>
<span id="L1786" title="Line 1786: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1786</span>                 :<span class="tlaCBC">             66 :         MemoryContextSwitchTo(oldcontext);</span></span>
<span id="L1787" title="Line 1787: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1787</span>                 :                :     }</span>
<span id="L1788" title="Line 1788: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1788</span>                 :                : </span>
<span id="L1789" title="Line 1789: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1789</span>                 :                :     /* stuff done on every call of the function */</span>
<span id="L1790" title="Line 1790: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1790</span>                 :<span class="tlaCBC">          60396 :     funcctx = SRF_PERCALL_SETUP();</span></span>
<span id="L1791" title="Line 1791: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1791</span>                 :                : </span>
<span id="L1792" title="Line 1792: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1792</span>                 :                :     /*</span>
<span id="L1793" title="Line 1793: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1793</span>                 :                :      * Get the saved state and use current state as the result of this</span>
<span id="L1794" title="Line 1794: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1794</span>                 :                :      * iteration.</span>
<span id="L1795" title="Line 1795: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1795</span>                 :                :      */</span>
<span id="L1796" title="Line 1796: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1796</span>                 :<span class="tlaCBC">          60396 :     fctx = funcctx-&gt;user_fctx;</span></span>
<span id="L1797" title="Line 1797: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1797</span>                 :                : </span>
<span id="L1798" title="Line 1798: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1798</span>   [<span class="tlaCBC"> <a href="#L1800" title="CBC: Branch 0 was taken 60306 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1800" title="CBC: Branch 1 was taken 90 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1800" title="CBC: Branch 2 was taken 60 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1800" title="CBC: Branch 3 was taken 60246 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         120702 :     if ((fctx-&gt;step.sign == NUMERIC_POS &amp;&amp;</span></span>
<span id="L1799" title="Line 1799: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1799</span>                 :<span class="tlaCBC">          60306 :          cmp_var(&amp;fctx-&gt;current, &amp;fctx-&gt;stop) &lt;= 0) ||</span></span>
<span id="L1800" title="Line 1800: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1800</span>   [<span class="tlaCBC"> <a href="#L1829" title="CBC: Branch 0 was taken 90 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1829" title="CBC: Branch 1 was taken 60 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1829" title="CBC: Branch 2 was taken 84 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1829" title="CBC: Branch 3 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            240 :         (fctx-&gt;step.sign == NUMERIC_NEG &amp;&amp;</span></span>
<span id="L1801" title="Line 1801: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1801</span>                 :<span class="tlaCBC">             90 :          cmp_var(&amp;fctx-&gt;current, &amp;fctx-&gt;stop) &gt;= 0))</span></span>
<span id="L1802" title="Line 1802: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1802</span>                 :                :     {</span>
<span id="L1803" title="Line 1803: commit 2e211211a767 on 2015-02-21 by tgl@sss.pgh.pa.us"> 3839 <a href="#L1975" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1803</span>                 :<span class="tlaCBC">          60330 :         Numeric     result = make_result(&amp;fctx-&gt;current);</span></span>
<span id="L1804" title="Line 1804: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1804</span>                 :                : </span>
<span id="L1805" title="Line 1805: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1805</span>                 :                :         /* switch to memory context appropriate for iteration calculation */</span>
<span id="L1806" title="Line 1806: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org"> 3941 <a href="#L4761" title="next CBC in &ldquo;fujii@postgresql.org&rdquo; bin">fujii@postgresql.org</a> <span class="lineNum">    1806</span>                 :<span class="tlaCBC">          60330 :         oldcontext = MemoryContextSwitchTo(funcctx-&gt;multi_call_memory_ctx);</span></span>
<span id="L1807" title="Line 1807: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1807</span>                 :                : </span>
<span id="L1808" title="Line 1808: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1808</span>                 :                :         /* increment current in preparation for next iteration */</span>
<span id="L1809" title="Line 1809: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1809</span>                 :<span class="tlaCBC">          60330 :         add_var(&amp;fctx-&gt;current, &amp;fctx-&gt;step, &amp;fctx-&gt;current);</span></span>
<span id="L1810" title="Line 1810: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1810</span>                 :<span class="tlaCBC">          60330 :         MemoryContextSwitchTo(oldcontext);</span></span>
<span id="L1811" title="Line 1811: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1811</span>                 :                : </span>
<span id="L1812" title="Line 1812: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1812</span>                 :                :         /* do when there is more left to send */</span>
<span id="L1813" title="Line 1813: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1813</span>                 :<span class="tlaCBC">          60330 :         SRF_RETURN_NEXT(funcctx, NumericGetDatum(result));</span></span>
<span id="L1814" title="Line 1814: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1814</span>                 :                :     }</span>
<span id="L1815" title="Line 1815: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1815</span>                 :                :     else</span>
<span id="L1816" title="Line 1816: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1816</span>                 :                :         /* do when there is no more left */</span>
<span id="L1817" title="Line 1817: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1817</span>                 :<span class="tlaCBC">             66 :         SRF_RETURN_DONE(funcctx);</span></span>
<span id="L1818" title="Line 1818: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1818</span>                 :                : }</span>
<span id="L1819" title="Line 1819: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1819</span>                 :                : </span>
<span id="L1820" title="Line 1820: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1820</span>                 :                : /*</span>
<span id="L1821" title="Line 1821: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1821</span>                 :                :  * Planner support function for generate_series(numeric, numeric [, numeric])</span>
<span id="L1822" title="Line 1822: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1822</span>                 :                :  */</span>
<span id="L1823" title="Line 1823: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1823</span>                 :                : Datum</span>
<span id="L1824" title="Line 1824: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">  <a href="#L1865" title="next CBC in &ldquo;(30,360] days&rdquo; bin">267</a> <a href="#L1865" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    1824</span>                 :<span class="tlaCBC">            243 : generate_series_numeric_support(PG_FUNCTION_ARGS)</span></span>
<span id="L1825" title="Line 1825: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1825</span>                 :                : {</span>
<span id="L1826" title="Line 1826: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1826</span>                 :<span class="tlaCBC">            243 :     Node       *rawreq = (Node *) PG_GETARG_POINTER(0);</span></span>
<span id="L1827" title="Line 1827: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1827</span>                 :<span class="tlaCBC">            243 :     Node       *ret = NULL;</span></span>
<span id="L1828" title="Line 1828: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1828</span>                 :                : </span>
<span id="L1829" title="Line 1829: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1829</span>         [<span class="tlaCBC"> <a href="#L1834" title="CBC: Branch 0 was taken 78 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1834" title="CBC: Branch 1 was taken 165 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            243 :     if (IsA(rawreq, SupportRequestRows))</span></span>
<span id="L1830" title="Line 1830: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1830</span>                 :                :     {</span>
<span id="L1831" title="Line 1831: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1831</span>                 :                :         /* Try to estimate the number of rows returned */</span>
<span id="L1832" title="Line 1832: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1832</span>                 :<span class="tlaCBC">             78 :         SupportRequestRows *req = (SupportRequestRows *) rawreq;</span></span>
<span id="L1833" title="Line 1833: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1833</span>                 :                : </span>
<span id="L1834" title="Line 1834: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1834</span>         [<span class="tlaCBC"> <a href="#L1844" title="CBC: Branch 0 was taken 78 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1856" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             78 :         if (is_funcclause(req-&gt;node))    /* be paranoid */</span></span>
<span id="L1835" title="Line 1835: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1835</span>                 :                :         {</span>
<span id="L1836" title="Line 1836: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1836</span>                 :<span class="tlaCBC">             78 :             List       *args = ((FuncExpr *) req-&gt;node)-&gt;args;</span></span>
<span id="L1837" title="Line 1837: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1837</span>                 :                :             Node       *arg1,</span>
<span id="L1838" title="Line 1838: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1838</span>                 :                :                        *arg2,</span>
<span id="L1839" title="Line 1839: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1839</span>                 :                :                        *arg3;</span>
<span id="L1840" title="Line 1840: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1840</span>                 :                : </span>
<span id="L1841" title="Line 1841: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1841</span>                 :                :             /* We can use estimated argument values here */</span>
<span id="L1842" title="Line 1842: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1842</span>                 :<span class="tlaCBC">             78 :             arg1 = estimate_expression_value(req-&gt;root, linitial(args));</span></span>
<span id="L1843" title="Line 1843: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1843</span>                 :<span class="tlaCBC">             78 :             arg2 = estimate_expression_value(req-&gt;root, lsecond(args));</span></span>
<span id="L1844" title="Line 1844: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1844</span>         [<span class="tlaCBC"> <a href="#L1855" title="CBC: Branch 0 was taken 51 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1855" title="CBC: Branch 1 was taken 27 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             78 :             if (list_length(args) &gt;= 3)</span></span>
<span id="L1845" title="Line 1845: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1845</span>                 :<span class="tlaCBC">             51 :                 arg3 = estimate_expression_value(req-&gt;root, lthird(args));</span></span>
<span id="L1846" title="Line 1846: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1846</span>                 :                :             else</span>
<span id="L1847" title="Line 1847: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1847</span>                 :<span class="tlaCBC">             27 :                 arg3 = NULL;</span></span>
<span id="L1848" title="Line 1848: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1848</span>                 :                : </span>
<span id="L1849" title="Line 1849: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1849</span>                 :                :             /*</span>
<span id="L1850" title="Line 1850: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1850</span>                 :                :              * If any argument is constant NULL, we can safely assume that</span>
<span id="L1851" title="Line 1851: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1851</span>                 :                :              * zero rows are returned.  Otherwise, if they're all non-NULL</span>
<span id="L1852" title="Line 1852: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1852</span>                 :                :              * constants, we can calculate the number of rows that will be</span>
<span id="L1853" title="Line 1853: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1853</span>                 :                :              * returned.</span>
<span id="L1854" title="Line 1854: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1854</span>                 :                :              */</span>
<span id="L1855" title="Line 1855: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1855</span>         [<span class="tlaCBC"> <a href="#L1856" title="CBC: Branch 0 was taken 75 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1856" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             78 :             if ((IsA(arg1, Const) &amp;&amp;</span></span>
<span id="L1856" title="Line 1856: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1856</span>         [<span class="tlaCBC"> <a href="#L1857" title="CBC: Branch 0 was taken 75 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1858" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             75 :                  ((Const *) arg1)-&gt;constisnull) ||</span></span>
<span id="L1857" title="Line 1857: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1857</span>         [<span class="tlaCBC"> <a href="#L1858" title="CBC: Branch 0 was taken 75 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1858" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             78 :                 (IsA(arg2, Const) &amp;&amp;</span></span>
<span id="L1858" title="Line 1858: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1858</span>   [<span class="tlaCBC"> <a href="#L1859" title="CBC: Branch 0 was taken 75 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1860" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1859" title="CBC: Branch 2 was taken 51 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1859" title="CBC: Branch 3 was taken 27 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             78 :                  ((Const *) arg2)-&gt;constisnull) ||</span></span>
<span id="L1859" title="Line 1859: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1859</span>         [<span class="tlaCBC"> <a href="#L1860" title="CBC: Branch 0 was taken 48 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1860" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             51 :                 (arg3 != NULL &amp;&amp; IsA(arg3, Const) &amp;&amp;</span></span>
<span id="L1860" title="Line 1860: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1860</span>         [<span class="tlaUBC"> <a href="#L1968" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L1865" title="CBC: Branch 1 was taken 48 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             48 :                  ((Const *) arg3)-&gt;constisnull))</span></span>
<span id="L1861" title="Line 1861: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1861</span>                 :                :             {</span>
<span id="L1862" title="Line 1862: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 267 days ago (bin 3: (30,360] days)" class="tlaUBC tlaBgUBC">  <a href="#L9252" title="next UBC in &ldquo;(30,360] days&rdquo; bin" class="tlaBgUBC">267</a> <a href="#L4346" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    1862</span>                 :<a href="#L2024" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                 req-&gt;rows = 0;</span></span>
<span id="L1863" title="Line 1863: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 267 days ago (bin 3: (30,360] days)" class="tlaUBC">                          </span> <span class="lineNum">    1863</span>                 :<span class="tlaUBC">              0 :                 ret = (Node *) req;</span></span>
<span id="L1864" title="Line 1864: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1864</span>                 :                :             }</span>
<span id="L1865" title="Line 1865: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">  <a href="#L2066" title="next CBC in &ldquo;(30,360] days&rdquo; bin">267</a> <a href="#L2006" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    1865</span>         [<span class="tlaCBC"> <a href="#L1866" title="CBC: Branch 0 was taken 75 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1866" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<a href="#L1975" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          78 :             else if (IsA(arg1, Const) &amp;&amp;</span></span>
<span id="L1866" title="Line 1866: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1866</span>   [<span class="tlaCBC"> <a href="#L1867" title="CBC: Branch 0 was taken 72 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1867" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1867" title="CBC: Branch 2 was taken 51 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1867" title="CBC: Branch 3 was taken 21 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             75 :                      IsA(arg2, Const) &amp;&amp;</span></span>
<span id="L1867" title="Line 1867: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1867</span>         [<span class="tlaCBC"> <a href="#L1880" title="CBC: Branch 0 was taken 48 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1880" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             51 :                      (arg3 == NULL || IsA(arg3, Const)))</span></span>
<span id="L1868" title="Line 1868: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1868</span>                 :                :             {</span>
<span id="L1869" title="Line 1869: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1869</span>                 :                :                 Numeric     start_num;</span>
<span id="L1870" title="Line 1870: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1870</span>                 :                :                 Numeric     stop_num;</span>
<span id="L1871" title="Line 1871: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1871</span>                 :<span class="tlaCBC">             69 :                 NumericVar  step = const_one;</span></span>
<span id="L1872" title="Line 1872: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1872</span>                 :                : </span>
<span id="L1873" title="Line 1873: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1873</span>                 :                :                 /*</span>
<span id="L1874" title="Line 1874: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1874</span>                 :                :                  * If any argument is NaN or infinity, generate_series() will</span>
<span id="L1875" title="Line 1875: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1875</span>                 :                :                  * error out, so we needn't produce an estimate.</span>
<span id="L1876" title="Line 1876: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1876</span>                 :                :                  */</span>
<span id="L1877" title="Line 1877: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1877</span>                 :<span class="tlaCBC">             69 :                 start_num = DatumGetNumeric(((Const *) arg1)-&gt;constvalue);</span></span>
<span id="L1878" title="Line 1878: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1878</span>                 :<span class="tlaCBC">             69 :                 stop_num = DatumGetNumeric(((Const *) arg2)-&gt;constvalue);</span></span>
<span id="L1879" title="Line 1879: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1879</span>                 :                : </span>
<span id="L1880" title="Line 1880: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1880</span>         [<span class="tlaCBC"> <a href="#L1881" title="CBC: Branch 0 was taken 60 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1881" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             69 :                 if (NUMERIC_IS_SPECIAL(start_num) ||</span></span>
<span id="L1881" title="Line 1881: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1881</span>         [<span class="tlaCBC"> <a href="#L1884" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1884" title="CBC: Branch 1 was taken 54 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             60 :                     NUMERIC_IS_SPECIAL(stop_num))</span></span>
<span id="L1882" title="Line 1882: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1882</span>                 :<span class="tlaCBC">             24 :                     PG_RETURN_POINTER(NULL);</span></span>
<span id="L1883" title="Line 1883: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1883</span>                 :                : </span>
<span id="L1884" title="Line 1884: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1884</span>         [<span class="tlaCBC"> <a href="#L1890" title="CBC: Branch 0 was taken 33 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1890" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             54 :                 if (arg3)</span></span>
<span id="L1885" title="Line 1885: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1885</span>                 :                :                 {</span>
<span id="L1886" title="Line 1886: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1886</span>                 :                :                     Numeric     step_num;</span>
<span id="L1887" title="Line 1887: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1887</span>                 :                : </span>
<span id="L1888" title="Line 1888: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1888</span>                 :<span class="tlaCBC">             33 :                     step_num = DatumGetNumeric(((Const *) arg3)-&gt;constvalue);</span></span>
<span id="L1889" title="Line 1889: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1889</span>                 :                : </span>
<span id="L1890" title="Line 1890: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1890</span>         [<span class="tlaCBC"> <a href="#L1902" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1902" title="CBC: Branch 1 was taken 24 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             33 :                     if (NUMERIC_IS_SPECIAL(step_num))</span></span>
<span id="L1891" title="Line 1891: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1891</span>                 :<span class="tlaCBC">              9 :                         PG_RETURN_POINTER(NULL);</span></span>
<span id="L1892" title="Line 1892: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1892</span>                 :                : </span>
<span id="L1893" title="Line 1893: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1893</span>                 :<span class="tlaCBC">             24 :                     init_var_from_num(step_num, &amp;step);</span></span>
<span id="L1894" title="Line 1894: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1894</span>                 :                :                 }</span>
<span id="L1895" title="Line 1895: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1895</span>                 :                : </span>
<span id="L1896" title="Line 1896: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1896</span>                 :                :                 /*</span>
<span id="L1897" title="Line 1897: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1897</span>                 :                :                  * The number of rows that will be returned is given by</span>
<span id="L1898" title="Line 1898: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1898</span>                 :                :                  * floor((stop - start) / step) + 1, if the sign of step</span>
<span id="L1899" title="Line 1899: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1899</span>                 :                :                  * matches the sign of stop - start.  Otherwise, no rows will</span>
<span id="L1900" title="Line 1900: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1900</span>                 :                :                  * be returned.</span>
<span id="L1901" title="Line 1901: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1901</span>                 :                :                  */</span>
<span id="L1902" title="Line 1902: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1902</span>         [<span class="tlaCBC"> <a href="#L1914" title="CBC: Branch 0 was taken 39 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1914" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             45 :                 if (cmp_var(&amp;step, &amp;const_zero) != 0)</span></span>
<span id="L1903" title="Line 1903: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1903</span>                 :                :                 {</span>
<span id="L1904" title="Line 1904: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1904</span>                 :                :                     NumericVar  start;</span>
<span id="L1905" title="Line 1905: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1905</span>                 :                :                     NumericVar  stop;</span>
<span id="L1906" title="Line 1906: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1906</span>                 :                :                     NumericVar  res;</span>
<span id="L1907" title="Line 1907: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1907</span>                 :                : </span>
<span id="L1908" title="Line 1908: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1908</span>                 :<span class="tlaCBC">             39 :                     init_var_from_num(start_num, &amp;start);</span></span>
<span id="L1909" title="Line 1909: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1909</span>                 :<span class="tlaCBC">             39 :                     init_var_from_num(stop_num, &amp;stop);</span></span>
<span id="L1910" title="Line 1910: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1910</span>                 :                : </span>
<span id="L1911" title="Line 1911: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1911</span>                 :<span class="tlaCBC">             39 :                     init_var(&amp;res);</span></span>
<span id="L1912" title="Line 1912: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1912</span>                 :<span class="tlaCBC">             39 :                     sub_var(&amp;stop, &amp;start, &amp;res);</span></span>
<span id="L1913" title="Line 1913: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1913</span>                 :                : </span>
<span id="L1914" title="Line 1914: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1914</span>         [<span class="tlaCBC"> <a href="#L1922" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1922" title="CBC: Branch 1 was taken 36 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             39 :                     if (step.sign != res.sign)</span></span>
<span id="L1915" title="Line 1915: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1915</span>                 :                :                     {</span>
<span id="L1916" title="Line 1916: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1916</span>                 :                :                         /* no rows will be returned */</span>
<span id="L1917" title="Line 1917: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1917</span>                 :<span class="tlaCBC">              3 :                         req-&gt;rows = 0;</span></span>
<span id="L1918" title="Line 1918: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1918</span>                 :<span class="tlaCBC">              3 :                         ret = (Node *) req;</span></span>
<span id="L1919" title="Line 1919: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1919</span>                 :                :                     }</span>
<span id="L1920" title="Line 1920: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1920</span>                 :                :                     else</span>
<span id="L1921" title="Line 1921: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1921</span>                 :                :                     {</span>
<span id="L1922" title="Line 1922: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1922</span>         [<span class="tlaCBC"> <a href="#L1967" title="CBC: Branch 0 was taken 15 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1967" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             36 :                         if (arg3)</span></span>
<span id="L1923" title="Line 1923: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1923</span>                 :<span class="tlaCBC">             15 :                             div_var(&amp;res, &amp;step, &amp;res, 0, false, false);</span></span>
<span id="L1924" title="Line 1924: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1924</span>                 :                :                         else</span>
<span id="L1925" title="Line 1925: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1925</span>                 :<span class="tlaCBC">             21 :                             trunc_var(&amp;res, 0); /* step = 1 */</span></span>
<span id="L1926" title="Line 1926: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1926</span>                 :                : </span>
<span id="L1927" title="Line 1927: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1927</span>                 :<span class="tlaCBC">             36 :                         req-&gt;rows = numericvar_to_double_no_overflow(&amp;res) + 1;</span></span>
<span id="L1928" title="Line 1928: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1928</span>                 :<span class="tlaCBC">             36 :                         ret = (Node *) req;</span></span>
<span id="L1929" title="Line 1929: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1929</span>                 :                :                     }</span>
<span id="L1930" title="Line 1930: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1930</span>                 :                : </span>
<span id="L1931" title="Line 1931: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1931</span>                 :<span class="tlaCBC">             39 :                     free_var(&amp;res);</span></span>
<span id="L1932" title="Line 1932: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1932</span>                 :                :                 }</span>
<span id="L1933" title="Line 1933: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1933</span>                 :                :             }</span>
<span id="L1934" title="Line 1934: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1934</span>                 :                :         }</span>
<span id="L1935" title="Line 1935: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1935</span>                 :                :     }</span>
<span id="L1936" title="Line 1936: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1936</span>                 :                : </span>
<span id="L1937" title="Line 1937: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1937</span>                 :<span class="tlaCBC">            219 :     PG_RETURN_POINTER(ret);</span></span>
<span id="L1938" title="Line 1938: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1938</span>                 :                : }</span>
<span id="L1939" title="Line 1939: commit 97173536ed4b on 2024-12-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    1939</span>                 :                : </span>
<span id="L1940" title="Line 1940: commit 1871c8920210 on 2014-11-11 by fujii@postgresql.org">                           <span class="lineNum">    1940</span>                 :                : </span>
<span id="L1941" title="Line 1941: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1941</span>                 :                : /*</span>
<span id="L1942" title="Line 1942: commit cf57ef4e506c on 2007-01-16 by neilc@samurai.com">                           <span class="lineNum">    1942</span>                 :                :  * Implements the numeric version of the width_bucket() function</span>
<span id="L1943" title="Line 1943: commit cf57ef4e506c on 2007-01-16 by neilc@samurai.com">                           <span class="lineNum">    1943</span>                 :                :  * defined by SQL2003. See also width_bucket_float8().</span>
<span id="L1944" title="Line 1944: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1944</span>                 :                :  *</span>
<span id="L1945" title="Line 1945: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1945</span>                 :                :  * 'bound1' and 'bound2' are the lower and upper bounds of the</span>
<span id="L1946" title="Line 1946: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1946</span>                 :                :  * histogram's range, respectively. 'count' is the number of buckets</span>
<span id="L1947" title="Line 1947: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1947</span>                 :                :  * in the histogram. width_bucket() returns an integer indicating the</span>
<span id="L1948" title="Line 1948: commit cf57ef4e506c on 2007-01-16 by neilc@samurai.com">                           <span class="lineNum">    1948</span>                 :                :  * bucket number that 'operand' belongs to in an equiwidth histogram</span>
<span id="L1949" title="Line 1949: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1949</span>                 :                :  * with the specified characteristics. An operand smaller than the</span>
<span id="L1950" title="Line 1950: commit ea06263c4aa5 on 2025-06-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1950</span>                 :                :  * lower bound is assigned to bucket 0. An operand greater than or equal</span>
<span id="L1951" title="Line 1951: commit ea06263c4aa5 on 2025-06-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1951</span>                 :                :  * to the upper bound is assigned to an additional bucket (with number</span>
<span id="L1952" title="Line 1952: commit 7374b3a53635 on 2025-07-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1952</span>                 :                :  * count+1). We don't allow the histogram bounds to be NaN or +/- infinity,</span>
<span id="L1953" title="Line 1953: commit 7374b3a53635 on 2025-07-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1953</span>                 :                :  * but we do allow those values for the operand (taking NaN to be larger</span>
<span id="L1954" title="Line 1954: commit 7374b3a53635 on 2025-07-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1954</span>                 :                :  * than any other value, as we do in comparisons).</span>
<span id="L1955" title="Line 1955: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1955</span>                 :                :  */</span>
<span id="L1956" title="Line 1956: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1956</span>                 :                : Datum</span>
<span id="L1957" title="Line 1957: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com"> <a href="#L1975" title="next CBC in &ldquo;(360..) days&rdquo; bin">7774</a> <a href="#L1985" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    1957</span>                 :<span class="tlaCBC">            393 : width_bucket_numeric(PG_FUNCTION_ARGS)</span></span>
<span id="L1958" title="Line 1958: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1958</span>                 :                : {</span>
<span id="L1959" title="Line 1959: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1959</span>                 :<span class="tlaCBC">            393 :     Numeric     operand = PG_GETARG_NUMERIC(0);</span></span>
<span id="L1960" title="Line 1960: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1960</span>                 :<span class="tlaCBC">            393 :     Numeric     bound1 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L1961" title="Line 1961: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1961</span>                 :<span class="tlaCBC">            393 :     Numeric     bound2 = PG_GETARG_NUMERIC(2);</span></span>
<span id="L1962" title="Line 1962: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1962</span>                 :<span class="tlaCBC">            393 :     int32       count = PG_GETARG_INT32(3);</span></span>
<span id="L1963" title="Line 1963: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1963</span>                 :                :     NumericVar  count_var;</span>
<span id="L1964" title="Line 1964: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1964</span>                 :                :     NumericVar  result_var;</span>
<span id="L1965" title="Line 1965: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1965</span>                 :                :     int32       result;</span>
<span id="L1966" title="Line 1966: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1966</span>                 :                : </span>
<span id="L1967" title="Line 1967: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1967</span>         [<span class="tlaCBC"> <a href="#L1968" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1968" title="CBC: Branch 1 was taken 387 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            393 :     if (count &lt;= 0)</span></span>
<span id="L1968" title="Line 1968: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1968</span>         [<span class="tlaCBC"> <a href="#L1975" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1975" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              6 :         ereport(ERROR,</span></span>
<span id="L1969" title="Line 1969: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    1969</span>                 :                :                 (errcode(ERRCODE_INVALID_ARGUMENT_FOR_WIDTH_BUCKET_FUNCTION),</span>
<span id="L1970" title="Line 1970: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    1970</span>                 :                :                  errmsg(&quot;count must be greater than zero&quot;)));</span>
<span id="L1971" title="Line 1971: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNumWithDelete" title="removed lines [1982:1984] from baseline version">    1971</span>                 :                : </span>
<span id="L1972" title="Line 1972: commit 7374b3a53635 on 2025-07-02 by tgl@sss.pgh.pa.us">   <a href="#top" title="next GNC in &ldquo;(30,360] days&rdquo; bin">55</a> <a href="#L6378" title="next GNC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1972</span>   [<span class="tlaGNC"> <a href="#L1974" title="GNC: Branch 0 was taken 381 times" class="branchTla">+</a> </span><span class="tlaGNC"> <a href="#L1974" title="GNC: Branch 1 was taken 6 times" class="branchTla">+</a> </span><span class="tlaGNC"> <a href="#L1974" title="GNC: Branch 2 was taken 6 times" class="branchTla">+</a> </span><span class="tlaGNC"> <a href="#L1974" title="GNC: Branch 3 was taken 375 times" class="branchTla">+</a> </span>]:<a href="#L4376" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">         387 :     if (NUMERIC_IS_SPECIAL(bound1) || NUMERIC_IS_SPECIAL(bound2))</span></span>
<span id="L1973" title="Line 1973: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNumWithDelete" title="removed lines [1986:1988] from baseline version">    1973</span>                 :                :     {</span>
<span id="L1974" title="Line 1974: commit 7374b3a53635 on 2025-07-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1974</span>   [<span class="tlaGNC"> <a href="#L5557" title="GNC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaGNC"> <a href="#L5557" title="GNC: Branch 1 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUNC"> <a href="#L5618" title="UNC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaGNC"> <a href="#L5557" title="GNC: Branch 3 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaGNC">             12 :         if (NUMERIC_IS_NAN(bound1) || NUMERIC_IS_NAN(bound2))</span></span>
<span id="L1975" title="Line 1975: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L2028" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L2064" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    1975</span>         [<span class="tlaCBC"> <a href="#L1979" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1980" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<a href="#L2028" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           3 :             ereport(ERROR,</span></span>
<span id="L1976" title="Line 1976: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1976</span>                 :                :                     (errcode(ERRCODE_INVALID_ARGUMENT_FOR_WIDTH_BUCKET_FUNCTION),</span>
<span id="L1977" title="Line 1977: commit 7374b3a53635 on 2025-07-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1977</span>                 :                :                      errmsg(&quot;lower and upper bounds cannot be NaN&quot;)));</span>
<span id="L1978" title="Line 1978: commit 7374b3a53635 on 2025-07-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1978</span>                 :                : </span>
<span id="L1979" title="Line 1979: commit 8ce423b1912b on 2020-10-08 by tgl@sss.pgh.pa.us"> 1783                      <span class="lineNum">    1979</span>   [<span class="tlaCBC"> <a href="#L1980" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1980" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1980" title="CBC: Branch 2 was taken 6 times" class="branchTla">+</a> </span><span class="tlaLBC"> <a href="#top" title="LBC: Branch 3 was not taken (previously taken 6 times)" class="branchTla">-</a> </span>]:<span class="tlaCBC">              9 :         if (NUMERIC_IS_INF(bound1) || NUMERIC_IS_INF(bound2))</span></span>
<span id="L1980" title="Line 1980: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    1980</span>         [<span class="tlaCBC"> <a href="#L1991" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1991" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              9 :             ereport(ERROR,</span></span>
<span id="L1981" title="Line 1981: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1981</span>                 :                :                     (errcode(ERRCODE_INVALID_ARGUMENT_FOR_WIDTH_BUCKET_FUNCTION),</span>
<span id="L1982" title="Line 1982: commit 8ce423b1912b on 2020-10-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1982</span>                 :                :                      errmsg(&quot;lower and upper bounds must be finite&quot;)));</span>
<span id="L1983" title="Line 1983: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1983</span>                 :                :     }</span>
<span id="L1984" title="Line 1984: commit cf57ef4e506c on 2007-01-16 by neilc@samurai.com">                           <span class="lineNum">    1984</span>                 :                : </span>
<span id="L1985" title="Line 1985: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com"> 7774 <a href="#L1991" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    1985</span>                 :<span class="tlaCBC">            375 :     init_var(&amp;result_var);</span></span>
<span id="L1986" title="Line 1986: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1986</span>                 :<span class="tlaCBC">            375 :     init_var(&amp;count_var);</span></span>
<span id="L1987" title="Line 1987: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1987</span>                 :                : </span>
<span id="L1988" title="Line 1988: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1988</span>                 :                :     /* Convert 'count' to a numeric, for ease of use later */</span>
<span id="L1989" title="Line 1989: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> 3812 <a href="#L2366" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    1989</span>                 :<span class="tlaCBC">            375 :     int64_to_numericvar((int64) count, &amp;count_var);</span></span>
<span id="L1990" title="Line 1990: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1990</span>                 :                : </span>
<span id="L1991" title="Line 1991: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com"> 7774 <a href="#L2008" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    1991</span>   [<span class="tlaCBC"> <a href="#L1994" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1994" title="CBC: Branch 1 was taken 276 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L1994" title="CBC: Branch 2 was taken 96 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L1994" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            375 :     switch (cmp_numerics(bound1, bound2))</span></span>
<span id="L1992" title="Line 1992: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1992</span>                 :                :     {</span>
<span id="L1993" title="Line 1993: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1993</span>                 :<span class="tlaCBC">              3 :         case 0:</span></span>
<span id="L1994" title="Line 1994: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1994</span>         [<span class="tlaCBC"> <a href="#L2001" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2023" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :             ereport(ERROR,</span></span>
<span id="L1995" title="Line 1995: commit 382ceffdf7f6 on 2017-06-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1995</span>                 :                :                     (errcode(ERRCODE_INVALID_ARGUMENT_FOR_WIDTH_BUCKET_FUNCTION),</span>
<span id="L1996" title="Line 1996: commit 382ceffdf7f6 on 2017-06-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1996</span>                 :                :                      errmsg(&quot;lower bound cannot equal upper bound&quot;)));</span>
<span id="L1997" title="Line 1997: commit 41c912cad159 on 2018-05-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    1997</span>                 :                :             break;</span>
<span id="L1998" title="Line 1998: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    1998</span>                 :                : </span>
<span id="L1999" title="Line 1999: commit b6b71b85bc45 on 2004-08-29 by bruce@momjian.us">                           <span class="lineNum">    1999</span>                 :                :             /* bound1 &lt; bound2 */</span>
<span id="L2000" title="Line 2000: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2000</span>                 :<span class="tlaCBC">            276 :         case -1:</span></span>
<span id="L2001" title="Line 2001: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2001</span>         [<span class="tlaCBC"> <a href="#L2003" title="CBC: Branch 0 was taken 57 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2003" title="CBC: Branch 1 was taken 219 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            276 :             if (cmp_numerics(operand, bound1) &lt; 0)</span></span>
<span id="L2002" title="Line 2002: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2002</span>                 :<span class="tlaCBC">             57 :                 set_var_from_var(&amp;const_zero, &amp;result_var);</span></span>
<span id="L2003" title="Line 2003: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2003</span>         [<span class="tlaCBC"> <a href="#L2012" title="CBC: Branch 0 was taken 57 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2012" title="CBC: Branch 1 was taken 162 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            219 :             else if (cmp_numerics(operand, bound2) &gt;= 0)</span></span>
<span id="L2004" title="Line 2004: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2004</span>                 :<span class="tlaCBC">             57 :                 add_var(&amp;count_var, &amp;const_one, &amp;result_var);</span></span>
<span id="L2005" title="Line 2005: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2005</span>                 :                :             else</span>
<span id="L2006" title="Line 2006: commit 0dcf753bd82a on 2024-07-10 by dean.a.rasheed@gmail.com">  412 <a href="#L2017" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    2006</span>                 :<span class="tlaCBC">            162 :                 compute_bucket(operand, bound1, bound2, &amp;count_var,</span></span>
<span id="L2007" title="Line 2007: commit 7538708394e7 on 2020-10-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2007</span>                 :                :                                &amp;result_var);</span>
<span id="L2008" title="Line 2008: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com"> 7774 <a href="#L2019" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    2008</span>                 :<span class="tlaCBC">            276 :             break;</span></span>
<span id="L2009" title="Line 2009: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2009</span>                 :                : </span>
<span id="L2010" title="Line 2010: commit b6b71b85bc45 on 2004-08-29 by bruce@momjian.us">                           <span class="lineNum">    2010</span>                 :                :             /* bound1 &gt; bound2 */</span>
<span id="L2011" title="Line 2011: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2011</span>                 :<span class="tlaCBC">             96 :         case 1:</span></span>
<span id="L2012" title="Line 2012: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2012</span>         [<span class="tlaCBC"> <a href="#L2014" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2014" title="CBC: Branch 1 was taken 90 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             96 :             if (cmp_numerics(operand, bound1) &gt; 0)</span></span>
<span id="L2013" title="Line 2013: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2013</span>                 :<span class="tlaCBC">              6 :                 set_var_from_var(&amp;const_zero, &amp;result_var);</span></span>
<span id="L2014" title="Line 2014: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2014</span>         [<span class="tlaCBC"> <a href="#L2023" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2023" title="CBC: Branch 1 was taken 78 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             90 :             else if (cmp_numerics(operand, bound2) &lt;= 0)</span></span>
<span id="L2015" title="Line 2015: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2015</span>                 :<span class="tlaCBC">             12 :                 add_var(&amp;count_var, &amp;const_one, &amp;result_var);</span></span>
<span id="L2016" title="Line 2016: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2016</span>                 :                :             else</span>
<span id="L2017" title="Line 2017: commit 0dcf753bd82a on 2024-07-10 by dean.a.rasheed@gmail.com">  412 <a href="#L2061" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    2017</span>                 :<span class="tlaCBC">             78 :                 compute_bucket(operand, bound1, bound2, &amp;count_var,</span></span>
<span id="L2018" title="Line 2018: commit 7538708394e7 on 2020-10-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2018</span>                 :                :                                &amp;result_var);</span>
<span id="L2019" title="Line 2019: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com"> 7774 <a href="#L2028" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    2019</span>                 :<span class="tlaCBC">             96 :             break;</span></span>
<span id="L2020" title="Line 2020: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2020</span>                 :                :     }</span>
<span id="L2021" title="Line 2021: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2021</span>                 :                : </span>
<span id="L2022" title="Line 2022: commit cf57ef4e506c on 2007-01-16 by neilc@samurai.com">                           <span class="lineNum">    2022</span>                 :                :     /* if result exceeds the range of a legal int4, we ereport here */</span>
<span id="L2023" title="Line 2023: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L2877" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    2023</span>         [<span class="tlaUBC"> <a href="#L2024" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2121" title="CBC: Branch 1 was taken 372 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            372 :     if (!numericvar_to_int32(&amp;result_var, &amp;result))</span></span>
<span id="L2024" title="Line 2024: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"><span title="akorotkov@postgresql.org 2355 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L2204" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">2355</a> <a href="#L3440" title="next UBC in &ldquo;akorotkov@postgresql.org&rdquo; bin" class="tlaBgUBC">akorotkov@postgresql</a></span> <span class="lineNum">    2024</span>         [<span class="tlaUBC"> <a href="#L2174" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L2174" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L2204" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         ereport(ERROR,</span></span>
<span id="L2025" title="Line 2025: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2025</span>                 :                :                 (errcode(ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE),</span>
<span id="L2026" title="Line 2026: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2026</span>                 :                :                  errmsg(&quot;integer out of range&quot;)));</span>
<span id="L2027" title="Line 2027: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2027</span>                 :                : </span>
<span id="L2028" title="Line 2028: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com"> <a href="#L2067" title="next CBC in &ldquo;(360..) days&rdquo; bin">7774</a> <a href="#L2069" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    2028</span>                 :<a href="#L2206" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         372 :     free_var(&amp;count_var);</span></span>
<span id="L2029" title="Line 2029: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2029</span>                 :<span class="tlaCBC">            372 :     free_var(&amp;result_var);</span></span>
<span id="L2030" title="Line 2030: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2030</span>                 :                : </span>
<span id="L2031" title="Line 2031: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2031</span>                 :<span class="tlaCBC">            372 :     PG_RETURN_INT32(result);</span></span>
<span id="L2032" title="Line 2032: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2032</span>                 :                : }</span>
<span id="L2033" title="Line 2033: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2033</span>                 :                : </span>
<span id="L2034" title="Line 2034: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2034</span>                 :                : /*</span>
<span id="L2035" title="Line 2035: commit a2a0c7c29e47 on 2023-03-31 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2035</span>                 :                :  * 'operand' is inside the bucket range, so determine the correct</span>
<span id="L2036" title="Line 2036: commit 0dcf753bd82a on 2024-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    2036</span>                 :                :  * bucket for it to go in. The calculations performed by this function</span>
<span id="L2037" title="Line 2037: commit 7538708394e7 on 2020-10-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2037</span>                 :                :  * are derived directly from the SQL2003 spec. Note however that we</span>
<span id="L2038" title="Line 2038: commit 7538708394e7 on 2020-10-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2038</span>                 :                :  * multiply by count before dividing, to avoid unnecessary roundoff error.</span>
<span id="L2039" title="Line 2039: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2039</span>                 :                :  */</span>
<span id="L2040" title="Line 2040: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2040</span>                 :                : static void</span>
<span id="L2041" title="Line 2041: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2041</span>                 :<span class="tlaCBC">            240 : compute_bucket(Numeric operand, Numeric bound1, Numeric bound2,</span></span>
<span id="L2042" title="Line 2042: commit 0dcf753bd82a on 2024-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    2042</span>                 :                :                const NumericVar *count_var, NumericVar *result_var)</span>
<span id="L2043" title="Line 2043: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2043</span>                 :                : {</span>
<span id="L2044" title="Line 2044: commit b6b71b85bc45 on 2004-08-29 by bruce@momjian.us">                           <span class="lineNum">    2044</span>                 :                :     NumericVar  bound1_var;</span>
<span id="L2045" title="Line 2045: commit b6b71b85bc45 on 2004-08-29 by bruce@momjian.us">                           <span class="lineNum">    2045</span>                 :                :     NumericVar  bound2_var;</span>
<span id="L2046" title="Line 2046: commit b6b71b85bc45 on 2004-08-29 by bruce@momjian.us">                           <span class="lineNum">    2046</span>                 :                :     NumericVar  operand_var;</span>
<span id="L2047" title="Line 2047: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2047</span>                 :                : </span>
<span id="L2048" title="Line 2048: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L2928" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    2048</span>                 :<span class="tlaCBC">            240 :     init_var_from_num(bound1, &amp;bound1_var);</span></span>
<span id="L2049" title="Line 2049: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    2049</span>                 :<span class="tlaCBC">            240 :     init_var_from_num(bound2, &amp;bound2_var);</span></span>
<span id="L2050" title="Line 2050: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    2050</span>                 :<span class="tlaCBC">            240 :     init_var_from_num(operand, &amp;operand_var);</span></span>
<span id="L2051" title="Line 2051: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2051</span>                 :                : </span>
<span id="L2052" title="Line 2052: commit 0dcf753bd82a on 2024-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    2052</span>                 :                :     /*</span>
<span id="L2053" title="Line 2053: commit 0dcf753bd82a on 2024-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    2053</span>                 :                :      * Per spec, bound1 is inclusive and bound2 is exclusive, and so we have</span>
<span id="L2054" title="Line 2054: commit 0dcf753bd82a on 2024-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    2054</span>                 :                :      * bound1 &lt;= operand &lt; bound2 or bound1 &gt;= operand &gt; bound2.  Either way,</span>
<span id="L2055" title="Line 2055: commit 0dcf753bd82a on 2024-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    2055</span>                 :                :      * the result is ((operand - bound1) * count) / (bound2 - bound1) + 1,</span>
<span id="L2056" title="Line 2056: commit 0dcf753bd82a on 2024-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    2056</span>                 :                :      * where the quotient is computed using floor division (i.e., division to</span>
<span id="L2057" title="Line 2057: commit 0dcf753bd82a on 2024-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    2057</span>                 :                :      * zero decimal places with truncation), which guarantees that the result</span>
<span id="L2058" title="Line 2058: commit 0dcf753bd82a on 2024-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    2058</span>                 :                :      * is in the range [1, count].  Reversing the bounds doesn't affect the</span>
<span id="L2059" title="Line 2059: commit 0dcf753bd82a on 2024-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    2059</span>                 :                :      * computation, because the signs cancel out when dividing.</span>
<span id="L2060" title="Line 2060: commit 0dcf753bd82a on 2024-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    2060</span>                 :                :      */</span>
<span id="L2061" title="Line 2061: commit 0dcf753bd82a on 2024-07-10 by dean.a.rasheed@gmail.com">  412 <a href="#L2066" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    2061</span>                 :<span class="tlaCBC">            240 :     sub_var(&amp;operand_var, &amp;bound1_var, &amp;operand_var);</span></span>
<span id="L2062" title="Line 2062: commit 0dcf753bd82a on 2024-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    2062</span>                 :<span class="tlaCBC">            240 :     sub_var(&amp;bound2_var, &amp;bound1_var, &amp;bound2_var);</span></span>
<span id="L2063" title="Line 2063: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2063</span>                 :                : </span>
<span id="L2064" title="Line 2064: commit 7538708394e7 on 2020-10-08 by tgl@sss.pgh.pa.us"> 1783 <a href="#L2184" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    2064</span>                 :<span class="tlaCBC">            240 :     mul_var(&amp;operand_var, count_var, &amp;operand_var,</span></span>
<span id="L2065" title="Line 2065: commit 7538708394e7 on 2020-10-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2065</span>                 :<span class="tlaCBC">            240 :             operand_var.dscale + count_var-&gt;dscale);</span></span>
<span id="L2066" title="Line 2066: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L3266" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L3130" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    2066</span>                 :<span class="tlaCBC">            240 :     div_var(&amp;operand_var, &amp;bound2_var, result_var, 0, false, true);</span></span>
<span id="L2067" title="Line 2067: commit 0dcf753bd82a on 2024-07-10 by dean.a.rasheed@gmail.com">  <a href="#L2206" title="next CBC in &ldquo;(360..) days&rdquo; bin">412</a>                      <span class="lineNum">    2067</span>                 :<span class="tlaCBC">            240 :     add_var(result_var, &amp;const_one, result_var);</span></span>
<span id="L2068" title="Line 2068: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2068</span>                 :                : </span>
<span id="L2069" title="Line 2069: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com"> 7774 <a href="#L2720" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    2069</span>                 :<span class="tlaCBC">            240 :     free_var(&amp;bound1_var);</span></span>
<span id="L2070" title="Line 2070: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2070</span>                 :<span class="tlaCBC">            240 :     free_var(&amp;bound2_var);</span></span>
<span id="L2071" title="Line 2071: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    2071</span>                 :<span class="tlaCBC">            240 :     free_var(&amp;operand_var);</span></span>
<span id="L2072" title="Line 2072: commit b6b71b85bc45 on 2004-08-29 by bruce@momjian.us"> 7667 <a href="#L2572" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    2072</span>                 :<span class="tlaCBC">            240 : }</span></span>
<span id="L2073" title="Line 2073: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2073</span>                 :                : </span>
<span id="L2074" title="Line 2074: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2074</span>                 :                : /* ----------------------------------------------------------------------</span>
<span id="L2075" title="Line 2075: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2075</span>                 :                :  *</span>
<span id="L2076" title="Line 2076: commit 3cb8c8da68c0 on 2000-01-15 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2076</span>                 :                :  * Comparison functions</span>
<span id="L2077" title="Line 2077: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2077</span>                 :                :  *</span>
<span id="L2078" title="Line 2078: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2078</span>                 :                :  * Note: btree indexes need these routines not to leak memory; therefore,</span>
<span id="L2079" title="Line 2079: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2079</span>                 :                :  * be careful to free working copies of toasted datums.  Most places don't</span>
<span id="L2080" title="Line 2080: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2080</span>                 :                :  * need to be so careful.</span>
<span id="L2081" title="Line 2081: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2081</span>                 :                :  *</span>
<span id="L2082" title="Line 2082: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2082</span>                 :                :  * Sort support:</span>
<span id="L2083" title="Line 2083: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2083</span>                 :                :  *</span>
<span id="L2084" title="Line 2084: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2084</span>                 :                :  * We implement the sortsupport strategy routine in order to get the benefit of</span>
<span id="L2085" title="Line 2085: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2085</span>                 :                :  * abbreviation. The ordinary numeric comparison can be quite slow as a result</span>
<span id="L2086" title="Line 2086: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2086</span>                 :                :  * of palloc/pfree cycles (due to detoasting packed values for alignment);</span>
<span id="L2087" title="Line 2087: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2087</span>                 :                :  * while this could be worked on itself, the abbreviation strategy gives more</span>
<span id="L2088" title="Line 2088: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2088</span>                 :                :  * speedup in many common cases.</span>
<span id="L2089" title="Line 2089: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2089</span>                 :                :  *</span>
<span id="L2090" title="Line 2090: commit 6aebedc38497 on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2090</span>                 :                :  * The abbreviated format is an int64. The representation is negated relative</span>
<span id="L2091" title="Line 2091: commit 6aebedc38497 on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2091</span>                 :                :  * to the original value, because we use the largest negative value for NaN,</span>
<span id="L2092" title="Line 2092: commit 6aebedc38497 on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2092</span>                 :                :  * which sorts higher than other values. We convert the absolute value of the</span>
<span id="L2093" title="Line 2093: commit 6aebedc38497 on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2093</span>                 :                :  * numeric to a 63-bit positive value, and then negate it if the original</span>
<span id="L2094" title="Line 2094: commit 6aebedc38497 on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2094</span>                 :                :  * number was positive.</span>
<span id="L2095" title="Line 2095: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2095</span>                 :                :  *</span>
<span id="L2096" title="Line 2096: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2096</span>                 :                :  * We abort the abbreviation process if the abbreviation cardinality is below</span>
<span id="L2097" title="Line 2097: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2097</span>                 :                :  * 0.01% of the row count (1 per 10k non-null rows).  The actual break-even</span>
<span id="L2098" title="Line 2098: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2098</span>                 :                :  * point is somewhat below that, perhaps 1 per 30k (at 1 per 100k there's a</span>
<span id="L2099" title="Line 2099: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2099</span>                 :                :  * very small penalty), but we don't want to build up too many abbreviated</span>
<span id="L2100" title="Line 2100: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2100</span>                 :                :  * values before first testing for abort, so we take the slightly pessimistic</span>
<span id="L2101" title="Line 2101: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2101</span>                 :                :  * number.  We make no attempt to estimate the cardinality of the real values,</span>
<span id="L2102" title="Line 2102: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2102</span>                 :                :  * since it plays no part in the cost model here (if the abbreviation is equal,</span>
<span id="L2103" title="Line 2103: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2103</span>                 :                :  * the cost of comparing equal and unequal underlying values is comparable).</span>
<span id="L2104" title="Line 2104: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2104</span>                 :                :  * We discontinue even checking for abort (saving us the hashing overhead) if</span>
<span id="L2105" title="Line 2105: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2105</span>                 :                :  * the estimated cardinality gets to 100k; that would be enough to support many</span>
<span id="L2106" title="Line 2106: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2106</span>                 :                :  * billions of rows while doing no worse than breaking even.</span>
<span id="L2107" title="Line 2107: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2107</span>                 :                :  *</span>
<span id="L2108" title="Line 2108: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2108</span>                 :                :  * ----------------------------------------------------------------------</span>
<span id="L2109" title="Line 2109: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2109</span>                 :                :  */</span>
<span id="L2110" title="Line 2110: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2110</span>                 :                : </span>
<span id="L2111" title="Line 2111: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2111</span>                 :                : /*</span>
<span id="L2112" title="Line 2112: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2112</span>                 :                :  * Sort support strategy routine.</span>
<span id="L2113" title="Line 2113: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2113</span>                 :                :  */</span>
<span id="L2114" title="Line 2114: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2114</span>                 :                : Datum</span>
<span id="L2115" title="Line 2115: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"> 3799 <a href="#L2197" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    2115</span>                 :<span class="tlaCBC">            574 : numeric_sortsupport(PG_FUNCTION_ARGS)</span></span>
<span id="L2116" title="Line 2116: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2116</span>                 :                : {</span>
<span id="L2117" title="Line 2117: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2117</span>                 :<span class="tlaCBC">            574 :     SortSupport ssup = (SortSupport) PG_GETARG_POINTER(0);</span></span>
<span id="L2118" title="Line 2118: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2118</span>                 :                : </span>
<span id="L2119" title="Line 2119: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2119</span>                 :<span class="tlaCBC">            574 :     ssup-&gt;comparator = numeric_fast_cmp;</span></span>
<span id="L2120" title="Line 2120: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2120</span>                 :                : </span>
<span id="L2121" title="Line 2121: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2121</span>         [<span class="tlaCBC"> <a href="#L2169" title="CBC: Branch 0 was taken 129 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2169" title="CBC: Branch 1 was taken 445 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            574 :     if (ssup-&gt;abbreviate)</span></span>
<span id="L2122" title="Line 2122: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2122</span>                 :                :     {</span>
<span id="L2123" title="Line 2123: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2123</span>                 :                :         NumericSortSupport *nss;</span>
<span id="L2124" title="Line 2124: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2124</span>                 :<span class="tlaCBC">            129 :         MemoryContext oldcontext = MemoryContextSwitchTo(ssup-&gt;ssup_cxt);</span></span>
<span id="L2125" title="Line 2125: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2125</span>                 :                : </span>
<span id="L2126" title="Line 2126: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2126</span>                 :<span class="tlaCBC">            129 :         nss = palloc(sizeof(NumericSortSupport));</span></span>
<span id="L2127" title="Line 2127: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2127</span>                 :                : </span>
<span id="L2128" title="Line 2128: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2128</span>                 :                :         /*</span>
<span id="L2129" title="Line 2129: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2129</span>                 :                :          * palloc a buffer for handling unaligned packed values in addition to</span>
<span id="L2130" title="Line 2130: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2130</span>                 :                :          * the support struct</span>
<span id="L2131" title="Line 2131: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2131</span>                 :                :          */</span>
<span id="L2132" title="Line 2132: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2132</span>                 :<span class="tlaCBC">            129 :         nss-&gt;buf = palloc(VARATT_SHORT_MAX + VARHDRSZ + 1);</span></span>
<span id="L2133" title="Line 2133: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2133</span>                 :                : </span>
<span id="L2134" title="Line 2134: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2134</span>                 :<span class="tlaCBC">            129 :         nss-&gt;input_count = 0;</span></span>
<span id="L2135" title="Line 2135: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2135</span>                 :<span class="tlaCBC">            129 :         nss-&gt;estimating = true;</span></span>
<span id="L2136" title="Line 2136: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2136</span>                 :<span class="tlaCBC">            129 :         initHyperLogLog(&amp;nss-&gt;abbr_card, 10);</span></span>
<span id="L2137" title="Line 2137: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2137</span>                 :                : </span>
<span id="L2138" title="Line 2138: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2138</span>                 :<span class="tlaCBC">            129 :         ssup-&gt;ssup_extra = nss;</span></span>
<span id="L2139" title="Line 2139: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2139</span>                 :                : </span>
<span id="L2140" title="Line 2140: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2140</span>                 :<span class="tlaCBC">            129 :         ssup-&gt;abbrev_full_comparator = ssup-&gt;comparator;</span></span>
<span id="L2141" title="Line 2141: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2141</span>                 :<span class="tlaCBC">            129 :         ssup-&gt;comparator = numeric_cmp_abbrev;</span></span>
<span id="L2142" title="Line 2142: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2142</span>                 :<span class="tlaCBC">            129 :         ssup-&gt;abbrev_converter = numeric_abbrev_convert;</span></span>
<span id="L2143" title="Line 2143: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2143</span>                 :<span class="tlaCBC">            129 :         ssup-&gt;abbrev_abort = numeric_abbrev_abort;</span></span>
<span id="L2144" title="Line 2144: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2144</span>                 :                : </span>
<span id="L2145" title="Line 2145: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2145</span>                 :<span class="tlaCBC">            129 :         MemoryContextSwitchTo(oldcontext);</span></span>
<span id="L2146" title="Line 2146: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2146</span>                 :                :     }</span>
<span id="L2147" title="Line 2147: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2147</span>                 :                : </span>
<span id="L2148" title="Line 2148: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2148</span>                 :<span class="tlaCBC">            574 :     PG_RETURN_VOID();</span></span>
<span id="L2149" title="Line 2149: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2149</span>                 :                : }</span>
<span id="L2150" title="Line 2150: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2150</span>                 :                : </span>
<span id="L2151" title="Line 2151: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2151</span>                 :                : /*</span>
<span id="L2152" title="Line 2152: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2152</span>                 :                :  * Abbreviate a numeric datum, handling NaNs and detoasting</span>
<span id="L2153" title="Line 2153: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2153</span>                 :                :  * (must not leak memory!)</span>
<span id="L2154" title="Line 2154: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2154</span>                 :                :  */</span>
<span id="L2155" title="Line 2155: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2155</span>                 :                : static Datum</span>
<span id="L2156" title="Line 2156: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2156</span>                 :<span class="tlaCBC">           9584 : numeric_abbrev_convert(Datum original_datum, SortSupport ssup)</span></span>
<span id="L2157" title="Line 2157: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2157</span>                 :                : {</span>
<span id="L2158" title="Line 2158: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2158</span>                 :<span class="tlaCBC">           9584 :     NumericSortSupport *nss = ssup-&gt;ssup_extra;</span></span>
<span id="L2159" title="Line 2159: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2159</span>                 :<span class="tlaCBC">           9584 :     void       *original_varatt = PG_DETOAST_DATUM_PACKED(original_datum);</span></span>
<span id="L2160" title="Line 2160: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2160</span>                 :                :     Numeric     value;</span>
<span id="L2161" title="Line 2161: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2161</span>                 :                :     Datum       result;</span>
<span id="L2162" title="Line 2162: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2162</span>                 :                : </span>
<span id="L2163" title="Line 2163: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2163</span>                 :<span class="tlaCBC">           9584 :     nss-&gt;input_count += 1;</span></span>
<span id="L2164" title="Line 2164: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2164</span>                 :                : </span>
<span id="L2165" title="Line 2165: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2165</span>                 :                :     /*</span>
<span id="L2166" title="Line 2166: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2166</span>                 :                :      * This is to handle packed datums without needing a palloc/pfree cycle;</span>
<span id="L2167" title="Line 2167: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2167</span>                 :                :      * we keep and reuse a buffer large enough to handle any short datum.</span>
<span id="L2168" title="Line 2168: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2168</span>                 :                :      */</span>
<span id="L2169" title="Line 2169: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2169</span>         [<span class="tlaCBC"> <a href="#L2174" title="CBC: Branch 0 was taken 513 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2174" title="CBC: Branch 1 was taken 9071 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           9584 :     if (VARATT_IS_SHORT(original_varatt))</span></span>
<span id="L2170" title="Line 2170: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2170</span>                 :                :     {</span>
<span id="L2171" title="Line 2171: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2171</span>                 :<span class="tlaCBC">            513 :         void       *buf = nss-&gt;buf;</span></span>
<span id="L2172" title="Line 2172: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2172</span>                 :<span class="tlaCBC">            513 :         Size        sz = VARSIZE_SHORT(original_varatt) - VARHDRSZ_SHORT;</span></span>
<span id="L2173" title="Line 2173: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2173</span>                 :                : </span>
<span id="L2174" title="Line 2174: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2174</span>         [<span class="tlaUBC"> <a href="#L2203" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2184" title="CBC: Branch 1 was taken 513 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            513 :         Assert(sz &lt;= VARATT_SHORT_MAX - VARHDRSZ_SHORT);</span></span>
<span id="L2175" title="Line 2175: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2175</span>                 :                : </span>
<span id="L2176" title="Line 2176: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2176</span>                 :<span class="tlaCBC">            513 :         SET_VARSIZE(buf, VARHDRSZ + sz);</span></span>
<span id="L2177" title="Line 2177: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2177</span>                 :<span class="tlaCBC">            513 :         memcpy(VARDATA(buf), VARDATA_SHORT(original_varatt), sz);</span></span>
<span id="L2178" title="Line 2178: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2178</span>                 :                : </span>
<span id="L2179" title="Line 2179: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2179</span>                 :<span class="tlaCBC">            513 :         value = (Numeric) buf;</span></span>
<span id="L2180" title="Line 2180: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2180</span>                 :                :     }</span>
<span id="L2181" title="Line 2181: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2181</span>                 :                :     else</span>
<span id="L2182" title="Line 2182: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2182</span>                 :<span class="tlaCBC">           9071 :         value = (Numeric) original_varatt;</span></span>
<span id="L2183" title="Line 2183: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2183</span>                 :                : </span>
<span id="L2184" title="Line 2184: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L2422" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    2184</span>         [<span class="tlaCBC"> <a href="#L2186" title="CBC: Branch 0 was taken 75 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2186" title="CBC: Branch 1 was taken 9509 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           9584 :     if (NUMERIC_IS_SPECIAL(value))</span></span>
<span id="L2185" title="Line 2185: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2185</span>                 :                :     {</span>
<span id="L2186" title="Line 2186: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2186</span>         [<span class="tlaCBC"> <a href="#L2188" title="CBC: Branch 0 was taken 24 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2188" title="CBC: Branch 1 was taken 51 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             75 :         if (NUMERIC_IS_PINF(value))</span></span>
<span id="L2187" title="Line 2187: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2187</span>                 :<span class="tlaCBC">             24 :             result = NUMERIC_ABBREV_PINF;</span></span>
<span id="L2188" title="Line 2188: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2188</span>         [<span class="tlaCBC"> <a href="#L2203" title="CBC: Branch 0 was taken 24 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2203" title="CBC: Branch 1 was taken 27 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             51 :         else if (NUMERIC_IS_NINF(value))</span></span>
<span id="L2189" title="Line 2189: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2189</span>                 :<span class="tlaCBC">             24 :             result = NUMERIC_ABBREV_NINF;</span></span>
<span id="L2190" title="Line 2190: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2190</span>                 :                :         else</span>
<span id="L2191" title="Line 2191: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2191</span>                 :<span class="tlaCBC">             27 :             result = NUMERIC_ABBREV_NAN;</span></span>
<span id="L2192" title="Line 2192: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2192</span>                 :                :     }</span>
<span id="L2193" title="Line 2193: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2193</span>                 :                :     else</span>
<span id="L2194" title="Line 2194: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2194</span>                 :                :     {</span>
<span id="L2195" title="Line 2195: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2195</span>                 :                :         NumericVar  var;</span>
<span id="L2196" title="Line 2196: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2196</span>                 :                : </span>
<span id="L2197" title="Line 2197: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"> 3799 <a href="#L2206" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    2197</span>                 :<span class="tlaCBC">           9509 :         init_var_from_num(value, &amp;var);</span></span>
<span id="L2198" title="Line 2198: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2198</span>                 :                : </span>
<span id="L2199" title="Line 2199: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2199</span>                 :<span class="tlaCBC">           9509 :         result = numeric_abbrev_convert_var(&amp;var, nss);</span></span>
<span id="L2200" title="Line 2200: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2200</span>                 :                :     }</span>
<span id="L2201" title="Line 2201: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2201</span>                 :                : </span>
<span id="L2202" title="Line 2202: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2202</span>                 :                :     /* should happen only for external/compressed toasts */</span>
<span id="L2203" title="Line 2203: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2203</span>         [<span class="tlaUBC"> <a href="#L2223" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2223" title="CBC: Branch 1 was taken 9584 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           9584 :     if ((Pointer) original_varatt != DatumGetPointer(original_datum))</span></span>
<span id="L2204" title="Line 2204: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3799 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L2226" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3799</a> <a href="#L2226" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    2204</span>                 :<a href="#L2226" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         pfree(original_varatt);</span></span>
<span id="L2205" title="Line 2205: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2205</span>                 :                : </span>
<span id="L2206" title="Line 2206: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"> <a href="#L2285" title="next CBC in &ldquo;(360..) days&rdquo; bin">3799</a> <a href="#L2285" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    2206</span>                 :<a href="#L2285" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        9584 :     return result;</span></span>
<span id="L2207" title="Line 2207: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2207</span>                 :                : }</span>
<span id="L2208" title="Line 2208: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2208</span>                 :                : </span>
<span id="L2209" title="Line 2209: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2209</span>                 :                : /*</span>
<span id="L2210" title="Line 2210: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2210</span>                 :                :  * Consider whether to abort abbreviation.</span>
<span id="L2211" title="Line 2211: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2211</span>                 :                :  *</span>
<span id="L2212" title="Line 2212: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2212</span>                 :                :  * We pay no attention to the cardinality of the non-abbreviated data. There is</span>
<span id="L2213" title="Line 2213: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2213</span>                 :                :  * no reason to do so: unlike text, we have no fast check for equal values, so</span>
<span id="L2214" title="Line 2214: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2214</span>                 :                :  * we pay the full overhead whenever the abbreviations are equal regardless of</span>
<span id="L2215" title="Line 2215: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2215</span>                 :                :  * whether the underlying values are also equal.</span>
<span id="L2216" title="Line 2216: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2216</span>                 :                :  */</span>
<span id="L2217" title="Line 2217: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2217</span>                 :                : static bool</span>
<span id="L2218" title="Line 2218: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2218</span>                 :<span class="tlaCBC">             72 : numeric_abbrev_abort(int memtupcount, SortSupport ssup)</span></span>
<span id="L2219" title="Line 2219: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2219</span>                 :                : {</span>
<span id="L2220" title="Line 2220: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2220</span>                 :<span class="tlaCBC">             72 :     NumericSortSupport *nss = ssup-&gt;ssup_extra;</span></span>
<span id="L2221" title="Line 2221: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2221</span>                 :                :     double      abbr_card;</span>
<span id="L2222" title="Line 2222: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2222</span>                 :                : </span>
<span id="L2223" title="Line 2223: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2223</span>   [<span class="tlaUBC"> <a href="#L2234" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2293" title="CBC: Branch 1 was taken 72 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2234" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L2234" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span> :<span class="tlaCBC">             72 :     if (memtupcount &lt; 10000 || nss-&gt;input_count &lt; 10000 || !nss-&gt;estimating)</span></span>
                           <span class="lineNum">        </span>          <span class="tlaUBC"> <a href="#L2234" title="UBC: Branch 4 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L2234" title="UBC: Branch 5 was not taken" class="branchTla">-</a> </span>]
<span id="L2224" title="Line 2224: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2224</span>                 :<span class="tlaCBC">             72 :         return false;</span></span>
<span id="L2225" title="Line 2225: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2225</span>                 :                : </span>
<span id="L2226" title="Line 2226: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3799 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L2386" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3799</a> <a href="#L2386" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    2226</span>                 :<a href="#L2386" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :     abbr_card = estimateHyperLogLog(&amp;nss-&gt;abbr_card);</span></span>
<span id="L2227" title="Line 2227: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2227</span>                 :                : </span>
<span id="L2228" title="Line 2228: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2228</span>                 :                :     /*</span>
<span id="L2229" title="Line 2229: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2229</span>                 :                :      * If we have &gt;100k distinct values, then even if we were sorting many</span>
<span id="L2230" title="Line 2230: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2230</span>                 :                :      * billion rows we'd likely still break even, and the penalty of undoing</span>
<span id="L2231" title="Line 2231: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2231</span>                 :                :      * that many rows of abbrevs would probably not be worth it. Stop even</span>
<span id="L2232" title="Line 2232: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2232</span>                 :                :      * counting at that point.</span>
<span id="L2233" title="Line 2233: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2233</span>                 :                :      */</span>
<span id="L2234" title="Line 2234: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3799 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    2234</span>         [<span class="tlaUBC"> <a href="#L2236" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L2236" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :     if (abbr_card &gt; 100000.0)</span></span>
<span id="L2235" title="Line 2235: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2235</span>                 :                :     {</span>
<span id="L2236" title="Line 2236: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3799 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    2236</span>         [<span class="tlaUBC"> <a href="#L2237" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L2237" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :         if (trace_sort)</span></span>
<span id="L2237" title="Line 2237: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3799 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    2237</span>         [<span class="tlaUBC"> <a href="#L2254" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L2254" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :             elog(LOG,</span></span>
<span id="L2238" title="Line 2238: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2238</span>                 :                :                  &quot;numeric_abbrev: estimation ends at cardinality %f&quot;</span>
<span id="L2239" title="Line 2239: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2239</span>                 :                :                  &quot; after &quot; INT64_FORMAT &quot; values (%d rows)&quot;,</span>
<span id="L2240" title="Line 2240: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2240</span>                 :                :                  abbr_card, nss-&gt;input_count, memtupcount);</span>
<span id="L2241" title="Line 2241: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3799 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    2241</span>                 :<span class="tlaUBC">              0 :         nss-&gt;estimating = false;</span></span>
<span id="L2242" title="Line 2242: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3799 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    2242</span>                 :<span class="tlaUBC">              0 :         return false;</span></span>
<span id="L2243" title="Line 2243: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2243</span>                 :                :     }</span>
<span id="L2244" title="Line 2244: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2244</span>                 :                : </span>
<span id="L2245" title="Line 2245: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2245</span>                 :                :     /*</span>
<span id="L2246" title="Line 2246: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2246</span>                 :                :      * Target minimum cardinality is 1 per ~10k of non-null inputs.  (The</span>
<span id="L2247" title="Line 2247: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2247</span>                 :                :      * break even point is somewhere between one per 100k rows, where</span>
<span id="L2248" title="Line 2248: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2248</span>                 :                :      * abbreviation has a very slight penalty, and 1 per 10k where it wins by</span>
<span id="L2249" title="Line 2249: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2249</span>                 :                :      * a measurable percentage.)  We use the relatively pessimistic 10k</span>
<span id="L2250" title="Line 2250: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2250</span>                 :                :      * threshold, and add a 0.5 row fudge factor, because it allows us to</span>
<span id="L2251" title="Line 2251: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2251</span>                 :                :      * abort earlier on genuinely pathological data where we've had exactly</span>
<span id="L2252" title="Line 2252: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2252</span>                 :                :      * one abbreviated value in the first 10k (non-null) rows.</span>
<span id="L2253" title="Line 2253: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2253</span>                 :                :      */</span>
<span id="L2254" title="Line 2254: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3799 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    2254</span>         [<span class="tlaUBC"> <a href="#L2256" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L2256" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :     if (abbr_card &lt; nss-&gt;input_count / 10000.0 + 0.5)</span></span>
<span id="L2255" title="Line 2255: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2255</span>                 :                :     {</span>
<span id="L2256" title="Line 2256: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3799 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    2256</span>         [<span class="tlaUBC"> <a href="#L2257" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L2257" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :         if (trace_sort)</span></span>
<span id="L2257" title="Line 2257: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3799 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    2257</span>         [<span class="tlaUBC"> <a href="#L2265" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L2265" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :             elog(LOG,</span></span>
<span id="L2258" title="Line 2258: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2258</span>                 :                :                  &quot;numeric_abbrev: aborting abbreviation at cardinality %f&quot;</span>
<span id="L2259" title="Line 2259: commit 382ceffdf7f6 on 2017-06-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2259</span>                 :                :                  &quot; below threshold %f after &quot; INT64_FORMAT &quot; values (%d rows)&quot;,</span>
<span id="L2260" title="Line 2260: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2260</span>                 :                :                  abbr_card, nss-&gt;input_count / 10000.0 + 0.5,</span>
<span id="L2261" title="Line 2261: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2261</span>                 :                :                  nss-&gt;input_count, memtupcount);</span>
<span id="L2262" title="Line 2262: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3799 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    2262</span>                 :<span class="tlaUBC">              0 :         return true;</span></span>
<span id="L2263" title="Line 2263: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2263</span>                 :                :     }</span>
<span id="L2264" title="Line 2264: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2264</span>                 :                : </span>
<span id="L2265" title="Line 2265: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3799 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    2265</span>         [<span class="tlaUBC"> <a href="#L2266" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L2266" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :     if (trace_sort)</span></span>
<span id="L2266" title="Line 2266: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3799 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    2266</span>         [<span class="tlaUBC"> <a href="#L2372" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L2372" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :         elog(LOG,</span></span>
<span id="L2267" title="Line 2267: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2267</span>                 :                :              &quot;numeric_abbrev: cardinality %f&quot;</span>
<span id="L2268" title="Line 2268: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2268</span>                 :                :              &quot; after &quot; INT64_FORMAT &quot; values (%d rows)&quot;,</span>
<span id="L2269" title="Line 2269: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2269</span>                 :                :              abbr_card, nss-&gt;input_count, memtupcount);</span>
<span id="L2270" title="Line 2270: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2270</span>                 :                : </span>
<span id="L2271" title="Line 2271: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3799 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    2271</span>                 :<span class="tlaUBC">              0 :     return false;</span></span>
<span id="L2272" title="Line 2272: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2272</span>                 :                : }</span>
<span id="L2273" title="Line 2273: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2273</span>                 :                : </span>
<span id="L2274" title="Line 2274: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2274</span>                 :                : /*</span>
<span id="L2275" title="Line 2275: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2275</span>                 :                :  * Non-fmgr interface to the comparison routine to allow sortsupport to elide</span>
<span id="L2276" title="Line 2276: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2276</span>                 :                :  * the fmgr call.  The saving here is small given how slow numeric comparisons</span>
<span id="L2277" title="Line 2277: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2277</span>                 :                :  * are, but it is a required part of the sort support API when abbreviations</span>
<span id="L2278" title="Line 2278: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2278</span>                 :                :  * are performed.</span>
<span id="L2279" title="Line 2279: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2279</span>                 :                :  *</span>
<span id="L2280" title="Line 2280: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2280</span>                 :                :  * Two palloc/pfree cycles could be saved here by using persistent buffers for</span>
<span id="L2281" title="Line 2281: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2281</span>                 :                :  * aligning short-varlena inputs, but this has not so far been considered to</span>
<span id="L2282" title="Line 2282: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2282</span>                 :                :  * be worth the effort.</span>
<span id="L2283" title="Line 2283: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2283</span>                 :                :  */</span>
<span id="L2284" title="Line 2284: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2284</span>                 :                : static int</span>
<span id="L2285" title="Line 2285: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"> <a href="#L2389" title="next CBC in &ldquo;(360..) days&rdquo; bin">3799</a> <a href="#L2368" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    2285</span>                 :<a href="#L2389" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">     8970015 : numeric_fast_cmp(Datum x, Datum y, SortSupport ssup)</span></span>
<span id="L2286" title="Line 2286: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2286</span>                 :                : {</span>
<span id="L2287" title="Line 2287: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2287</span>                 :<span class="tlaCBC">        8970015 :     Numeric     nx = DatumGetNumeric(x);</span></span>
<span id="L2288" title="Line 2288: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2288</span>                 :<span class="tlaCBC">        8970015 :     Numeric     ny = DatumGetNumeric(y);</span></span>
<span id="L2289" title="Line 2289: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2289</span>                 :                :     int         result;</span>
<span id="L2290" title="Line 2290: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2290</span>                 :                : </span>
<span id="L2291" title="Line 2291: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2291</span>                 :<span class="tlaCBC">        8970015 :     result = cmp_numerics(nx, ny);</span></span>
<span id="L2292" title="Line 2292: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2292</span>                 :                : </span>
<span id="L2293" title="Line 2293: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2293</span>         [<span class="tlaCBC"> <a href="#L2295" title="CBC: Branch 0 was taken 2828085 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2295" title="CBC: Branch 1 was taken 6141930 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        8970015 :     if ((Pointer) nx != DatumGetPointer(x))</span></span>
<span id="L2294" title="Line 2294: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2294</span>                 :<span class="tlaCBC">        2828085 :         pfree(nx);</span></span>
<span id="L2295" title="Line 2295: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2295</span>         [<span class="tlaCBC"> <a href="#L2313" title="CBC: Branch 0 was taken 2828082 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2313" title="CBC: Branch 1 was taken 6141933 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        8970015 :     if ((Pointer) ny != DatumGetPointer(y))</span></span>
<span id="L2296" title="Line 2296: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2296</span>                 :<span class="tlaCBC">        2828082 :         pfree(ny);</span></span>
<span id="L2297" title="Line 2297: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2297</span>                 :                : </span>
<span id="L2298" title="Line 2298: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2298</span>                 :<span class="tlaCBC">        8970015 :     return result;</span></span>
<span id="L2299" title="Line 2299: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2299</span>                 :                : }</span>
<span id="L2300" title="Line 2300: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2300</span>                 :                : </span>
<span id="L2301" title="Line 2301: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2301</span>                 :                : /*</span>
<span id="L2302" title="Line 2302: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2302</span>                 :                :  * Compare abbreviations of values. (Abbreviations may be equal where the true</span>
<span id="L2303" title="Line 2303: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2303</span>                 :                :  * values differ, but if the abbreviations differ, they must reflect the</span>
<span id="L2304" title="Line 2304: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2304</span>                 :                :  * ordering of the true values.)</span>
<span id="L2305" title="Line 2305: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2305</span>                 :                :  */</span>
<span id="L2306" title="Line 2306: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2306</span>                 :                : static int</span>
<span id="L2307" title="Line 2307: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2307</span>                 :<span class="tlaCBC">          93650 : numeric_cmp_abbrev(Datum x, Datum y, SortSupport ssup)</span></span>
<span id="L2308" title="Line 2308: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2308</span>                 :                : {</span>
<span id="L2309" title="Line 2309: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2309</span>                 :                :     /*</span>
<span id="L2310" title="Line 2310: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2310</span>                 :                :      * NOTE WELL: this is intentionally backwards, because the abbreviation is</span>
<span id="L2311" title="Line 2311: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2311</span>                 :                :      * negated relative to the original value, to handle NaN/infinity cases.</span>
<span id="L2312" title="Line 2312: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2312</span>                 :                :      */</span>
<span id="L2313" title="Line 2313: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2313</span>         [<span class="tlaCBC"> <a href="#L2315" title="CBC: Branch 0 was taken 49164 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2315" title="CBC: Branch 1 was taken 44486 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          93650 :     if (DatumGetNumericAbbrev(x) &lt; DatumGetNumericAbbrev(y))</span></span>
<span id="L2314" title="Line 2314: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2314</span>                 :<span class="tlaCBC">          49164 :         return 1;</span></span>
<span id="L2315" title="Line 2315: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2315</span>         [<span class="tlaCBC"> <a href="#L2372" title="CBC: Branch 0 was taken 44372 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2372" title="CBC: Branch 1 was taken 114 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          44486 :     if (DatumGetNumericAbbrev(x) &gt; DatumGetNumericAbbrev(y))</span></span>
<span id="L2316" title="Line 2316: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2316</span>                 :<span class="tlaCBC">          44372 :         return -1;</span></span>
<span id="L2317" title="Line 2317: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2317</span>                 :<span class="tlaCBC">            114 :     return 0;</span></span>
<span id="L2318" title="Line 2318: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2318</span>                 :                : }</span>
<span id="L2319" title="Line 2319: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2319</span>                 :                : </span>
<span id="L2320" title="Line 2320: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2320</span>                 :                : /*</span>
<span id="L2321" title="Line 2321: commit 6aebedc38497 on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2321</span>                 :                :  * Abbreviate a NumericVar into the 64-bit sortsupport size.</span>
<span id="L2322" title="Line 2322: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2322</span>                 :                :  *</span>
<span id="L2323" title="Line 2323: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2323</span>                 :                :  * The 31-bit value is constructed as:</span>
<span id="L2324" title="Line 2324: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2324</span>                 :                :  *</span>
<span id="L2325" title="Line 2325: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2325</span>                 :                :  *  0 + 7bits digit weight + 24 bits digit value</span>
<span id="L2326" title="Line 2326: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2326</span>                 :                :  *</span>
<span id="L2327" title="Line 2327: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2327</span>                 :                :  * where the digit weight is in single decimal digits, not digit words, and</span>
<span id="L2328" title="Line 2328: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2328</span>                 :                :  * stored in excess-44 representation[1]. The 24-bit digit value is the 7 most</span>
<span id="L2329" title="Line 2329: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2329</span>                 :                :  * significant decimal digits of the value converted to binary. Values whose</span>
<span id="L2330" title="Line 2330: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2330</span>                 :                :  * weights would fall outside the representable range are rounded off to zero</span>
<span id="L2331" title="Line 2331: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2331</span>                 :                :  * (which is also used to represent actual zeros) or to 0x7FFFFFFF (which</span>
<span id="L2332" title="Line 2332: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2332</span>                 :                :  * otherwise cannot occur). Abbreviation therefore fails to gain any advantage</span>
<span id="L2333" title="Line 2333: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2333</span>                 :                :  * where values are outside the range 10^-44 to 10^83, which is not considered</span>
<span id="L2334" title="Line 2334: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2334</span>                 :                :  * to be a serious limitation, or when values are of the same magnitude and</span>
<span id="L2335" title="Line 2335: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2335</span>                 :                :  * equal in the first 7 decimal digits, which is considered to be an</span>
<span id="L2336" title="Line 2336: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2336</span>                 :                :  * unavoidable limitation given the available bits. (Stealing three more bits</span>
<span id="L2337" title="Line 2337: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2337</span>                 :                :  * to compare another digit would narrow the range of representable weights by</span>
<span id="L2338" title="Line 2338: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2338</span>                 :                :  * a factor of 8, which starts to look like a real limiting factor.)</span>
<span id="L2339" title="Line 2339: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2339</span>                 :                :  *</span>
<span id="L2340" title="Line 2340: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2340</span>                 :                :  * (The value 44 for the excess is essentially arbitrary)</span>
<span id="L2341" title="Line 2341: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2341</span>                 :                :  *</span>
<span id="L2342" title="Line 2342: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2342</span>                 :                :  * The 63-bit value is constructed as:</span>
<span id="L2343" title="Line 2343: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2343</span>                 :                :  *</span>
<span id="L2344" title="Line 2344: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2344</span>                 :                :  *  0 + 7bits weight + 4 x 14-bit packed digit words</span>
<span id="L2345" title="Line 2345: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2345</span>                 :                :  *</span>
<span id="L2346" title="Line 2346: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2346</span>                 :                :  * The weight in this case is again stored in excess-44, but this time it is</span>
<span id="L2347" title="Line 2347: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2347</span>                 :                :  * the original weight in digit words (i.e. powers of 10000). The first four</span>
<span id="L2348" title="Line 2348: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2348</span>                 :                :  * digit words of the value (if present; trailing zeros are assumed as needed)</span>
<span id="L2349" title="Line 2349: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2349</span>                 :                :  * are packed into 14 bits each to form the rest of the value. Again,</span>
<span id="L2350" title="Line 2350: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2350</span>                 :                :  * out-of-range values are rounded off to 0 or 0x7FFFFFFFFFFFFFFF. The</span>
<span id="L2351" title="Line 2351: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2351</span>                 :                :  * representable range in this case is 10^-176 to 10^332, which is considered</span>
<span id="L2352" title="Line 2352: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2352</span>                 :                :  * to be good enough for all practical purposes, and comparison of 4 words</span>
<span id="L2353" title="Line 2353: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2353</span>                 :                :  * means that at least 13 decimal digits are compared, which is considered to</span>
<span id="L2354" title="Line 2354: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2354</span>                 :                :  * be a reasonable compromise between effectiveness and efficiency in computing</span>
<span id="L2355" title="Line 2355: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2355</span>                 :                :  * the abbreviation.</span>
<span id="L2356" title="Line 2356: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2356</span>                 :                :  *</span>
<span id="L2357" title="Line 2357: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2357</span>                 :                :  * (The value 44 for the excess is even more arbitrary here, it was chosen just</span>
<span id="L2358" title="Line 2358: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2358</span>                 :                :  * to match the value used in the 31-bit case)</span>
<span id="L2359" title="Line 2359: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2359</span>                 :                :  *</span>
<span id="L2360" title="Line 2360: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2360</span>                 :                :  * [1] - Excess-k representation means that the value is offset by adding 'k'</span>
<span id="L2361" title="Line 2361: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2361</span>                 :                :  * and then treated as unsigned, so the smallest representable value is stored</span>
<span id="L2362" title="Line 2362: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2362</span>                 :                :  * with all bits zero. This allows simple comparisons to work on the composite</span>
<span id="L2363" title="Line 2363: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2363</span>                 :                :  * value.</span>
<span id="L2364" title="Line 2364: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2364</span>                 :                :  */</span>
<span id="L2365" title="Line 2365: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2365</span>                 :                : static Datum</span>
<span id="L2366" title="Line 2366: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L3672" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    2366</span>                 :<span class="tlaCBC">           9509 : numeric_abbrev_convert_var(const NumericVar *var, NumericSortSupport *nss)</span></span>
<span id="L2367" title="Line 2367: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2367</span>                 :                : {</span>
<span id="L2368" title="Line 2368: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"> 3799 <a href="#L2389" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    2368</span>                 :<span class="tlaCBC">           9509 :     int         ndigits = var-&gt;ndigits;</span></span>
<span id="L2369" title="Line 2369: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2369</span>                 :<span class="tlaCBC">           9509 :     int         weight = var-&gt;weight;</span></span>
<span id="L2370" title="Line 2370: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2370</span>                 :                :     int64       result;</span>
<span id="L2371" title="Line 2371: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2371</span>                 :                : </span>
<span id="L2372" title="Line 2372: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2372</span>   [<span class="tlaCBC"> <a href="#L2376" title="CBC: Branch 0 was taken 9483 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2376" title="CBC: Branch 1 was taken 26 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2384" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2376" title="CBC: Branch 3 was taken 9483 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           9509 :     if (ndigits == 0 || weight &lt; -44)</span></span>
<span id="L2373" title="Line 2373: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2373</span>                 :                :     {</span>
<span id="L2374" title="Line 2374: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2374</span>                 :<span class="tlaCBC">             26 :         result = 0;</span></span>
<span id="L2375" title="Line 2375: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2375</span>                 :                :     }</span>
<span id="L2376" title="Line 2376: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2376</span>         [<span class="tlaCBC"> <a href="#L2384" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2384" title="CBC: Branch 1 was taken 9477 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           9483 :     else if (weight &gt; 83)</span></span>
<span id="L2377" title="Line 2377: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2377</span>                 :                :     {</span>
<span id="L2378" title="Line 2378: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2378</span>                 :<span class="tlaCBC">              6 :         result = PG_INT64_MAX;</span></span>
<span id="L2379" title="Line 2379: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2379</span>                 :                :     }</span>
<span id="L2380" title="Line 2380: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2380</span>                 :                :     else</span>
<span id="L2381" title="Line 2381: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2381</span>                 :                :     {</span>
<span id="L2382" title="Line 2382: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2382</span>                 :<span class="tlaCBC">           9477 :         result = ((int64) (weight + 44) &lt;&lt; 56);</span></span>
<span id="L2383" title="Line 2383: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2383</span>                 :                : </span>
<span id="L2384" title="Line 2384: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2384</span>   [<span class="tlaUBC"> <a href="#L2405" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2402" title="CBC: Branch 1 was taken 3104 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2402" title="CBC: Branch 2 was taken 6053 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2402" title="CBC: Branch 3 was taken 320 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           9477 :         switch (ndigits)</span></span>
<span id="L2385" title="Line 2385: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2385</span>                 :                :         {</span>
<span id="L2386" title="Line 2386: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3799 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L2549" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3799</a> <a href="#L2815" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    2386</span>                 :<a href="#L2549" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             default:</span></span>
<span id="L2387" title="Line 2387: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3799 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    2387</span>                 :<span class="tlaUBC">              0 :                 result |= ((int64) var-&gt;digits[3]);</span></span>
<span id="L2388" title="Line 2388: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2388</span>                 :                :                 /* FALLTHROUGH */</span>
<span id="L2389" title="Line 2389: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org"> <a href="#L2550" title="next CBC in &ldquo;(360..) days&rdquo; bin">3799</a> <a href="#L2573" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    2389</span>                 :<a href="#L2550" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        3104 :             case 3:</span></span>
<span id="L2390" title="Line 2390: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2390</span>                 :<span class="tlaCBC">           3104 :                 result |= ((int64) var-&gt;digits[2]) &lt;&lt; 14;</span></span>
<span id="L2391" title="Line 2391: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2391</span>                 :                :                 /* FALLTHROUGH */</span>
<span id="L2392" title="Line 2392: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2392</span>                 :<span class="tlaCBC">           9157 :             case 2:</span></span>
<span id="L2393" title="Line 2393: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2393</span>                 :<span class="tlaCBC">           9157 :                 result |= ((int64) var-&gt;digits[1]) &lt;&lt; 28;</span></span>
<span id="L2394" title="Line 2394: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2394</span>                 :                :                 /* FALLTHROUGH */</span>
<span id="L2395" title="Line 2395: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2395</span>                 :<span class="tlaCBC">           9477 :             case 1:</span></span>
<span id="L2396" title="Line 2396: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2396</span>                 :<span class="tlaCBC">           9477 :                 result |= ((int64) var-&gt;digits[0]) &lt;&lt; 42;</span></span>
<span id="L2397" title="Line 2397: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2397</span>                 :<span class="tlaCBC">           9477 :                 break;</span></span>
<span id="L2398" title="Line 2398: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2398</span>                 :                :         }</span>
<span id="L2399" title="Line 2399: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2399</span>                 :                :     }</span>
<span id="L2400" title="Line 2400: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2400</span>                 :                : </span>
<span id="L2401" title="Line 2401: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2401</span>                 :                :     /* the abbrev is negated relative to the original */</span>
<span id="L2402" title="Line 2402: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2402</span>         [<span class="tlaCBC"> <a href="#L2405" title="CBC: Branch 0 was taken 9460 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2405" title="CBC: Branch 1 was taken 49 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           9509 :     if (var-&gt;sign == NUMERIC_POS)</span></span>
<span id="L2403" title="Line 2403: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2403</span>                 :<span class="tlaCBC">           9460 :         result = -result;</span></span>
<span id="L2404" title="Line 2404: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2404</span>                 :                : </span>
<span id="L2405" title="Line 2405: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2405</span>         [<span class="tlaCBC"> <a href="#L2430" title="CBC: Branch 0 was taken 9509 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2492" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">           9509 :     if (nss-&gt;estimating)</span></span>
<span id="L2406" title="Line 2406: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2406</span>                 :                :     {</span>
<span id="L2407" title="Line 2407: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2407</span>                 :<span class="tlaCBC">           9509 :         uint32      tmp = ((uint32) result</span></span>
<span id="L2408" title="Line 2408: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2408</span>                 :<span class="tlaCBC">           9509 :                            ^ (uint32) ((uint64) result &gt;&gt; 32));</span></span>
<span id="L2409" title="Line 2409: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2409</span>                 :                : </span>
<span id="L2410" title="Line 2410: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2410</span>                 :<span class="tlaCBC">           9509 :         addHyperLogLog(&amp;nss-&gt;abbr_card, DatumGetUInt32(hash_uint32(tmp)));</span></span>
<span id="L2411" title="Line 2411: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2411</span>                 :                :     }</span>
<span id="L2412" title="Line 2412: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2412</span>                 :                : </span>
<span id="L2413" title="Line 2413: commit 368b7c601e3a on 2015-04-03 by rhaas@postgresql.org"> 3798                      <span class="lineNum">    2413</span>                 :<span class="tlaCBC">           9509 :     return NumericAbbrevGetDatum(result);</span></span>
<span id="L2414" title="Line 2414: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2414</span>                 :                : }</span>
<span id="L2415" title="Line 2415: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2415</span>                 :                : </span>
<span id="L2416" title="Line 2416: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2416</span>                 :                : </span>
<span id="L2417" title="Line 2417: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2417</span>                 :                : /*</span>
<span id="L2418" title="Line 2418: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2418</span>                 :                :  * Ordinary (non-sortsupport) comparisons follow.</span>
<span id="L2419" title="Line 2419: commit abd94bcac458 on 2015-04-02 by rhaas@postgresql.org">                           <span class="lineNum">    2419</span>                 :                :  */</span>
<span id="L2420" title="Line 2420: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2420</span>                 :                : </span>
<span id="L2421" title="Line 2421: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2421</span>                 :                : Datum</span>
<span id="L2422" title="Line 2422: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L2550" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    2422</span>                 :<span class="tlaCBC">         464402 : numeric_cmp(PG_FUNCTION_ARGS)</span></span>
<span id="L2423" title="Line 2423: commit b5c4b772836e on 1999-09-29 by JanWieck@Yahoo.com">                           <span class="lineNum">    2423</span>                 :                : {</span>
<span id="L2424" title="Line 2424: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2424</span>                 :<span class="tlaCBC">         464402 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L2425" title="Line 2425: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2425</span>                 :<span class="tlaCBC">         464402 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L2426" title="Line 2426: commit b5c4b772836e on 1999-09-29 by JanWieck@Yahoo.com">                           <span class="lineNum">    2426</span>                 :                :     int         result;</span>
<span id="L2427" title="Line 2427: commit b5c4b772836e on 1999-09-29 by JanWieck@Yahoo.com">                           <span class="lineNum">    2427</span>                 :                : </span>
<span id="L2428" title="Line 2428: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us"> 8881                      <span class="lineNum">    2428</span>                 :<span class="tlaCBC">         464402 :     result = cmp_numerics(num1, num2);</span></span>
<span id="L2429" title="Line 2429: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2429</span>                 :                : </span>
<span id="L2430" title="Line 2430: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159                      <span class="lineNum">    2430</span>         [<span class="tlaCBC"> <a href="#L2431" title="CBC: Branch 0 was taken 5770 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2431" title="CBC: Branch 1 was taken 458632 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         464402 :     PG_FREE_IF_COPY(num1, 0);</span></span>
<span id="L2431" title="Line 2431: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2431</span>         [<span class="tlaCBC"> <a href="#L2446" title="CBC: Branch 0 was taken 5427 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2446" title="CBC: Branch 1 was taken 458975 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         464402 :     PG_FREE_IF_COPY(num2, 1);</span></span>
<span id="L2432" title="Line 2432: commit b5c4b772836e on 1999-09-29 by JanWieck@Yahoo.com">                           <span class="lineNum">    2432</span>                 :                : </span>
<span id="L2433" title="Line 2433: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2433</span>                 :<span class="tlaCBC">         464402 :     PG_RETURN_INT32(result);</span></span>
<span id="L2434" title="Line 2434: commit b5c4b772836e on 1999-09-29 by JanWieck@Yahoo.com">                           <span class="lineNum">    2434</span>                 :                : }</span>
<span id="L2435" title="Line 2435: commit b5c4b772836e on 1999-09-29 by JanWieck@Yahoo.com">                           <span class="lineNum">    2435</span>                 :                : </span>
<span id="L2436" title="Line 2436: commit b5c4b772836e on 1999-09-29 by JanWieck@Yahoo.com">                           <span class="lineNum">    2436</span>                 :                : </span>
<span id="L2437" title="Line 2437: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2437</span>                 :                : Datum</span>
<span id="L2438" title="Line 2438: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2438</span>                 :<span class="tlaCBC">         341166 : numeric_eq(PG_FUNCTION_ARGS)</span></span>
<span id="L2439" title="Line 2439: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2439</span>                 :                : {</span>
<span id="L2440" title="Line 2440: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2440</span>                 :<span class="tlaCBC">         341166 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L2441" title="Line 2441: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2441</span>                 :<span class="tlaCBC">         341166 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L2442" title="Line 2442: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2442</span>                 :                :     bool        result;</span>
<span id="L2443" title="Line 2443: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2443</span>                 :                : </span>
<span id="L2444" title="Line 2444: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us"> 8881                      <span class="lineNum">    2444</span>                 :<span class="tlaCBC">         341166 :     result = cmp_numerics(num1, num2) == 0;</span></span>
<span id="L2445" title="Line 2445: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2445</span>                 :                : </span>
<span id="L2446" title="Line 2446: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159                      <span class="lineNum">    2446</span>         [<span class="tlaCBC"> <a href="#L2447" title="CBC: Branch 0 was taken 122418 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2447" title="CBC: Branch 1 was taken 218748 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         341166 :     PG_FREE_IF_COPY(num1, 0);</span></span>
<span id="L2447" title="Line 2447: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2447</span>         [<span class="tlaCBC"> <a href="#L2461" title="CBC: Branch 0 was taken 128012 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2461" title="CBC: Branch 1 was taken 213154 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         341166 :     PG_FREE_IF_COPY(num2, 1);</span></span>
<span id="L2448" title="Line 2448: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2448</span>                 :                : </span>
<span id="L2449" title="Line 2449: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2449</span>                 :<span class="tlaCBC">         341166 :     PG_RETURN_BOOL(result);</span></span>
<span id="L2450" title="Line 2450: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2450</span>                 :                : }</span>
<span id="L2451" title="Line 2451: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2451</span>                 :                : </span>
<span id="L2452" title="Line 2452: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2452</span>                 :                : Datum</span>
<span id="L2453" title="Line 2453: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2453</span>                 :<span class="tlaCBC">           2688 : numeric_ne(PG_FUNCTION_ARGS)</span></span>
<span id="L2454" title="Line 2454: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2454</span>                 :                : {</span>
<span id="L2455" title="Line 2455: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2455</span>                 :<span class="tlaCBC">           2688 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L2456" title="Line 2456: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2456</span>                 :<span class="tlaCBC">           2688 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L2457" title="Line 2457: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2457</span>                 :                :     bool        result;</span>
<span id="L2458" title="Line 2458: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2458</span>                 :                : </span>
<span id="L2459" title="Line 2459: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us"> 8881                      <span class="lineNum">    2459</span>                 :<span class="tlaCBC">           2688 :     result = cmp_numerics(num1, num2) != 0;</span></span>
<span id="L2460" title="Line 2460: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2460</span>                 :                : </span>
<span id="L2461" title="Line 2461: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159                      <span class="lineNum">    2461</span>         [<span class="tlaCBC"> <a href="#L2462" title="CBC: Branch 0 was taken 2676 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2462" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2688 :     PG_FREE_IF_COPY(num1, 0);</span></span>
<span id="L2462" title="Line 2462: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2462</span>         [<span class="tlaCBC"> <a href="#L2476" title="CBC: Branch 0 was taken 1269 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2476" title="CBC: Branch 1 was taken 1419 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2688 :     PG_FREE_IF_COPY(num2, 1);</span></span>
<span id="L2463" title="Line 2463: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2463</span>                 :                : </span>
<span id="L2464" title="Line 2464: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2464</span>                 :<span class="tlaCBC">           2688 :     PG_RETURN_BOOL(result);</span></span>
<span id="L2465" title="Line 2465: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2465</span>                 :                : }</span>
<span id="L2466" title="Line 2466: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2466</span>                 :                : </span>
<span id="L2467" title="Line 2467: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2467</span>                 :                : Datum</span>
<span id="L2468" title="Line 2468: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2468</span>                 :<span class="tlaCBC">          27803 : numeric_gt(PG_FUNCTION_ARGS)</span></span>
<span id="L2469" title="Line 2469: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2469</span>                 :                : {</span>
<span id="L2470" title="Line 2470: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2470</span>                 :<span class="tlaCBC">          27803 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L2471" title="Line 2471: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2471</span>                 :<span class="tlaCBC">          27803 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L2472" title="Line 2472: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2472</span>                 :                :     bool        result;</span>
<span id="L2473" title="Line 2473: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2473</span>                 :                : </span>
<span id="L2474" title="Line 2474: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us"> 8881                      <span class="lineNum">    2474</span>                 :<span class="tlaCBC">          27803 :     result = cmp_numerics(num1, num2) &gt; 0;</span></span>
<span id="L2475" title="Line 2475: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2475</span>                 :                : </span>
<span id="L2476" title="Line 2476: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159                      <span class="lineNum">    2476</span>         [<span class="tlaCBC"> <a href="#L2477" title="CBC: Branch 0 was taken 5627 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2477" title="CBC: Branch 1 was taken 22176 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          27803 :     PG_FREE_IF_COPY(num1, 0);</span></span>
<span id="L2477" title="Line 2477: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2477</span>         [<span class="tlaCBC"> <a href="#L2491" title="CBC: Branch 0 was taken 930 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2491" title="CBC: Branch 1 was taken 26873 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          27803 :     PG_FREE_IF_COPY(num2, 1);</span></span>
<span id="L2478" title="Line 2478: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2478</span>                 :                : </span>
<span id="L2479" title="Line 2479: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2479</span>                 :<span class="tlaCBC">          27803 :     PG_RETURN_BOOL(result);</span></span>
<span id="L2480" title="Line 2480: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2480</span>                 :                : }</span>
<span id="L2481" title="Line 2481: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2481</span>                 :                : </span>
<span id="L2482" title="Line 2482: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2482</span>                 :                : Datum</span>
<span id="L2483" title="Line 2483: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2483</span>                 :<span class="tlaCBC">           7511 : numeric_ge(PG_FUNCTION_ARGS)</span></span>
<span id="L2484" title="Line 2484: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2484</span>                 :                : {</span>
<span id="L2485" title="Line 2485: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2485</span>                 :<span class="tlaCBC">           7511 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L2486" title="Line 2486: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2486</span>                 :<span class="tlaCBC">           7511 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L2487" title="Line 2487: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2487</span>                 :                :     bool        result;</span>
<span id="L2488" title="Line 2488: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2488</span>                 :                : </span>
<span id="L2489" title="Line 2489: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us"> 8881                      <span class="lineNum">    2489</span>                 :<span class="tlaCBC">           7511 :     result = cmp_numerics(num1, num2) &gt;= 0;</span></span>
<span id="L2490" title="Line 2490: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2490</span>                 :                : </span>
<span id="L2491" title="Line 2491: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159                      <span class="lineNum">    2491</span>         [<span class="tlaCBC"> <a href="#L2492" title="CBC: Branch 0 was taken 5160 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2492" title="CBC: Branch 1 was taken 2351 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           7511 :     PG_FREE_IF_COPY(num1, 0);</span></span>
<span id="L2492" title="Line 2492: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2492</span>         [<span class="tlaUBC"> <a href="#L2548" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2506" title="CBC: Branch 1 was taken 7511 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           7511 :     PG_FREE_IF_COPY(num2, 1);</span></span>
<span id="L2493" title="Line 2493: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2493</span>                 :                : </span>
<span id="L2494" title="Line 2494: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2494</span>                 :<span class="tlaCBC">           7511 :     PG_RETURN_BOOL(result);</span></span>
<span id="L2495" title="Line 2495: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2495</span>                 :                : }</span>
<span id="L2496" title="Line 2496: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2496</span>                 :                : </span>
<span id="L2497" title="Line 2497: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2497</span>                 :                : Datum</span>
<span id="L2498" title="Line 2498: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2498</span>                 :<span class="tlaCBC">          68573 : numeric_lt(PG_FUNCTION_ARGS)</span></span>
<span id="L2499" title="Line 2499: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2499</span>                 :                : {</span>
<span id="L2500" title="Line 2500: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2500</span>                 :<span class="tlaCBC">          68573 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L2501" title="Line 2501: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2501</span>                 :<span class="tlaCBC">          68573 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L2502" title="Line 2502: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2502</span>                 :                :     bool        result;</span>
<span id="L2503" title="Line 2503: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2503</span>                 :                : </span>
<span id="L2504" title="Line 2504: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us"> 8881                      <span class="lineNum">    2504</span>                 :<span class="tlaCBC">          68573 :     result = cmp_numerics(num1, num2) &lt; 0;</span></span>
<span id="L2505" title="Line 2505: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2505</span>                 :                : </span>
<span id="L2506" title="Line 2506: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159                      <span class="lineNum">    2506</span>         [<span class="tlaCBC"> <a href="#L2507" title="CBC: Branch 0 was taken 49581 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2507" title="CBC: Branch 1 was taken 18992 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          68573 :     PG_FREE_IF_COPY(num1, 0);</span></span>
<span id="L2507" title="Line 2507: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2507</span>         [<span class="tlaCBC"> <a href="#L2521" title="CBC: Branch 0 was taken 44529 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2521" title="CBC: Branch 1 was taken 24044 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          68573 :     PG_FREE_IF_COPY(num2, 1);</span></span>
<span id="L2508" title="Line 2508: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2508</span>                 :                : </span>
<span id="L2509" title="Line 2509: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2509</span>                 :<span class="tlaCBC">          68573 :     PG_RETURN_BOOL(result);</span></span>
<span id="L2510" title="Line 2510: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2510</span>                 :                : }</span>
<span id="L2511" title="Line 2511: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2511</span>                 :                : </span>
<span id="L2512" title="Line 2512: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2512</span>                 :                : Datum</span>
<span id="L2513" title="Line 2513: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2513</span>                 :<span class="tlaCBC">           8963 : numeric_le(PG_FUNCTION_ARGS)</span></span>
<span id="L2514" title="Line 2514: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2514</span>                 :                : {</span>
<span id="L2515" title="Line 2515: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2515</span>                 :<span class="tlaCBC">           8963 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L2516" title="Line 2516: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2516</span>                 :<span class="tlaCBC">           8963 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L2517" title="Line 2517: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2517</span>                 :                :     bool        result;</span>
<span id="L2518" title="Line 2518: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2518</span>                 :                : </span>
<span id="L2519" title="Line 2519: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us"> 8881                      <span class="lineNum">    2519</span>                 :<span class="tlaCBC">           8963 :     result = cmp_numerics(num1, num2) &lt;= 0;</span></span>
<span id="L2520" title="Line 2520: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2520</span>                 :                : </span>
<span id="L2521" title="Line 2521: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2521</span>         [<span class="tlaCBC"> <a href="#L2522" title="CBC: Branch 0 was taken 5727 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2522" title="CBC: Branch 1 was taken 3236 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           8963 :     PG_FREE_IF_COPY(num1, 0);</span></span>
<span id="L2522" title="Line 2522: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2522</span>         [<span class="tlaCBC"> <a href="#L2537" title="CBC: Branch 0 was taken 569 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2537" title="CBC: Branch 1 was taken 8394 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           8963 :     PG_FREE_IF_COPY(num2, 1);</span></span>
<span id="L2523" title="Line 2523: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2523</span>                 :                : </span>
<span id="L2524" title="Line 2524: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2524</span>                 :<span class="tlaCBC">           8963 :     PG_RETURN_BOOL(result);</span></span>
<span id="L2525" title="Line 2525: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2525</span>                 :                : }</span>
<span id="L2526" title="Line 2526: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2526</span>                 :                : </span>
<span id="L2527" title="Line 2527: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2527</span>                 :                : static int</span>
<span id="L2528" title="Line 2528: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2528</span>                 :<span class="tlaCBC">        9901891 : cmp_numerics(Numeric num1, Numeric num2)</span></span>
<span id="L2529" title="Line 2529: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2529</span>                 :                : {</span>
<span id="L2530" title="Line 2530: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2530</span>                 :                :     int         result;</span>
<span id="L2531" title="Line 2531: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2531</span>                 :                : </span>
<span id="L2532" title="Line 2532: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2532</span>                 :                :     /*</span>
<span id="L2533" title="Line 2533: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2533</span>                 :                :      * We consider all NANs to be equal and larger than any non-NAN (including</span>
<span id="L2534" title="Line 2534: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2534</span>                 :                :      * Infinity).  This is somewhat arbitrary; the important thing is to have</span>
<span id="L2535" title="Line 2535: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2535</span>                 :                :      * a consistent sort order.</span>
<span id="L2536" title="Line 2536: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2536</span>                 :                :      */</span>
<span id="L2537" title="Line 2537: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    2537</span>         [<span class="tlaCBC"> <a href="#L2539" title="CBC: Branch 0 was taken 3432 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2539" title="CBC: Branch 1 was taken 9898459 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        9901891 :     if (NUMERIC_IS_SPECIAL(num1))</span></span>
<span id="L2538" title="Line 2538: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2538</span>                 :                :     {</span>
<span id="L2539" title="Line 2539: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2539</span>         [<span class="tlaCBC"> <a href="#L2541" title="CBC: Branch 0 was taken 3387 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2541" title="CBC: Branch 1 was taken 45 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3432 :         if (NUMERIC_IS_NAN(num1))</span></span>
<span id="L2540" title="Line 2540: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2540</span>                 :                :         {</span>
<span id="L2541" title="Line 2541: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2541</span>         [<span class="tlaCBC"> <a href="#L2546" title="CBC: Branch 0 was taken 538 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2546" title="CBC: Branch 1 was taken 2849 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3387 :             if (NUMERIC_IS_NAN(num2))</span></span>
<span id="L2542" title="Line 2542: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2542</span>                 :<span class="tlaCBC">            538 :                 result = 0;     /* NAN = NAN */</span></span>
<span id="L2543" title="Line 2543: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2543</span>                 :                :             else</span>
<span id="L2544" title="Line 2544: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2544</span>                 :<span class="tlaCBC">           2849 :                 result = 1;     /* NAN &gt; non-NAN */</span></span>
<span id="L2545" title="Line 2545: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2545</span>                 :                :         }</span>
<span id="L2546" title="Line 2546: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2546</span>         [<span class="tlaCBC"> <a href="#L2548" title="CBC: Branch 0 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2548" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             45 :         else if (NUMERIC_IS_PINF(num1))</span></span>
<span id="L2547" title="Line 2547: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2547</span>                 :                :         {</span>
<span id="L2548" title="Line 2548: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2548</span>         [<span class="tlaUBC"> <a href="#L2573" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2550" title="CBC: Branch 1 was taken 36 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             36 :             if (NUMERIC_IS_NAN(num2))</span></span>
<span id="L2549" title="Line 2549: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L2648" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L2648" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    2549</span>                 :<a href="#L2648" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                 result = -1;    /* PINF &lt; NAN */</span></span>
<span id="L2550" title="Line 2550: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L2650" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L2578" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    2550</span>         [<span class="tlaCBC"> <a href="#L2557" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2557" title="CBC: Branch 1 was taken 33 times" class="branchTla">+</a> </span>]:<a href="#L2650" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          36 :             else if (NUMERIC_IS_PINF(num2))</span></span>
<span id="L2551" title="Line 2551: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2551</span>                 :<span class="tlaCBC">              3 :                 result = 0;     /* PINF = PINF */</span></span>
<span id="L2552" title="Line 2552: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2552</span>                 :                :             else</span>
<span id="L2553" title="Line 2553: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2553</span>                 :<span class="tlaCBC">             33 :                 result = 1;     /* PINF &gt; anything else */</span></span>
<span id="L2554" title="Line 2554: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2554</span>                 :                :         }</span>
<span id="L2555" title="Line 2555: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2555</span>                 :                :         else                    /* num1 must be NINF */</span>
<span id="L2556" title="Line 2556: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2556</span>                 :                :         {</span>
<span id="L2557" title="Line 2557: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2557</span>         [<span class="tlaCBC"> <a href="#L2563" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2563" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :             if (NUMERIC_IS_NINF(num2))</span></span>
<span id="L2558" title="Line 2558: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2558</span>                 :<span class="tlaCBC">              3 :                 result = 0;     /* NINF = NINF */</span></span>
<span id="L2559" title="Line 2559: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2559</span>                 :                :             else</span>
<span id="L2560" title="Line 2560: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2560</span>                 :<span class="tlaCBC">              6 :                 result = -1;    /* NINF &lt; anything else */</span></span>
<span id="L2561" title="Line 2561: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2561</span>                 :                :         }</span>
<span id="L2562" title="Line 2562: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2562</span>                 :                :     }</span>
<span id="L2563" title="Line 2563: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2563</span>         [<span class="tlaCBC"> <a href="#L2565" title="CBC: Branch 0 was taken 5592 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2565" title="CBC: Branch 1 was taken 9892867 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        9898459 :     else if (NUMERIC_IS_SPECIAL(num2))</span></span>
<span id="L2564" title="Line 2564: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2564</span>                 :                :     {</span>
<span id="L2565" title="Line 2565: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2565</span>         [<span class="tlaCBC"> <a href="#L2572" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2572" title="CBC: Branch 1 was taken 5586 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           5592 :         if (NUMERIC_IS_NINF(num2))</span></span>
<span id="L2566" title="Line 2566: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2566</span>                 :<span class="tlaCBC">              6 :             result = 1;         /* normal &gt; NINF */</span></span>
<span id="L2567" title="Line 2567: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2567</span>                 :                :         else</span>
<span id="L2568" title="Line 2568: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2568</span>                 :<span class="tlaCBC">           5586 :             result = -1;        /* normal &lt; NAN or PINF */</span></span>
<span id="L2569" title="Line 2569: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2569</span>                 :                :     }</span>
<span id="L2570" title="Line 2570: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2570</span>                 :                :     else</span>
<span id="L2571" title="Line 2571: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2571</span>                 :                :     {</span>
<span id="L2572" title="Line 2572: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us"> 7140 <a href="#L2574" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    2572</span>   [<span class="tlaCBC"> <a href="#L2573" title="CBC: Branch 0 was taken 9892716 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2573" title="CBC: Branch 1 was taken 151 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2573" title="CBC: Branch 2 was taken 9892716 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2573" title="CBC: Branch 3 was taken 151 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">       19786248 :         result = cmp_var_common(NUMERIC_DIGITS(num1), NUMERIC_NDIGITS(num1),</span></span>
<span id="L2573" title="Line 2573: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"> 5502 <a href="#L2575" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    2573</span>   [<span class="tlaCBC"> <a href="#L2574" title="CBC: Branch 0 was taken 9892716 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2574" title="CBC: Branch 1 was taken 151 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2575" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2574" title="CBC: Branch 3 was taken 151 times" class="branchTla">+</a> </span> :<span class="tlaCBC">        9893018 :                                 NUMERIC_WEIGHT(num1), NUMERIC_SIGN(num1),</span></span>
                           <span class="lineNum">        </span>    <span class="tlaCBC"> <a href="#L2574" title="CBC: Branch 4 was taken 9892716 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2574" title="CBC: Branch 5 was taken 151 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2574" title="CBC: Branch 6 was taken 376253 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2574" title="CBC: Branch 7 was taken 9516463 times" class="branchTla">+</a> </span>]
<span id="L2574" title="Line 2574: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us"> 7140 <a href="#L2722" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    2574</span>   [<span class="tlaCBC"> <a href="#L2575" title="CBC: Branch 0 was taken 9892504 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2575" title="CBC: Branch 1 was taken 363 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2575" title="CBC: Branch 2 was taken 9892504 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2575" title="CBC: Branch 3 was taken 363 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        9892867 :                                 NUMERIC_DIGITS(num2), NUMERIC_NDIGITS(num2),</span></span>
<span id="L2575" title="Line 2575: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"> 5502 <a href="#L2736" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    2575</span>   [<span class="tlaCBC"> <a href="#L2598" title="CBC: Branch 0 was taken 9892504 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2598" title="CBC: Branch 1 was taken 363 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2599" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2598" title="CBC: Branch 3 was taken 363 times" class="branchTla">+</a> </span> :<span class="tlaCBC">        9893230 :                                 NUMERIC_WEIGHT(num2), NUMERIC_SIGN(num2));</span></span>
                           <span class="lineNum">        </span>    <span class="tlaCBC"> <a href="#L2598" title="CBC: Branch 4 was taken 9892504 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2598" title="CBC: Branch 5 was taken 363 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2598" title="CBC: Branch 6 was taken 361746 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2598" title="CBC: Branch 7 was taken 9530758 times" class="branchTla">+</a> </span>]
<span id="L2576" title="Line 2576: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2576</span>                 :                :     }</span>
<span id="L2577" title="Line 2577: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2577</span>                 :                : </span>
<span id="L2578" title="Line 2578: commit 2792374cff36 on 2001-05-03 by tgl@sss.pgh.pa.us"> 8881 <a href="#L2650" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    2578</span>                 :<span class="tlaCBC">        9901891 :     return result;</span></span>
<span id="L2579" title="Line 2579: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2579</span>                 :                : }</span>
<span id="L2580" title="Line 2580: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2580</span>                 :                : </span>
<span id="L2581" title="Line 2581: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2581</span>                 :                : /*</span>
<span id="L2582" title="Line 2582: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2582</span>                 :                :  * in_range support function for numeric.</span>
<span id="L2583" title="Line 2583: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2583</span>                 :                :  */</span>
<span id="L2584" title="Line 2584: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2584</span>                 :                : Datum</span>
<span id="L2585" title="Line 2585: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us"> 2740                      <span class="lineNum">    2585</span>                 :<span class="tlaCBC">            576 : in_range_numeric_numeric(PG_FUNCTION_ARGS)</span></span>
<span id="L2586" title="Line 2586: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2586</span>                 :                : {</span>
<span id="L2587" title="Line 2587: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2587</span>                 :<span class="tlaCBC">            576 :     Numeric     val = PG_GETARG_NUMERIC(0);</span></span>
<span id="L2588" title="Line 2588: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2588</span>                 :<span class="tlaCBC">            576 :     Numeric     base = PG_GETARG_NUMERIC(1);</span></span>
<span id="L2589" title="Line 2589: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2589</span>                 :<span class="tlaCBC">            576 :     Numeric     offset = PG_GETARG_NUMERIC(2);</span></span>
<span id="L2590" title="Line 2590: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2590</span>                 :<span class="tlaCBC">            576 :     bool        sub = PG_GETARG_BOOL(3);</span></span>
<span id="L2591" title="Line 2591: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2591</span>                 :<span class="tlaCBC">            576 :     bool        less = PG_GETARG_BOOL(4);</span></span>
<span id="L2592" title="Line 2592: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2592</span>                 :                :     bool        result;</span>
<span id="L2593" title="Line 2593: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2593</span>                 :                : </span>
<span id="L2594" title="Line 2594: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2594</span>                 :                :     /*</span>
<span id="L2595" title="Line 2595: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2595</span>                 :                :      * Reject negative (including -Inf) or NaN offset.  Negative is per spec,</span>
<span id="L2596" title="Line 2596: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2596</span>                 :                :      * and NaN is because appropriate semantics for that seem non-obvious.</span>
<span id="L2597" title="Line 2597: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2597</span>                 :                :      */</span>
<span id="L2598" title="Line 2598: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    2598</span>         [<span class="tlaCBC"> <a href="#L2599" title="CBC: Branch 0 was taken 573 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2599" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            576 :     if (NUMERIC_IS_NAN(offset) ||</span></span>
<span id="L2599" title="Line 2599: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2599</span>         [<span class="tlaCBC"> <a href="#L2600" title="CBC: Branch 0 was taken 573 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2600" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            573 :         NUMERIC_IS_NINF(offset) ||</span></span>
<span id="L2600" title="Line 2600: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2600</span>   [<span class="tlaCBC"> <a href="#L2601" title="CBC: Branch 0 was taken 231 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2601" title="CBC: Branch 1 was taken 342 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2601" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2601" title="CBC: Branch 3 was taken 231 times" class="branchTla">+</a> </span> :<span class="tlaCBC">            573 :         NUMERIC_SIGN(offset) == NUMERIC_NEG)</span></span>
                           <span class="lineNum">        </span> <span class="tlaCBC"> <a href="#L2601" title="CBC: Branch 4 was taken 342 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2601" title="UBC: Branch 5 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L2601" title="UBC: Branch 6 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2601" title="CBC: Branch 7 was taken 342 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2601" title="UBC: Branch 8 was not taken" class="branchTla">-</a> </span> 
                           <span class="lineNum">        </span>             <span class="tlaUBC"> <a href="#L2601" title="UBC: Branch 9 was not taken" class="branchTla">-</a> </span>]
<span id="L2601" title="Line 2601: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us"> 2740                      <span class="lineNum">    2601</span>         [<span class="tlaCBC"> <a href="#L2610" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2627" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :         ereport(ERROR,</span></span>
<span id="L2602" title="Line 2602: commit 387543f7bdf0 on 2018-06-11 by peter_e@gmx.net">                           <span class="lineNum">    2602</span>                 :                :                 (errcode(ERRCODE_INVALID_PRECEDING_OR_FOLLOWING_SIZE),</span>
<span id="L2603" title="Line 2603: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2603</span>                 :                :                  errmsg(&quot;invalid preceding or following size in window function&quot;)));</span>
<span id="L2604" title="Line 2604: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2604</span>                 :                : </span>
<span id="L2605" title="Line 2605: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2605</span>                 :                :     /*</span>
<span id="L2606" title="Line 2606: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2606</span>                 :                :      * Deal with cases where val and/or base is NaN, following the rule that</span>
<span id="L2607" title="Line 2607: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2607</span>                 :                :      * NaN sorts after non-NaN (cf cmp_numerics).  The offset cannot affect</span>
<span id="L2608" title="Line 2608: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2608</span>                 :                :      * the conclusion.</span>
<span id="L2609" title="Line 2609: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2609</span>                 :                :      */</span>
<span id="L2610" title="Line 2610: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2610</span>         [<span class="tlaCBC"> <a href="#L2612" title="CBC: Branch 0 was taken 93 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2612" title="CBC: Branch 1 was taken 480 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            573 :     if (NUMERIC_IS_NAN(val))</span></span>
<span id="L2611" title="Line 2611: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2611</span>                 :                :     {</span>
<span id="L2612" title="Line 2612: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2612</span>         [<span class="tlaCBC"> <a href="#L2617" title="CBC: Branch 0 was taken 30 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2617" title="CBC: Branch 1 was taken 63 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             93 :         if (NUMERIC_IS_NAN(base))</span></span>
<span id="L2613" title="Line 2613: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2613</span>                 :<span class="tlaCBC">             30 :             result = true;      /* NAN = NAN */</span></span>
<span id="L2614" title="Line 2614: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2614</span>                 :                :         else</span>
<span id="L2615" title="Line 2615: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2615</span>                 :<span class="tlaCBC">             63 :             result = !less;     /* NAN &gt; non-NAN */</span></span>
<span id="L2616" title="Line 2616: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2616</span>                 :                :     }</span>
<span id="L2617" title="Line 2617: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2617</span>         [<span class="tlaCBC"> <a href="#L2625" title="CBC: Branch 0 was taken 63 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2625" title="CBC: Branch 1 was taken 417 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            480 :     else if (NUMERIC_IS_NAN(base))</span></span>
<span id="L2618" title="Line 2618: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2618</span>                 :                :     {</span>
<span id="L2619" title="Line 2619: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2619</span>                 :<span class="tlaCBC">             63 :         result = less;          /* non-NAN &lt; NAN */</span></span>
<span id="L2620" title="Line 2620: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2620</span>                 :                :     }</span>
<span id="L2621" title="Line 2621: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2621</span>                 :                : </span>
<span id="L2622" title="Line 2622: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2622</span>                 :                :     /*</span>
<span id="L2623" title="Line 2623: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2623</span>                 :                :      * Deal with infinite offset (necessarily +Inf, at this point).</span>
<span id="L2624" title="Line 2624: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2624</span>                 :                :      */</span>
<span id="L2625" title="Line 2625: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    2625</span>         [<span class="tlaCBC"> <a href="#L2627" title="CBC: Branch 0 was taken 210 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2627" title="CBC: Branch 1 was taken 207 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            417 :     else if (NUMERIC_IS_SPECIAL(offset))</span></span>
<span id="L2626" title="Line 2626: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2626</span>                 :                :     {</span>
<span id="L2627" title="Line 2627: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2627</span>         [<span class="tlaUBC"> <a href="#L2647" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2628" title="CBC: Branch 1 was taken 210 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            210 :         Assert(NUMERIC_IS_PINF(offset));</span></span>
<span id="L2628" title="Line 2628: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2628</span>   [<span class="tlaCBC"> <a href="#L2636" title="CBC: Branch 0 was taken 105 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2636" title="CBC: Branch 1 was taken 105 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2636" title="CBC: Branch 2 was taken 87 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2636" title="CBC: Branch 3 was taken 123 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            210 :         if (sub ? NUMERIC_IS_PINF(base) : NUMERIC_IS_NINF(base))</span></span>
<span id="L2629" title="Line 2629: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2629</span>                 :                :         {</span>
<span id="L2630" title="Line 2630: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2630</span>                 :                :             /*</span>
<span id="L2631" title="Line 2631: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2631</span>                 :                :              * base +/- offset would produce NaN, so return true for any val</span>
<span id="L2632" title="Line 2632: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2632</span>                 :                :              * (see in_range_float8_float8() for reasoning).</span>
<span id="L2633" title="Line 2633: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2633</span>                 :                :              */</span>
<span id="L2634" title="Line 2634: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2634</span>                 :<span class="tlaCBC">             87 :             result = true;</span></span>
<span id="L2635" title="Line 2635: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2635</span>                 :                :         }</span>
<span id="L2636" title="Line 2636: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2636</span>         [<span class="tlaCBC"> <a href="#L2639" title="CBC: Branch 0 was taken 75 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2639" title="CBC: Branch 1 was taken 48 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            123 :         else if (sub)</span></span>
<span id="L2637" title="Line 2637: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2637</span>                 :                :         {</span>
<span id="L2638" title="Line 2638: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2638</span>                 :                :             /* base - offset must be -inf */</span>
<span id="L2639" title="Line 2639: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2639</span>         [<span class="tlaCBC"> <a href="#L2647" title="CBC: Branch 0 was taken 27 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2647" title="CBC: Branch 1 was taken 48 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             75 :             if (less)</span></span>
<span id="L2640" title="Line 2640: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2640</span>                 :<span class="tlaCBC">             27 :                 result = NUMERIC_IS_NINF(val);  /* only -inf is &lt;= sum */</span></span>
<span id="L2641" title="Line 2641: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2641</span>                 :                :             else</span>
<span id="L2642" title="Line 2642: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2642</span>                 :<span class="tlaCBC">             48 :                 result = true;  /* any val is &gt;= sum */</span></span>
<span id="L2643" title="Line 2643: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2643</span>                 :                :         }</span>
<span id="L2644" title="Line 2644: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2644</span>                 :                :         else</span>
<span id="L2645" title="Line 2645: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2645</span>                 :                :         {</span>
<span id="L2646" title="Line 2646: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2646</span>                 :                :             /* base + offset must be +inf */</span>
<span id="L2647" title="Line 2647: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2647</span>         [<span class="tlaUBC"> <a href="#L2712" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2658" title="CBC: Branch 1 was taken 48 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             48 :             if (less)</span></span>
<span id="L2648" title="Line 2648: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L2734" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L3071" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    2648</span>                 :<a href="#L2734" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                 result = true;  /* any val is &lt;= sum */</span></span>
<span id="L2649" title="Line 2649: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2649</span>                 :                :             else</span>
<span id="L2650" title="Line 2650: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L2736" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L2733" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    2650</span>                 :<a href="#L2736" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          48 :                 result = NUMERIC_IS_PINF(val);  /* only +inf is &gt;= sum */</span></span>
<span id="L2651" title="Line 2651: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2651</span>                 :                :         }</span>
<span id="L2652" title="Line 2652: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2652</span>                 :                :     }</span>
<span id="L2653" title="Line 2653: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2653</span>                 :                : </span>
<span id="L2654" title="Line 2654: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2654</span>                 :                :     /*</span>
<span id="L2655" title="Line 2655: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2655</span>                 :                :      * Deal with cases where val and/or base is infinite.  The offset, being</span>
<span id="L2656" title="Line 2656: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2656</span>                 :                :      * now known finite, cannot affect the conclusion.</span>
<span id="L2657" title="Line 2657: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2657</span>                 :                :      */</span>
<span id="L2658" title="Line 2658: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2658</span>         [<span class="tlaCBC"> <a href="#L2660" title="CBC: Branch 0 was taken 39 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2660" title="CBC: Branch 1 was taken 168 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            207 :     else if (NUMERIC_IS_SPECIAL(val))</span></span>
<span id="L2659" title="Line 2659: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2659</span>                 :                :     {</span>
<span id="L2660" title="Line 2660: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2660</span>         [<span class="tlaCBC"> <a href="#L2662" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2662" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             39 :         if (NUMERIC_IS_PINF(val))</span></span>
<span id="L2661" title="Line 2661: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2661</span>                 :                :         {</span>
<span id="L2662" title="Line 2662: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2662</span>         [<span class="tlaCBC"> <a href="#L2669" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2669" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :             if (NUMERIC_IS_PINF(base))</span></span>
<span id="L2663" title="Line 2663: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2663</span>                 :<span class="tlaCBC">             12 :                 result = true;  /* PINF = PINF */</span></span>
<span id="L2664" title="Line 2664: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2664</span>                 :                :             else</span>
<span id="L2665" title="Line 2665: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2665</span>                 :<span class="tlaCBC">              6 :                 result = !less; /* PINF &gt; any other non-NAN */</span></span>
<span id="L2666" title="Line 2666: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2666</span>                 :                :         }</span>
<span id="L2667" title="Line 2667: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2667</span>                 :                :         else                    /* val must be NINF */</span>
<span id="L2668" title="Line 2668: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2668</span>                 :                :         {</span>
<span id="L2669" title="Line 2669: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2669</span>         [<span class="tlaCBC"> <a href="#L2675" title="CBC: Branch 0 was taken 15 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2675" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             21 :             if (NUMERIC_IS_NINF(base))</span></span>
<span id="L2670" title="Line 2670: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2670</span>                 :<span class="tlaCBC">             15 :                 result = true;  /* NINF = NINF */</span></span>
<span id="L2671" title="Line 2671: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2671</span>                 :                :             else</span>
<span id="L2672" title="Line 2672: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2672</span>                 :<span class="tlaCBC">              6 :                 result = less;  /* NINF &lt; anything else */</span></span>
<span id="L2673" title="Line 2673: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2673</span>                 :                :         }</span>
<span id="L2674" title="Line 2674: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2674</span>                 :                :     }</span>
<span id="L2675" title="Line 2675: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2675</span>         [<span class="tlaCBC"> <a href="#L2677" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2677" title="CBC: Branch 1 was taken 156 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            168 :     else if (NUMERIC_IS_SPECIAL(base))</span></span>
<span id="L2676" title="Line 2676: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2676</span>                 :                :     {</span>
<span id="L2677" title="Line 2677: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2677</span>         [<span class="tlaCBC"> <a href="#L2699" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2699" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             12 :         if (NUMERIC_IS_NINF(base))</span></span>
<span id="L2678" title="Line 2678: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2678</span>                 :<span class="tlaCBC">              6 :             result = !less;     /* normal &gt; NINF */</span></span>
<span id="L2679" title="Line 2679: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2679</span>                 :                :         else</span>
<span id="L2680" title="Line 2680: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2680</span>                 :<span class="tlaCBC">              6 :             result = less;      /* normal &lt; PINF */</span></span>
<span id="L2681" title="Line 2681: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2681</span>                 :                :     }</span>
<span id="L2682" title="Line 2682: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2682</span>                 :                :     else</span>
<span id="L2683" title="Line 2683: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2683</span>                 :                :     {</span>
<span id="L2684" title="Line 2684: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2684</span>                 :                :         /*</span>
<span id="L2685" title="Line 2685: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2685</span>                 :                :          * Otherwise go ahead and compute base +/- offset.  While it's</span>
<span id="L2686" title="Line 2686: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2686</span>                 :                :          * possible for this to overflow the numeric format, it's unlikely</span>
<span id="L2687" title="Line 2687: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2687</span>                 :                :          * enough that we don't take measures to prevent it.</span>
<span id="L2688" title="Line 2688: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2688</span>                 :                :          */</span>
<span id="L2689" title="Line 2689: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2689</span>                 :                :         NumericVar  valv;</span>
<span id="L2690" title="Line 2690: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2690</span>                 :                :         NumericVar  basev;</span>
<span id="L2691" title="Line 2691: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2691</span>                 :                :         NumericVar  offsetv;</span>
<span id="L2692" title="Line 2692: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2692</span>                 :                :         NumericVar  sum;</span>
<span id="L2693" title="Line 2693: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2693</span>                 :                : </span>
<span id="L2694" title="Line 2694: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us"> 2740                      <span class="lineNum">    2694</span>                 :<span class="tlaCBC">            156 :         init_var_from_num(val, &amp;valv);</span></span>
<span id="L2695" title="Line 2695: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2695</span>                 :<span class="tlaCBC">            156 :         init_var_from_num(base, &amp;basev);</span></span>
<span id="L2696" title="Line 2696: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2696</span>                 :<span class="tlaCBC">            156 :         init_var_from_num(offset, &amp;offsetv);</span></span>
<span id="L2697" title="Line 2697: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2697</span>                 :<span class="tlaCBC">            156 :         init_var(&amp;sum);</span></span>
<span id="L2698" title="Line 2698: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2698</span>                 :                : </span>
<span id="L2699" title="Line 2699: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2699</span>         [<span class="tlaCBC"> <a href="#L2704" title="CBC: Branch 0 was taken 78 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2704" title="CBC: Branch 1 was taken 78 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            156 :         if (sub)</span></span>
<span id="L2700" title="Line 2700: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2700</span>                 :<span class="tlaCBC">             78 :             sub_var(&amp;basev, &amp;offsetv, &amp;sum);</span></span>
<span id="L2701" title="Line 2701: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2701</span>                 :                :         else</span>
<span id="L2702" title="Line 2702: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2702</span>                 :<span class="tlaCBC">             78 :             add_var(&amp;basev, &amp;offsetv, &amp;sum);</span></span>
<span id="L2703" title="Line 2703: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2703</span>                 :                : </span>
<span id="L2704" title="Line 2704: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2704</span>         [<span class="tlaCBC"> <a href="#L2712" title="CBC: Branch 0 was taken 78 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2712" title="CBC: Branch 1 was taken 78 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            156 :         if (less)</span></span>
<span id="L2705" title="Line 2705: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2705</span>                 :<span class="tlaCBC">             78 :             result = (cmp_var(&amp;valv, &amp;sum) &lt;= 0);</span></span>
<span id="L2706" title="Line 2706: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2706</span>                 :                :         else</span>
<span id="L2707" title="Line 2707: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2707</span>                 :<span class="tlaCBC">             78 :             result = (cmp_var(&amp;valv, &amp;sum) &gt;= 0);</span></span>
<span id="L2708" title="Line 2708: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2708</span>                 :                : </span>
<span id="L2709" title="Line 2709: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2709</span>                 :<span class="tlaCBC">            156 :         free_var(&amp;sum);</span></span>
<span id="L2710" title="Line 2710: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2710</span>                 :                :     }</span>
<span id="L2711" title="Line 2711: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2711</span>                 :                : </span>
<span id="L2712" title="Line 2712: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2712</span>         [<span class="tlaCBC"> <a href="#L2713" title="CBC: Branch 0 was taken 573 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2713" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            573 :     PG_FREE_IF_COPY(val, 0);</span></span>
<span id="L2713" title="Line 2713: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2713</span>         [<span class="tlaCBC"> <a href="#L2714" title="CBC: Branch 0 was taken 573 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2714" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            573 :     PG_FREE_IF_COPY(base, 1);</span></span>
<span id="L2714" title="Line 2714: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2714</span>         [<span class="tlaUBC"> <a href="#L2733" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2733" title="CBC: Branch 1 was taken 573 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            573 :     PG_FREE_IF_COPY(offset, 2);</span></span>
<span id="L2715" title="Line 2715: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2715</span>                 :                : </span>
<span id="L2716" title="Line 2716: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2716</span>                 :<span class="tlaCBC">            573 :     PG_RETURN_BOOL(result);</span></span>
<span id="L2717" title="Line 2717: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2717</span>                 :                : }</span>
<span id="L2718" title="Line 2718: commit 8b29e88cdce1 on 2018-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2718</span>                 :                : </span>
<span id="L2719" title="Line 2719: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2719</span>                 :                : Datum</span>
<span id="L2720" title="Line 2720: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com"> 6685 <a href="#L2737" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    2720</span>                 :<span class="tlaCBC">         303772 : hash_numeric(PG_FUNCTION_ARGS)</span></span>
<span id="L2721" title="Line 2721: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2721</span>                 :                : {</span>
<span id="L2722" title="Line 2722: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us"> 6494 <a href="#L2738" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    2722</span>                 :<span class="tlaCBC">         303772 :     Numeric     key = PG_GETARG_NUMERIC(0);</span></span>
<span id="L2723" title="Line 2723: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2723</span>                 :                :     Datum       digit_hash;</span>
<span id="L2724" title="Line 2724: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2724</span>                 :                :     Datum       result;</span>
<span id="L2725" title="Line 2725: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2725</span>                 :                :     int         weight;</span>
<span id="L2726" title="Line 2726: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2726</span>                 :                :     int         start_offset;</span>
<span id="L2727" title="Line 2727: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2727</span>                 :                :     int         end_offset;</span>
<span id="L2728" title="Line 2728: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2728</span>                 :                :     int         i;</span>
<span id="L2729" title="Line 2729: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2729</span>                 :                :     int         hash_len;</span>
<span id="L2730" title="Line 2730: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">    2730</span>                 :                :     NumericDigit *digits;</span>
<span id="L2731" title="Line 2731: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2731</span>                 :                : </span>
<span id="L2732" title="Line 2732: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2732</span>                 :                :     /* If it's NaN or infinity, don't try to hash the rest of the fields */</span>
<span id="L2733" title="Line 2733: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L2814" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    2733</span>         [<span class="tlaUBC"> <a href="#L2736" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2736" title="CBC: Branch 1 was taken 303772 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         303772 :     if (NUMERIC_IS_SPECIAL(key))</span></span>
<span id="L2734" title="Line 2734: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com"><span title="neilc@samurai.com 6685 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L2752" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">6685</a> </span><a href="#L2752" title="next UBC in &ldquo;neilc@samurai.com&rdquo; bin" class="tlaBgUBC">neilc@samurai.com</a><span title="neilc@samurai.com 6685 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    2734</span>                 :<a href="#L2752" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         PG_RETURN_UINT32(0);</span></span>
<span id="L2735" title="Line 2735: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2735</span>                 :                : </span>
<span id="L2736" title="Line 2736: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"> <a href="#L2765" title="next CBC in &ldquo;(360..) days&rdquo; bin">5502</a> <a href="#L2746" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    2736</span>   [<span class="tlaCBC"> <a href="#L2746" title="CBC: Branch 0 was taken 303772 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2746" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2746" title="CBC: Branch 2 was taken 51875 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2746" title="CBC: Branch 3 was taken 251897 times" class="branchTla">+</a> </span>]:<a href="#L2765" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">      303772 :     weight = NUMERIC_WEIGHT(key);</span></span>
<span id="L2737" title="Line 2737: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com"> 6685 <a href="#L2747" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    2737</span>                 :<span class="tlaCBC">         303772 :     start_offset = 0;</span></span>
<span id="L2738" title="Line 2738: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us"> 6494 <a href="#L3647" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    2738</span>                 :<span class="tlaCBC">         303772 :     end_offset = 0;</span></span>
<span id="L2739" title="Line 2739: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2739</span>                 :                : </span>
<span id="L2740" title="Line 2740: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2740</span>                 :                :     /*</span>
<span id="L2741" title="Line 2741: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2741</span>                 :                :      * Omit any leading or trailing zeros from the input to the hash. The</span>
<span id="L2742" title="Line 2742: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2742</span>                 :                :      * numeric implementation *should* guarantee that leading and trailing</span>
<span id="L2743" title="Line 2743: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2743</span>                 :                :      * zeros are suppressed, but we're paranoid. Note that we measure the</span>
<span id="L2744" title="Line 2744: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2744</span>                 :                :      * starting and ending offsets in units of NumericDigits, not bytes.</span>
<span id="L2745" title="Line 2745: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2745</span>                 :                :      */</span>
<span id="L2746" title="Line 2746: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"> 5502 <a href="#L2749" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    2746</span>         [<span class="tlaCBC"> <a href="#L2747" title="CBC: Branch 0 was taken 303772 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2747" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">         303772 :     digits = NUMERIC_DIGITS(key);</span></span>
<span id="L2747" title="Line 2747: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com"> 6685 <a href="#L2750" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    2747</span>   [<span class="tlaCBC"> <a href="#L2749" title="CBC: Branch 0 was taken 303772 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2749" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2749" title="CBC: Branch 2 was taken 302961 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2749" title="CBC: Branch 3 was taken 811 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         303772 :     for (i = 0; i &lt; NUMERIC_NDIGITS(key); i++)</span></span>
<span id="L2748" title="Line 2748: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2748</span>                 :                :     {</span>
<span id="L2749" title="Line 2749: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"> 5502 <a href="#L2770" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    2749</span>         [<span class="tlaCBC"> <a href="#L2765" title="CBC: Branch 0 was taken 302961 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2765" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">         302961 :         if (digits[i] != (NumericDigit) 0)</span></span>
<span id="L2750" title="Line 2750: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com"> 6685 <a href="#L2765" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    2750</span>                 :<span class="tlaCBC">         302961 :             break;</span></span>
<span id="L2751" title="Line 2751: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2751</span>                 :                : </span>
<span id="L2752" title="Line 2752: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com"><span title="neilc@samurai.com 6685 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L2773" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">6685</a> </span><a href="#L2773" title="next UBC in &ldquo;neilc@samurai.com&rdquo; bin" class="tlaBgUBC">neilc@samurai.com</a><span title="neilc@samurai.com 6685 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    2752</span>                 :<a href="#L2773" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         start_offset++;</span></span>
<span id="L2753" title="Line 2753: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2753</span>                 :                : </span>
<span id="L2754" title="Line 2754: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2754</span>                 :                :         /*</span>
<span id="L2755" title="Line 2755: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2755</span>                 :                :          * The weight is effectively the # of digits before the decimal point,</span>
<span id="L2756" title="Line 2756: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2756</span>                 :                :          * so decrement it for each leading zero we skip.</span>
<span id="L2757" title="Line 2757: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2757</span>                 :                :          */</span>
<span id="L2758" title="Line 2758: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com"><span title="neilc@samurai.com 6685 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    2758</span>                 :<span class="tlaUBC">              0 :         weight--;</span></span>
<span id="L2759" title="Line 2759: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2759</span>                 :                :     }</span>
<span id="L2760" title="Line 2760: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2760</span>                 :                : </span>
<span id="L2761" title="Line 2761: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2761</span>                 :                :     /*</span>
<span id="L2762" title="Line 2762: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2762</span>                 :                :      * If there are no non-zero digits, then the value of the number is zero,</span>
<span id="L2763" title="Line 2763: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2763</span>                 :                :      * regardless of any other fields.</span>
<span id="L2764" title="Line 2764: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2764</span>                 :                :      */</span>
<span id="L2765" title="Line 2765: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com"> <a href="#L2777" title="next CBC in &ldquo;(360..) days&rdquo; bin">6685</a> <a href="#L2771" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    2765</span>   [<span class="tlaCBC"> <a href="#L2768" title="CBC: Branch 0 was taken 303772 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2768" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2768" title="CBC: Branch 2 was taken 811 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2768" title="CBC: Branch 3 was taken 302961 times" class="branchTla">+</a> </span>]:<a href="#L2777" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">      303772 :     if (NUMERIC_NDIGITS(key) == start_offset)</span></span>
<span id="L2766" title="Line 2766: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2766</span>                 :<span class="tlaCBC">            811 :         PG_RETURN_UINT32(-1);</span></span>
<span id="L2767" title="Line 2767: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2767</span>                 :                : </span>
<span id="L2768" title="Line 2768: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2768</span>   [<span class="tlaCBC"> <a href="#L2770" title="CBC: Branch 0 was taken 302961 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2770" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2770" title="CBC: Branch 2 was taken 302961 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2770" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">         302961 :     for (i = NUMERIC_NDIGITS(key) - 1; i &gt;= 0; i--)</span></span>
<span id="L2769" title="Line 2769: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2769</span>                 :                :     {</span>
<span id="L2770" title="Line 2770: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"> 5502 <a href="#L2800" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    2770</span>         [<span class="tlaCBC"> <a href="#L2777" title="CBC: Branch 0 was taken 302961 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2777" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">         302961 :         if (digits[i] != (NumericDigit) 0)</span></span>
<span id="L2771" title="Line 2771: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com"> 6685 <a href="#L2777" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    2771</span>                 :<span class="tlaCBC">         302961 :             break;</span></span>
<span id="L2772" title="Line 2772: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2772</span>                 :                : </span>
<span id="L2773" title="Line 2773: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com"><span title="neilc@samurai.com 6685 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L2815" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">6685</a> </span><a href="#L6208" title="next UBC in &ldquo;neilc@samurai.com&rdquo; bin" class="tlaBgUBC">neilc@samurai.com</a><span title="neilc@samurai.com 6685 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    2773</span>                 :<a href="#L2815" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         end_offset++;</span></span>
<span id="L2774" title="Line 2774: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2774</span>                 :                :     }</span>
<span id="L2775" title="Line 2775: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2775</span>                 :                : </span>
<span id="L2776" title="Line 2776: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2776</span>                 :                :     /* If we get here, there should be at least one non-zero digit */</span>
<span id="L2777" title="Line 2777: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com"> <a href="#L2817" title="next CBC in &ldquo;(360..) days&rdquo; bin">6685</a> <a href="#L4115" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    2777</span>   [<span class="tlaCBC"> <a href="#L2785" title="CBC: Branch 0 was taken 302961 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2785" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L2785" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2785" title="CBC: Branch 3 was taken 302961 times" class="branchTla">+</a> </span>]:<a href="#L2817" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">      302961 :     Assert(start_offset + end_offset &lt; NUMERIC_NDIGITS(key));</span></span>
<span id="L2778" title="Line 2778: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2778</span>                 :                : </span>
<span id="L2779" title="Line 2779: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2779</span>                 :                :     /*</span>
<span id="L2780" title="Line 2780: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2780</span>                 :                :      * Note that we don't hash on the Numeric's scale, since two numerics can</span>
<span id="L2781" title="Line 2781: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2781</span>                 :                :      * compare equal but have different scales. We also don't hash on the</span>
<span id="L2782" title="Line 2782: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2782</span>                 :                :      * sign, although we could: since a sign difference implies inequality,</span>
<span id="L2783" title="Line 2783: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2783</span>                 :                :      * this shouldn't affect correctness.</span>
<span id="L2784" title="Line 2784: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2784</span>                 :                :      */</span>
<span id="L2785" title="Line 2785: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2785</span>         [<span class="tlaCBC"> <a href="#L2786" title="CBC: Branch 0 was taken 302961 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2786" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">         302961 :     hash_len = NUMERIC_NDIGITS(key) - start_offset - end_offset;</span></span>
<span id="L2786" title="Line 2786: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2786</span>         [<span class="tlaCBC"> <a href="#L2814" title="CBC: Branch 0 was taken 302961 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2814" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">         302961 :     digit_hash = hash_any((unsigned char *) (NUMERIC_DIGITS(key) + start_offset),</span></span>
<span id="L2787" title="Line 2787: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us">                           <span class="lineNum">    2787</span>                 :                :                           hash_len * sizeof(NumericDigit));</span>
<span id="L2788" title="Line 2788: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2788</span>                 :                : </span>
<span id="L2789" title="Line 2789: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2789</span>                 :                :     /* Mix in the weight, via XOR */</span>
<span id="L2790" title="Line 2790: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2790</span>                 :<span class="tlaCBC">         302961 :     result = digit_hash ^ weight;</span></span>
<span id="L2791" title="Line 2791: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2791</span>                 :                : </span>
<span id="L2792" title="Line 2792: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2792</span>                 :<span class="tlaCBC">         302961 :     PG_RETURN_DATUM(result);</span></span>
<span id="L2793" title="Line 2793: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2793</span>                 :                : }</span>
<span id="L2794" title="Line 2794: commit ade493e02d25 on 2007-05-08 by neilc@samurai.com">                           <span class="lineNum">    2794</span>                 :                : </span>
<span id="L2795" title="Line 2795: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2795</span>                 :                : /*</span>
<span id="L2796" title="Line 2796: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2796</span>                 :                :  * Returns 64-bit value by hashing a value to a 64-bit value, with a seed.</span>
<span id="L2797" title="Line 2797: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2797</span>                 :                :  * Otherwise, similar to hash_numeric.</span>
<span id="L2798" title="Line 2798: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2798</span>                 :                :  */</span>
<span id="L2799" title="Line 2799: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2799</span>                 :                : Datum</span>
<span id="L2800" title="Line 2800: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org"> 2917 <a href="#L2817" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    2800</span>                 :<span class="tlaCBC">             42 : hash_numeric_extended(PG_FUNCTION_ARGS)</span></span>
<span id="L2801" title="Line 2801: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2801</span>                 :                : {</span>
<span id="L2802" title="Line 2802: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2802</span>                 :<span class="tlaCBC">             42 :     Numeric     key = PG_GETARG_NUMERIC(0);</span></span>
<span id="L2803" title="Line 2803: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2803</span>                 :<span class="tlaCBC">             42 :     uint64      seed = PG_GETARG_INT64(1);</span></span>
<span id="L2804" title="Line 2804: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2804</span>                 :                :     Datum       digit_hash;</span>
<span id="L2805" title="Line 2805: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2805</span>                 :                :     Datum       result;</span>
<span id="L2806" title="Line 2806: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2806</span>                 :                :     int         weight;</span>
<span id="L2807" title="Line 2807: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2807</span>                 :                :     int         start_offset;</span>
<span id="L2808" title="Line 2808: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2808</span>                 :                :     int         end_offset;</span>
<span id="L2809" title="Line 2809: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2809</span>                 :                :     int         i;</span>
<span id="L2810" title="Line 2810: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2810</span>                 :                :     int         hash_len;</span>
<span id="L2811" title="Line 2811: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2811</span>                 :                :     NumericDigit *digits;</span>
<span id="L2812" title="Line 2812: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2812</span>                 :                : </span>
<span id="L2813" title="Line 2813: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2813</span>                 :                :     /* If it's NaN or infinity, don't try to hash the rest of the fields */</span>
<span id="L2814" title="Line 2814: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L2871" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    2814</span>         [<span class="tlaUBC"> <a href="#L2817" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2817" title="CBC: Branch 1 was taken 42 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             42 :     if (NUMERIC_IS_SPECIAL(key))</span></span>
<span id="L2815" title="Line 2815: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 2917 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L2827" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">2917</a> <a href="#L2827" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    2815</span>                 :<a href="#L2827" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         PG_RETURN_UINT64(seed);</span></span>
<span id="L2816" title="Line 2816: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2816</span>                 :                : </span>
<span id="L2817" title="Line 2817: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org"> <a href="#L2832" title="next CBC in &ldquo;(360..) days&rdquo; bin">2917</a> <a href="#L2832" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    2817</span>   [<span class="tlaCBC"> <a href="#L2821" title="CBC: Branch 0 was taken 42 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2821" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L2821" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2821" title="CBC: Branch 3 was taken 42 times" class="branchTla">+</a> </span>]:<a href="#L2832" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          42 :     weight = NUMERIC_WEIGHT(key);</span></span>
<span id="L2818" title="Line 2818: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2818</span>                 :<span class="tlaCBC">             42 :     start_offset = 0;</span></span>
<span id="L2819" title="Line 2819: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2819</span>                 :<span class="tlaCBC">             42 :     end_offset = 0;</span></span>
<span id="L2820" title="Line 2820: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2820</span>                 :                : </span>
<span id="L2821" title="Line 2821: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2821</span>         [<span class="tlaCBC"> <a href="#L2822" title="CBC: Branch 0 was taken 42 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2822" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             42 :     digits = NUMERIC_DIGITS(key);</span></span>
<span id="L2822" title="Line 2822: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2822</span>   [<span class="tlaCBC"> <a href="#L2824" title="CBC: Branch 0 was taken 42 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2824" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2824" title="CBC: Branch 2 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2824" title="CBC: Branch 3 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             42 :     for (i = 0; i &lt; NUMERIC_NDIGITS(key); i++)</span></span>
<span id="L2823" title="Line 2823: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2823</span>                 :                :     {</span>
<span id="L2824" title="Line 2824: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2824</span>         [<span class="tlaCBC"> <a href="#L2832" title="CBC: Branch 0 was taken 36 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2832" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             36 :         if (digits[i] != (NumericDigit) 0)</span></span>
<span id="L2825" title="Line 2825: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2825</span>                 :<span class="tlaCBC">             36 :             break;</span></span>
<span id="L2826" title="Line 2826: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2826</span>                 :                : </span>
<span id="L2827" title="Line 2827: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 2917 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L2840" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">2917</a> <a href="#L2840" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    2827</span>                 :<a href="#L2840" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         start_offset++;</span></span>
<span id="L2828" title="Line 2828: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2828</span>                 :                : </span>
<span id="L2829" title="Line 2829: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 2917 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    2829</span>                 :<span class="tlaUBC">              0 :         weight--;</span></span>
<span id="L2830" title="Line 2830: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2830</span>                 :                :     }</span>
<span id="L2831" title="Line 2831: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2831</span>                 :                : </span>
<span id="L2832" title="Line 2832: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org"> <a href="#L2843" title="next CBC in &ldquo;(360..) days&rdquo; bin">2917</a> <a href="#L2843" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    2832</span>   [<span class="tlaCBC"> <a href="#L2835" title="CBC: Branch 0 was taken 42 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2835" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2835" title="CBC: Branch 2 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2835" title="CBC: Branch 3 was taken 36 times" class="branchTla">+</a> </span>]:<a href="#L2843" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          42 :     if (NUMERIC_NDIGITS(key) == start_offset)</span></span>
<span id="L2833" title="Line 2833: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2833</span>                 :<span class="tlaCBC">              6 :         PG_RETURN_UINT64(seed - 1);</span></span>
<span id="L2834" title="Line 2834: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2834</span>                 :                : </span>
<span id="L2835" title="Line 2835: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2835</span>   [<span class="tlaCBC"> <a href="#L2837" title="CBC: Branch 0 was taken 36 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2837" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2837" title="CBC: Branch 2 was taken 36 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2837" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             36 :     for (i = NUMERIC_NDIGITS(key) - 1; i &gt;= 0; i--)</span></span>
<span id="L2836" title="Line 2836: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2836</span>                 :                :     {</span>
<span id="L2837" title="Line 2837: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2837</span>         [<span class="tlaCBC"> <a href="#L2843" title="CBC: Branch 0 was taken 36 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2843" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             36 :         if (digits[i] != (NumericDigit) 0)</span></span>
<span id="L2838" title="Line 2838: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2838</span>                 :<span class="tlaCBC">             36 :             break;</span></span>
<span id="L2839" title="Line 2839: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2839</span>                 :                : </span>
<span id="L2840" title="Line 2840: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 2917 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L3071" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">2917</a> <a href="#L5059" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    2840</span>                 :<a href="#L3071" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         end_offset++;</span></span>
<span id="L2841" title="Line 2841: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2841</span>                 :                :     }</span>
<span id="L2842" title="Line 2842: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2842</span>                 :                : </span>
<span id="L2843" title="Line 2843: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org"> <a href="#L3073" title="next CBC in &ldquo;(360..) days&rdquo; bin">2917</a> <a href="#L5051" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    2843</span>   [<span class="tlaCBC"> <a href="#L2845" title="CBC: Branch 0 was taken 36 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2845" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L2845" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2845" title="CBC: Branch 3 was taken 36 times" class="branchTla">+</a> </span>]:<a href="#L3073" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          36 :     Assert(start_offset + end_offset &lt; NUMERIC_NDIGITS(key));</span></span>
<span id="L2844" title="Line 2844: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2844</span>                 :                : </span>
<span id="L2845" title="Line 2845: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2845</span>         [<span class="tlaCBC"> <a href="#L2846" title="CBC: Branch 0 was taken 36 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2846" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             36 :     hash_len = NUMERIC_NDIGITS(key) - start_offset - end_offset;</span></span>
<span id="L2846" title="Line 2846: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2846</span>         [<span class="tlaCBC"> <a href="#L2900" title="CBC: Branch 0 was taken 36 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L2921" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             36 :     digit_hash = hash_any_extended((unsigned char *) (NUMERIC_DIGITS(key)</span></span>
<span id="L2847" title="Line 2847: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2847</span>                 :<span class="tlaCBC">             36 :                                                       + start_offset),</span></span>
<span id="L2848" title="Line 2848: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2848</span>                 :                :                                    hash_len * sizeof(NumericDigit),</span>
<span id="L2849" title="Line 2849: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2849</span>                 :                :                                    seed);</span>
<span id="L2850" title="Line 2850: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2850</span>                 :                : </span>
<span id="L2851" title="Line 2851: commit 7b69b6ceb804 on 2017-09-01 by rhaas@postgresql.org"> 2916                      <span class="lineNum">    2851</span>                 :<span class="tlaCBC">             36 :     result = UInt64GetDatum(DatumGetUInt64(digit_hash) ^ weight);</span></span>
<span id="L2852" title="Line 2852: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2852</span>                 :                : </span>
<span id="L2853" title="Line 2853: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org"> 2917                      <span class="lineNum">    2853</span>                 :<span class="tlaCBC">             36 :     PG_RETURN_DATUM(result);</span></span>
<span id="L2854" title="Line 2854: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2854</span>                 :                : }</span>
<span id="L2855" title="Line 2855: commit 81c5e46c490e on 2017-08-31 by rhaas@postgresql.org">                           <span class="lineNum">    2855</span>                 :                : </span>
<span id="L2856" title="Line 2856: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2856</span>                 :                : </span>
<span id="L2857" title="Line 2857: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2857</span>                 :                : /* ----------------------------------------------------------------------</span>
<span id="L2858" title="Line 2858: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2858</span>                 :                :  *</span>
<span id="L2859" title="Line 2859: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2859</span>                 :                :  * Basic arithmetic functions</span>
<span id="L2860" title="Line 2860: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2860</span>                 :                :  *</span>
<span id="L2861" title="Line 2861: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2861</span>                 :                :  * ----------------------------------------------------------------------</span>
<span id="L2862" title="Line 2862: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2862</span>                 :                :  */</span>
<span id="L2863" title="Line 2863: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2863</span>                 :                : </span>
<span id="L2864" title="Line 2864: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2864</span>                 :                : </span>
<span id="L2865" title="Line 2865: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2865</span>                 :                : /*</span>
<span id="L2866" title="Line 2866: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2866</span>                 :                :  * numeric_add() -</span>
<span id="L2867" title="Line 2867: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2867</span>                 :                :  *</span>
<span id="L2868" title="Line 2868: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2868</span>                 :                :  *  Add two numerics</span>
<span id="L2869" title="Line 2869: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2869</span>                 :                :  */</span>
<span id="L2870" title="Line 2870: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2870</span>                 :                : Datum</span>
<span id="L2871" title="Line 2871: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L2900" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    2871</span>                 :<span class="tlaCBC">         126092 : numeric_add(PG_FUNCTION_ARGS)</span></span>
<span id="L2872" title="Line 2872: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2872</span>                 :                : {</span>
<span id="L2873" title="Line 2873: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2873</span>                 :<span class="tlaCBC">         126092 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L2874" title="Line 2874: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2874</span>                 :<span class="tlaCBC">         126092 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L2875" title="Line 2875: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2875</span>                 :                :     Numeric     res;</span>
<span id="L2876" title="Line 2876: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2876</span>                 :                : </span>
<span id="L2877" title="Line 2877: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L2934" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    2877</span>                 :<span class="tlaCBC">         126092 :     res = numeric_add_opt_error(num1, num2, NULL);</span></span>
<span id="L2878" title="Line 2878: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2878</span>                 :                : </span>
<span id="L2879" title="Line 2879: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2879</span>                 :<span class="tlaCBC">         126092 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L2880" title="Line 2880: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2880</span>                 :                : }</span>
<span id="L2881" title="Line 2881: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2881</span>                 :                : </span>
<span id="L2882" title="Line 2882: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2882</span>                 :                : /*</span>
<span id="L2883" title="Line 2883: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2883</span>                 :                :  * numeric_add_opt_error() -</span>
<span id="L2884" title="Line 2884: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2884</span>                 :                :  *</span>
<span id="L2885" title="Line 2885: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2885</span>                 :                :  *  Internal version of numeric_add().  If &quot;*have_error&quot; flag is provided,</span>
<span id="L2886" title="Line 2886: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2886</span>                 :                :  *  on error it's set to true, NULL returned.  This is helpful when caller</span>
<span id="L2887" title="Line 2887: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2887</span>                 :                :  *  need to handle errors by itself.</span>
<span id="L2888" title="Line 2888: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2888</span>                 :                :  */</span>
<span id="L2889" title="Line 2889: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2889</span>                 :                : Numeric</span>
<span id="L2890" title="Line 2890: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2890</span>                 :<span class="tlaCBC">         126611 : numeric_add_opt_error(Numeric num1, Numeric num2, bool *have_error)</span></span>
<span id="L2891" title="Line 2891: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2891</span>                 :                : {</span>
<span id="L2892" title="Line 2892: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2892</span>                 :                :     NumericVar  arg1;</span>
<span id="L2893" title="Line 2893: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2893</span>                 :                :     NumericVar  arg2;</span>
<span id="L2894" title="Line 2894: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2894</span>                 :                :     NumericVar  result;</span>
<span id="L2895" title="Line 2895: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2895</span>                 :                :     Numeric     res;</span>
<span id="L2896" title="Line 2896: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2896</span>                 :                : </span>
<span id="L2897" title="Line 2897: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    2897</span>                 :                :     /*</span>
<span id="L2898" title="Line 2898: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2898</span>                 :                :      * Handle NaN and infinities</span>
<span id="L2899" title="Line 2899: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2899</span>                 :                :      */</span>
<span id="L2900" title="Line 2900: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L2948" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    2900</span>   [<span class="tlaCBC"> <a href="#L2902" title="CBC: Branch 0 was taken 126548 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2902" title="CBC: Branch 1 was taken 63 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2902" title="CBC: Branch 2 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2902" title="CBC: Branch 3 was taken 126512 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         126611 :     if (NUMERIC_IS_SPECIAL(num1) || NUMERIC_IS_SPECIAL(num2))</span></span>
<span id="L2901" title="Line 2901: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2901</span>                 :                :     {</span>
<span id="L2902" title="Line 2902: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2902</span>   [<span class="tlaCBC"> <a href="#L2904" title="CBC: Branch 0 was taken 78 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2904" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2904" title="CBC: Branch 2 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2904" title="CBC: Branch 3 was taken 60 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             99 :         if (NUMERIC_IS_NAN(num1) || NUMERIC_IS_NAN(num2))</span></span>
<span id="L2903" title="Line 2903: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2903</span>                 :<span class="tlaCBC">             39 :             return make_result(&amp;const_nan);</span></span>
<span id="L2904" title="Line 2904: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2904</span>         [<span class="tlaCBC"> <a href="#L2906" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2906" title="CBC: Branch 1 was taken 42 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             60 :         if (NUMERIC_IS_PINF(num1))</span></span>
<span id="L2905" title="Line 2905: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2905</span>                 :                :         {</span>
<span id="L2906" title="Line 2906: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2906</span>         [<span class="tlaCBC"> <a href="#L2911" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2911" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :             if (NUMERIC_IS_NINF(num2))</span></span>
<span id="L2907" title="Line 2907: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2907</span>                 :<span class="tlaCBC">              3 :                 return make_result(&amp;const_nan); /* Inf + -Inf */</span></span>
<span id="L2908" title="Line 2908: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2908</span>                 :                :             else</span>
<span id="L2909" title="Line 2909: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2909</span>                 :<span class="tlaCBC">             15 :                 return make_result(&amp;const_pinf);</span></span>
<span id="L2910" title="Line 2910: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2910</span>                 :                :         }</span>
<span id="L2911" title="Line 2911: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2911</span>         [<span class="tlaCBC"> <a href="#L2913" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2913" title="CBC: Branch 1 was taken 24 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             42 :         if (NUMERIC_IS_NINF(num1))</span></span>
<span id="L2912" title="Line 2912: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2912</span>                 :                :         {</span>
<span id="L2913" title="Line 2913: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2913</span>         [<span class="tlaCBC"> <a href="#L2919" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2919" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :             if (NUMERIC_IS_PINF(num2))</span></span>
<span id="L2914" title="Line 2914: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2914</span>                 :<span class="tlaCBC">              3 :                 return make_result(&amp;const_nan); /* -Inf + Inf */</span></span>
<span id="L2915" title="Line 2915: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2915</span>                 :                :             else</span>
<span id="L2916" title="Line 2916: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2916</span>                 :<span class="tlaCBC">             15 :                 return make_result(&amp;const_ninf);</span></span>
<span id="L2917" title="Line 2917: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2917</span>                 :                :         }</span>
<span id="L2918" title="Line 2918: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2918</span>                 :                :         /* by here, num1 must be finite, so num2 is not */</span>
<span id="L2919" title="Line 2919: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2919</span>         [<span class="tlaCBC"> <a href="#L2921" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2921" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             24 :         if (NUMERIC_IS_PINF(num2))</span></span>
<span id="L2920" title="Line 2920: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2920</span>                 :<span class="tlaCBC">             12 :             return make_result(&amp;const_pinf);</span></span>
<span id="L2921" title="Line 2921: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2921</span>         [<span class="tlaUBC"> <a href="#L2999" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L2978" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             12 :         Assert(NUMERIC_IS_NINF(num2));</span></span>
<span id="L2922" title="Line 2922: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2922</span>                 :<span class="tlaCBC">             12 :         return make_result(&amp;const_ninf);</span></span>
<span id="L2923" title="Line 2923: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2923</span>                 :                :     }</span>
<span id="L2924" title="Line 2924: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2924</span>                 :                : </span>
<span id="L2925" title="Line 2925: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    2925</span>                 :                :     /*</span>
<span id="L2926" title="Line 2926: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    2926</span>                 :                :      * Unpack the values, let add_var() compute the result and return it.</span>
<span id="L2927" title="Line 2927: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2927</span>                 :                :      */</span>
<span id="L2928" title="Line 2928: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L3006" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    2928</span>                 :<span class="tlaCBC">         126512 :     init_var_from_num(num1, &amp;arg1);</span></span>
<span id="L2929" title="Line 2929: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    2929</span>                 :<span class="tlaCBC">         126512 :     init_var_from_num(num2, &amp;arg2);</span></span>
<span id="L2930" title="Line 2930: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2930</span>                 :                : </span>
<span id="L2931" title="Line 2931: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    2931</span>                 :<span class="tlaCBC">         126512 :     init_var(&amp;result);</span></span>
<span id="L2932" title="Line 2932: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L2936" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    2932</span>                 :<span class="tlaCBC">         126512 :     add_var(&amp;arg1, &amp;arg2, &amp;result);</span></span>
<span id="L2933" title="Line 2933: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2933</span>                 :                : </span>
<span id="L2934" title="Line 2934: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L2938" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    2934</span>                 :<span class="tlaCBC">         126512 :     res = make_result_opt_error(&amp;result, have_error);</span></span>
<span id="L2935" title="Line 2935: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2935</span>                 :                : </span>
<span id="L2936" title="Line 2936: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L3010" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    2936</span>                 :<span class="tlaCBC">         126512 :     free_var(&amp;result);</span></span>
<span id="L2937" title="Line 2937: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2937</span>                 :                : </span>
<span id="L2938" title="Line 2938: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L2954" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    2938</span>                 :<span class="tlaCBC">         126512 :     return res;</span></span>
<span id="L2939" title="Line 2939: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2939</span>                 :                : }</span>
<span id="L2940" title="Line 2940: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2940</span>                 :                : </span>
<span id="L2941" title="Line 2941: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2941</span>                 :                : </span>
<span id="L2942" title="Line 2942: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2942</span>                 :                : /*</span>
<span id="L2943" title="Line 2943: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2943</span>                 :                :  * numeric_sub() -</span>
<span id="L2944" title="Line 2944: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2944</span>                 :                :  *</span>
<span id="L2945" title="Line 2945: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2945</span>                 :                :  *  Subtract one numeric from another</span>
<span id="L2946" title="Line 2946: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2946</span>                 :                :  */</span>
<span id="L2947" title="Line 2947: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2947</span>                 :                : Datum</span>
<span id="L2948" title="Line 2948: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L2978" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    2948</span>                 :<span class="tlaCBC">          37696 : numeric_sub(PG_FUNCTION_ARGS)</span></span>
<span id="L2949" title="Line 2949: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2949</span>                 :                : {</span>
<span id="L2950" title="Line 2950: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2950</span>                 :<span class="tlaCBC">          37696 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L2951" title="Line 2951: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2951</span>                 :<span class="tlaCBC">          37696 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L2952" title="Line 2952: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2952</span>                 :                :     Numeric     res;</span>
<span id="L2953" title="Line 2953: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2953</span>                 :                : </span>
<span id="L2954" title="Line 2954: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L3012" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    2954</span>                 :<span class="tlaCBC">          37696 :     res = numeric_sub_opt_error(num1, num2, NULL);</span></span>
<span id="L2955" title="Line 2955: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2955</span>                 :                : </span>
<span id="L2956" title="Line 2956: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2956</span>                 :<span class="tlaCBC">          37696 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L2957" title="Line 2957: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2957</span>                 :                : }</span>
<span id="L2958" title="Line 2958: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2958</span>                 :                : </span>
<span id="L2959" title="Line 2959: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2959</span>                 :                : </span>
<span id="L2960" title="Line 2960: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2960</span>                 :                : /*</span>
<span id="L2961" title="Line 2961: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2961</span>                 :                :  * numeric_sub_opt_error() -</span>
<span id="L2962" title="Line 2962: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2962</span>                 :                :  *</span>
<span id="L2963" title="Line 2963: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2963</span>                 :                :  *  Internal version of numeric_sub().  If &quot;*have_error&quot; flag is provided,</span>
<span id="L2964" title="Line 2964: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2964</span>                 :                :  *  on error it's set to true, NULL returned.  This is helpful when caller</span>
<span id="L2965" title="Line 2965: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2965</span>                 :                :  *  need to handle errors by itself.</span>
<span id="L2966" title="Line 2966: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2966</span>                 :                :  */</span>
<span id="L2967" title="Line 2967: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2967</span>                 :                : Numeric</span>
<span id="L2968" title="Line 2968: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2968</span>                 :<span class="tlaCBC">          37771 : numeric_sub_opt_error(Numeric num1, Numeric num2, bool *have_error)</span></span>
<span id="L2969" title="Line 2969: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    2969</span>                 :                : {</span>
<span id="L2970" title="Line 2970: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2970</span>                 :                :     NumericVar  arg1;</span>
<span id="L2971" title="Line 2971: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2971</span>                 :                :     NumericVar  arg2;</span>
<span id="L2972" title="Line 2972: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2972</span>                 :                :     NumericVar  result;</span>
<span id="L2973" title="Line 2973: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2973</span>                 :                :     Numeric     res;</span>
<span id="L2974" title="Line 2974: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2974</span>                 :                : </span>
<span id="L2975" title="Line 2975: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    2975</span>                 :                :     /*</span>
<span id="L2976" title="Line 2976: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2976</span>                 :                :      * Handle NaN and infinities</span>
<span id="L2977" title="Line 2977: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    2977</span>                 :                :      */</span>
<span id="L2978" title="Line 2978: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L3026" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    2978</span>   [<span class="tlaCBC"> <a href="#L2980" title="CBC: Branch 0 was taken 37708 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2980" title="CBC: Branch 1 was taken 63 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2980" title="CBC: Branch 2 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2980" title="CBC: Branch 3 was taken 37672 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          37771 :     if (NUMERIC_IS_SPECIAL(num1) || NUMERIC_IS_SPECIAL(num2))</span></span>
<span id="L2979" title="Line 2979: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2979</span>                 :                :     {</span>
<span id="L2980" title="Line 2980: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2980</span>   [<span class="tlaCBC"> <a href="#L2982" title="CBC: Branch 0 was taken 78 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2982" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2982" title="CBC: Branch 2 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2982" title="CBC: Branch 3 was taken 60 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             99 :         if (NUMERIC_IS_NAN(num1) || NUMERIC_IS_NAN(num2))</span></span>
<span id="L2981" title="Line 2981: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2981</span>                 :<span class="tlaCBC">             39 :             return make_result(&amp;const_nan);</span></span>
<span id="L2982" title="Line 2982: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2982</span>         [<span class="tlaCBC"> <a href="#L2984" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2984" title="CBC: Branch 1 was taken 42 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             60 :         if (NUMERIC_IS_PINF(num1))</span></span>
<span id="L2983" title="Line 2983: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2983</span>                 :                :         {</span>
<span id="L2984" title="Line 2984: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2984</span>         [<span class="tlaCBC"> <a href="#L2989" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2989" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :             if (NUMERIC_IS_PINF(num2))</span></span>
<span id="L2985" title="Line 2985: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2985</span>                 :<span class="tlaCBC">              3 :                 return make_result(&amp;const_nan); /* Inf - Inf */</span></span>
<span id="L2986" title="Line 2986: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2986</span>                 :                :             else</span>
<span id="L2987" title="Line 2987: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2987</span>                 :<span class="tlaCBC">             15 :                 return make_result(&amp;const_pinf);</span></span>
<span id="L2988" title="Line 2988: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2988</span>                 :                :         }</span>
<span id="L2989" title="Line 2989: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2989</span>         [<span class="tlaCBC"> <a href="#L2991" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2991" title="CBC: Branch 1 was taken 24 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             42 :         if (NUMERIC_IS_NINF(num1))</span></span>
<span id="L2990" title="Line 2990: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2990</span>                 :                :         {</span>
<span id="L2991" title="Line 2991: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2991</span>         [<span class="tlaCBC"> <a href="#L2997" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2997" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :             if (NUMERIC_IS_NINF(num2))</span></span>
<span id="L2992" title="Line 2992: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2992</span>                 :<span class="tlaCBC">              3 :                 return make_result(&amp;const_nan); /* -Inf - -Inf */</span></span>
<span id="L2993" title="Line 2993: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2993</span>                 :                :             else</span>
<span id="L2994" title="Line 2994: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2994</span>                 :<span class="tlaCBC">             15 :                 return make_result(&amp;const_ninf);</span></span>
<span id="L2995" title="Line 2995: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2995</span>                 :                :         }</span>
<span id="L2996" title="Line 2996: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2996</span>                 :                :         /* by here, num1 must be finite, so num2 is not */</span>
<span id="L2997" title="Line 2997: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2997</span>         [<span class="tlaCBC"> <a href="#L2999" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L2999" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             24 :         if (NUMERIC_IS_PINF(num2))</span></span>
<span id="L2998" title="Line 2998: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2998</span>                 :<span class="tlaCBC">             12 :             return make_result(&amp;const_ninf);</span></span>
<span id="L2999" title="Line 2999: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    2999</span>         [<span class="tlaUBC"> <a href="#L3062" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L3056" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             12 :         Assert(NUMERIC_IS_NINF(num2));</span></span>
<span id="L3000" title="Line 3000: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3000</span>                 :<span class="tlaCBC">             12 :         return make_result(&amp;const_pinf);</span></span>
<span id="L3001" title="Line 3001: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3001</span>                 :                :     }</span>
<span id="L3002" title="Line 3002: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3002</span>                 :                : </span>
<span id="L3003" title="Line 3003: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3003</span>                 :                :     /*</span>
<span id="L3004" title="Line 3004: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3004</span>                 :                :      * Unpack the values, let sub_var() compute the result and return it.</span>
<span id="L3005" title="Line 3005: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3005</span>                 :                :      */</span>
<span id="L3006" title="Line 3006: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L3124" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    3006</span>                 :<span class="tlaCBC">          37672 :     init_var_from_num(num1, &amp;arg1);</span></span>
<span id="L3007" title="Line 3007: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    3007</span>                 :<span class="tlaCBC">          37672 :     init_var_from_num(num2, &amp;arg2);</span></span>
<span id="L3008" title="Line 3008: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3008</span>                 :                : </span>
<span id="L3009" title="Line 3009: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    3009</span>                 :<span class="tlaCBC">          37672 :     init_var(&amp;result);</span></span>
<span id="L3010" title="Line 3010: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L3014" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    3010</span>                 :<span class="tlaCBC">          37672 :     sub_var(&amp;arg1, &amp;arg2, &amp;result);</span></span>
<span id="L3011" title="Line 3011: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3011</span>                 :                : </span>
<span id="L3012" title="Line 3012: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L3016" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    3012</span>                 :<span class="tlaCBC">          37672 :     res = make_result_opt_error(&amp;result, have_error);</span></span>
<span id="L3013" title="Line 3013: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3013</span>                 :                : </span>
<span id="L3014" title="Line 3014: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L3135" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    3014</span>                 :<span class="tlaCBC">          37672 :     free_var(&amp;result);</span></span>
<span id="L3015" title="Line 3015: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3015</span>                 :                : </span>
<span id="L3016" title="Line 3016: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L3032" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    3016</span>                 :<span class="tlaCBC">          37672 :     return res;</span></span>
<span id="L3017" title="Line 3017: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3017</span>                 :                : }</span>
<span id="L3018" title="Line 3018: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3018</span>                 :                : </span>
<span id="L3019" title="Line 3019: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3019</span>                 :                : </span>
<span id="L3020" title="Line 3020: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3020</span>                 :                : /*</span>
<span id="L3021" title="Line 3021: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3021</span>                 :                :  * numeric_mul() -</span>
<span id="L3022" title="Line 3022: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3022</span>                 :                :  *</span>
<span id="L3023" title="Line 3023: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3023</span>                 :                :  *  Calculate the product of two numerics</span>
<span id="L3024" title="Line 3024: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3024</span>                 :                :  */</span>
<span id="L3025" title="Line 3025: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3025</span>                 :                : Datum</span>
<span id="L3026" title="Line 3026: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L3056" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3026</span>                 :<span class="tlaCBC">         244855 : numeric_mul(PG_FUNCTION_ARGS)</span></span>
<span id="L3027" title="Line 3027: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3027</span>                 :                : {</span>
<span id="L3028" title="Line 3028: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3028</span>                 :<span class="tlaCBC">         244855 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L3029" title="Line 3029: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3029</span>                 :<span class="tlaCBC">         244855 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L3030" title="Line 3030: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3030</span>                 :                :     Numeric     res;</span>
<span id="L3031" title="Line 3031: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3031</span>                 :                : </span>
<span id="L3032" title="Line 3032: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L3133" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    3032</span>                 :<span class="tlaCBC">         244855 :     res = numeric_mul_opt_error(num1, num2, NULL);</span></span>
<span id="L3033" title="Line 3033: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3033</span>                 :                : </span>
<span id="L3034" title="Line 3034: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3034</span>                 :<span class="tlaCBC">         244855 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L3035" title="Line 3035: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3035</span>                 :                : }</span>
<span id="L3036" title="Line 3036: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3036</span>                 :                : </span>
<span id="L3037" title="Line 3037: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3037</span>                 :                : </span>
<span id="L3038" title="Line 3038: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3038</span>                 :                : /*</span>
<span id="L3039" title="Line 3039: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3039</span>                 :                :  * numeric_mul_opt_error() -</span>
<span id="L3040" title="Line 3040: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3040</span>                 :                :  *</span>
<span id="L3041" title="Line 3041: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3041</span>                 :                :  *  Internal version of numeric_mul().  If &quot;*have_error&quot; flag is provided,</span>
<span id="L3042" title="Line 3042: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3042</span>                 :                :  *  on error it's set to true, NULL returned.  This is helpful when caller</span>
<span id="L3043" title="Line 3043: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3043</span>                 :                :  *  need to handle errors by itself.</span>
<span id="L3044" title="Line 3044: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3044</span>                 :                :  */</span>
<span id="L3045" title="Line 3045: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3045</span>                 :                : Numeric</span>
<span id="L3046" title="Line 3046: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3046</span>                 :<span class="tlaCBC">         244873 : numeric_mul_opt_error(Numeric num1, Numeric num2, bool *have_error)</span></span>
<span id="L3047" title="Line 3047: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3047</span>                 :                : {</span>
<span id="L3048" title="Line 3048: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3048</span>                 :                :     NumericVar  arg1;</span>
<span id="L3049" title="Line 3049: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3049</span>                 :                :     NumericVar  arg2;</span>
<span id="L3050" title="Line 3050: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3050</span>                 :                :     NumericVar  result;</span>
<span id="L3051" title="Line 3051: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3051</span>                 :                :     Numeric     res;</span>
<span id="L3052" title="Line 3052: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3052</span>                 :                : </span>
<span id="L3053" title="Line 3053: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3053</span>                 :                :     /*</span>
<span id="L3054" title="Line 3054: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3054</span>                 :                :      * Handle NaN and infinities</span>
<span id="L3055" title="Line 3055: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3055</span>                 :                :      */</span>
<span id="L3056" title="Line 3056: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L3073" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3056</span>   [<span class="tlaCBC"> <a href="#L3058" title="CBC: Branch 0 was taken 244810 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3058" title="CBC: Branch 1 was taken 63 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3058" title="CBC: Branch 2 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3058" title="CBC: Branch 3 was taken 244774 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         244873 :     if (NUMERIC_IS_SPECIAL(num1) || NUMERIC_IS_SPECIAL(num2))</span></span>
<span id="L3057" title="Line 3057: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3057</span>                 :                :     {</span>
<span id="L3058" title="Line 3058: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3058</span>   [<span class="tlaCBC"> <a href="#L3060" title="CBC: Branch 0 was taken 78 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3060" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3060" title="CBC: Branch 2 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3060" title="CBC: Branch 3 was taken 60 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             99 :         if (NUMERIC_IS_NAN(num1) || NUMERIC_IS_NAN(num2))</span></span>
<span id="L3059" title="Line 3059: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3059</span>                 :<span class="tlaCBC">             39 :             return make_result(&amp;const_nan);</span></span>
<span id="L3060" title="Line 3060: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3060</span>         [<span class="tlaCBC"> <a href="#L3062" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3062" title="CBC: Branch 1 was taken 42 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             60 :         if (NUMERIC_IS_PINF(num1))</span></span>
<span id="L3061" title="Line 3061: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3061</span>                 :                :         {</span>
<span id="L3062" title="Line 3062: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3062</span>   [<span class="tlaCBC"> <a href="#L3073" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3073" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3073" title="CBC: Branch 2 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3075" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             18 :             switch (numeric_sign_internal(num2))</span></span>
<span id="L3063" title="Line 3063: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3063</span>                 :                :             {</span>
<span id="L3064" title="Line 3064: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3064</span>                 :<span class="tlaCBC">              3 :                 case 0:</span></span>
<span id="L3065" title="Line 3065: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3065</span>                 :<span class="tlaCBC">              3 :                     return make_result(&amp;const_nan); /* Inf * 0 */</span></span>
<span id="L3066" title="Line 3066: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3066</span>                 :<span class="tlaCBC">              9 :                 case 1:</span></span>
<span id="L3067" title="Line 3067: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3067</span>                 :<span class="tlaCBC">              9 :                     return make_result(&amp;const_pinf);</span></span>
<span id="L3068" title="Line 3068: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3068</span>                 :<span class="tlaCBC">              6 :                 case -1:</span></span>
<span id="L3069" title="Line 3069: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3069</span>                 :<span class="tlaCBC">              6 :                     return make_result(&amp;const_ninf);</span></span>
<span id="L3070" title="Line 3070: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3070</span>                 :                :             }</span>
<span id="L3071" title="Line 3071: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L3084" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L3084" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    3071</span>                 :<a href="#L3084" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             Assert(false);</span></span>
<span id="L3072" title="Line 3072: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3072</span>                 :                :         }</span>
<span id="L3073" title="Line 3073: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L3087" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L3087" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3073</span>         [<span class="tlaCBC"> <a href="#L3075" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3075" title="CBC: Branch 1 was taken 24 times" class="branchTla">+</a> </span>]:<a href="#L3087" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          42 :         if (NUMERIC_IS_NINF(num1))</span></span>
<span id="L3074" title="Line 3074: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3074</span>                 :                :         {</span>
<span id="L3075" title="Line 3075: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3075</span>   [<span class="tlaCBC"> <a href="#L3087" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3087" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3087" title="CBC: Branch 2 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3089" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             18 :             switch (numeric_sign_internal(num2))</span></span>
<span id="L3076" title="Line 3076: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3076</span>                 :                :             {</span>
<span id="L3077" title="Line 3077: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3077</span>                 :<span class="tlaCBC">              3 :                 case 0:</span></span>
<span id="L3078" title="Line 3078: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3078</span>                 :<span class="tlaCBC">              3 :                     return make_result(&amp;const_nan); /* -Inf * 0 */</span></span>
<span id="L3079" title="Line 3079: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3079</span>                 :<span class="tlaCBC">              9 :                 case 1:</span></span>
<span id="L3080" title="Line 3080: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3080</span>                 :<span class="tlaCBC">              9 :                     return make_result(&amp;const_ninf);</span></span>
<span id="L3081" title="Line 3081: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3081</span>                 :<span class="tlaCBC">              6 :                 case -1:</span></span>
<span id="L3082" title="Line 3082: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3082</span>                 :<span class="tlaCBC">              6 :                     return make_result(&amp;const_pinf);</span></span>
<span id="L3083" title="Line 3083: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3083</span>                 :                :             }</span>
<span id="L3084" title="Line 3084: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L3098" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L3098" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    3084</span>                 :<a href="#L3098" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             Assert(false);</span></span>
<span id="L3085" title="Line 3085: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3085</span>                 :                :         }</span>
<span id="L3086" title="Line 3086: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3086</span>                 :                :         /* by here, num1 must be finite, so num2 is not */</span>
<span id="L3087" title="Line 3087: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L3100" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L3100" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3087</span>         [<span class="tlaCBC"> <a href="#L3089" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3089" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<a href="#L3100" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          24 :         if (NUMERIC_IS_PINF(num2))</span></span>
<span id="L3088" title="Line 3088: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3088</span>                 :                :         {</span>
<span id="L3089" title="Line 3089: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3089</span>   [<span class="tlaCBC"> <a href="#L3100" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3100" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3100" title="CBC: Branch 2 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3100" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             12 :             switch (numeric_sign_internal(num1))</span></span>
<span id="L3090" title="Line 3090: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3090</span>                 :                :             {</span>
<span id="L3091" title="Line 3091: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3091</span>                 :<span class="tlaCBC">              3 :                 case 0:</span></span>
<span id="L3092" title="Line 3092: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3092</span>                 :<span class="tlaCBC">              3 :                     return make_result(&amp;const_nan); /* 0 * Inf */</span></span>
<span id="L3093" title="Line 3093: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3093</span>                 :<span class="tlaCBC">              6 :                 case 1:</span></span>
<span id="L3094" title="Line 3094: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3094</span>                 :<span class="tlaCBC">              6 :                     return make_result(&amp;const_pinf);</span></span>
<span id="L3095" title="Line 3095: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3095</span>                 :<span class="tlaCBC">              3 :                 case -1:</span></span>
<span id="L3096" title="Line 3096: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3096</span>                 :<span class="tlaCBC">              3 :                     return make_result(&amp;const_ninf);</span></span>
<span id="L3097" title="Line 3097: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3097</span>                 :                :             }</span>
<span id="L3098" title="Line 3098: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L3110" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L3110" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    3098</span>                 :<a href="#L3110" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             Assert(false);</span></span>
<span id="L3099" title="Line 3099: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3099</span>                 :                :         }</span>
<span id="L3100" title="Line 3100: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L3124" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L3128" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3100</span>         [<span class="tlaUBC"> <a href="#L3101" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L3101" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<a href="#L3124" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          12 :         Assert(NUMERIC_IS_NINF(num2));</span></span>
<span id="L3101" title="Line 3101: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3101</span>   [<span class="tlaCBC"> <a href="#L3130" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3130" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3130" title="CBC: Branch 2 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3189" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             12 :         switch (numeric_sign_internal(num1))</span></span>
<span id="L3102" title="Line 3102: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3102</span>                 :                :         {</span>
<span id="L3103" title="Line 3103: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3103</span>                 :<span class="tlaCBC">              3 :             case 0:</span></span>
<span id="L3104" title="Line 3104: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3104</span>                 :<span class="tlaCBC">              3 :                 return make_result(&amp;const_nan); /* 0 * -Inf */</span></span>
<span id="L3105" title="Line 3105: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3105</span>                 :<span class="tlaCBC">              6 :             case 1:</span></span>
<span id="L3106" title="Line 3106: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3106</span>                 :<span class="tlaCBC">              6 :                 return make_result(&amp;const_ninf);</span></span>
<span id="L3107" title="Line 3107: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3107</span>                 :<span class="tlaCBC">              3 :             case -1:</span></span>
<span id="L3108" title="Line 3108: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3108</span>                 :<span class="tlaCBC">              3 :                 return make_result(&amp;const_pinf);</span></span>
<span id="L3109" title="Line 3109: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3109</span>                 :                :         }</span>
<span id="L3110" title="Line 3110: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L3194" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L3194" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    3110</span>                 :<a href="#L3194" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         Assert(false);</span></span>
<span id="L3111" title="Line 3111: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3111</span>                 :                :     }</span>
<span id="L3112" title="Line 3112: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3112</span>                 :                : </span>
<span id="L3113" title="Line 3113: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3113</span>                 :                :     /*</span>
<span id="L3114" title="Line 3114: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3114</span>                 :                :      * Unpack the values, let mul_var() compute the result and return it.</span>
<span id="L3115" title="Line 3115: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    3115</span>                 :                :      * Unlike add_var() and sub_var(), mul_var() will round its result. In the</span>
<span id="L3116" title="Line 3116: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    3116</span>                 :                :      * case of numeric_mul(), which is invoked for the * operator on numerics,</span>
<span id="L3117" title="Line 3117: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    3117</span>                 :                :      * we request exact representation for the product (rscale = sum(dscale of</span>
<span id="L3118" title="Line 3118: commit e7fc488ad67c on 2021-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3118</span>                 :                :      * arg1, dscale of arg2)).  If the exact result has more digits after the</span>
<span id="L3119" title="Line 3119: commit e7fc488ad67c on 2021-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3119</span>                 :                :      * decimal point than can be stored in a numeric, we round it.  Rounding</span>
<span id="L3120" title="Line 3120: commit e7fc488ad67c on 2021-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3120</span>                 :                :      * after computing the exact result ensures that the final result is</span>
<span id="L3121" title="Line 3121: commit e7fc488ad67c on 2021-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3121</span>                 :                :      * correctly rounded (rounding in mul_var() using a truncated product</span>
<span id="L3122" title="Line 3122: commit e7fc488ad67c on 2021-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3122</span>                 :                :      * would not guarantee this).</span>
<span id="L3123" title="Line 3123: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3123</span>                 :                :      */</span>
<span id="L3124" title="Line 3124: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> <a href="#L3197" title="next CBC in &ldquo;(360..) days&rdquo; bin">4661</a> <a href="#L3244" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    3124</span>                 :<a href="#L3197" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">      244774 :     init_var_from_num(num1, &amp;arg1);</span></span>
<span id="L3125" title="Line 3125: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    3125</span>                 :<span class="tlaCBC">         244774 :     init_var_from_num(num2, &amp;arg2);</span></span>
<span id="L3126" title="Line 3126: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3126</span>                 :                : </span>
<span id="L3127" title="Line 3127: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    3127</span>                 :<span class="tlaCBC">         244774 :     init_var(&amp;result);</span></span>
<span id="L3128" title="Line 3128: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L3147" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3128</span>                 :<span class="tlaCBC">         244774 :     mul_var(&amp;arg1, &amp;arg2, &amp;result, arg1.dscale + arg2.dscale);</span></span>
<span id="L3129" title="Line 3129: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3129</span>                 :                : </span>
<span id="L3130" title="Line 3130: commit e7fc488ad67c on 2021-07-10 by dean.a.rasheed@gmail.com"> 1508 <a href="#L3266" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    3130</span>         [<span class="tlaCBC"> <a href="#L3175" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3175" title="CBC: Branch 1 was taken 244771 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         244774 :     if (result.dscale &gt; NUMERIC_DSCALE_MAX)</span></span>
<span id="L3131" title="Line 3131: commit e7fc488ad67c on 2021-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3131</span>                 :<span class="tlaCBC">              3 :         round_var(&amp;result, NUMERIC_DSCALE_MAX);</span></span>
<span id="L3132" title="Line 3132: commit e7fc488ad67c on 2021-07-10 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3132</span>                 :                : </span>
<span id="L3133" title="Line 3133: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L3137" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    3133</span>                 :<span class="tlaCBC">         244774 :     res = make_result_opt_error(&amp;result, have_error);</span></span>
<span id="L3134" title="Line 3134: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3134</span>                 :                : </span>
<span id="L3135" title="Line 3135: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L3270" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    3135</span>                 :<span class="tlaCBC">         244774 :     free_var(&amp;result);</span></span>
<span id="L3136" title="Line 3136: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3136</span>                 :                : </span>
<span id="L3137" title="Line 3137: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L3153" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    3137</span>                 :<span class="tlaCBC">         244774 :     return res;</span></span>
<span id="L3138" title="Line 3138: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3138</span>                 :                : }</span>
<span id="L3139" title="Line 3139: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3139</span>                 :                : </span>
<span id="L3140" title="Line 3140: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3140</span>                 :                : </span>
<span id="L3141" title="Line 3141: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3141</span>                 :                : /*</span>
<span id="L3142" title="Line 3142: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3142</span>                 :                :  * numeric_div() -</span>
<span id="L3143" title="Line 3143: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3143</span>                 :                :  *</span>
<span id="L3144" title="Line 3144: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3144</span>                 :                :  *  Divide one numeric into another</span>
<span id="L3145" title="Line 3145: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3145</span>                 :                :  */</span>
<span id="L3146" title="Line 3146: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3146</span>                 :                : Datum</span>
<span id="L3147" title="Line 3147: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L3181" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3147</span>                 :<span class="tlaCBC">          74132 : numeric_div(PG_FUNCTION_ARGS)</span></span>
<span id="L3148" title="Line 3148: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3148</span>                 :                : {</span>
<span id="L3149" title="Line 3149: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3149</span>                 :<span class="tlaCBC">          74132 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L3150" title="Line 3150: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3150</span>                 :<span class="tlaCBC">          74132 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L3151" title="Line 3151: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3151</span>                 :                :     Numeric     res;</span>
<span id="L3152" title="Line 3152: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3152</span>                 :                : </span>
<span id="L3153" title="Line 3153: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L3257" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    3153</span>                 :<span class="tlaCBC">          74132 :     res = numeric_div_opt_error(num1, num2, NULL);</span></span>
<span id="L3154" title="Line 3154: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3154</span>                 :                : </span>
<span id="L3155" title="Line 3155: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3155</span>                 :<span class="tlaCBC">          74116 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L3156" title="Line 3156: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3156</span>                 :                : }</span>
<span id="L3157" title="Line 3157: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3157</span>                 :                : </span>
<span id="L3158" title="Line 3158: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3158</span>                 :                : </span>
<span id="L3159" title="Line 3159: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3159</span>                 :                : /*</span>
<span id="L3160" title="Line 3160: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3160</span>                 :                :  * numeric_div_opt_error() -</span>
<span id="L3161" title="Line 3161: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3161</span>                 :                :  *</span>
<span id="L3162" title="Line 3162: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3162</span>                 :                :  *  Internal version of numeric_div().  If &quot;*have_error&quot; flag is provided,</span>
<span id="L3163" title="Line 3163: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3163</span>                 :                :  *  on error it's set to true, NULL returned.  This is helpful when caller</span>
<span id="L3164" title="Line 3164: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3164</span>                 :                :  *  need to handle errors by itself.</span>
<span id="L3165" title="Line 3165: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3165</span>                 :                :  */</span>
<span id="L3166" title="Line 3166: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3166</span>                 :                : Numeric</span>
<span id="L3167" title="Line 3167: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3167</span>                 :<span class="tlaCBC">          74552 : numeric_div_opt_error(Numeric num1, Numeric num2, bool *have_error)</span></span>
<span id="L3168" title="Line 3168: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3168</span>                 :                : {</span>
<span id="L3169" title="Line 3169: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3169</span>                 :                :     NumericVar  arg1;</span>
<span id="L3170" title="Line 3170: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3170</span>                 :                :     NumericVar  arg2;</span>
<span id="L3171" title="Line 3171: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3171</span>                 :                :     NumericVar  result;</span>
<span id="L3172" title="Line 3172: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3172</span>                 :                :     Numeric     res;</span>
<span id="L3173" title="Line 3173: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3173</span>                 :                :     int         rscale;</span>
<span id="L3174" title="Line 3174: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3174</span>                 :                : </span>
<span id="L3175" title="Line 3175: commit a76cfba663ce on 2019-08-05 by michael@paquier.xyz"> 2213 <a href="#L3398" title="next CBC in &ldquo;michael@paquier.xyz&rdquo; bin">michael@paquier.xyz</a>  <span class="lineNum">    3175</span>         [<span class="tlaCBC"> <a href="#L3181" title="CBC: Branch 0 was taken 24 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3181" title="CBC: Branch 1 was taken 74528 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          74552 :     if (have_error)</span></span>
<span id="L3176" title="Line 3176: commit a76cfba663ce on 2019-08-05 by michael@paquier.xyz">                           <span class="lineNum">    3176</span>                 :<span class="tlaCBC">             24 :         *have_error = false;</span></span>
<span id="L3177" title="Line 3177: commit a76cfba663ce on 2019-08-05 by michael@paquier.xyz">                           <span class="lineNum">    3177</span>                 :                : </span>
<span id="L3178" title="Line 3178: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3178</span>                 :                :     /*</span>
<span id="L3179" title="Line 3179: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3179</span>                 :                :      * Handle NaN and infinities</span>
<span id="L3180" title="Line 3180: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3180</span>                 :                :      */</span>
<span id="L3181" title="Line 3181: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L3197" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3181</span>   [<span class="tlaCBC"> <a href="#L3183" title="CBC: Branch 0 was taken 74489 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3183" title="CBC: Branch 1 was taken 63 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3183" title="CBC: Branch 2 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3183" title="CBC: Branch 3 was taken 74453 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          74552 :     if (NUMERIC_IS_SPECIAL(num1) || NUMERIC_IS_SPECIAL(num2))</span></span>
<span id="L3182" title="Line 3182: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3182</span>                 :                :     {</span>
<span id="L3183" title="Line 3183: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3183</span>   [<span class="tlaCBC"> <a href="#L3185" title="CBC: Branch 0 was taken 78 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3185" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3185" title="CBC: Branch 2 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3185" title="CBC: Branch 3 was taken 60 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             99 :         if (NUMERIC_IS_NAN(num1) || NUMERIC_IS_NAN(num2))</span></span>
<span id="L3184" title="Line 3184: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3184</span>                 :<span class="tlaCBC">             39 :             return make_result(&amp;const_nan);</span></span>
<span id="L3185" title="Line 3185: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3185</span>         [<span class="tlaCBC"> <a href="#L3187" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3187" title="CBC: Branch 1 was taken 42 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             60 :         if (NUMERIC_IS_PINF(num1))</span></span>
<span id="L3186" title="Line 3186: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3186</span>                 :                :         {</span>
<span id="L3187" title="Line 3187: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3187</span>         [<span class="tlaCBC"> <a href="#L3189" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3189" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :             if (NUMERIC_IS_SPECIAL(num2))</span></span>
<span id="L3188" title="Line 3188: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3188</span>                 :<span class="tlaCBC">              6 :                 return make_result(&amp;const_nan); /* Inf / [-]Inf */</span></span>
<span id="L3189" title="Line 3189: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3189</span>   [<span class="tlaCBC"> <a href="#L3192" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3192" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3192" title="CBC: Branch 2 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3192" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             12 :             switch (numeric_sign_internal(num2))</span></span>
<span id="L3190" title="Line 3190: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3190</span>                 :                :             {</span>
<span id="L3191" title="Line 3191: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3191</span>                 :<span class="tlaCBC">              3 :                 case 0:</span></span>
<span id="L3192" title="Line 3192: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3192</span>         [<span class="tlaUBC"> <a href="#L3197" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L3197" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              3 :                     if (have_error)</span></span>
<span id="L3193" title="Line 3193: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3193</span>                 :                :                     {</span>
<span id="L3194" title="Line 3194: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L3206" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L3206" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    3194</span>                 :<a href="#L3206" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                         *have_error = true;</span></span>
<span id="L3195" title="Line 3195: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    3195</span>                 :<span class="tlaUBC">              0 :                         return NULL;</span></span>
<span id="L3196" title="Line 3196: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3196</span>                 :                :                     }</span>
<span id="L3197" title="Line 3197: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L3208" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L3208" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3197</span>         [<span class="tlaCBC"> <a href="#L3208" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3212" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<a href="#L3208" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           3 :                     ereport(ERROR,</span></span>
<span id="L3198" title="Line 3198: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3198</span>                 :                :                             (errcode(ERRCODE_DIVISION_BY_ZERO),</span>
<span id="L3199" title="Line 3199: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3199</span>                 :                :                              errmsg(&quot;division by zero&quot;)));</span>
<span id="L3200" title="Line 3200: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3200</span>                 :                :                     break;</span>
<span id="L3201" title="Line 3201: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3201</span>                 :<span class="tlaCBC">              6 :                 case 1:</span></span>
<span id="L3202" title="Line 3202: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3202</span>                 :<span class="tlaCBC">              6 :                     return make_result(&amp;const_pinf);</span></span>
<span id="L3203" title="Line 3203: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3203</span>                 :<span class="tlaCBC">              3 :                 case -1:</span></span>
<span id="L3204" title="Line 3204: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3204</span>                 :<span class="tlaCBC">              3 :                     return make_result(&amp;const_ninf);</span></span>
<span id="L3205" title="Line 3205: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3205</span>                 :                :             }</span>
<span id="L3206" title="Line 3206: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L3217" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L3217" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    3206</span>                 :<a href="#L3217" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             Assert(false);</span></span>
<span id="L3207" title="Line 3207: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3207</span>                 :                :         }</span>
<span id="L3208" title="Line 3208: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L3220" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L3220" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3208</span>         [<span class="tlaCBC"> <a href="#L3210" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3210" title="CBC: Branch 1 was taken 24 times" class="branchTla">+</a> </span>]:<a href="#L3220" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          42 :         if (NUMERIC_IS_NINF(num1))</span></span>
<span id="L3209" title="Line 3209: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3209</span>                 :                :         {</span>
<span id="L3210" title="Line 3210: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3210</span>         [<span class="tlaCBC"> <a href="#L3212" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3212" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :             if (NUMERIC_IS_SPECIAL(num2))</span></span>
<span id="L3211" title="Line 3211: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3211</span>                 :<span class="tlaCBC">              6 :                 return make_result(&amp;const_nan); /* -Inf / [-]Inf */</span></span>
<span id="L3212" title="Line 3212: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3212</span>   [<span class="tlaCBC"> <a href="#L3215" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3215" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3215" title="CBC: Branch 2 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3215" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             12 :             switch (numeric_sign_internal(num2))</span></span>
<span id="L3213" title="Line 3213: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3213</span>                 :                :             {</span>
<span id="L3214" title="Line 3214: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3214</span>                 :<span class="tlaCBC">              3 :                 case 0:</span></span>
<span id="L3215" title="Line 3215: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3215</span>         [<span class="tlaUBC"> <a href="#L3220" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L3220" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              3 :                     if (have_error)</span></span>
<span id="L3216" title="Line 3216: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3216</span>                 :                :                     {</span>
<span id="L3217" title="Line 3217: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L3229" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L3229" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    3217</span>                 :<a href="#L3229" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                         *have_error = true;</span></span>
<span id="L3218" title="Line 3218: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    3218</span>                 :<span class="tlaUBC">              0 :                         return NULL;</span></span>
<span id="L3219" title="Line 3219: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3219</span>                 :                :                     }</span>
<span id="L3220" title="Line 3220: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L3238" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L3238" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3220</span>         [<span class="tlaCBC"> <a href="#L3257" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3257" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<a href="#L3238" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           3 :                     ereport(ERROR,</span></span>
<span id="L3221" title="Line 3221: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3221</span>                 :                :                             (errcode(ERRCODE_DIVISION_BY_ZERO),</span>
<span id="L3222" title="Line 3222: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3222</span>                 :                :                              errmsg(&quot;division by zero&quot;)));</span>
<span id="L3223" title="Line 3223: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3223</span>                 :                :                     break;</span>
<span id="L3224" title="Line 3224: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3224</span>                 :<span class="tlaCBC">              6 :                 case 1:</span></span>
<span id="L3225" title="Line 3225: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3225</span>                 :<span class="tlaCBC">              6 :                     return make_result(&amp;const_ninf);</span></span>
<span id="L3226" title="Line 3226: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3226</span>                 :<span class="tlaCBC">              3 :                 case -1:</span></span>
<span id="L3227" title="Line 3227: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3227</span>                 :<span class="tlaCBC">              3 :                     return make_result(&amp;const_pinf);</span></span>
<span id="L3228" title="Line 3228: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3228</span>                 :                :             }</span>
<span id="L3229" title="Line 3229: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L3314" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L3314" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    3229</span>                 :<a href="#L3314" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             Assert(false);</span></span>
<span id="L3230" title="Line 3230: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3230</span>                 :                :         }</span>
<span id="L3231" title="Line 3231: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3231</span>                 :                :         /* by here, num1 must be finite, so num2 is not */</span>
<span id="L3232" title="Line 3232: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3232</span>                 :                : </span>
<span id="L3233" title="Line 3233: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3233</span>                 :                :         /*</span>
<span id="L3234" title="Line 3234: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3234</span>                 :                :          * POSIX would have us return zero or minus zero if num1 is zero, and</span>
<span id="L3235" title="Line 3235: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3235</span>                 :                :          * otherwise throw an underflow error.  But the numeric type doesn't</span>
<span id="L3236" title="Line 3236: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3236</span>                 :                :          * really do underflow, so let's just return zero.</span>
<span id="L3237" title="Line 3237: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3237</span>                 :                :          */</span>
<span id="L3238" title="Line 3238: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L3268" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L3252" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3238</span>                 :<a href="#L3316" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          24 :         return make_result(&amp;const_zero);</span></span>
<span id="L3239" title="Line 3239: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3239</span>                 :                :     }</span>
<span id="L3240" title="Line 3240: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3240</span>                 :                : </span>
<span id="L3241" title="Line 3241: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3241</span>                 :                :     /*</span>
<span id="L3242" title="Line 3242: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3242</span>                 :                :      * Unpack the arguments</span>
<span id="L3243" title="Line 3243: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3243</span>                 :                :      */</span>
<span id="L3244" title="Line 3244: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L3347" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    3244</span>                 :<span class="tlaCBC">          74453 :     init_var_from_num(num1, &amp;arg1);</span></span>
<span id="L3245" title="Line 3245: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    3245</span>                 :<span class="tlaCBC">          74453 :     init_var_from_num(num2, &amp;arg2);</span></span>
<span id="L3246" title="Line 3246: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3246</span>                 :                : </span>
<span id="L3247" title="Line 3247: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    3247</span>                 :<span class="tlaCBC">          74453 :     init_var(&amp;result);</span></span>
<span id="L3248" title="Line 3248: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3248</span>                 :                : </span>
<span id="L3249" title="Line 3249: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3249</span>                 :                :     /*</span>
<span id="L3250" title="Line 3250: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3250</span>                 :                :      * Select scale for division result</span>
<span id="L3251" title="Line 3251: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3251</span>                 :                :      */</span>
<span id="L3252" title="Line 3252: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L3282" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3252</span>                 :<span class="tlaCBC">          74453 :     rscale = select_div_scale(&amp;arg1, &amp;arg2);</span></span>
<span id="L3253" title="Line 3253: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3253</span>                 :                : </span>
<span id="L3254" title="Line 3254: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3254</span>                 :                :     /*</span>
<span id="L3255" title="Line 3255: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3255</span>                 :                :      * If &quot;have_error&quot; is provided, check for division by zero here</span>
<span id="L3256" title="Line 3256: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3256</span>                 :                :      */</span>
<span id="L3257" title="Line 3257: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L3268" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    3257</span>   [<span class="tlaCBC"> <a href="#L3294" title="CBC: Branch 0 was taken 24 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3294" title="CBC: Branch 1 was taken 74429 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3294" title="CBC: Branch 2 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3294" title="CBC: Branch 3 was taken 6 times" class="branchTla">+</a> </span> :<span class="tlaCBC">          74453 :     if (have_error &amp;&amp; (arg2.ndigits == 0 || arg2.digits[0] == 0))</span></span>
                           <span class="lineNum">        </span>          <span class="tlaUBC"> <a href="#L3302" title="UBC: Branch 4 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L3294" title="CBC: Branch 5 was taken 18 times" class="branchTla">+</a> </span>]
<span id="L3258" title="Line 3258: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3258</span>                 :                :     {</span>
<span id="L3259" title="Line 3259: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3259</span>                 :<span class="tlaCBC">              6 :         *have_error = true;</span></span>
<span id="L3260" title="Line 3260: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3260</span>                 :<span class="tlaCBC">              6 :         return NULL;</span></span>
<span id="L3261" title="Line 3261: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3261</span>                 :                :     }</span>
<span id="L3262" title="Line 3262: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3262</span>                 :                : </span>
<span id="L3263" title="Line 3263: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3263</span>                 :                :     /*</span>
<span id="L3264" title="Line 3264: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3264</span>                 :                :      * Do the divide and return the result</span>
<span id="L3265" title="Line 3265: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3265</span>                 :                :      */</span>
<span id="L3266" title="Line 3266: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L3355" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L3355" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    3266</span>                 :<span class="tlaCBC">          74447 :     div_var(&amp;arg1, &amp;arg2, &amp;result, rscale, true, true);</span></span>
<span id="L3267" title="Line 3267: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3267</span>                 :                : </span>
<span id="L3268" title="Line 3268: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> <a href="#L3316" title="next CBC in &ldquo;(360..) days&rdquo; bin">2355</a> <a href="#L3272" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    3268</span>                 :<span class="tlaCBC">          74428 :     res = make_result_opt_error(&amp;result, have_error);</span></span>
<span id="L3269" title="Line 3269: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3269</span>                 :                : </span>
<span id="L3270" title="Line 3270: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L3444" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    3270</span>                 :<span class="tlaCBC">          74428 :     free_var(&amp;result);</span></span>
<span id="L3271" title="Line 3271: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3271</span>                 :                : </span>
<span id="L3272" title="Line 3272: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L3377" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    3272</span>                 :<span class="tlaCBC">          74428 :     return res;</span></span>
<span id="L3273" title="Line 3273: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3273</span>                 :                : }</span>
<span id="L3274" title="Line 3274: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3274</span>                 :                : </span>
<span id="L3275" title="Line 3275: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3275</span>                 :                : </span>
<span id="L3276" title="Line 3276: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3276</span>                 :                : /*</span>
<span id="L3277" title="Line 3277: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3277</span>                 :                :  * numeric_div_trunc() -</span>
<span id="L3278" title="Line 3278: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3278</span>                 :                :  *</span>
<span id="L3279" title="Line 3279: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3279</span>                 :                :  *  Divide one numeric into another, truncating the result to an integer</span>
<span id="L3280" title="Line 3280: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3280</span>                 :                :  */</span>
<span id="L3281" title="Line 3281: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3281</span>                 :                : Datum</span>
<span id="L3282" title="Line 3282: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us"> 6353 <a href="#L3316" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3282</span>                 :<span class="tlaCBC">            609 : numeric_div_trunc(PG_FUNCTION_ARGS)</span></span>
<span id="L3283" title="Line 3283: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3283</span>                 :                : {</span>
<span id="L3284" title="Line 3284: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3284</span>                 :<span class="tlaCBC">            609 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L3285" title="Line 3285: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3285</span>                 :<span class="tlaCBC">            609 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L3286" title="Line 3286: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3286</span>                 :                :     NumericVar  arg1;</span>
<span id="L3287" title="Line 3287: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3287</span>                 :                :     NumericVar  arg2;</span>
<span id="L3288" title="Line 3288: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3288</span>                 :                :     NumericVar  result;</span>
<span id="L3289" title="Line 3289: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3289</span>                 :                :     Numeric     res;</span>
<span id="L3290" title="Line 3290: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3290</span>                 :                : </span>
<span id="L3291" title="Line 3291: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3291</span>                 :                :     /*</span>
<span id="L3292" title="Line 3292: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3292</span>                 :                :      * Handle NaN and infinities</span>
<span id="L3293" title="Line 3293: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3293</span>                 :                :      */</span>
<span id="L3294" title="Line 3294: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    3294</span>   [<span class="tlaCBC"> <a href="#L3296" title="CBC: Branch 0 was taken 546 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3296" title="CBC: Branch 1 was taken 63 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3296" title="CBC: Branch 2 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3296" title="CBC: Branch 3 was taken 510 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            609 :     if (NUMERIC_IS_SPECIAL(num1) || NUMERIC_IS_SPECIAL(num2))</span></span>
<span id="L3295" title="Line 3295: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3295</span>                 :                :     {</span>
<span id="L3296" title="Line 3296: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3296</span>   [<span class="tlaCBC"> <a href="#L3298" title="CBC: Branch 0 was taken 78 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3298" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3298" title="CBC: Branch 2 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3298" title="CBC: Branch 3 was taken 60 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             99 :         if (NUMERIC_IS_NAN(num1) || NUMERIC_IS_NAN(num2))</span></span>
<span id="L3297" title="Line 3297: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3297</span>                 :<span class="tlaCBC">             39 :             PG_RETURN_NUMERIC(make_result(&amp;const_nan));</span></span>
<span id="L3298" title="Line 3298: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3298</span>         [<span class="tlaCBC"> <a href="#L3300" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3300" title="CBC: Branch 1 was taken 42 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             60 :         if (NUMERIC_IS_PINF(num1))</span></span>
<span id="L3299" title="Line 3299: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3299</span>                 :                :         {</span>
<span id="L3300" title="Line 3300: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3300</span>         [<span class="tlaCBC"> <a href="#L3302" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3302" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :             if (NUMERIC_IS_SPECIAL(num2))</span></span>
<span id="L3301" title="Line 3301: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3301</span>                 :<span class="tlaCBC">              6 :                 PG_RETURN_NUMERIC(make_result(&amp;const_nan)); /* Inf / [-]Inf */</span></span>
<span id="L3302" title="Line 3302: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3302</span>   [<span class="tlaCBC"> <a href="#L3305" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3305" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3305" title="CBC: Branch 2 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3305" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             12 :             switch (numeric_sign_internal(num2))</span></span>
<span id="L3303" title="Line 3303: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3303</span>                 :                :             {</span>
<span id="L3304" title="Line 3304: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3304</span>                 :<span class="tlaCBC">              3 :                 case 0:</span></span>
<span id="L3305" title="Line 3305: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3305</span>         [<span class="tlaCBC"> <a href="#L3316" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3320" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :                     ereport(ERROR,</span></span>
<span id="L3306" title="Line 3306: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3306</span>                 :                :                             (errcode(ERRCODE_DIVISION_BY_ZERO),</span>
<span id="L3307" title="Line 3307: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3307</span>                 :                :                              errmsg(&quot;division by zero&quot;)));</span>
<span id="L3308" title="Line 3308: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3308</span>                 :                :                     break;</span>
<span id="L3309" title="Line 3309: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3309</span>                 :<span class="tlaCBC">              6 :                 case 1:</span></span>
<span id="L3310" title="Line 3310: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3310</span>                 :<span class="tlaCBC">              6 :                     PG_RETURN_NUMERIC(make_result(&amp;const_pinf));</span></span>
<span id="L3311" title="Line 3311: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3311</span>                 :<span class="tlaCBC">              3 :                 case -1:</span></span>
<span id="L3312" title="Line 3312: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3312</span>                 :<span class="tlaCBC">              3 :                     PG_RETURN_NUMERIC(make_result(&amp;const_ninf));</span></span>
<span id="L3313" title="Line 3313: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3313</span>                 :                :             }</span>
<span id="L3314" title="Line 3314: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L3332" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L3332" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    3314</span>                 :<a href="#L3332" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             Assert(false);</span></span>
<span id="L3315" title="Line 3315: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3315</span>                 :                :         }</span>
<span id="L3316" title="Line 3316: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L3341" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L3341" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3316</span>         [<span class="tlaCBC"> <a href="#L3318" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3318" title="CBC: Branch 1 was taken 24 times" class="branchTla">+</a> </span>]:<a href="#L3341" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          42 :         if (NUMERIC_IS_NINF(num1))</span></span>
<span id="L3317" title="Line 3317: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3317</span>                 :                :         {</span>
<span id="L3318" title="Line 3318: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3318</span>         [<span class="tlaCBC"> <a href="#L3320" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3320" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :             if (NUMERIC_IS_SPECIAL(num2))</span></span>
<span id="L3319" title="Line 3319: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3319</span>                 :<span class="tlaCBC">              6 :                 PG_RETURN_NUMERIC(make_result(&amp;const_nan)); /* -Inf / [-]Inf */</span></span>
<span id="L3320" title="Line 3320: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3320</span>   [<span class="tlaCBC"> <a href="#L3323" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3323" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3323" title="CBC: Branch 2 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3323" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             12 :             switch (numeric_sign_internal(num2))</span></span>
<span id="L3321" title="Line 3321: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3321</span>                 :                :             {</span>
<span id="L3322" title="Line 3322: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3322</span>                 :<span class="tlaCBC">              3 :                 case 0:</span></span>
<span id="L3323" title="Line 3323: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3323</span>         [<span class="tlaCBC"> <a href="#L3398" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3398" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :                     ereport(ERROR,</span></span>
<span id="L3324" title="Line 3324: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3324</span>                 :                :                             (errcode(ERRCODE_DIVISION_BY_ZERO),</span>
<span id="L3325" title="Line 3325: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3325</span>                 :                :                              errmsg(&quot;division by zero&quot;)));</span>
<span id="L3326" title="Line 3326: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3326</span>                 :                :                     break;</span>
<span id="L3327" title="Line 3327: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3327</span>                 :<span class="tlaCBC">              6 :                 case 1:</span></span>
<span id="L3328" title="Line 3328: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3328</span>                 :<span class="tlaCBC">              6 :                     PG_RETURN_NUMERIC(make_result(&amp;const_ninf));</span></span>
<span id="L3329" title="Line 3329: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3329</span>                 :<span class="tlaCBC">              3 :                 case -1:</span></span>
<span id="L3330" title="Line 3330: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3330</span>                 :<span class="tlaCBC">              3 :                     PG_RETURN_NUMERIC(make_result(&amp;const_pinf));</span></span>
<span id="L3331" title="Line 3331: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3331</span>                 :                :             }</span>
<span id="L3332" title="Line 3332: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L3399" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L3416" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    3332</span>                 :<a href="#L3399" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             Assert(false);</span></span>
<span id="L3333" title="Line 3333: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3333</span>                 :                :         }</span>
<span id="L3334" title="Line 3334: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3334</span>                 :                :         /* by here, num1 must be finite, so num2 is not */</span>
<span id="L3335" title="Line 3335: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3335</span>                 :                : </span>
<span id="L3336" title="Line 3336: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3336</span>                 :                :         /*</span>
<span id="L3337" title="Line 3337: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3337</span>                 :                :          * POSIX would have us return zero or minus zero if num1 is zero, and</span>
<span id="L3338" title="Line 3338: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3338</span>                 :                :          * otherwise throw an underflow error.  But the numeric type doesn't</span>
<span id="L3339" title="Line 3339: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3339</span>                 :                :          * really do underflow, so let's just return zero.</span>
<span id="L3340" title="Line 3340: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3340</span>                 :                :          */</span>
<span id="L3341" title="Line 3341: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L3357" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L3357" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3341</span>                 :<a href="#L3406" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          24 :         PG_RETURN_NUMERIC(make_result(&amp;const_zero));</span></span>
<span id="L3342" title="Line 3342: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3342</span>                 :                :     }</span>
<span id="L3343" title="Line 3343: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3343</span>                 :                : </span>
<span id="L3344" title="Line 3344: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3344</span>                 :                :     /*</span>
<span id="L3345" title="Line 3345: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3345</span>                 :                :      * Unpack the arguments</span>
<span id="L3346" title="Line 3346: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3346</span>                 :                :      */</span>
<span id="L3347" title="Line 3347: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L3430" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    3347</span>                 :<span class="tlaCBC">            510 :     init_var_from_num(num1, &amp;arg1);</span></span>
<span id="L3348" title="Line 3348: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    3348</span>                 :<span class="tlaCBC">            510 :     init_var_from_num(num2, &amp;arg2);</span></span>
<span id="L3349" title="Line 3349: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3349</span>                 :                : </span>
<span id="L3350" title="Line 3350: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    3350</span>                 :<span class="tlaCBC">            510 :     init_var(&amp;result);</span></span>
<span id="L3351" title="Line 3351: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3351</span>                 :                : </span>
<span id="L3352" title="Line 3352: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3352</span>                 :                :     /*</span>
<span id="L3353" title="Line 3353: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3353</span>                 :                :      * Do the divide and return the result</span>
<span id="L3354" title="Line 3354: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3354</span>                 :                :      */</span>
<span id="L3355" title="Line 3355: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L3626" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L3544" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    3355</span>                 :<span class="tlaCBC">            510 :     div_var(&amp;arg1, &amp;arg2, &amp;result, 0, false, true);</span></span>
<span id="L3356" title="Line 3356: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3356</span>                 :                : </span>
<span id="L3357" title="Line 3357: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us"> <a href="#L3406" title="next CBC in &ldquo;(360..) days&rdquo; bin">6353</a> <a href="#L3406" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3357</span>                 :<span class="tlaCBC">            507 :     res = make_result(&amp;result);</span></span>
<span id="L3358" title="Line 3358: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3358</span>                 :                : </span>
<span id="L3359" title="Line 3359: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3359</span>                 :<span class="tlaCBC">            507 :     free_var(&amp;result);</span></span>
<span id="L3360" title="Line 3360: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3360</span>                 :                : </span>
<span id="L3361" title="Line 3361: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3361</span>                 :<span class="tlaCBC">            507 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L3362" title="Line 3362: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3362</span>                 :                : }</span>
<span id="L3363" title="Line 3363: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3363</span>                 :                : </span>
<span id="L3364" title="Line 3364: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3364</span>                 :                : </span>
<span id="L3365" title="Line 3365: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3365</span>                 :                : /*</span>
<span id="L3366" title="Line 3366: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3366</span>                 :                :  * numeric_mod() -</span>
<span id="L3367" title="Line 3367: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3367</span>                 :                :  *</span>
<span id="L3368" title="Line 3368: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3368</span>                 :                :  *  Calculate the modulo of two numerics</span>
<span id="L3369" title="Line 3369: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3369</span>                 :                :  */</span>
<span id="L3370" title="Line 3370: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3370</span>                 :                : Datum</span>
<span id="L3371" title="Line 3371: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159                      <span class="lineNum">    3371</span>                 :<span class="tlaCBC">         206641 : numeric_mod(PG_FUNCTION_ARGS)</span></span>
<span id="L3372" title="Line 3372: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3372</span>                 :                : {</span>
<span id="L3373" title="Line 3373: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3373</span>                 :<span class="tlaCBC">         206641 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L3374" title="Line 3374: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3374</span>                 :<span class="tlaCBC">         206641 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L3375" title="Line 3375: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3375</span>                 :                :     Numeric     res;</span>
<span id="L3376" title="Line 3376: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3376</span>                 :                : </span>
<span id="L3377" title="Line 3377: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L3438" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    3377</span>                 :<span class="tlaCBC">         206641 :     res = numeric_mod_opt_error(num1, num2, NULL);</span></span>
<span id="L3378" title="Line 3378: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3378</span>                 :                : </span>
<span id="L3379" title="Line 3379: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3379</span>                 :<span class="tlaCBC">         206632 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L3380" title="Line 3380: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3380</span>                 :                : }</span>
<span id="L3381" title="Line 3381: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3381</span>                 :                : </span>
<span id="L3382" title="Line 3382: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3382</span>                 :                : </span>
<span id="L3383" title="Line 3383: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3383</span>                 :                : /*</span>
<span id="L3384" title="Line 3384: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3384</span>                 :                :  * numeric_mod_opt_error() -</span>
<span id="L3385" title="Line 3385: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3385</span>                 :                :  *</span>
<span id="L3386" title="Line 3386: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3386</span>                 :                :  *  Internal version of numeric_mod().  If &quot;*have_error&quot; flag is provided,</span>
<span id="L3387" title="Line 3387: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3387</span>                 :                :  *  on error it's set to true, NULL returned.  This is helpful when caller</span>
<span id="L3388" title="Line 3388: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3388</span>                 :                :  *  need to handle errors by itself.</span>
<span id="L3389" title="Line 3389: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3389</span>                 :                :  */</span>
<span id="L3390" title="Line 3390: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3390</span>                 :                : Numeric</span>
<span id="L3391" title="Line 3391: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3391</span>                 :<span class="tlaCBC">         206647 : numeric_mod_opt_error(Numeric num1, Numeric num2, bool *have_error)</span></span>
<span id="L3392" title="Line 3392: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3392</span>                 :                : {</span>
<span id="L3393" title="Line 3393: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3393</span>                 :                :     Numeric     res;</span>
<span id="L3394" title="Line 3394: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3394</span>                 :                :     NumericVar  arg1;</span>
<span id="L3395" title="Line 3395: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3395</span>                 :                :     NumericVar  arg2;</span>
<span id="L3396" title="Line 3396: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3396</span>                 :                :     NumericVar  result;</span>
<span id="L3397" title="Line 3397: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3397</span>                 :                : </span>
<span id="L3398" title="Line 3398: commit a76cfba663ce on 2019-08-05 by michael@paquier.xyz"> 2213 <a href="#L4413" title="next CBC in &ldquo;michael@paquier.xyz&rdquo; bin">michael@paquier.xyz</a>  <span class="lineNum">    3398</span>         [<span class="tlaUBC"> <a href="#L3414" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L3406" title="CBC: Branch 1 was taken 206647 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         206647 :     if (have_error)</span></span>
<span id="L3399" title="Line 3399: commit a76cfba663ce on 2019-08-05 by michael@paquier.xyz"><span title="michael@paquier.xyz 2213 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L3416" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">2213</a> </span><a href="#top" title="next UBC in &ldquo;michael@paquier.xyz&rdquo; bin" class="tlaBgUBC">michael@paquier.xyz</a><span title="michael@paquier.xyz 2213 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> </span> <span class="lineNum">    3399</span>                 :<a href="#L3416" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         *have_error = false;</span></span>
<span id="L3400" title="Line 3400: commit a76cfba663ce on 2019-08-05 by michael@paquier.xyz">                           <span class="lineNum">    3400</span>                 :                : </span>
<span id="L3401" title="Line 3401: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3401</span>                 :                :     /*</span>
<span id="L3402" title="Line 3402: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3402</span>                 :                :      * Handle NaN and infinities.  We follow POSIX fmod() on this, except that</span>
<span id="L3403" title="Line 3403: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3403</span>                 :                :      * POSIX treats x-is-infinite and y-is-zero identically, raising EDOM and</span>
<span id="L3404" title="Line 3404: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3404</span>                 :                :      * returning NaN.  We choose to throw error only for y-is-zero.</span>
<span id="L3405" title="Line 3405: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3405</span>                 :                :      */</span>
<span id="L3406" title="Line 3406: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L3419" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L3419" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3406</span>   [<span class="tlaCBC"> <a href="#L3408" title="CBC: Branch 0 was taken 206584 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3408" title="CBC: Branch 1 was taken 63 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3408" title="CBC: Branch 2 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3408" title="CBC: Branch 3 was taken 206548 times" class="branchTla">+</a> </span>]:<a href="#L3419" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">      206647 :     if (NUMERIC_IS_SPECIAL(num1) || NUMERIC_IS_SPECIAL(num2))</span></span>
<span id="L3407" title="Line 3407: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3407</span>                 :                :     {</span>
<span id="L3408" title="Line 3408: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3408</span>   [<span class="tlaCBC"> <a href="#L3410" title="CBC: Branch 0 was taken 78 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3410" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3410" title="CBC: Branch 2 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3410" title="CBC: Branch 3 was taken 60 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             99 :         if (NUMERIC_IS_NAN(num1) || NUMERIC_IS_NAN(num2))</span></span>
<span id="L3409" title="Line 3409: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3409</span>                 :<span class="tlaCBC">             39 :             return make_result(&amp;const_nan);</span></span>
<span id="L3410" title="Line 3410: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3410</span>         [<span class="tlaCBC"> <a href="#L3412" title="CBC: Branch 0 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3412" title="CBC: Branch 1 was taken 24 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             60 :         if (NUMERIC_IS_INF(num1))</span></span>
<span id="L3411" title="Line 3411: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3411</span>                 :                :         {</span>
<span id="L3412" title="Line 3412: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3412</span>         [<span class="tlaCBC"> <a href="#L3414" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3414" title="CBC: Branch 1 was taken 30 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             36 :             if (numeric_sign_internal(num2) == 0)</span></span>
<span id="L3413" title="Line 3413: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3413</span>                 :                :             {</span>
<span id="L3414" title="Line 3414: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3414</span>         [<span class="tlaUBC"> <a href="#L3419" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L3419" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              6 :                 if (have_error)</span></span>
<span id="L3415" title="Line 3415: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3415</span>                 :                :                 {</span>
<span id="L3416" title="Line 3416: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L3440" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L4172" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    3416</span>                 :<a href="#L3440" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                     *have_error = true;</span></span>
<span id="L3417" title="Line 3417: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    3417</span>                 :<span class="tlaUBC">              0 :                     return NULL;</span></span>
<span id="L3418" title="Line 3418: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3418</span>                 :                :                 }</span>
<span id="L3419" title="Line 3419: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L3444" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L3460" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3419</span>         [<span class="tlaCBC"> <a href="#L3438" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3438" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<a href="#L3444" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           6 :                 ereport(ERROR,</span></span>
<span id="L3420" title="Line 3420: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3420</span>                 :                :                         (errcode(ERRCODE_DIVISION_BY_ZERO),</span>
<span id="L3421" title="Line 3421: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3421</span>                 :                :                          errmsg(&quot;division by zero&quot;)));</span>
<span id="L3422" title="Line 3422: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3422</span>                 :                :             }</span>
<span id="L3423" title="Line 3423: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3423</span>                 :                :             /* Inf % any nonzero = NaN */</span>
<span id="L3424" title="Line 3424: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3424</span>                 :<span class="tlaCBC">             30 :             return make_result(&amp;const_nan);</span></span>
<span id="L3425" title="Line 3425: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3425</span>                 :                :         }</span>
<span id="L3426" title="Line 3426: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3426</span>                 :                :         /* num2 must be [-]Inf; result is num1 regardless of sign of num2 */</span>
<span id="L3427" title="Line 3427: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3427</span>                 :<span class="tlaCBC">             24 :         return duplicate_numeric(num1);</span></span>
<span id="L3428" title="Line 3428: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3428</span>                 :                :     }</span>
<span id="L3429" title="Line 3429: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3429</span>                 :                : </span>
<span id="L3430" title="Line 3430: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L3475" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    3430</span>                 :<span class="tlaCBC">         206548 :     init_var_from_num(num1, &amp;arg1);</span></span>
<span id="L3431" title="Line 3431: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    3431</span>                 :<span class="tlaCBC">         206548 :     init_var_from_num(num2, &amp;arg2);</span></span>
<span id="L3432" title="Line 3432: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3432</span>                 :                : </span>
<span id="L3433" title="Line 3433: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    3433</span>                 :<span class="tlaCBC">         206548 :     init_var(&amp;result);</span></span>
<span id="L3434" title="Line 3434: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3434</span>                 :                : </span>
<span id="L3435" title="Line 3435: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3435</span>                 :                :     /*</span>
<span id="L3436" title="Line 3436: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3436</span>                 :                :      * If &quot;have_error&quot; is provided, check for division by zero here</span>
<span id="L3437" title="Line 3437: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3437</span>                 :                :      */</span>
<span id="L3438" title="Line 3438: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L3446" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    3438</span>   [<span class="tlaUBC"> <a href="#L3655" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L3469" title="CBC: Branch 1 was taken 206548 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3655" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L3655" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span> :<span class="tlaCBC">         206548 :     if (have_error &amp;&amp; (arg2.ndigits == 0 || arg2.digits[0] == 0))</span></span>
                           <span class="lineNum">        </span>          <span class="tlaUBC"> <a href="#L3655" title="UBC: Branch 4 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L3655" title="UBC: Branch 5 was not taken" class="branchTla">-</a> </span>]
<span id="L3439" title="Line 3439: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3439</span>                 :                :     {</span>
<span id="L3440" title="Line 3440: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"><span title="akorotkov@postgresql.org 2355 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L4172" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">2355</a> <a href="#L4420" title="next UBC in &ldquo;akorotkov@postgresql.org&rdquo; bin" class="tlaBgUBC">akorotkov@postgresql</a></span> <span class="lineNum">    3440</span>                 :<a href="#L4172" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         *have_error = true;</span></span>
<span id="L3441" title="Line 3441: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"><span title="akorotkov@postgresql.org 2355 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    3441</span>                 :<span class="tlaUBC">              0 :         return NULL;</span></span>
<span id="L3442" title="Line 3442: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3442</span>                 :                :     }</span>
<span id="L3443" title="Line 3443: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    3443</span>                 :                : </span>
<span id="L3444" title="Line 3444: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> <a href="#L3627" title="next CBC in &ldquo;(360..) days&rdquo; bin">9736</a> <a href="#L3448" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    3444</span>                 :<a href="#L4174" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">      206548 :     mod_var(&amp;arg1, &amp;arg2, &amp;result);</span></span>
<span id="L3445" title="Line 3445: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3445</span>                 :                : </span>
<span id="L3446" title="Line 3446: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L3450" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    3446</span>                 :<span class="tlaCBC">         206542 :     res = make_result_opt_error(&amp;result, NULL);</span></span>
<span id="L3447" title="Line 3447: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3447</span>                 :                : </span>
<span id="L3448" title="Line 3448: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L3477" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    3448</span>                 :<span class="tlaCBC">         206542 :     free_var(&amp;result);</span></span>
<span id="L3449" title="Line 3449: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3449</span>                 :                : </span>
<span id="L3450" title="Line 3450: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L4408" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    3450</span>                 :<span class="tlaCBC">         206542 :     return res;</span></span>
<span id="L3451" title="Line 3451: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3451</span>                 :                : }</span>
<span id="L3452" title="Line 3452: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3452</span>                 :                : </span>
<span id="L3453" title="Line 3453: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3453</span>                 :                : </span>
<span id="L3454" title="Line 3454: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3454</span>                 :                : /*</span>
<span id="L3455" title="Line 3455: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3455</span>                 :                :  * numeric_inc() -</span>
<span id="L3456" title="Line 3456: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3456</span>                 :                :  *</span>
<span id="L3457" title="Line 3457: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3457</span>                 :                :  *  Increment a number by one</span>
<span id="L3458" title="Line 3458: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3458</span>                 :                :  */</span>
<span id="L3459" title="Line 3459: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3459</span>                 :                : Datum</span>
<span id="L3460" title="Line 3460: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L3483" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3460</span>                 :<span class="tlaCBC">             24 : numeric_inc(PG_FUNCTION_ARGS)</span></span>
<span id="L3461" title="Line 3461: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3461</span>                 :                : {</span>
<span id="L3462" title="Line 3462: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3462</span>                 :<span class="tlaCBC">             24 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L3463" title="Line 3463: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3463</span>                 :                :     NumericVar  arg;</span>
<span id="L3464" title="Line 3464: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3464</span>                 :                :     Numeric     res;</span>
<span id="L3465" title="Line 3465: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3465</span>                 :                : </span>
<span id="L3466" title="Line 3466: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3466</span>                 :                :     /*</span>
<span id="L3467" title="Line 3467: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3467</span>                 :                :      * Handle NaN and infinities</span>
<span id="L3468" title="Line 3468: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3468</span>                 :                :      */</span>
<span id="L3469" title="Line 3469: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    3469</span>         [<span class="tlaCBC"> <a href="#L3502" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3502" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             24 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L3470" title="Line 3470: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3470</span>                 :<span class="tlaCBC">              9 :         PG_RETURN_NUMERIC(duplicate_numeric(num));</span></span>
<span id="L3471" title="Line 3471: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3471</span>                 :                : </span>
<span id="L3472" title="Line 3472: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3472</span>                 :                :     /*</span>
<span id="L3473" title="Line 3473: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3473</span>                 :                :      * Compute the result and return it</span>
<span id="L3474" title="Line 3474: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3474</span>                 :                :      */</span>
<span id="L3475" title="Line 3475: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L3727" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    3475</span>                 :<span class="tlaCBC">             15 :     init_var_from_num(num, &amp;arg);</span></span>
<span id="L3476" title="Line 3476: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3476</span>                 :                : </span>
<span id="L3477" title="Line 3477: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L3757" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    3477</span>                 :<span class="tlaCBC">             15 :     add_var(&amp;arg, &amp;const_one, &amp;arg);</span></span>
<span id="L3478" title="Line 3478: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3478</span>                 :                : </span>
<span id="L3479" title="Line 3479: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3479</span>                 :<span class="tlaCBC">             15 :     res = make_result(&amp;arg);</span></span>
<span id="L3480" title="Line 3480: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3480</span>                 :                : </span>
<span id="L3481" title="Line 3481: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3481</span>                 :<span class="tlaCBC">             15 :     free_var(&amp;arg);</span></span>
<span id="L3482" title="Line 3482: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3482</span>                 :                : </span>
<span id="L3483" title="Line 3483: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L3557" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3483</span>                 :<span class="tlaCBC">             15 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L3484" title="Line 3484: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3484</span>                 :                : }</span>
<span id="L3485" title="Line 3485: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3485</span>                 :                : </span>
<span id="L3486" title="Line 3486: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3486</span>                 :                : </span>
<span id="L3487" title="Line 3487: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3487</span>                 :                : /*</span>
<span id="L3488" title="Line 3488: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3488</span>                 :                :  * numeric_smaller() -</span>
<span id="L3489" title="Line 3489: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3489</span>                 :                :  *</span>
<span id="L3490" title="Line 3490: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3490</span>                 :                :  *  Return the smaller of two numbers</span>
<span id="L3491" title="Line 3491: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3491</span>                 :                :  */</span>
<span id="L3492" title="Line 3492: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3492</span>                 :                : Datum</span>
<span id="L3493" title="Line 3493: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3493</span>                 :<span class="tlaCBC">            399 : numeric_smaller(PG_FUNCTION_ARGS)</span></span>
<span id="L3494" title="Line 3494: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3494</span>                 :                : {</span>
<span id="L3495" title="Line 3495: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3495</span>                 :<span class="tlaCBC">            399 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L3496" title="Line 3496: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3496</span>                 :<span class="tlaCBC">            399 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L3497" title="Line 3497: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3497</span>                 :                : </span>
<span id="L3498" title="Line 3498: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3498</span>                 :                :     /*</span>
<span id="L3499" title="Line 3499: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    3499</span>                 :                :      * Use cmp_numerics so that this will agree with the comparison operators,</span>
<span id="L3500" title="Line 3500: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    3500</span>                 :                :      * particularly as regards comparisons involving NaN.</span>
<span id="L3501" title="Line 3501: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3501</span>                 :                :      */</span>
<span id="L3502" title="Line 3502: commit 4b1c6695f1dc on 2003-07-30 by tgl@sss.pgh.pa.us"> 8063                      <span class="lineNum">    3502</span>         [<span class="tlaCBC"> <a href="#L3524" title="CBC: Branch 0 was taken 322 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3524" title="CBC: Branch 1 was taken 77 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            399 :     if (cmp_numerics(num1, num2) &lt; 0)</span></span>
<span id="L3503" title="Line 3503: commit 4b1c6695f1dc on 2003-07-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3503</span>                 :<span class="tlaCBC">            322 :         PG_RETURN_NUMERIC(num1);</span></span>
<span id="L3504" title="Line 3504: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3504</span>                 :                :     else</span>
<span id="L3505" title="Line 3505: commit 4b1c6695f1dc on 2003-07-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3505</span>                 :<span class="tlaCBC">             77 :         PG_RETURN_NUMERIC(num2);</span></span>
<span id="L3506" title="Line 3506: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3506</span>                 :                : }</span>
<span id="L3507" title="Line 3507: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3507</span>                 :                : </span>
<span id="L3508" title="Line 3508: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3508</span>                 :                : </span>
<span id="L3509" title="Line 3509: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3509</span>                 :                : /*</span>
<span id="L3510" title="Line 3510: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3510</span>                 :                :  * numeric_larger() -</span>
<span id="L3511" title="Line 3511: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3511</span>                 :                :  *</span>
<span id="L3512" title="Line 3512: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3512</span>                 :                :  *  Return the larger of two numbers</span>
<span id="L3513" title="Line 3513: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3513</span>                 :                :  */</span>
<span id="L3514" title="Line 3514: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3514</span>                 :                : Datum</span>
<span id="L3515" title="Line 3515: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159                      <span class="lineNum">    3515</span>                 :<span class="tlaCBC">           9315 : numeric_larger(PG_FUNCTION_ARGS)</span></span>
<span id="L3516" title="Line 3516: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3516</span>                 :                : {</span>
<span id="L3517" title="Line 3517: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3517</span>                 :<span class="tlaCBC">           9315 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L3518" title="Line 3518: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3518</span>                 :<span class="tlaCBC">           9315 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L3519" title="Line 3519: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3519</span>                 :                : </span>
<span id="L3520" title="Line 3520: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3520</span>                 :                :     /*</span>
<span id="L3521" title="Line 3521: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    3521</span>                 :                :      * Use cmp_numerics so that this will agree with the comparison operators,</span>
<span id="L3522" title="Line 3522: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    3522</span>                 :                :      * particularly as regards comparisons involving NaN.</span>
<span id="L3523" title="Line 3523: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3523</span>                 :                :      */</span>
<span id="L3524" title="Line 3524: commit 4b1c6695f1dc on 2003-07-30 by tgl@sss.pgh.pa.us"> 8063                      <span class="lineNum">    3524</span>         [<span class="tlaCBC"> <a href="#L3557" title="CBC: Branch 0 was taken 8937 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3557" title="CBC: Branch 1 was taken 378 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           9315 :     if (cmp_numerics(num1, num2) &gt; 0)</span></span>
<span id="L3525" title="Line 3525: commit 4b1c6695f1dc on 2003-07-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3525</span>                 :<span class="tlaCBC">           8937 :         PG_RETURN_NUMERIC(num1);</span></span>
<span id="L3526" title="Line 3526: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3526</span>                 :                :     else</span>
<span id="L3527" title="Line 3527: commit 4b1c6695f1dc on 2003-07-30 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3527</span>                 :<span class="tlaCBC">            378 :         PG_RETURN_NUMERIC(num2);</span></span>
<span id="L3528" title="Line 3528: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3528</span>                 :                : }</span>
<span id="L3529" title="Line 3529: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3529</span>                 :                : </span>
<span id="L3530" title="Line 3530: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3530</span>                 :                : </span>
<span id="L3531" title="Line 3531: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3531</span>                 :                : /* ----------------------------------------------------------------------</span>
<span id="L3532" title="Line 3532: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3532</span>                 :                :  *</span>
<span id="L3533" title="Line 3533: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3533</span>                 :                :  * Advanced math functions</span>
<span id="L3534" title="Line 3534: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3534</span>                 :                :  *</span>
<span id="L3535" title="Line 3535: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3535</span>                 :                :  * ----------------------------------------------------------------------</span>
<span id="L3536" title="Line 3536: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3536</span>                 :                :  */</span>
<span id="L3537" title="Line 3537: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3537</span>                 :                : </span>
<span id="L3538" title="Line 3538: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3538</span>                 :                : /*</span>
<span id="L3539" title="Line 3539: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3539</span>                 :                :  * numeric_gcd() -</span>
<span id="L3540" title="Line 3540: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3540</span>                 :                :  *</span>
<span id="L3541" title="Line 3541: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3541</span>                 :                :  *  Calculate the greatest common divisor of two numerics</span>
<span id="L3542" title="Line 3542: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3542</span>                 :                :  */</span>
<span id="L3543" title="Line 3543: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3543</span>                 :                : Datum</span>
<span id="L3544" title="Line 3544: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com"> 2040 <a href="#L3558" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    3544</span>                 :<span class="tlaCBC">            108 : numeric_gcd(PG_FUNCTION_ARGS)</span></span>
<span id="L3545" title="Line 3545: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3545</span>                 :                : {</span>
<span id="L3546" title="Line 3546: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3546</span>                 :<span class="tlaCBC">            108 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L3547" title="Line 3547: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3547</span>                 :<span class="tlaCBC">            108 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L3548" title="Line 3548: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3548</span>                 :                :     NumericVar  arg1;</span>
<span id="L3549" title="Line 3549: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3549</span>                 :                :     NumericVar  arg2;</span>
<span id="L3550" title="Line 3550: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3550</span>                 :                :     NumericVar  result;</span>
<span id="L3551" title="Line 3551: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3551</span>                 :                :     Numeric     res;</span>
<span id="L3552" title="Line 3552: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3552</span>                 :                : </span>
<span id="L3553" title="Line 3553: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3553</span>                 :                :     /*</span>
<span id="L3554" title="Line 3554: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3554</span>                 :                :      * Handle NaN and infinities: we consider the result to be NaN in all such</span>
<span id="L3555" title="Line 3555: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3555</span>                 :                :      * cases.</span>
<span id="L3556" title="Line 3556: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3556</span>                 :                :      */</span>
<span id="L3557" title="Line 3557: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L3600" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3557</span>   [<span class="tlaCBC"> <a href="#L3600" title="CBC: Branch 0 was taken 78 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3600" title="CBC: Branch 1 was taken 30 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3600" title="CBC: Branch 2 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3600" title="CBC: Branch 3 was taken 60 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            108 :     if (NUMERIC_IS_SPECIAL(num1) || NUMERIC_IS_SPECIAL(num2))</span></span>
<span id="L3558" title="Line 3558: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com"> 2040 <a href="#L3601" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    3558</span>                 :<span class="tlaCBC">             48 :         PG_RETURN_NUMERIC(make_result(&amp;const_nan));</span></span>
<span id="L3559" title="Line 3559: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3559</span>                 :                : </span>
<span id="L3560" title="Line 3560: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3560</span>                 :                :     /*</span>
<span id="L3561" title="Line 3561: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3561</span>                 :                :      * Unpack the arguments</span>
<span id="L3562" title="Line 3562: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3562</span>                 :                :      */</span>
<span id="L3563" title="Line 3563: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3563</span>                 :<span class="tlaCBC">             60 :     init_var_from_num(num1, &amp;arg1);</span></span>
<span id="L3564" title="Line 3564: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3564</span>                 :<span class="tlaCBC">             60 :     init_var_from_num(num2, &amp;arg2);</span></span>
<span id="L3565" title="Line 3565: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3565</span>                 :                : </span>
<span id="L3566" title="Line 3566: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3566</span>                 :<span class="tlaCBC">             60 :     init_var(&amp;result);</span></span>
<span id="L3567" title="Line 3567: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3567</span>                 :                : </span>
<span id="L3568" title="Line 3568: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3568</span>                 :                :     /*</span>
<span id="L3569" title="Line 3569: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3569</span>                 :                :      * Find the GCD and return the result</span>
<span id="L3570" title="Line 3570: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3570</span>                 :                :      */</span>
<span id="L3571" title="Line 3571: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3571</span>                 :<span class="tlaCBC">             60 :     gcd_var(&amp;arg1, &amp;arg2, &amp;result);</span></span>
<span id="L3572" title="Line 3572: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3572</span>                 :                : </span>
<span id="L3573" title="Line 3573: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3573</span>                 :<span class="tlaCBC">             60 :     res = make_result(&amp;result);</span></span>
<span id="L3574" title="Line 3574: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3574</span>                 :                : </span>
<span id="L3575" title="Line 3575: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3575</span>                 :<span class="tlaCBC">             60 :     free_var(&amp;result);</span></span>
<span id="L3576" title="Line 3576: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3576</span>                 :                : </span>
<span id="L3577" title="Line 3577: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3577</span>                 :<span class="tlaCBC">             60 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L3578" title="Line 3578: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3578</span>                 :                : }</span>
<span id="L3579" title="Line 3579: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3579</span>                 :                : </span>
<span id="L3580" title="Line 3580: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3580</span>                 :                : </span>
<span id="L3581" title="Line 3581: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3581</span>                 :                : /*</span>
<span id="L3582" title="Line 3582: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3582</span>                 :                :  * numeric_lcm() -</span>
<span id="L3583" title="Line 3583: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3583</span>                 :                :  *</span>
<span id="L3584" title="Line 3584: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3584</span>                 :                :  *  Calculate the least common multiple of two numerics</span>
<span id="L3585" title="Line 3585: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3585</span>                 :                :  */</span>
<span id="L3586" title="Line 3586: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3586</span>                 :                : Datum</span>
<span id="L3587" title="Line 3587: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3587</span>                 :<span class="tlaCBC">            123 : numeric_lcm(PG_FUNCTION_ARGS)</span></span>
<span id="L3588" title="Line 3588: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3588</span>                 :                : {</span>
<span id="L3589" title="Line 3589: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3589</span>                 :<span class="tlaCBC">            123 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L3590" title="Line 3590: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3590</span>                 :<span class="tlaCBC">            123 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L3591" title="Line 3591: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3591</span>                 :                :     NumericVar  arg1;</span>
<span id="L3592" title="Line 3592: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3592</span>                 :                :     NumericVar  arg2;</span>
<span id="L3593" title="Line 3593: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3593</span>                 :                :     NumericVar  result;</span>
<span id="L3594" title="Line 3594: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3594</span>                 :                :     Numeric     res;</span>
<span id="L3595" title="Line 3595: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3595</span>                 :                : </span>
<span id="L3596" title="Line 3596: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3596</span>                 :                :     /*</span>
<span id="L3597" title="Line 3597: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3597</span>                 :                :      * Handle NaN and infinities: we consider the result to be NaN in all such</span>
<span id="L3598" title="Line 3598: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3598</span>                 :                :      * cases.</span>
<span id="L3599" title="Line 3599: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3599</span>                 :                :      */</span>
<span id="L3600" title="Line 3600: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L3658" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3600</span>   [<span class="tlaCBC"> <a href="#L3621" title="CBC: Branch 0 was taken 93 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3621" title="CBC: Branch 1 was taken 30 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3621" title="CBC: Branch 2 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3621" title="CBC: Branch 3 was taken 75 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            123 :     if (NUMERIC_IS_SPECIAL(num1) || NUMERIC_IS_SPECIAL(num2))</span></span>
<span id="L3601" title="Line 3601: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com"> 2040 <a href="#L3739" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    3601</span>                 :<span class="tlaCBC">             48 :         PG_RETURN_NUMERIC(make_result(&amp;const_nan));</span></span>
<span id="L3602" title="Line 3602: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3602</span>                 :                : </span>
<span id="L3603" title="Line 3603: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3603</span>                 :                :     /*</span>
<span id="L3604" title="Line 3604: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3604</span>                 :                :      * Unpack the arguments</span>
<span id="L3605" title="Line 3605: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3605</span>                 :                :      */</span>
<span id="L3606" title="Line 3606: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3606</span>                 :<span class="tlaCBC">             75 :     init_var_from_num(num1, &amp;arg1);</span></span>
<span id="L3607" title="Line 3607: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3607</span>                 :<span class="tlaCBC">             75 :     init_var_from_num(num2, &amp;arg2);</span></span>
<span id="L3608" title="Line 3608: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3608</span>                 :                : </span>
<span id="L3609" title="Line 3609: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3609</span>                 :<span class="tlaCBC">             75 :     init_var(&amp;result);</span></span>
<span id="L3610" title="Line 3610: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3610</span>                 :                : </span>
<span id="L3611" title="Line 3611: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3611</span>                 :                :     /*</span>
<span id="L3612" title="Line 3612: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3612</span>                 :                :      * Compute the result using lcm(x, y) = abs(x / gcd(x, y) * y), returning</span>
<span id="L3613" title="Line 3613: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3613</span>                 :                :      * zero if either input is zero.</span>
<span id="L3614" title="Line 3614: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3614</span>                 :                :      *</span>
<span id="L3615" title="Line 3615: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3615</span>                 :                :      * Note that the division is guaranteed to be exact, returning an integer</span>
<span id="L3616" title="Line 3616: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3616</span>                 :                :      * result, so the LCM is an integral multiple of both x and y.  A display</span>
<span id="L3617" title="Line 3617: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3617</span>                 :                :      * scale of Min(x.dscale, y.dscale) would be sufficient to represent it,</span>
<span id="L3618" title="Line 3618: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3618</span>                 :                :      * but as with other numeric functions, we choose to return a result whose</span>
<span id="L3619" title="Line 3619: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3619</span>                 :                :      * display scale is no smaller than either input.</span>
<span id="L3620" title="Line 3620: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3620</span>                 :                :      */</span>
<span id="L3621" title="Line 3621: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3621</span>   [<span class="tlaCBC"> <a href="#L3654" title="CBC: Branch 0 was taken 57 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3654" title="CBC: Branch 1 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3654" title="CBC: Branch 2 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3654" title="CBC: Branch 3 was taken 51 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             75 :     if (arg1.ndigits == 0 || arg2.ndigits == 0)</span></span>
<span id="L3622" title="Line 3622: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3622</span>                 :<span class="tlaCBC">             24 :         set_var_from_var(&amp;const_zero, &amp;result);</span></span>
<span id="L3623" title="Line 3623: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3623</span>                 :                :     else</span>
<span id="L3624" title="Line 3624: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3624</span>                 :                :     {</span>
<span id="L3625" title="Line 3625: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3625</span>                 :<span class="tlaCBC">             51 :         gcd_var(&amp;arg1, &amp;arg2, &amp;result);</span></span>
<span id="L3626" title="Line 3626: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L6148" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a>                      <span class="lineNum">    3626</span>                 :<span class="tlaCBC">             51 :         div_var(&amp;arg1, &amp;result, &amp;result, 0, false, true);</span></span>
<span id="L3627" title="Line 3627: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com"> <a href="#L4174" title="next CBC in &ldquo;(360..) days&rdquo; bin">2040</a>                      <span class="lineNum">    3627</span>                 :<span class="tlaCBC">             51 :         mul_var(&amp;arg2, &amp;result, &amp;result, arg2.dscale);</span></span>
<span id="L3628" title="Line 3628: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3628</span>                 :<span class="tlaCBC">             51 :         result.sign = NUMERIC_POS;</span></span>
<span id="L3629" title="Line 3629: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3629</span>                 :                :     }</span>
<span id="L3630" title="Line 3630: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3630</span>                 :                : </span>
<span id="L3631" title="Line 3631: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3631</span>                 :<span class="tlaCBC">             75 :     result.dscale = Max(arg1.dscale, arg2.dscale);</span></span>
<span id="L3632" title="Line 3632: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3632</span>                 :                : </span>
<span id="L3633" title="Line 3633: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3633</span>                 :<span class="tlaCBC">             75 :     res = make_result(&amp;result);</span></span>
<span id="L3634" title="Line 3634: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3634</span>                 :                : </span>
<span id="L3635" title="Line 3635: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3635</span>                 :<span class="tlaCBC">             72 :     free_var(&amp;result);</span></span>
<span id="L3636" title="Line 3636: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3636</span>                 :                : </span>
<span id="L3637" title="Line 3637: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3637</span>                 :<span class="tlaCBC">             72 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L3638" title="Line 3638: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3638</span>                 :                : }</span>
<span id="L3639" title="Line 3639: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3639</span>                 :                : </span>
<span id="L3640" title="Line 3640: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3640</span>                 :                : </span>
<span id="L3641" title="Line 3641: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3641</span>                 :                : /*</span>
<span id="L3642" title="Line 3642: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3642</span>                 :                :  * numeric_fac()</span>
<span id="L3643" title="Line 3643: commit 145d9fa46cac on 2003-12-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3643</span>                 :                :  *</span>
<span id="L3644" title="Line 3644: commit 145d9fa46cac on 2003-12-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3644</span>                 :                :  * Compute factorial</span>
<span id="L3645" title="Line 3645: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3645</span>                 :                :  */</span>
<span id="L3646" title="Line 3646: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3646</span>                 :                : Datum</span>
<span id="L3647" title="Line 3647: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us"> 7939 <a href="#L3660" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    3647</span>                 :<span class="tlaCBC">             21 : numeric_fac(PG_FUNCTION_ARGS)</span></span>
<span id="L3648" title="Line 3648: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3648</span>                 :                : {</span>
<span id="L3649" title="Line 3649: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3649</span>                 :<span class="tlaCBC">             21 :     int64       num = PG_GETARG_INT64(0);</span></span>
<span id="L3650" title="Line 3650: commit 145d9fa46cac on 2003-12-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3650</span>                 :                :     Numeric     res;</span>
<span id="L3651" title="Line 3651: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3651</span>                 :                :     NumericVar  fact;</span>
<span id="L3652" title="Line 3652: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3652</span>                 :                :     NumericVar  result;</span>
<span id="L3653" title="Line 3653: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3653</span>                 :                : </span>
<span id="L3654" title="Line 3654: commit 0a40563eadc6 on 2020-06-18 by peter@eisentraut.org"> 1895 <a href="#L4306" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    3654</span>         [<span class="tlaCBC"> <a href="#L3655" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3655" title="CBC: Branch 1 was taken 18 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             21 :     if (num &lt; 0)</span></span>
<span id="L3655" title="Line 3655: commit 0a40563eadc6 on 2020-06-18 by peter@eisentraut.org">                           <span class="lineNum">    3655</span>         [<span class="tlaCBC"> <a href="#L3658" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3665" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :         ereport(ERROR,</span></span>
<span id="L3656" title="Line 3656: commit 0a40563eadc6 on 2020-06-18 by peter@eisentraut.org">                           <span class="lineNum">    3656</span>                 :                :                 (errcode(ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE),</span>
<span id="L3657" title="Line 3657: commit 0a40563eadc6 on 2020-06-18 by peter@eisentraut.org">                           <span class="lineNum">    3657</span>                 :                :                  errmsg(&quot;factorial of a negative number is undefined&quot;)));</span>
<span id="L3658" title="Line 3658: commit 145d9fa46cac on 2003-12-02 by tgl@sss.pgh.pa.us"> 7938 <a href="#L3664" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3658</span>         [<span class="tlaCBC"> <a href="#L3664" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3664" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :     if (num &lt;= 1)</span></span>
<span id="L3659" title="Line 3659: commit 145d9fa46cac on 2003-12-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3659</span>                 :                :     {</span>
<span id="L3660" title="Line 3660: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us"> 7939 <a href="#L3669" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    3660</span>                 :<span class="tlaCBC">              3 :         res = make_result(&amp;const_one);</span></span>
<span id="L3661" title="Line 3661: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3661</span>                 :<span class="tlaCBC">              3 :         PG_RETURN_NUMERIC(res);</span></span>
<span id="L3662" title="Line 3662: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3662</span>                 :                :     }</span>
<span id="L3663" title="Line 3663: commit e17e40f783da on 2007-06-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3663</span>                 :                :     /* Fail immediately if the result would overflow */</span>
<span id="L3664" title="Line 3664: commit e17e40f783da on 2007-06-09 by tgl@sss.pgh.pa.us"> 6653 <a href="#L3674" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3664</span>         [<span class="tlaCBC"> <a href="#L3665" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3665" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             15 :     if (num &gt; 32177)</span></span>
<span id="L3665" title="Line 3665: commit e17e40f783da on 2007-06-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3665</span>         [<span class="tlaCBC"> <a href="#L3674" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3677" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :         ereport(ERROR,</span></span>
<span id="L3666" title="Line 3666: commit e17e40f783da on 2007-06-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3666</span>                 :                :                 (errcode(ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE),</span>
<span id="L3667" title="Line 3667: commit e17e40f783da on 2007-06-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3667</span>                 :                :                  errmsg(&quot;value overflows numeric format&quot;)));</span>
<span id="L3668" title="Line 3668: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3668</span>                 :                : </span>
<span id="L3669" title="Line 3669: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us"> 7939 <a href="#L3686" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    3669</span>                 :<span class="tlaCBC">             12 :     init_var(&amp;fact);</span></span>
<span id="L3670" title="Line 3670: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3670</span>                 :<span class="tlaCBC">             12 :     init_var(&amp;result);</span></span>
<span id="L3671" title="Line 3671: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3671</span>                 :                : </span>
<span id="L3672" title="Line 3672: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> 3812 <a href="#L3679" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    3672</span>                 :<span class="tlaCBC">             12 :     int64_to_numericvar(num, &amp;result);</span></span>
<span id="L3673" title="Line 3673: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3673</span>                 :                : </span>
<span id="L3674" title="Line 3674: commit 145d9fa46cac on 2003-12-02 by tgl@sss.pgh.pa.us"> 7938 <a href="#L3681" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3674</span>         [<span class="tlaCBC"> <a href="#L3677" title="CBC: Branch 0 was taken 135 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3677" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            147 :     for (num = num - 1; num &gt; 1; num--)</span></span>
<span id="L3675" title="Line 3675: commit 145d9fa46cac on 2003-12-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3675</span>                 :                :     {</span>
<span id="L3676" title="Line 3676: commit e17e40f783da on 2007-06-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3676</span>                 :                :         /* this loop can take awhile, so allow it to be interrupted */</span>
<span id="L3677" title="Line 3677: commit e17e40f783da on 2007-06-09 by tgl@sss.pgh.pa.us"> 6653                      <span class="lineNum">    3677</span>         [<span class="tlaUBC"> <a href="#L3715" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L3711" title="CBC: Branch 1 was taken 135 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            135 :         CHECK_FOR_INTERRUPTS();</span></span>
<span id="L3678" title="Line 3678: commit e17e40f783da on 2007-06-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3678</span>                 :                : </span>
<span id="L3679" title="Line 3679: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> 3812 <a href="#L4475" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    3679</span>                 :<span class="tlaCBC">            135 :         int64_to_numericvar(num, &amp;fact);</span></span>
<span id="L3680" title="Line 3680: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3680</span>                 :                : </span>
<span id="L3681" title="Line 3681: commit 145d9fa46cac on 2003-12-02 by tgl@sss.pgh.pa.us"> 7938 <a href="#L3699" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3681</span>                 :<span class="tlaCBC">            135 :         mul_var(&amp;result, &amp;fact, &amp;result, 0);</span></span>
<span id="L3682" title="Line 3682: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3682</span>                 :                :     }</span>
<span id="L3683" title="Line 3683: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3683</span>                 :                : </span>
<span id="L3684" title="Line 3684: commit 145d9fa46cac on 2003-12-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3684</span>                 :<span class="tlaCBC">             12 :     res = make_result(&amp;result);</span></span>
<span id="L3685" title="Line 3685: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3685</span>                 :                : </span>
<span id="L3686" title="Line 3686: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us"> 7939 <a href="#L5123" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    3686</span>                 :<span class="tlaCBC">             12 :     free_var(&amp;fact);</span></span>
<span id="L3687" title="Line 3687: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3687</span>                 :<span class="tlaCBC">             12 :     free_var(&amp;result);</span></span>
<span id="L3688" title="Line 3688: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3688</span>                 :                : </span>
<span id="L3689" title="Line 3689: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3689</span>                 :<span class="tlaCBC">             12 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L3690" title="Line 3690: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3690</span>                 :                : }</span>
<span id="L3691" title="Line 3691: commit 04a4821adef3 on 2003-12-01 by bruce@momjian.us">                           <span class="lineNum">    3691</span>                 :                : </span>
<span id="L3692" title="Line 3692: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3692</span>                 :                : </span>
<span id="L3693" title="Line 3693: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3693</span>                 :                : /*</span>
<span id="L3694" title="Line 3694: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3694</span>                 :                :  * numeric_sqrt() -</span>
<span id="L3695" title="Line 3695: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3695</span>                 :                :  *</span>
<span id="L3696" title="Line 3696: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3696</span>                 :                :  *  Compute the square root of a numeric.</span>
<span id="L3697" title="Line 3697: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3697</span>                 :                :  */</span>
<span id="L3698" title="Line 3698: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3698</span>                 :                : Datum</span>
<span id="L3699" title="Line 3699: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L3747" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3699</span>                 :<span class="tlaCBC">             75 : numeric_sqrt(PG_FUNCTION_ARGS)</span></span>
<span id="L3700" title="Line 3700: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3700</span>                 :                : {</span>
<span id="L3701" title="Line 3701: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3701</span>                 :<span class="tlaCBC">             75 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L3702" title="Line 3702: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    3702</span>                 :                :     Numeric     res;</span>
<span id="L3703" title="Line 3703: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    3703</span>                 :                :     NumericVar  arg;</span>
<span id="L3704" title="Line 3704: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    3704</span>                 :                :     NumericVar  result;</span>
<span id="L3705" title="Line 3705: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3705</span>                 :                :     int         sweight;</span>
<span id="L3706" title="Line 3706: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3706</span>                 :                :     int         rscale;</span>
<span id="L3707" title="Line 3707: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3707</span>                 :                : </span>
<span id="L3708" title="Line 3708: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3708</span>                 :                :     /*</span>
<span id="L3709" title="Line 3709: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3709</span>                 :                :      * Handle NaN and infinities</span>
<span id="L3710" title="Line 3710: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3710</span>                 :                :      */</span>
<span id="L3711" title="Line 3711: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    3711</span>         [<span class="tlaCBC"> <a href="#L3714" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3714" title="CBC: Branch 1 was taken 66 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             75 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L3712" title="Line 3712: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3712</span>                 :                :     {</span>
<span id="L3713" title="Line 3713: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3713</span>                 :                :         /* error should match that in sqrt_var() */</span>
<span id="L3714" title="Line 3714: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3714</span>         [<span class="tlaCBC"> <a href="#L3715" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3715" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :         if (NUMERIC_IS_NINF(num))</span></span>
<span id="L3715" title="Line 3715: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3715</span>         [<span class="tlaCBC"> <a href="#L3783" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3812" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :             ereport(ERROR,</span></span>
<span id="L3716" title="Line 3716: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3716</span>                 :                :                     (errcode(ERRCODE_INVALID_ARGUMENT_FOR_POWER_FUNCTION),</span>
<span id="L3717" title="Line 3717: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3717</span>                 :                :                      errmsg(&quot;cannot take square root of a negative number&quot;)));</span>
<span id="L3718" title="Line 3718: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3718</span>                 :                :         /* For NAN or PINF, just duplicate the input */</span>
<span id="L3719" title="Line 3719: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3719</span>                 :<span class="tlaCBC">              6 :         PG_RETURN_NUMERIC(duplicate_numeric(num));</span></span>
<span id="L3720" title="Line 3720: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3720</span>                 :                :     }</span>
<span id="L3721" title="Line 3721: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3721</span>                 :                : </span>
<span id="L3722" title="Line 3722: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3722</span>                 :                :     /*</span>
<span id="L3723" title="Line 3723: commit 0a7832005792 on 2014-05-06 by bruce@momjian.us">                           <span class="lineNum">    3723</span>                 :                :      * Unpack the argument and determine the result scale.  We choose a scale</span>
<span id="L3724" title="Line 3724: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    3724</span>                 :                :      * to give at least NUMERIC_MIN_SIG_DIGITS significant digits; but in any</span>
<span id="L3725" title="Line 3725: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    3725</span>                 :                :      * case not less than the input's dscale.</span>
<span id="L3726" title="Line 3726: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3726</span>                 :                :      */</span>
<span id="L3727" title="Line 3727: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L3797" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    3727</span>                 :<span class="tlaCBC">             66 :     init_var_from_num(num, &amp;arg);</span></span>
<span id="L3728" title="Line 3728: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3728</span>                 :                : </span>
<span id="L3729" title="Line 3729: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    3729</span>                 :<span class="tlaCBC">             66 :     init_var(&amp;result);</span></span>
<span id="L3730" title="Line 3730: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3730</span>                 :                : </span>
<span id="L3731" title="Line 3731: commit 0736fc1ceb06 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3731</span>                 :                :     /*</span>
<span id="L3732" title="Line 3732: commit 0736fc1ceb06 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3732</span>                 :                :      * Assume the input was normalized, so arg.weight is accurate.  The result</span>
<span id="L3733" title="Line 3733: commit 0736fc1ceb06 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3733</span>                 :                :      * then has at least sweight = floor(arg.weight * DEC_DIGITS / 2 + 1)</span>
<span id="L3734" title="Line 3734: commit 0736fc1ceb06 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3734</span>                 :                :      * digits before the decimal point.  When DEC_DIGITS is even, we can save</span>
<span id="L3735" title="Line 3735: commit 0736fc1ceb06 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3735</span>                 :                :      * a few cycles, since the division is exact and there is no need to round</span>
<span id="L3736" title="Line 3736: commit 0736fc1ceb06 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3736</span>                 :                :      * towards negative infinity.</span>
<span id="L3737" title="Line 3737: commit 0736fc1ceb06 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3737</span>                 :                :      */</span>
<span id="L3738" title="Line 3738: commit 0736fc1ceb06 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3738</span>                 :                : #if DEC_DIGITS == ((DEC_DIGITS / 2) * 2)</span>
<span id="L3739" title="Line 3739: commit 0736fc1ceb06 on 2023-02-02 by dean.a.rasheed@gmail.com">  936 <a href="#L4251" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    3739</span>                 :<span class="tlaCBC">             66 :     sweight = arg.weight * DEC_DIGITS / 2 + 1;</span></span>
<span id="L3740" title="Line 3740: commit 0736fc1ceb06 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3740</span>                 :                : #else</span>
<span id="L3741" title="Line 3741: commit 0736fc1ceb06 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3741</span>                 :                :     if (arg.weight &gt;= 0)</span>
<span id="L3742" title="Line 3742: commit 0736fc1ceb06 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3742</span>                 :                :         sweight = arg.weight * DEC_DIGITS / 2 + 1;</span>
<span id="L3743" title="Line 3743: commit 0736fc1ceb06 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3743</span>                 :                :     else</span>
<span id="L3744" title="Line 3744: commit 0736fc1ceb06 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3744</span>                 :                :         sweight = 1 - (1 - arg.weight * DEC_DIGITS) / 2;</span>
<span id="L3745" title="Line 3745: commit 0736fc1ceb06 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    3745</span>                 :                : #endif</span>
<span id="L3746" title="Line 3746: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3746</span>                 :                : </span>
<span id="L3747" title="Line 3747: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L3761" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3747</span>                 :<span class="tlaCBC">             66 :     rscale = NUMERIC_MIN_SIG_DIGITS - sweight;</span></span>
<span id="L3748" title="Line 3748: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3748</span>                 :<span class="tlaCBC">             66 :     rscale = Max(rscale, arg.dscale);</span></span>
<span id="L3749" title="Line 3749: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3749</span>                 :<span class="tlaCBC">             66 :     rscale = Max(rscale, NUMERIC_MIN_DISPLAY_SCALE);</span></span>
<span id="L3750" title="Line 3750: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3750</span>                 :<span class="tlaCBC">             66 :     rscale = Min(rscale, NUMERIC_MAX_DISPLAY_SCALE);</span></span>
<span id="L3751" title="Line 3751: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3751</span>                 :                : </span>
<span id="L3752" title="Line 3752: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3752</span>                 :                :     /*</span>
<span id="L3753" title="Line 3753: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3753</span>                 :                :      * Let sqrt_var() do the calculation and return the result.</span>
<span id="L3754" title="Line 3754: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3754</span>                 :                :      */</span>
<span id="L3755" title="Line 3755: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3755</span>                 :<span class="tlaCBC">             66 :     sqrt_var(&amp;arg, &amp;result, rscale);</span></span>
<span id="L3756" title="Line 3756: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3756</span>                 :                : </span>
<span id="L3757" title="Line 3757: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L3824" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    3757</span>                 :<span class="tlaCBC">             63 :     res = make_result(&amp;result);</span></span>
<span id="L3758" title="Line 3758: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3758</span>                 :                : </span>
<span id="L3759" title="Line 3759: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3759</span>                 :<span class="tlaCBC">             63 :     free_var(&amp;result);</span></span>
<span id="L3760" title="Line 3760: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3760</span>                 :                : </span>
<span id="L3761" title="Line 3761: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L3802" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3761</span>                 :<span class="tlaCBC">             63 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L3762" title="Line 3762: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3762</span>                 :                : }</span>
<span id="L3763" title="Line 3763: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3763</span>                 :                : </span>
<span id="L3764" title="Line 3764: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3764</span>                 :                : </span>
<span id="L3765" title="Line 3765: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3765</span>                 :                : /*</span>
<span id="L3766" title="Line 3766: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3766</span>                 :                :  * numeric_exp() -</span>
<span id="L3767" title="Line 3767: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3767</span>                 :                :  *</span>
<span id="L3768" title="Line 3768: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3768</span>                 :                :  *  Raise e to the power of x</span>
<span id="L3769" title="Line 3769: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3769</span>                 :                :  */</span>
<span id="L3770" title="Line 3770: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3770</span>                 :                : Datum</span>
<span id="L3771" title="Line 3771: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3771</span>                 :<span class="tlaCBC">             39 : numeric_exp(PG_FUNCTION_ARGS)</span></span>
<span id="L3772" title="Line 3772: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3772</span>                 :                : {</span>
<span id="L3773" title="Line 3773: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3773</span>                 :<span class="tlaCBC">             39 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L3774" title="Line 3774: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    3774</span>                 :                :     Numeric     res;</span>
<span id="L3775" title="Line 3775: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    3775</span>                 :                :     NumericVar  arg;</span>
<span id="L3776" title="Line 3776: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    3776</span>                 :                :     NumericVar  result;</span>
<span id="L3777" title="Line 3777: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3777</span>                 :                :     int         rscale;</span>
<span id="L3778" title="Line 3778: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3778</span>                 :                :     double      val;</span>
<span id="L3779" title="Line 3779: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3779</span>                 :                : </span>
<span id="L3780" title="Line 3780: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3780</span>                 :                :     /*</span>
<span id="L3781" title="Line 3781: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3781</span>                 :                :      * Handle NaN and infinities</span>
<span id="L3782" title="Line 3782: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3782</span>                 :                :      */</span>
<span id="L3783" title="Line 3783: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    3783</span>         [<span class="tlaCBC"> <a href="#L3786" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3786" title="CBC: Branch 1 was taken 30 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             39 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L3784" title="Line 3784: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3784</span>                 :                :     {</span>
<span id="L3785" title="Line 3785: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3785</span>                 :                :         /* Per POSIX, exp(-Inf) is zero */</span>
<span id="L3786" title="Line 3786: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3786</span>         [<span class="tlaCBC"> <a href="#L3811" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3811" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :         if (NUMERIC_IS_NINF(num))</span></span>
<span id="L3787" title="Line 3787: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3787</span>                 :<span class="tlaCBC">              3 :             PG_RETURN_NUMERIC(make_result(&amp;const_zero));</span></span>
<span id="L3788" title="Line 3788: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3788</span>                 :                :         /* For NAN or PINF, just duplicate the input */</span>
<span id="L3789" title="Line 3789: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3789</span>                 :<span class="tlaCBC">              6 :         PG_RETURN_NUMERIC(duplicate_numeric(num));</span></span>
<span id="L3790" title="Line 3790: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3790</span>                 :                :     }</span>
<span id="L3791" title="Line 3791: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3791</span>                 :                : </span>
<span id="L3792" title="Line 3792: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3792</span>                 :                :     /*</span>
<span id="L3793" title="Line 3793: commit 0a7832005792 on 2014-05-06 by bruce@momjian.us">                           <span class="lineNum">    3793</span>                 :                :      * Unpack the argument and determine the result scale.  We choose a scale</span>
<span id="L3794" title="Line 3794: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    3794</span>                 :                :      * to give at least NUMERIC_MIN_SIG_DIGITS significant digits; but in any</span>
<span id="L3795" title="Line 3795: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    3795</span>                 :                :      * case not less than the input's dscale.</span>
<span id="L3796" title="Line 3796: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3796</span>                 :                :      */</span>
<span id="L3797" title="Line 3797: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L3860" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    3797</span>                 :<span class="tlaCBC">             30 :     init_var_from_num(num, &amp;arg);</span></span>
<span id="L3798" title="Line 3798: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3798</span>                 :                : </span>
<span id="L3799" title="Line 3799: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    3799</span>                 :<span class="tlaCBC">             30 :     init_var(&amp;result);</span></span>
<span id="L3800" title="Line 3800: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3800</span>                 :                : </span>
<span id="L3801" title="Line 3801: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3801</span>                 :                :     /* convert input to float8, ignoring overflow */</span>
<span id="L3802" title="Line 3802: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L3828" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3802</span>                 :<span class="tlaCBC">             30 :     val = numericvar_to_double_no_overflow(&amp;arg);</span></span>
<span id="L3803" title="Line 3803: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3803</span>                 :                : </span>
<span id="L3804" title="Line 3804: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3804</span>                 :                :     /*</span>
<span id="L3805" title="Line 3805: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    3805</span>                 :                :      * log10(result) = num * log10(e), so this is approximately the decimal</span>
<span id="L3806" title="Line 3806: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    3806</span>                 :                :      * weight of the result:</span>
<span id="L3807" title="Line 3807: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3807</span>                 :                :      */</span>
<span id="L3808" title="Line 3808: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us"> 8364                      <span class="lineNum">    3808</span>                 :<span class="tlaCBC">             30 :     val *= 0.434294481903252;</span></span>
<span id="L3809" title="Line 3809: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3809</span>                 :                : </span>
<span id="L3810" title="Line 3810: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3810</span>                 :                :     /* limit to something that won't cause integer overflow */</span>
<span id="L3811" title="Line 3811: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3811</span>         [<span class="tlaCBC"> <a href="#L3812" title="CBC: Branch 0 was taken 24 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3812" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             30 :     val = Max(val, -NUMERIC_MAX_RESULT_SCALE);</span></span>
<span id="L3812" title="Line 3812: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3812</span>         [<span class="tlaCBC"> <a href="#L3850" title="CBC: Branch 0 was taken 30 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3853" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             30 :     val = Min(val, NUMERIC_MAX_RESULT_SCALE);</span></span>
<span id="L3813" title="Line 3813: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3813</span>                 :                : </span>
<span id="L3814" title="Line 3814: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">    3814</span>                 :<span class="tlaCBC">             30 :     rscale = NUMERIC_MIN_SIG_DIGITS - (int) val;</span></span>
<span id="L3815" title="Line 3815: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3815</span>                 :<span class="tlaCBC">             30 :     rscale = Max(rscale, arg.dscale);</span></span>
<span id="L3816" title="Line 3816: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3816</span>                 :<span class="tlaCBC">             30 :     rscale = Max(rscale, NUMERIC_MIN_DISPLAY_SCALE);</span></span>
<span id="L3817" title="Line 3817: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3817</span>                 :<span class="tlaCBC">             30 :     rscale = Min(rscale, NUMERIC_MAX_DISPLAY_SCALE);</span></span>
<span id="L3818" title="Line 3818: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3818</span>                 :                : </span>
<span id="L3819" title="Line 3819: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3819</span>                 :                :     /*</span>
<span id="L3820" title="Line 3820: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3820</span>                 :                :      * Let exp_var() do the calculation and return the result.</span>
<span id="L3821" title="Line 3821: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3821</span>                 :                :      */</span>
<span id="L3822" title="Line 3822: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3822</span>                 :<span class="tlaCBC">             30 :     exp_var(&amp;arg, &amp;result, rscale);</span></span>
<span id="L3823" title="Line 3823: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3823</span>                 :                : </span>
<span id="L3824" title="Line 3824: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L3861" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    3824</span>                 :<span class="tlaCBC">             30 :     res = make_result(&amp;result);</span></span>
<span id="L3825" title="Line 3825: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3825</span>                 :                : </span>
<span id="L3826" title="Line 3826: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3826</span>                 :<span class="tlaCBC">             30 :     free_var(&amp;result);</span></span>
<span id="L3827" title="Line 3827: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3827</span>                 :                : </span>
<span id="L3828" title="Line 3828: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L3864" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3828</span>                 :<span class="tlaCBC">             30 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L3829" title="Line 3829: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3829</span>                 :                : }</span>
<span id="L3830" title="Line 3830: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3830</span>                 :                : </span>
<span id="L3831" title="Line 3831: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3831</span>                 :                : </span>
<span id="L3832" title="Line 3832: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3832</span>                 :                : /*</span>
<span id="L3833" title="Line 3833: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3833</span>                 :                :  * numeric_ln() -</span>
<span id="L3834" title="Line 3834: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3834</span>                 :                :  *</span>
<span id="L3835" title="Line 3835: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3835</span>                 :                :  *  Compute the natural logarithm of x</span>
<span id="L3836" title="Line 3836: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3836</span>                 :                :  */</span>
<span id="L3837" title="Line 3837: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3837</span>                 :                : Datum</span>
<span id="L3838" title="Line 3838: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3838</span>                 :<span class="tlaCBC">             99 : numeric_ln(PG_FUNCTION_ARGS)</span></span>
<span id="L3839" title="Line 3839: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3839</span>                 :                : {</span>
<span id="L3840" title="Line 3840: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3840</span>                 :<span class="tlaCBC">             99 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L3841" title="Line 3841: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    3841</span>                 :                :     Numeric     res;</span>
<span id="L3842" title="Line 3842: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    3842</span>                 :                :     NumericVar  arg;</span>
<span id="L3843" title="Line 3843: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    3843</span>                 :                :     NumericVar  result;</span>
<span id="L3844" title="Line 3844: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3844</span>                 :                :     int         ln_dweight;</span>
<span id="L3845" title="Line 3845: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3845</span>                 :                :     int         rscale;</span>
<span id="L3846" title="Line 3846: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3846</span>                 :                : </span>
<span id="L3847" title="Line 3847: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3847</span>                 :                :     /*</span>
<span id="L3848" title="Line 3848: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3848</span>                 :                :      * Handle NaN and infinities</span>
<span id="L3849" title="Line 3849: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3849</span>                 :                :      */</span>
<span id="L3850" title="Line 3850: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    3850</span>         [<span class="tlaCBC"> <a href="#L3852" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3852" title="CBC: Branch 1 was taken 90 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             99 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L3851" title="Line 3851: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3851</span>                 :                :     {</span>
<span id="L3852" title="Line 3852: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3852</span>         [<span class="tlaCBC"> <a href="#L3853" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3853" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :         if (NUMERIC_IS_NINF(num))</span></span>
<span id="L3853" title="Line 3853: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3853</span>         [<span class="tlaCBC"> <a href="#L3899" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3910" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :             ereport(ERROR,</span></span>
<span id="L3854" title="Line 3854: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3854</span>                 :                :                     (errcode(ERRCODE_INVALID_ARGUMENT_FOR_LOG),</span>
<span id="L3855" title="Line 3855: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3855</span>                 :                :                      errmsg(&quot;cannot take logarithm of a negative number&quot;)));</span>
<span id="L3856" title="Line 3856: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3856</span>                 :                :         /* For NAN or PINF, just duplicate the input */</span>
<span id="L3857" title="Line 3857: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3857</span>                 :<span class="tlaCBC">              6 :         PG_RETURN_NUMERIC(duplicate_numeric(num));</span></span>
<span id="L3858" title="Line 3858: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3858</span>                 :                :     }</span>
<span id="L3859" title="Line 3859: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3859</span>                 :                : </span>
<span id="L3860" title="Line 3860: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L3934" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    3860</span>                 :<span class="tlaCBC">             90 :     init_var_from_num(num, &amp;arg);</span></span>
<span id="L3861" title="Line 3861: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L3873" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    3861</span>                 :<span class="tlaCBC">             90 :     init_var(&amp;result);</span></span>
<span id="L3862" title="Line 3862: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3862</span>                 :                : </span>
<span id="L3863" title="Line 3863: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3863</span>                 :                :     /* Estimated dweight of logarithm */</span>
<span id="L3864" title="Line 3864: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L3877" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3864</span>                 :<span class="tlaCBC">             90 :     ln_dweight = estimate_ln_dweight(&amp;arg);</span></span>
<span id="L3865" title="Line 3865: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3865</span>                 :                : </span>
<span id="L3866" title="Line 3866: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3866</span>                 :<span class="tlaCBC">             90 :     rscale = NUMERIC_MIN_SIG_DIGITS - ln_dweight;</span></span>
<span id="L3867" title="Line 3867: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">    3867</span>                 :<span class="tlaCBC">             90 :     rscale = Max(rscale, arg.dscale);</span></span>
<span id="L3868" title="Line 3868: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3868</span>                 :<span class="tlaCBC">             90 :     rscale = Max(rscale, NUMERIC_MIN_DISPLAY_SCALE);</span></span>
<span id="L3869" title="Line 3869: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3869</span>                 :<span class="tlaCBC">             90 :     rscale = Min(rscale, NUMERIC_MAX_DISPLAY_SCALE);</span></span>
<span id="L3870" title="Line 3870: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3870</span>                 :                : </span>
<span id="L3871" title="Line 3871: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3871</span>                 :<span class="tlaCBC">             90 :     ln_var(&amp;arg, &amp;result, rscale);</span></span>
<span id="L3872" title="Line 3872: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3872</span>                 :                : </span>
<span id="L3873" title="Line 3873: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L3936" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    3873</span>                 :<span class="tlaCBC">             78 :     res = make_result(&amp;result);</span></span>
<span id="L3874" title="Line 3874: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3874</span>                 :                : </span>
<span id="L3875" title="Line 3875: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3875</span>                 :<span class="tlaCBC">             78 :     free_var(&amp;result);</span></span>
<span id="L3876" title="Line 3876: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3876</span>                 :                : </span>
<span id="L3877" title="Line 3877: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L3948" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3877</span>                 :<span class="tlaCBC">             78 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L3878" title="Line 3878: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3878</span>                 :                : }</span>
<span id="L3879" title="Line 3879: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3879</span>                 :                : </span>
<span id="L3880" title="Line 3880: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3880</span>                 :                : </span>
<span id="L3881" title="Line 3881: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3881</span>                 :                : /*</span>
<span id="L3882" title="Line 3882: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3882</span>                 :                :  * numeric_log() -</span>
<span id="L3883" title="Line 3883: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3883</span>                 :                :  *</span>
<span id="L3884" title="Line 3884: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3884</span>                 :                :  *  Compute the logarithm of x in a given base</span>
<span id="L3885" title="Line 3885: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3885</span>                 :                :  */</span>
<span id="L3886" title="Line 3886: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3886</span>                 :                : Datum</span>
<span id="L3887" title="Line 3887: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3887</span>                 :<span class="tlaCBC">            171 : numeric_log(PG_FUNCTION_ARGS)</span></span>
<span id="L3888" title="Line 3888: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3888</span>                 :                : {</span>
<span id="L3889" title="Line 3889: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3889</span>                 :<span class="tlaCBC">            171 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L3890" title="Line 3890: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3890</span>                 :<span class="tlaCBC">            171 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L3891" title="Line 3891: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    3891</span>                 :                :     Numeric     res;</span>
<span id="L3892" title="Line 3892: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    3892</span>                 :                :     NumericVar  arg1;</span>
<span id="L3893" title="Line 3893: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    3893</span>                 :                :     NumericVar  arg2;</span>
<span id="L3894" title="Line 3894: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    3894</span>                 :                :     NumericVar  result;</span>
<span id="L3895" title="Line 3895: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3895</span>                 :                : </span>
<span id="L3896" title="Line 3896: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3896</span>                 :                :     /*</span>
<span id="L3897" title="Line 3897: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3897</span>                 :                :      * Handle NaN and infinities</span>
<span id="L3898" title="Line 3898: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3898</span>                 :                :      */</span>
<span id="L3899" title="Line 3899: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    3899</span>   [<span class="tlaCBC"> <a href="#L3904" title="CBC: Branch 0 was taken 135 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3904" title="CBC: Branch 1 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3904" title="CBC: Branch 2 was taken 27 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3904" title="CBC: Branch 3 was taken 108 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            171 :     if (NUMERIC_IS_SPECIAL(num1) || NUMERIC_IS_SPECIAL(num2))</span></span>
<span id="L3900" title="Line 3900: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3900</span>                 :                :     {</span>
<span id="L3901" title="Line 3901: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3901</span>                 :                :         int         sign1,</span>
<span id="L3902" title="Line 3902: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3902</span>                 :                :                     sign2;</span>
<span id="L3903" title="Line 3903: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3903</span>                 :                : </span>
<span id="L3904" title="Line 3904: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3904</span>   [<span class="tlaCBC"> <a href="#L3909" title="CBC: Branch 0 was taken 51 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3909" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3909" title="CBC: Branch 2 was taken 15 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3909" title="CBC: Branch 3 was taken 36 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             63 :         if (NUMERIC_IS_NAN(num1) || NUMERIC_IS_NAN(num2))</span></span>
<span id="L3905" title="Line 3905: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3905</span>                 :<span class="tlaCBC">             27 :             PG_RETURN_NUMERIC(make_result(&amp;const_nan));</span></span>
<span id="L3906" title="Line 3906: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3906</span>                 :                :         /* fail on negative inputs including -Inf, as log_var would */</span>
<span id="L3907" title="Line 3907: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3907</span>                 :<span class="tlaCBC">             36 :         sign1 = numeric_sign_internal(num1);</span></span>
<span id="L3908" title="Line 3908: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3908</span>                 :<span class="tlaCBC">             36 :         sign2 = numeric_sign_internal(num2);</span></span>
<span id="L3909" title="Line 3909: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3909</span>   [<span class="tlaCBC"> <a href="#L3910" title="CBC: Branch 0 was taken 30 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3910" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3910" title="CBC: Branch 2 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3910" title="CBC: Branch 3 was taken 24 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             36 :         if (sign1 &lt; 0 || sign2 &lt; 0)</span></span>
<span id="L3910" title="Line 3910: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3910</span>         [<span class="tlaCBC"> <a href="#L3914" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3914" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             12 :             ereport(ERROR,</span></span>
<span id="L3911" title="Line 3911: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3911</span>                 :                :                     (errcode(ERRCODE_INVALID_ARGUMENT_FOR_LOG),</span>
<span id="L3912" title="Line 3912: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3912</span>                 :                :                      errmsg(&quot;cannot take logarithm of a negative number&quot;)));</span>
<span id="L3913" title="Line 3913: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3913</span>                 :                :         /* fail on zero inputs, as log_var would */</span>
<span id="L3914" title="Line 3914: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3914</span>   [<span class="tlaCBC"> <a href="#L3915" title="CBC: Branch 0 was taken 24 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3915" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L3915" title="CBC: Branch 2 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3915" title="CBC: Branch 3 was taken 21 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             24 :         if (sign1 == 0 || sign2 == 0)</span></span>
<span id="L3915" title="Line 3915: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3915</span>         [<span class="tlaCBC"> <a href="#L3918" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L3926" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :             ereport(ERROR,</span></span>
<span id="L3916" title="Line 3916: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3916</span>                 :                :                     (errcode(ERRCODE_INVALID_ARGUMENT_FOR_LOG),</span>
<span id="L3917" title="Line 3917: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3917</span>                 :                :                      errmsg(&quot;cannot take logarithm of zero&quot;)));</span>
<span id="L3918" title="Line 3918: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3918</span>         [<span class="tlaCBC"> <a href="#L3921" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3921" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             21 :         if (NUMERIC_IS_PINF(num1))</span></span>
<span id="L3919" title="Line 3919: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3919</span>                 :                :         {</span>
<span id="L3920" title="Line 3920: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3920</span>                 :                :             /* log(Inf, Inf) reduces to Inf/Inf, so it's NaN */</span>
<span id="L3921" title="Line 3921: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3921</span>         [<span class="tlaCBC"> <a href="#L3926" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3926" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :             if (NUMERIC_IS_PINF(num2))</span></span>
<span id="L3922" title="Line 3922: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3922</span>                 :<span class="tlaCBC">              3 :                 PG_RETURN_NUMERIC(make_result(&amp;const_nan));</span></span>
<span id="L3923" title="Line 3923: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3923</span>                 :                :             /* log(Inf, finite-positive) is zero (we don't throw underflow) */</span>
<span id="L3924" title="Line 3924: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3924</span>                 :<span class="tlaCBC">              6 :             PG_RETURN_NUMERIC(make_result(&amp;const_zero));</span></span>
<span id="L3925" title="Line 3925: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3925</span>                 :                :         }</span>
<span id="L3926" title="Line 3926: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3926</span>         [<span class="tlaUBC"> <a href="#L4003" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L3972" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             12 :         Assert(NUMERIC_IS_PINF(num2));</span></span>
<span id="L3927" title="Line 3927: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3927</span>                 :                :         /* log(finite-positive, Inf) is Inf */</span>
<span id="L3928" title="Line 3928: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3928</span>                 :<span class="tlaCBC">             12 :         PG_RETURN_NUMERIC(make_result(&amp;const_pinf));</span></span>
<span id="L3929" title="Line 3929: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3929</span>                 :                :     }</span>
<span id="L3930" title="Line 3930: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3930</span>                 :                : </span>
<span id="L3931" title="Line 3931: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3931</span>                 :                :     /*</span>
<span id="L3932" title="Line 3932: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3932</span>                 :                :      * Initialize things</span>
<span id="L3933" title="Line 3933: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3933</span>                 :                :      */</span>
<span id="L3934" title="Line 3934: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L4437" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    3934</span>                 :<span class="tlaCBC">            108 :     init_var_from_num(num1, &amp;arg1);</span></span>
<span id="L3935" title="Line 3935: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    3935</span>                 :<span class="tlaCBC">            108 :     init_var_from_num(num2, &amp;arg2);</span></span>
<span id="L3936" title="Line 3936: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L4130" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    3936</span>                 :<span class="tlaCBC">            108 :     init_var(&amp;result);</span></span>
<span id="L3937" title="Line 3937: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3937</span>                 :                : </span>
<span id="L3938" title="Line 3938: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3938</span>                 :                :     /*</span>
<span id="L3939" title="Line 3939: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    3939</span>                 :                :      * Call log_var() to compute and return the result; note it handles scale</span>
<span id="L3940" title="Line 3940: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    3940</span>                 :                :      * selection itself.</span>
<span id="L3941" title="Line 3941: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3941</span>                 :                :      */</span>
<span id="L3942" title="Line 3942: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3942</span>                 :<span class="tlaCBC">            108 :     log_var(&amp;arg1, &amp;arg2, &amp;result);</span></span>
<span id="L3943" title="Line 3943: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3943</span>                 :                : </span>
<span id="L3944" title="Line 3944: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3944</span>                 :<span class="tlaCBC">             78 :     res = make_result(&amp;result);</span></span>
<span id="L3945" title="Line 3945: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3945</span>                 :                : </span>
<span id="L3946" title="Line 3946: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3946</span>                 :<span class="tlaCBC">             78 :     free_var(&amp;result);</span></span>
<span id="L3947" title="Line 3947: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3947</span>                 :                : </span>
<span id="L3948" title="Line 3948: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L4122" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    3948</span>                 :<span class="tlaCBC">             78 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L3949" title="Line 3949: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3949</span>                 :                : }</span>
<span id="L3950" title="Line 3950: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3950</span>                 :                : </span>
<span id="L3951" title="Line 3951: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3951</span>                 :                : </span>
<span id="L3952" title="Line 3952: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3952</span>                 :                : /*</span>
<span id="L3953" title="Line 3953: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3953</span>                 :                :  * numeric_power() -</span>
<span id="L3954" title="Line 3954: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3954</span>                 :                :  *</span>
<span id="L3955" title="Line 3955: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3955</span>                 :                :  *  Raise x to the power of y</span>
<span id="L3956" title="Line 3956: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3956</span>                 :                :  */</span>
<span id="L3957" title="Line 3957: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3957</span>                 :                : Datum</span>
<span id="L3958" title="Line 3958: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3958</span>                 :<span class="tlaCBC">            822 : numeric_power(PG_FUNCTION_ARGS)</span></span>
<span id="L3959" title="Line 3959: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3959</span>                 :                : {</span>
<span id="L3960" title="Line 3960: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3960</span>                 :<span class="tlaCBC">            822 :     Numeric     num1 = PG_GETARG_NUMERIC(0);</span></span>
<span id="L3961" title="Line 3961: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3961</span>                 :<span class="tlaCBC">            822 :     Numeric     num2 = PG_GETARG_NUMERIC(1);</span></span>
<span id="L3962" title="Line 3962: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    3962</span>                 :                :     Numeric     res;</span>
<span id="L3963" title="Line 3963: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    3963</span>                 :                :     NumericVar  arg1;</span>
<span id="L3964" title="Line 3964: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    3964</span>                 :                :     NumericVar  arg2;</span>
<span id="L3965" title="Line 3965: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    3965</span>                 :                :     NumericVar  result;</span>
<span id="L3966" title="Line 3966: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3966</span>                 :                :     int         sign1,</span>
<span id="L3967" title="Line 3967: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3967</span>                 :                :                 sign2;</span>
<span id="L3968" title="Line 3968: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3968</span>                 :                : </span>
<span id="L3969" title="Line 3969: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    3969</span>                 :                :     /*</span>
<span id="L3970" title="Line 3970: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3970</span>                 :                :      * Handle NaN and infinities</span>
<span id="L3971" title="Line 3971: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    3971</span>                 :                :      */</span>
<span id="L3972" title="Line 3972: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    3972</span>   [<span class="tlaCBC"> <a href="#L3979" title="CBC: Branch 0 was taken 747 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3979" title="CBC: Branch 1 was taken 75 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3979" title="CBC: Branch 2 was taken 42 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3979" title="CBC: Branch 3 was taken 705 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            822 :     if (NUMERIC_IS_SPECIAL(num1) || NUMERIC_IS_SPECIAL(num2))</span></span>
<span id="L3973" title="Line 3973: commit d1fc750b5199 on 2018-05-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3973</span>                 :                :     {</span>
<span id="L3974" title="Line 3974: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3974</span>                 :                :         /*</span>
<span id="L3975" title="Line 3975: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3975</span>                 :                :          * We follow the POSIX spec for pow(3), which says that NaN ^ 0 = 1,</span>
<span id="L3976" title="Line 3976: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3976</span>                 :                :          * and 1 ^ NaN = 1, while all other cases with NaN inputs yield NaN</span>
<span id="L3977" title="Line 3977: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3977</span>                 :                :          * (with no error).</span>
<span id="L3978" title="Line 3978: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3978</span>                 :                :          */</span>
<span id="L3979" title="Line 3979: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3979</span>         [<span class="tlaCBC"> <a href="#L3981" title="CBC: Branch 0 was taken 27 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3981" title="CBC: Branch 1 was taken 90 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            117 :         if (NUMERIC_IS_NAN(num1))</span></span>
<span id="L3980" title="Line 3980: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3980</span>                 :                :         {</span>
<span id="L3981" title="Line 3981: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3981</span>         [<span class="tlaCBC"> <a href="#L3984" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3984" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             27 :             if (!NUMERIC_IS_SPECIAL(num2))</span></span>
<span id="L3982" title="Line 3982: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3982</span>                 :                :             {</span>
<span id="L3983" title="Line 3983: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3983</span>                 :<span class="tlaCBC">             18 :                 init_var_from_num(num2, &amp;arg2);</span></span>
<span id="L3984" title="Line 3984: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3984</span>         [<span class="tlaCBC"> <a href="#L3989" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3989" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :                 if (cmp_var(&amp;arg2, &amp;const_zero) == 0)</span></span>
<span id="L3985" title="Line 3985: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3985</span>                 :<span class="tlaCBC">              6 :                     PG_RETURN_NUMERIC(make_result(&amp;const_one));</span></span>
<span id="L3986" title="Line 3986: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3986</span>                 :                :             }</span>
<span id="L3987" title="Line 3987: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3987</span>                 :<span class="tlaCBC">             21 :             PG_RETURN_NUMERIC(make_result(&amp;const_nan));</span></span>
<span id="L3988" title="Line 3988: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3988</span>                 :                :         }</span>
<span id="L3989" title="Line 3989: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3989</span>         [<span class="tlaCBC"> <a href="#L3991" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3991" title="CBC: Branch 1 was taken 69 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             90 :         if (NUMERIC_IS_NAN(num2))</span></span>
<span id="L3990" title="Line 3990: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3990</span>                 :                :         {</span>
<span id="L3991" title="Line 3991: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3991</span>         [<span class="tlaCBC"> <a href="#L3994" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L3994" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             21 :             if (!NUMERIC_IS_SPECIAL(num1))</span></span>
<span id="L3992" title="Line 3992: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3992</span>                 :                :             {</span>
<span id="L3993" title="Line 3993: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3993</span>                 :<span class="tlaCBC">             18 :                 init_var_from_num(num1, &amp;arg1);</span></span>
<span id="L3994" title="Line 3994: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3994</span>         [<span class="tlaCBC"> <a href="#L4002" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4002" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :                 if (cmp_var(&amp;arg1, &amp;const_one) == 0)</span></span>
<span id="L3995" title="Line 3995: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3995</span>                 :<span class="tlaCBC">              6 :                     PG_RETURN_NUMERIC(make_result(&amp;const_one));</span></span>
<span id="L3996" title="Line 3996: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3996</span>                 :                :             }</span>
<span id="L3997" title="Line 3997: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3997</span>                 :<span class="tlaCBC">             15 :             PG_RETURN_NUMERIC(make_result(&amp;const_nan));</span></span>
<span id="L3998" title="Line 3998: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3998</span>                 :                :         }</span>
<span id="L3999" title="Line 3999: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    3999</span>                 :                :         /* At least one input is infinite, but error rules still apply */</span>
<span id="L4000" title="Line 4000: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4000</span>                 :<span class="tlaCBC">             69 :         sign1 = numeric_sign_internal(num1);</span></span>
<span id="L4001" title="Line 4001: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4001</span>                 :<span class="tlaCBC">             69 :         sign2 = numeric_sign_internal(num2);</span></span>
<span id="L4002" title="Line 4002: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4002</span>   [<span class="tlaCBC"> <a href="#L4003" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4003" title="CBC: Branch 1 was taken 63 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4003" title="CBC: Branch 2 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4003" title="CBC: Branch 3 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             69 :         if (sign1 == 0 &amp;&amp; sign2 &lt; 0)</span></span>
<span id="L4003" title="Line 4003: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4003</span>         [<span class="tlaCBC"> <a href="#L4006" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4007" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :             ereport(ERROR,</span></span>
<span id="L4004" title="Line 4004: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4004</span>                 :                :                     (errcode(ERRCODE_INVALID_ARGUMENT_FOR_POWER_FUNCTION),</span>
<span id="L4005" title="Line 4005: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4005</span>                 :                :                      errmsg(&quot;zero raised to a negative power is undefined&quot;)));</span>
<span id="L4006" title="Line 4006: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4006</span>   [<span class="tlaCBC"> <a href="#L4007" title="CBC: Branch 0 was taken 33 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4007" title="CBC: Branch 1 was taken 33 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4007" title="CBC: Branch 2 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4007" title="CBC: Branch 3 was taken 30 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             66 :         if (sign1 &lt; 0 &amp;&amp; !numeric_is_integral(num2))</span></span>
<span id="L4007" title="Line 4007: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4007</span>         [<span class="tlaCBC"> <a href="#L4016" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4035" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :             ereport(ERROR,</span></span>
<span id="L4008" title="Line 4008: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4008</span>                 :                :                     (errcode(ERRCODE_INVALID_ARGUMENT_FOR_POWER_FUNCTION),</span>
<span id="L4009" title="Line 4009: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4009</span>                 :                :                      errmsg(&quot;a negative number raised to a non-integer power yields a complex result&quot;)));</span>
<span id="L4010" title="Line 4010: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4010</span>                 :                : </span>
<span id="L4011" title="Line 4011: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4011</span>                 :                :         /*</span>
<span id="L4012" title="Line 4012: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4012</span>                 :                :          * POSIX gives this series of rules for pow(3) with infinite inputs:</span>
<span id="L4013" title="Line 4013: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4013</span>                 :                :          *</span>
<span id="L4014" title="Line 4014: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4014</span>                 :                :          * For any value of y, if x is +1, 1.0 shall be returned.</span>
<span id="L4015" title="Line 4015: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4015</span>                 :                :          */</span>
<span id="L4016" title="Line 4016: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4016</span>         [<span class="tlaCBC"> <a href="#L4019" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4019" title="CBC: Branch 1 was taken 42 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             63 :         if (!NUMERIC_IS_SPECIAL(num1))</span></span>
<span id="L4017" title="Line 4017: commit d1fc750b5199 on 2018-05-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4017</span>                 :                :         {</span>
<span id="L4018" title="Line 4018: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4018</span>                 :<span class="tlaCBC">             21 :             init_var_from_num(num1, &amp;arg1);</span></span>
<span id="L4019" title="Line 4019: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4019</span>         [<span class="tlaCBC"> <a href="#L4026" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4026" title="CBC: Branch 1 was taken 18 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             21 :             if (cmp_var(&amp;arg1, &amp;const_one) == 0)</span></span>
<span id="L4020" title="Line 4020: commit d1fc750b5199 on 2018-05-17 by tgl@sss.pgh.pa.us"> 2658                      <span class="lineNum">    4020</span>                 :<span class="tlaCBC">              3 :                 PG_RETURN_NUMERIC(make_result(&amp;const_one));</span></span>
<span id="L4021" title="Line 4021: commit d1fc750b5199 on 2018-05-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4021</span>                 :                :         }</span>
<span id="L4022" title="Line 4022: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4022</span>                 :                : </span>
<span id="L4023" title="Line 4023: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4023</span>                 :                :         /*</span>
<span id="L4024" title="Line 4024: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4024</span>                 :                :          * For any value of x, if y is [-]0, 1.0 shall be returned.</span>
<span id="L4025" title="Line 4025: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4025</span>                 :                :          */</span>
<span id="L4026" title="Line 4026: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    4026</span>         [<span class="tlaCBC"> <a href="#L4035" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4035" title="CBC: Branch 1 was taken 54 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             60 :         if (sign2 == 0)</span></span>
<span id="L4027" title="Line 4027: commit d1fc750b5199 on 2018-05-17 by tgl@sss.pgh.pa.us"> 2658                      <span class="lineNum">    4027</span>                 :<span class="tlaCBC">              6 :             PG_RETURN_NUMERIC(make_result(&amp;const_one));</span></span>
<span id="L4028" title="Line 4028: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4028</span>                 :                : </span>
<span id="L4029" title="Line 4029: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4029</span>                 :                :         /*</span>
<span id="L4030" title="Line 4030: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4030</span>                 :                :          * For any odd integer value of y &gt; 0, if x is [-]0, [-]0 shall be</span>
<span id="L4031" title="Line 4031: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4031</span>                 :                :          * returned.  For y &gt; 0 and not an odd integer, if x is [-]0, +0 shall</span>
<span id="L4032" title="Line 4032: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4032</span>                 :                :          * be returned.  (Since we don't deal in minus zero, we need not</span>
<span id="L4033" title="Line 4033: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4033</span>                 :                :          * distinguish these two cases.)</span>
<span id="L4034" title="Line 4034: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4034</span>                 :                :          */</span>
<span id="L4035" title="Line 4035: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    4035</span>   [<span class="tlaCBC"> <a href="#L4049" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4049" title="CBC: Branch 1 was taken 51 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4049" title="CBC: Branch 2 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4082" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             54 :         if (sign1 == 0 &amp;&amp; sign2 &gt; 0)</span></span>
<span id="L4036" title="Line 4036: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4036</span>                 :<span class="tlaCBC">              3 :             PG_RETURN_NUMERIC(make_result(&amp;const_zero));</span></span>
<span id="L4037" title="Line 4037: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4037</span>                 :                : </span>
<span id="L4038" title="Line 4038: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4038</span>                 :                :         /*</span>
<span id="L4039" title="Line 4039: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4039</span>                 :                :          * If x is -1, and y is [-]Inf, 1.0 shall be returned.</span>
<span id="L4040" title="Line 4040: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4040</span>                 :                :          *</span>
<span id="L4041" title="Line 4041: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4041</span>                 :                :          * For |x| &lt; 1, if y is -Inf, +Inf shall be returned.</span>
<span id="L4042" title="Line 4042: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4042</span>                 :                :          *</span>
<span id="L4043" title="Line 4043: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4043</span>                 :                :          * For |x| &gt; 1, if y is -Inf, +0 shall be returned.</span>
<span id="L4044" title="Line 4044: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4044</span>                 :                :          *</span>
<span id="L4045" title="Line 4045: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4045</span>                 :                :          * For |x| &lt; 1, if y is +Inf, +0 shall be returned.</span>
<span id="L4046" title="Line 4046: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4046</span>                 :                :          *</span>
<span id="L4047" title="Line 4047: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4047</span>                 :                :          * For |x| &gt; 1, if y is +Inf, +Inf shall be returned.</span>
<span id="L4048" title="Line 4048: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4048</span>                 :                :          */</span>
<span id="L4049" title="Line 4049: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4049</span>         [<span class="tlaCBC"> <a href="#L4053" title="CBC: Branch 0 was taken 27 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4053" title="CBC: Branch 1 was taken 24 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             51 :         if (NUMERIC_IS_INF(num2))</span></span>
<span id="L4050" title="Line 4050: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4050</span>                 :                :         {</span>
<span id="L4051" title="Line 4051: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4051</span>                 :                :             bool        abs_x_gt_one;</span>
<span id="L4052" title="Line 4052: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4052</span>                 :                : </span>
<span id="L4053" title="Line 4053: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4053</span>         [<span class="tlaCBC"> <a href="#L4058" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4058" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             27 :             if (NUMERIC_IS_SPECIAL(num1))</span></span>
<span id="L4054" title="Line 4054: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4054</span>                 :<span class="tlaCBC">             12 :                 abs_x_gt_one = true;    /* x is either Inf or -Inf */</span></span>
<span id="L4055" title="Line 4055: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4055</span>                 :                :             else</span>
<span id="L4056" title="Line 4056: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4056</span>                 :                :             {</span>
<span id="L4057" title="Line 4057: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4057</span>                 :<span class="tlaCBC">             15 :                 init_var_from_num(num1, &amp;arg1);</span></span>
<span id="L4058" title="Line 4058: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4058</span>         [<span class="tlaCBC"> <a href="#L4063" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4063" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             15 :                 if (cmp_var(&amp;arg1, &amp;const_minus_one) == 0)</span></span>
<span id="L4059" title="Line 4059: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4059</span>                 :<span class="tlaCBC">              3 :                     PG_RETURN_NUMERIC(make_result(&amp;const_one));</span></span>
<span id="L4060" title="Line 4060: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4060</span>                 :<span class="tlaCBC">             12 :                 arg1.sign = NUMERIC_POS;    /* now arg1 = abs(x) */</span></span>
<span id="L4061" title="Line 4061: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4061</span>                 :<span class="tlaCBC">             12 :                 abs_x_gt_one = (cmp_var(&amp;arg1, &amp;const_one) &gt; 0);</span></span>
<span id="L4062" title="Line 4062: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4062</span>                 :                :             }</span>
<span id="L4063" title="Line 4063: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4063</span>         [<span class="tlaCBC"> <a href="#L4074" title="CBC: Branch 0 was taken 15 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4074" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             24 :             if (abs_x_gt_one == (sign2 &gt; 0))</span></span>
<span id="L4064" title="Line 4064: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4064</span>                 :<span class="tlaCBC">             15 :                 PG_RETURN_NUMERIC(make_result(&amp;const_pinf));</span></span>
<span id="L4065" title="Line 4065: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4065</span>                 :                :             else</span>
<span id="L4066" title="Line 4066: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4066</span>                 :<span class="tlaCBC">              9 :                 PG_RETURN_NUMERIC(make_result(&amp;const_zero));</span></span>
<span id="L4067" title="Line 4067: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4067</span>                 :                :         }</span>
<span id="L4068" title="Line 4068: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4068</span>                 :                : </span>
<span id="L4069" title="Line 4069: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4069</span>                 :                :         /*</span>
<span id="L4070" title="Line 4070: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4070</span>                 :                :          * For y &lt; 0, if x is +Inf, +0 shall be returned.</span>
<span id="L4071" title="Line 4071: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4071</span>                 :                :          *</span>
<span id="L4072" title="Line 4072: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4072</span>                 :                :          * For y &gt; 0, if x is +Inf, +Inf shall be returned.</span>
<span id="L4073" title="Line 4073: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4073</span>                 :                :          */</span>
<span id="L4074" title="Line 4074: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4074</span>         [<span class="tlaCBC"> <a href="#L4076" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4076" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             24 :         if (NUMERIC_IS_PINF(num1))</span></span>
<span id="L4075" title="Line 4075: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4075</span>                 :                :         {</span>
<span id="L4076" title="Line 4076: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4076</span>         [<span class="tlaCBC"> <a href="#L4082" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4082" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             12 :             if (sign2 &gt; 0)</span></span>
<span id="L4077" title="Line 4077: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4077</span>                 :<span class="tlaCBC">              9 :                 PG_RETURN_NUMERIC(make_result(&amp;const_pinf));</span></span>
<span id="L4078" title="Line 4078: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4078</span>                 :                :             else</span>
<span id="L4079" title="Line 4079: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4079</span>                 :<span class="tlaCBC">              3 :                 PG_RETURN_NUMERIC(make_result(&amp;const_zero));</span></span>
<span id="L4080" title="Line 4080: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4080</span>                 :                :         }</span>
<span id="L4081" title="Line 4081: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4081</span>                 :                : </span>
<span id="L4082" title="Line 4082: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4082</span>         [<span class="tlaUBC"> <a href="#L4097" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L4089" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             12 :         Assert(NUMERIC_IS_NINF(num1));</span></span>
<span id="L4083" title="Line 4083: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4083</span>                 :                : </span>
<span id="L4084" title="Line 4084: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4084</span>                 :                :         /*</span>
<span id="L4085" title="Line 4085: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4085</span>                 :                :          * For y an odd integer &lt; 0, if x is -Inf, -0 shall be returned.  For</span>
<span id="L4086" title="Line 4086: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4086</span>                 :                :          * y &lt; 0 and not an odd integer, if x is -Inf, +0 shall be returned.</span>
<span id="L4087" title="Line 4087: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4087</span>                 :                :          * (Again, we need not distinguish these two cases.)</span>
<span id="L4088" title="Line 4088: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4088</span>                 :                :          */</span>
<span id="L4089" title="Line 4089: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4089</span>         [<span class="tlaCBC"> <a href="#L4097" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4097" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             12 :         if (sign2 &lt; 0)</span></span>
<span id="L4090" title="Line 4090: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4090</span>                 :<span class="tlaCBC">              6 :             PG_RETURN_NUMERIC(make_result(&amp;const_zero));</span></span>
<span id="L4091" title="Line 4091: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4091</span>                 :                : </span>
<span id="L4092" title="Line 4092: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4092</span>                 :                :         /*</span>
<span id="L4093" title="Line 4093: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4093</span>                 :                :          * For y an odd integer &gt; 0, if x is -Inf, -Inf shall be returned. For</span>
<span id="L4094" title="Line 4094: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4094</span>                 :                :          * y &gt; 0 and not an odd integer, if x is -Inf, +Inf shall be returned.</span>
<span id="L4095" title="Line 4095: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4095</span>                 :                :          */</span>
<span id="L4096" title="Line 4096: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4096</span>                 :<span class="tlaCBC">              6 :         init_var_from_num(num2, &amp;arg2);</span></span>
<span id="L4097" title="Line 4097: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4097</span>   [<span class="tlaCBC"> <a href="#L4098" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4115" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L4098" title="CBC: Branch 2 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4115" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              6 :         if (arg2.ndigits &gt; 0 &amp;&amp; arg2.ndigits == arg2.weight + 1 &amp;&amp;</span></span>
<span id="L4098" title="Line 4098: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4098</span>         [<span class="tlaCBC"> <a href="#L4114" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4114" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              6 :             (arg2.digits[arg2.ndigits - 1] &amp; 1))</span></span>
<span id="L4099" title="Line 4099: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4099</span>                 :<span class="tlaCBC">              3 :             PG_RETURN_NUMERIC(make_result(&amp;const_ninf));</span></span>
<span id="L4100" title="Line 4100: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4100</span>                 :                :         else</span>
<span id="L4101" title="Line 4101: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4101</span>                 :<span class="tlaCBC">              3 :             PG_RETURN_NUMERIC(make_result(&amp;const_pinf));</span></span>
<span id="L4102" title="Line 4102: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4102</span>                 :                :     }</span>
<span id="L4103" title="Line 4103: commit 2871f60f232a on 2004-05-16 by neilc@samurai.com">                           <span class="lineNum">    4103</span>                 :                : </span>
<span id="L4104" title="Line 4104: commit 2871f60f232a on 2004-05-16 by neilc@samurai.com">                           <span class="lineNum">    4104</span>                 :                :     /*</span>
<span id="L4105" title="Line 4105: commit 6e3e60095dd4 on 2008-05-09 by bruce@momjian.us">                           <span class="lineNum">    4105</span>                 :                :      * The SQL spec requires that we emit a particular SQLSTATE error code for</span>
<span id="L4106" title="Line 4106: commit d74714027942 on 2009-06-11 by bruce@momjian.us">                           <span class="lineNum">    4106</span>                 :                :      * certain error conditions.  Specifically, we don't return a</span>
<span id="L4107" title="Line 4107: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4107</span>                 :                :      * divide-by-zero error code for 0 ^ -1.  Raising a negative number to a</span>
<span id="L4108" title="Line 4108: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4108</span>                 :                :      * non-integer power must produce the same error code, but that case is</span>
<span id="L4109" title="Line 4109: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4109</span>                 :                :      * handled in power_var().</span>
<span id="L4110" title="Line 4110: commit 2871f60f232a on 2004-05-16 by neilc@samurai.com">                           <span class="lineNum">    4110</span>                 :                :      */</span>
<span id="L4111" title="Line 4111: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4111</span>                 :<span class="tlaCBC">            705 :     sign1 = numeric_sign_internal(num1);</span></span>
<span id="L4112" title="Line 4112: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4112</span>                 :<span class="tlaCBC">            705 :     sign2 = numeric_sign_internal(num2);</span></span>
<span id="L4113" title="Line 4113: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4113</span>                 :                : </span>
<span id="L4114" title="Line 4114: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4114</span>   [<span class="tlaCBC"> <a href="#L4115" title="CBC: Branch 0 was taken 30 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4115" title="CBC: Branch 1 was taken 675 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4115" title="CBC: Branch 2 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4115" title="CBC: Branch 3 was taken 24 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            705 :     if (sign1 == 0 &amp;&amp; sign2 &lt; 0)</span></span>
<span id="L4115" title="Line 4115: commit 2871f60f232a on 2004-05-16 by neilc@samurai.com"> 7772 <a href="#L6108" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    4115</span>         [<span class="tlaCBC"> <a href="#L4149" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4152" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              6 :         ereport(ERROR,</span></span>
<span id="L4116" title="Line 4116: commit 2871f60f232a on 2004-05-16 by neilc@samurai.com">                           <span class="lineNum">    4116</span>                 :                :                 (errcode(ERRCODE_INVALID_ARGUMENT_FOR_POWER_FUNCTION),</span>
<span id="L4117" title="Line 4117: commit f8df836ae396 on 2008-05-09 by bruce@momjian.us">                           <span class="lineNum">    4117</span>                 :                :                  errmsg(&quot;zero raised to a negative power is undefined&quot;)));</span>
<span id="L4118" title="Line 4118: commit f8df836ae396 on 2008-05-09 by bruce@momjian.us">                           <span class="lineNum">    4118</span>                 :                : </span>
<span id="L4119" title="Line 4119: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4119</span>                 :                :     /*</span>
<span id="L4120" title="Line 4120: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4120</span>                 :                :      * Initialize things</span>
<span id="L4121" title="Line 4121: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4121</span>                 :                :      */</span>
<span id="L4122" title="Line 4122: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L4136" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4122</span>                 :<span class="tlaCBC">            699 :     init_var(&amp;result);</span></span>
<span id="L4123" title="Line 4123: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4123</span>                 :<span class="tlaCBC">            699 :     init_var_from_num(num1, &amp;arg1);</span></span>
<span id="L4124" title="Line 4124: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4124</span>                 :<span class="tlaCBC">            699 :     init_var_from_num(num2, &amp;arg2);</span></span>
<span id="L4125" title="Line 4125: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4125</span>                 :                : </span>
<span id="L4126" title="Line 4126: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    4126</span>                 :                :     /*</span>
<span id="L4127" title="Line 4127: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4127</span>                 :                :      * Call power_var() to compute and return the result; note it handles</span>
<span id="L4128" title="Line 4128: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4128</span>                 :                :      * scale selection itself.</span>
<span id="L4129" title="Line 4129: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4129</span>                 :                :      */</span>
<span id="L4130" title="Line 4130: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L4311" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    4130</span>                 :<span class="tlaCBC">            699 :     power_var(&amp;arg1, &amp;arg2, &amp;result);</span></span>
<span id="L4131" title="Line 4131: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4131</span>                 :                : </span>
<span id="L4132" title="Line 4132: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4132</span>                 :<span class="tlaCBC">            684 :     res = make_result(&amp;result);</span></span>
<span id="L4133" title="Line 4133: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4133</span>                 :                : </span>
<span id="L4134" title="Line 4134: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4134</span>                 :<span class="tlaCBC">            684 :     free_var(&amp;result);</span></span>
<span id="L4135" title="Line 4135: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4135</span>                 :                : </span>
<span id="L4136" title="Line 4136: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L4149" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4136</span>                 :<span class="tlaCBC">            684 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L4137" title="Line 4137: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4137</span>                 :                : }</span>
<span id="L4138" title="Line 4138: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4138</span>                 :                : </span>
<span id="L4139" title="Line 4139: commit abb1733922f3 on 2016-01-05 by alvherre@alvh.no-ip.org">                           <span class="lineNum">    4139</span>                 :                : /*</span>
<span id="L4140" title="Line 4140: commit abb1733922f3 on 2016-01-05 by alvherre@alvh.no-ip.org">                           <span class="lineNum">    4140</span>                 :                :  * numeric_scale() -</span>
<span id="L4141" title="Line 4141: commit abb1733922f3 on 2016-01-05 by alvherre@alvh.no-ip.org">                           <span class="lineNum">    4141</span>                 :                :  *</span>
<span id="L4142" title="Line 4142: commit abb1733922f3 on 2016-01-05 by alvherre@alvh.no-ip.org">                           <span class="lineNum">    4142</span>                 :                :  *  Returns the scale, i.e. the count of decimal digits in the fractional part</span>
<span id="L4143" title="Line 4143: commit abb1733922f3 on 2016-01-05 by alvherre@alvh.no-ip.org">                           <span class="lineNum">    4143</span>                 :                :  */</span>
<span id="L4144" title="Line 4144: commit abb1733922f3 on 2016-01-05 by alvherre@alvh.no-ip.org">                           <span class="lineNum">    4144</span>                 :                : Datum</span>
<span id="L4145" title="Line 4145: commit abb1733922f3 on 2016-01-05 by alvherre@alvh.no-ip.org"> 3521 <a href="#L4150" title="next CBC in &ldquo;alvherre@alvh.no-ip.org&rdquo; bin">alvherre@alvh.no-ip.</a> <span class="lineNum">    4145</span>                 :<span class="tlaCBC">             54 : numeric_scale(PG_FUNCTION_ARGS)</span></span>
<span id="L4146" title="Line 4146: commit abb1733922f3 on 2016-01-05 by alvherre@alvh.no-ip.org">                           <span class="lineNum">    4146</span>                 :                : {</span>
<span id="L4147" title="Line 4147: commit abb1733922f3 on 2016-01-05 by alvherre@alvh.no-ip.org">                           <span class="lineNum">    4147</span>                 :<span class="tlaCBC">             54 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L4148" title="Line 4148: commit abb1733922f3 on 2016-01-05 by alvherre@alvh.no-ip.org">                           <span class="lineNum">    4148</span>                 :                : </span>
<span id="L4149" title="Line 4149: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L4159" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4149</span>         [<span class="tlaCBC"> <a href="#L4152" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4152" title="CBC: Branch 1 was taken 45 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             54 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L4150" title="Line 4150: commit abb1733922f3 on 2016-01-05 by alvherre@alvh.no-ip.org"> 3521 <a href="#top" title="next CBC in &ldquo;alvherre@alvh.no-ip.org&rdquo; bin">alvherre@alvh.no-ip.</a> <span class="lineNum">    4150</span>                 :<span class="tlaCBC">              9 :         PG_RETURN_NULL();</span></span>
<span id="L4151" title="Line 4151: commit abb1733922f3 on 2016-01-05 by alvherre@alvh.no-ip.org">                           <span class="lineNum">    4151</span>                 :                : </span>
<span id="L4152" title="Line 4152: commit abb1733922f3 on 2016-01-05 by alvherre@alvh.no-ip.org">                           <span class="lineNum">    4152</span>         [<span class="tlaCBC"> <a href="#L4170" title="CBC: Branch 0 was taken 45 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4171" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             45 :     PG_RETURN_INT32(NUMERIC_DSCALE(num));</span></span>
<span id="L4153" title="Line 4153: commit abb1733922f3 on 2016-01-05 by alvherre@alvh.no-ip.org">                           <span class="lineNum">    4153</span>                 :                : }</span>
<span id="L4154" title="Line 4154: commit abb1733922f3 on 2016-01-05 by alvherre@alvh.no-ip.org">                           <span class="lineNum">    4154</span>                 :                : </span>
<span id="L4155" title="Line 4155: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4155</span>                 :                : /*</span>
<span id="L4156" title="Line 4156: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4156</span>                 :                :  * Calculate minimum scale for value.</span>
<span id="L4157" title="Line 4157: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4157</span>                 :                :  */</span>
<span id="L4158" title="Line 4158: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4158</span>                 :                : static int</span>
<span id="L4159" title="Line 4159: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us"> 2059 <a href="#L4174" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4159</span>                 :<span class="tlaCBC">            186 : get_min_scale(NumericVar *var)</span></span>
<span id="L4160" title="Line 4160: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4160</span>                 :                : {</span>
<span id="L4161" title="Line 4161: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4161</span>                 :                :     int         min_scale;</span>
<span id="L4162" title="Line 4162: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4162</span>                 :                :     int         last_digit_pos;</span>
<span id="L4163" title="Line 4163: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4163</span>                 :                : </span>
<span id="L4164" title="Line 4164: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4164</span>                 :                :     /*</span>
<span id="L4165" title="Line 4165: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4165</span>                 :                :      * Ordinarily, the input value will be &quot;stripped&quot; so that the last</span>
<span id="L4166" title="Line 4166: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4166</span>                 :                :      * NumericDigit is nonzero.  But we don't want to get into an infinite</span>
<span id="L4167" title="Line 4167: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4167</span>                 :                :      * loop if it isn't, so explicitly find the last nonzero digit.</span>
<span id="L4168" title="Line 4168: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4168</span>                 :                :      */</span>
<span id="L4169" title="Line 4169: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4169</span>                 :<span class="tlaCBC">            186 :     last_digit_pos = var-&gt;ndigits - 1;</span></span>
<span id="L4170" title="Line 4170: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4170</span>         [<span class="tlaCBC"> <a href="#L4171" title="CBC: Branch 0 was taken 171 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4171" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            186 :     while (last_digit_pos &gt;= 0 &amp;&amp;</span></span>
<span id="L4171" title="Line 4171: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4171</span>         [<span class="tlaUBC"> <a href="#L4262" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L4174" title="CBC: Branch 1 was taken 171 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            171 :            var-&gt;digits[last_digit_pos] == 0)</span></span>
<span id="L4172" title="Line 4172: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 2059 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L4346" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">2059</a> </span><a href="#L4587" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 2059 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    4172</span>                 :<a href="#L4346" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         last_digit_pos--;</span></span>
<span id="L4173" title="Line 4173: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4173</span>                 :                : </span>
<span id="L4174" title="Line 4174: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us"> <a href="#L4355" title="next CBC in &ldquo;(360..) days&rdquo; bin">2059</a> <a href="#L4416" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4174</span>         [<span class="tlaCBC"> <a href="#L4183" title="CBC: Branch 0 was taken 171 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4183" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<a href="#L4355" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         186 :     if (last_digit_pos &gt;= 0)</span></span>
<span id="L4175" title="Line 4175: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4175</span>                 :                :     {</span>
<span id="L4176" title="Line 4176: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4176</span>                 :                :         /* compute min_scale assuming that last ndigit has no zeroes */</span>
<span id="L4177" title="Line 4177: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4177</span>                 :<span class="tlaCBC">            171 :         min_scale = (last_digit_pos - var-&gt;weight) * DEC_DIGITS;</span></span>
<span id="L4178" title="Line 4178: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4178</span>                 :                : </span>
<span id="L4179" title="Line 4179: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4179</span>                 :                :         /*</span>
<span id="L4180" title="Line 4180: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4180</span>                 :                :          * We could get a negative result if there are no digits after the</span>
<span id="L4181" title="Line 4181: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4181</span>                 :                :          * decimal point.  In this case the min_scale must be zero.</span>
<span id="L4182" title="Line 4182: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4182</span>                 :                :          */</span>
<span id="L4183" title="Line 4183: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4183</span>         [<span class="tlaCBC"> <a href="#L4191" title="CBC: Branch 0 was taken 93 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4191" title="CBC: Branch 1 was taken 78 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            171 :         if (min_scale &gt; 0)</span></span>
<span id="L4184" title="Line 4184: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4184</span>                 :                :         {</span>
<span id="L4185" title="Line 4185: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4185</span>                 :                :             /*</span>
<span id="L4186" title="Line 4186: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4186</span>                 :                :              * Reduce min_scale if trailing digit(s) in last NumericDigit are</span>
<span id="L4187" title="Line 4187: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4187</span>                 :                :              * zero.</span>
<span id="L4188" title="Line 4188: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4188</span>                 :                :              */</span>
<span id="L4189" title="Line 4189: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4189</span>                 :<span class="tlaCBC">             93 :             NumericDigit last_digit = var-&gt;digits[last_digit_pos];</span></span>
<span id="L4190" title="Line 4190: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4190</span>                 :                : </span>
<span id="L4191" title="Line 4191: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4191</span>         [<span class="tlaCBC"> <a href="#L4216" title="CBC: Branch 0 was taken 156 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4216" title="CBC: Branch 1 was taken 93 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            249 :             while (last_digit % 10 == 0)</span></span>
<span id="L4192" title="Line 4192: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4192</span>                 :                :             {</span>
<span id="L4193" title="Line 4193: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4193</span>                 :<span class="tlaCBC">            156 :                 min_scale--;</span></span>
<span id="L4194" title="Line 4194: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4194</span>                 :<span class="tlaCBC">            156 :                 last_digit /= 10;</span></span>
<span id="L4195" title="Line 4195: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4195</span>                 :                :             }</span>
<span id="L4196" title="Line 4196: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4196</span>                 :                :         }</span>
<span id="L4197" title="Line 4197: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4197</span>                 :                :         else</span>
<span id="L4198" title="Line 4198: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4198</span>                 :<span class="tlaCBC">             78 :             min_scale = 0;</span></span>
<span id="L4199" title="Line 4199: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4199</span>                 :                :     }</span>
<span id="L4200" title="Line 4200: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4200</span>                 :                :     else</span>
<span id="L4201" title="Line 4201: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4201</span>                 :<span class="tlaCBC">             15 :         min_scale = 0;          /* result if input is zero */</span></span>
<span id="L4202" title="Line 4202: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4202</span>                 :                : </span>
<span id="L4203" title="Line 4203: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4203</span>                 :<span class="tlaCBC">            186 :     return min_scale;</span></span>
<span id="L4204" title="Line 4204: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4204</span>                 :                : }</span>
<span id="L4205" title="Line 4205: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4205</span>                 :                : </span>
<span id="L4206" title="Line 4206: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4206</span>                 :                : /*</span>
<span id="L4207" title="Line 4207: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4207</span>                 :                :  * Returns minimum scale required to represent supplied value without loss.</span>
<span id="L4208" title="Line 4208: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4208</span>                 :                :  */</span>
<span id="L4209" title="Line 4209: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4209</span>                 :                : Datum</span>
<span id="L4210" title="Line 4210: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4210</span>                 :<span class="tlaCBC">             36 : numeric_min_scale(PG_FUNCTION_ARGS)</span></span>
<span id="L4211" title="Line 4211: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4211</span>                 :                : {</span>
<span id="L4212" title="Line 4212: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4212</span>                 :<span class="tlaCBC">             36 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L4213" title="Line 4213: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4213</span>                 :                :     NumericVar  arg;</span>
<span id="L4214" title="Line 4214: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4214</span>                 :                :     int         min_scale;</span>
<span id="L4215" title="Line 4215: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4215</span>                 :                : </span>
<span id="L4216" title="Line 4216: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    4216</span>         [<span class="tlaCBC"> <a href="#L4236" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4236" title="CBC: Branch 1 was taken 30 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             36 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L4217" title="Line 4217: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us"> 2059                      <span class="lineNum">    4217</span>                 :<span class="tlaCBC">              6 :         PG_RETURN_NULL();</span></span>
<span id="L4218" title="Line 4218: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4218</span>                 :                : </span>
<span id="L4219" title="Line 4219: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4219</span>                 :<span class="tlaCBC">             30 :     init_var_from_num(num, &amp;arg);</span></span>
<span id="L4220" title="Line 4220: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4220</span>                 :<span class="tlaCBC">             30 :     min_scale = get_min_scale(&amp;arg);</span></span>
<span id="L4221" title="Line 4221: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4221</span>                 :<span class="tlaCBC">             30 :     free_var(&amp;arg);</span></span>
<span id="L4222" title="Line 4222: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4222</span>                 :                : </span>
<span id="L4223" title="Line 4223: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4223</span>                 :<span class="tlaCBC">             30 :     PG_RETURN_INT32(min_scale);</span></span>
<span id="L4224" title="Line 4224: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4224</span>                 :                : }</span>
<span id="L4225" title="Line 4225: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4225</span>                 :                : </span>
<span id="L4226" title="Line 4226: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4226</span>                 :                : /*</span>
<span id="L4227" title="Line 4227: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4227</span>                 :                :  * Reduce scale of numeric value to represent supplied value without loss.</span>
<span id="L4228" title="Line 4228: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4228</span>                 :                :  */</span>
<span id="L4229" title="Line 4229: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4229</span>                 :                : Datum</span>
<span id="L4230" title="Line 4230: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4230</span>                 :<span class="tlaCBC">            162 : numeric_trim_scale(PG_FUNCTION_ARGS)</span></span>
<span id="L4231" title="Line 4231: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4231</span>                 :                : {</span>
<span id="L4232" title="Line 4232: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4232</span>                 :<span class="tlaCBC">            162 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L4233" title="Line 4233: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4233</span>                 :                :     Numeric     res;</span>
<span id="L4234" title="Line 4234: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4234</span>                 :                :     NumericVar  result;</span>
<span id="L4235" title="Line 4235: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4235</span>                 :                : </span>
<span id="L4236" title="Line 4236: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    4236</span>         [<span class="tlaCBC"> <a href="#L4259" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4259" title="CBC: Branch 1 was taken 156 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            162 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L4237" title="Line 4237: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4237</span>                 :<span class="tlaCBC">              6 :         PG_RETURN_NUMERIC(duplicate_numeric(num));</span></span>
<span id="L4238" title="Line 4238: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4238</span>                 :                : </span>
<span id="L4239" title="Line 4239: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us"> 2059                      <span class="lineNum">    4239</span>                 :<span class="tlaCBC">            156 :     init_var_from_num(num, &amp;result);</span></span>
<span id="L4240" title="Line 4240: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4240</span>                 :<span class="tlaCBC">            156 :     result.dscale = get_min_scale(&amp;result);</span></span>
<span id="L4241" title="Line 4241: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4241</span>                 :<span class="tlaCBC">            156 :     res = make_result(&amp;result);</span></span>
<span id="L4242" title="Line 4242: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4242</span>                 :<span class="tlaCBC">            156 :     free_var(&amp;result);</span></span>
<span id="L4243" title="Line 4243: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4243</span>                 :                : </span>
<span id="L4244" title="Line 4244: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4244</span>                 :<span class="tlaCBC">            156 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L4245" title="Line 4245: commit 20d6225d1656 on 2020-01-06 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4245</span>                 :                : }</span>
<span id="L4246" title="Line 4246: commit abb1733922f3 on 2016-01-05 by alvherre@alvh.no-ip.org">                           <span class="lineNum">    4246</span>                 :                : </span>
<span id="L4247" title="Line 4247: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4247</span>                 :                : /*</span>
<span id="L4248" title="Line 4248: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4248</span>                 :                :  * Return a random numeric value in the range [rmin, rmax].</span>
<span id="L4249" title="Line 4249: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4249</span>                 :                :  */</span>
<span id="L4250" title="Line 4250: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4250</span>                 :                : Numeric</span>
<span id="L4251" title="Line 4251: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">  517 <a href="#L4335" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    4251</span>                 :<span class="tlaCBC">          16731 : random_numeric(pg_prng_state *state, Numeric rmin, Numeric rmax)</span></span>
<span id="L4252" title="Line 4252: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4252</span>                 :                : {</span>
<span id="L4253" title="Line 4253: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4253</span>                 :                :     NumericVar  rmin_var;</span>
<span id="L4254" title="Line 4254: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4254</span>                 :                :     NumericVar  rmax_var;</span>
<span id="L4255" title="Line 4255: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4255</span>                 :                :     NumericVar  result;</span>
<span id="L4256" title="Line 4256: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4256</span>                 :                :     Numeric     res;</span>
<span id="L4257" title="Line 4257: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4257</span>                 :                : </span>
<span id="L4258" title="Line 4258: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4258</span>                 :                :     /* Range bounds must not be NaN/infinity */</span>
<span id="L4259" title="Line 4259: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4259</span>         [<span class="tlaCBC"> <a href="#L4261" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4261" title="CBC: Branch 1 was taken 16725 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          16731 :     if (NUMERIC_IS_SPECIAL(rmin))</span></span>
<span id="L4260" title="Line 4260: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4260</span>                 :                :     {</span>
<span id="L4261" title="Line 4261: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4261</span>         [<span class="tlaCBC"> <a href="#L4262" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4262" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              6 :         if (NUMERIC_IS_NAN(rmin))</span></span>
<span id="L4262" title="Line 4262: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4262</span>         [<span class="tlaCBC"> <a href="#L4266" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4266" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :             ereport(ERROR,</span></span>
<span id="L4263" title="Line 4263: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4263</span>                 :                :                     errcode(ERRCODE_INVALID_PARAMETER_VALUE),</span>
<span id="L4264" title="Line 4264: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4264</span>                 :                :                     errmsg(&quot;lower bound cannot be NaN&quot;));</span>
<span id="L4265" title="Line 4265: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4265</span>                 :                :         else</span>
<span id="L4266" title="Line 4266: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4266</span>         [<span class="tlaCBC"> <a href="#L4270" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4273" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :             ereport(ERROR,</span></span>
<span id="L4267" title="Line 4267: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4267</span>                 :                :                     errcode(ERRCODE_INVALID_PARAMETER_VALUE),</span>
<span id="L4268" title="Line 4268: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4268</span>                 :                :                     errmsg(&quot;lower bound cannot be infinity&quot;));</span>
<span id="L4269" title="Line 4269: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4269</span>                 :                :     }</span>
<span id="L4270" title="Line 4270: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4270</span>         [<span class="tlaCBC"> <a href="#L4272" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4272" title="CBC: Branch 1 was taken 16719 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          16725 :     if (NUMERIC_IS_SPECIAL(rmax))</span></span>
<span id="L4271" title="Line 4271: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4271</span>                 :                :     {</span>
<span id="L4272" title="Line 4272: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4272</span>         [<span class="tlaCBC"> <a href="#L4273" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4273" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              6 :         if (NUMERIC_IS_NAN(rmax))</span></span>
<span id="L4273" title="Line 4273: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4273</span>         [<span class="tlaCBC"> <a href="#L4277" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4277" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :             ereport(ERROR,</span></span>
<span id="L4274" title="Line 4274: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4274</span>                 :                :                     errcode(ERRCODE_INVALID_PARAMETER_VALUE),</span>
<span id="L4275" title="Line 4275: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4275</span>                 :                :                     errmsg(&quot;upper bound cannot be NaN&quot;));</span>
<span id="L4276" title="Line 4276: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4276</span>                 :                :         else</span>
<span id="L4277" title="Line 4277: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4277</span>         [<span class="tlaCBC"> <a href="#L4344" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4344" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :             ereport(ERROR,</span></span>
<span id="L4278" title="Line 4278: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4278</span>                 :                :                     errcode(ERRCODE_INVALID_PARAMETER_VALUE),</span>
<span id="L4279" title="Line 4279: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4279</span>                 :                :                     errmsg(&quot;upper bound cannot be infinity&quot;));</span>
<span id="L4280" title="Line 4280: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4280</span>                 :                :     }</span>
<span id="L4281" title="Line 4281: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4281</span>                 :                : </span>
<span id="L4282" title="Line 4282: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4282</span>                 :                :     /* Return a random value in the range [rmin, rmax] */</span>
<span id="L4283" title="Line 4283: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4283</span>                 :<span class="tlaCBC">          16719 :     init_var_from_num(rmin, &amp;rmin_var);</span></span>
<span id="L4284" title="Line 4284: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4284</span>                 :<span class="tlaCBC">          16719 :     init_var_from_num(rmax, &amp;rmax_var);</span></span>
<span id="L4285" title="Line 4285: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4285</span>                 :                : </span>
<span id="L4286" title="Line 4286: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4286</span>                 :<span class="tlaCBC">          16719 :     init_var(&amp;result);</span></span>
<span id="L4287" title="Line 4287: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4287</span>                 :                : </span>
<span id="L4288" title="Line 4288: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4288</span>                 :<span class="tlaCBC">          16719 :     random_var(state, &amp;rmin_var, &amp;rmax_var, &amp;result);</span></span>
<span id="L4289" title="Line 4289: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4289</span>                 :                : </span>
<span id="L4290" title="Line 4290: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4290</span>                 :<span class="tlaCBC">          16716 :     res = make_result(&amp;result);</span></span>
<span id="L4291" title="Line 4291: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4291</span>                 :                : </span>
<span id="L4292" title="Line 4292: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4292</span>                 :<span class="tlaCBC">          16716 :     free_var(&amp;result);</span></span>
<span id="L4293" title="Line 4293: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4293</span>                 :                : </span>
<span id="L4294" title="Line 4294: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4294</span>                 :<span class="tlaCBC">          16716 :     return res;</span></span>
<span id="L4295" title="Line 4295: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4295</span>                 :                : }</span>
<span id="L4296" title="Line 4296: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4296</span>                 :                : </span>
<span id="L4297" title="Line 4297: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4297</span>                 :                : </span>
<span id="L4298" title="Line 4298: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4298</span>                 :                : /* ----------------------------------------------------------------------</span>
<span id="L4299" title="Line 4299: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4299</span>                 :                :  *</span>
<span id="L4300" title="Line 4300: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4300</span>                 :                :  * Type conversion functions</span>
<span id="L4301" title="Line 4301: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4301</span>                 :                :  *</span>
<span id="L4302" title="Line 4302: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4302</span>                 :                :  * ----------------------------------------------------------------------</span>
<span id="L4303" title="Line 4303: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4303</span>                 :                :  */</span>
<span id="L4304" title="Line 4304: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4304</span>                 :                : </span>
<span id="L4305" title="Line 4305: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org">                           <span class="lineNum">    4305</span>                 :                : Numeric</span>
<span id="L4306" title="Line 4306: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org"> 1812 <a href="#L4313" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    4306</span>                 :<span class="tlaCBC">         933885 : int64_to_numeric(int64 val)</span></span>
<span id="L4307" title="Line 4307: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4307</span>                 :                : {</span>
<span id="L4308" title="Line 4308: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4308</span>                 :                :     Numeric     res;</span>
<span id="L4309" title="Line 4309: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4309</span>                 :                :     NumericVar  result;</span>
<span id="L4310" title="Line 4310: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4310</span>                 :                : </span>
<span id="L4311" title="Line 4311: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L4315" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    4311</span>                 :<span class="tlaCBC">         933885 :     init_var(&amp;result);</span></span>
<span id="L4312" title="Line 4312: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4312</span>                 :                : </span>
<span id="L4313" title="Line 4313: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org"> 1812 <a href="#L4319" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    4313</span>                 :<span class="tlaCBC">         933885 :     int64_to_numericvar(val, &amp;result);</span></span>
<span id="L4314" title="Line 4314: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4314</span>                 :                : </span>
<span id="L4315" title="Line 4315: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L4625" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    4315</span>                 :<span class="tlaCBC">         933885 :     res = make_result(&amp;result);</span></span>
<span id="L4316" title="Line 4316: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4316</span>                 :                : </span>
<span id="L4317" title="Line 4317: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4317</span>                 :<span class="tlaCBC">         933885 :     free_var(&amp;result);</span></span>
<span id="L4318" title="Line 4318: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4318</span>                 :                : </span>
<span id="L4319" title="Line 4319: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org"> 1812 <a href="#L4341" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    4319</span>                 :<span class="tlaCBC">         933885 :     return res;</span></span>
<span id="L4320" title="Line 4320: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org">                           <span class="lineNum">    4320</span>                 :                : }</span>
<span id="L4321" title="Line 4321: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org">                           <span class="lineNum">    4321</span>                 :                : </span>
<span id="L4322" title="Line 4322: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4322</span>                 :                : /*</span>
<span id="L4323" title="Line 4323: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4323</span>                 :                :  * Convert val1/(10**log10val2) to numeric.  This is much faster than normal</span>
<span id="L4324" title="Line 4324: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4324</span>                 :                :  * numeric division.</span>
<span id="L4325" title="Line 4325: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4325</span>                 :                :  */</span>
<span id="L4326" title="Line 4326: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4326</span>                 :                : Numeric</span>
<span id="L4327" title="Line 4327: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org"> 1603                      <span class="lineNum">    4327</span>                 :<span class="tlaCBC">          14694 : int64_div_fast_to_numeric(int64 val1, int log10val2)</span></span>
<span id="L4328" title="Line 4328: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4328</span>                 :                : {</span>
<span id="L4329" title="Line 4329: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4329</span>                 :                :     Numeric     res;</span>
<span id="L4330" title="Line 4330: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4330</span>                 :                :     NumericVar  result;</span>
<span id="L4331" title="Line 4331: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4331</span>                 :                :     int         rscale;</span>
<span id="L4332" title="Line 4332: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4332</span>                 :                :     int         w;</span>
<span id="L4333" title="Line 4333: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4333</span>                 :                :     int         m;</span>
<span id="L4334" title="Line 4334: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4334</span>                 :                : </span>
<span id="L4335" title="Line 4335: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">  935 <a href="#L4344" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    4335</span>                 :<span class="tlaCBC">          14694 :     init_var(&amp;result);</span></span>
<span id="L4336" title="Line 4336: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4336</span>                 :                : </span>
<span id="L4337" title="Line 4337: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4337</span>                 :                :     /* result scale */</span>
<span id="L4338" title="Line 4338: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4338</span>                 :<span class="tlaCBC">          14694 :     rscale = log10val2 &lt; 0 ? 0 : log10val2;</span></span>
<span id="L4339" title="Line 4339: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4339</span>                 :                : </span>
<span id="L4340" title="Line 4340: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4340</span>                 :                :     /* how much to decrease the weight by */</span>
<span id="L4341" title="Line 4341: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org"> 1603 <a href="#L4355" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    4341</span>                 :<span class="tlaCBC">          14694 :     w = log10val2 / DEC_DIGITS;</span></span>
<span id="L4342" title="Line 4342: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4342</span>                 :                :     /* how much is left to divide by */</span>
<span id="L4343" title="Line 4343: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4343</span>                 :<span class="tlaCBC">          14694 :     m = log10val2 % DEC_DIGITS;</span></span>
<span id="L4344" title="Line 4344: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">  935 <a href="#L4366" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    4344</span>         [<span class="tlaUBC"> <a href="#L4355" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L4355" title="CBC: Branch 1 was taken 14694 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          14694 :     if (m &lt; 0)</span></span>
<span id="L4345" title="Line 4345: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4345</span>                 :                :     {</span>
<span id="L4346" title="Line 4346: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 935 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L4387" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">935</a> <a href="#L4387" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    4346</span>                 :<a href="#L4387" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         m += DEC_DIGITS;</span></span>
<span id="L4347" title="Line 4347: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 935 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    4347</span>                 :<span class="tlaUBC">              0 :         w--;</span></span>
<span id="L4348" title="Line 4348: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4348</span>                 :                :     }</span>
<span id="L4349" title="Line 4349: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4349</span>                 :                : </span>
<span id="L4350" title="Line 4350: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4350</span>                 :                :     /*</span>
<span id="L4351" title="Line 4351: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4351</span>                 :                :      * If there is anything left to divide by (10^m with 0 &lt; m &lt; DEC_DIGITS),</span>
<span id="L4352" title="Line 4352: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4352</span>                 :                :      * multiply the dividend by 10^(DEC_DIGITS - m), and shift the weight by</span>
<span id="L4353" title="Line 4353: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4353</span>                 :                :      * one more.</span>
<span id="L4354" title="Line 4354: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4354</span>                 :                :      */</span>
<span id="L4355" title="Line 4355: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org"> <a href="#L4379" title="next CBC in &ldquo;(360..) days&rdquo; bin">1603</a> <a href="#L4384" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    4355</span>         [<span class="tlaCBC"> <a href="#L4371" title="CBC: Branch 0 was taken 14694 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4418" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<a href="#L4379" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">       14694 :     if (m &gt; 0)</span></span>
<span id="L4356" title="Line 4356: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4356</span>                 :                :     {</span>
<span id="L4357" title="Line 4357: commit 9a84f2947bf9 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4357</span>                 :                : #if DEC_DIGITS == 4</span>
<span id="L4358" title="Line 4358: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4358</span>                 :                :         static const int pow10[] = {1, 10, 100, 1000};</span>
<span id="L4359" title="Line 4359: commit 9a84f2947bf9 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4359</span>                 :                : #elif DEC_DIGITS == 2</span>
<span id="L4360" title="Line 4360: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4360</span>                 :                :         static const int pow10[] = {1, 10};</span>
<span id="L4361" title="Line 4361: commit 9a84f2947bf9 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4361</span>                 :                : #elif DEC_DIGITS == 1</span>
<span id="L4362" title="Line 4362: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4362</span>                 :                :         static const int pow10[] = {1};</span>
<span id="L4363" title="Line 4363: commit 9a84f2947bf9 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4363</span>                 :                : #else</span>
<span id="L4364" title="Line 4364: commit 9a84f2947bf9 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4364</span>                 :                : #error unsupported NBASE</span>
<span id="L4365" title="Line 4365: commit 9a84f2947bf9 on 2023-02-02 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4365</span>                 :                : #endif</span>
<span id="L4366" title="Line 4366: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">  935 <a href="#L4379" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    4366</span>                 :<span class="tlaCBC">          14694 :         int64       factor = pow10[DEC_DIGITS - m];</span></span>
<span id="L4367" title="Line 4367: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4367</span>                 :                :         int64       new_val1;</span>
<span id="L4368" title="Line 4368: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4368</span>                 :                : </span>
<span id="L4369" title="Line 4369: commit 75f49221c222 on 2022-12-08 by peter@eisentraut.org">                           <span class="lineNum">    4369</span>                 :                :         StaticAssertDecl(lengthof(pow10) == DEC_DIGITS, &quot;mismatch with DEC_DIGITS&quot;);</span>
<span id="L4370" title="Line 4370: commit 75f49221c222 on 2022-12-08 by peter@eisentraut.org">                           <span class="lineNum">    4370</span>                 :                : </span>
<span id="L4371" title="Line 4371: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4371</span>         [<span class="tlaCBC"> <a href="#L4413" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4413" title="CBC: Branch 1 was taken 14688 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          14694 :         if (unlikely(pg_mul_s64_overflow(val1, factor, &amp;new_val1)))</span></span>
<span id="L4372" title="Line 4372: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4372</span>                 :                :         {</span>
<span id="L4373" title="Line 4373: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4373</span>                 :                :             /* do the multiplication using 128-bit integers */</span>
<span id="L4374" title="Line 4374: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4374</span>                 :                :             INT128      tmp;</span>
<span id="L4375" title="Line 4375: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNumWithDelete" title="removed line 4473 from baseline version">    4375</span>                 :                : </span>
<span id="L4376" title="Line 4376: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5530" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5530" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    4376</span>                 :<a href="#L5530" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">           6 :             tmp = int64_to_int128(0);</span></span>
<span id="L4377" title="Line 4377: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4377</span>                 :<span class="tlaGNC">              6 :             int128_add_int64_mul_int64(&amp;tmp, val1, factor);</span></span>
<span id="L4378" title="Line 4378: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4378</span>                 :                : </span>
<span id="L4379" title="Line 4379: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">  <a href="#L4389" title="next CBC in &ldquo;(360..) days&rdquo; bin">935</a> <a href="#L4390" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    4379</span>                 :<a href="#L4389" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           6 :             int128_to_numericvar(tmp, &amp;result);</span></span>
<span id="L4380" title="Line 4380: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4380</span>                 :                :         }</span>
<span id="L4381" title="Line 4381: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4381</span>                 :                :         else</span>
<span id="L4382" title="Line 4382: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4382</span>                 :<span class="tlaCBC">          14688 :             int64_to_numericvar(new_val1, &amp;result);</span></span>
<span id="L4383" title="Line 4383: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4383</span>                 :                : </span>
<span id="L4384" title="Line 4384: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org"> 1603 <a href="#L4389" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    4384</span>                 :<span class="tlaCBC">          14694 :         w++;</span></span>
<span id="L4385" title="Line 4385: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4385</span>                 :                :     }</span>
<span id="L4386" title="Line 4386: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4386</span>                 :                :     else</span>
<span id="L4387" title="Line 4387: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 935 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L4420" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">935</a> <a href="#L6865" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    4387</span>                 :<a href="#L4420" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         int64_to_numericvar(val1, &amp;result);</span></span>
<span id="L4388" title="Line 4388: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4388</span>                 :                : </span>
<span id="L4389" title="Line 4389: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org"> <a href="#L4425" title="next CBC in &ldquo;(360..) days&rdquo; bin">1603</a> <a href="#L4392" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    4389</span>                 :<a href="#L4425" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">       14694 :     result.weight -= w;</span></span>
<span id="L4390" title="Line 4390: commit b2d47928908d on 2023-02-03 by dean.a.rasheed@gmail.com">  935 <a href="#L4478" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    4390</span>                 :<span class="tlaCBC">          14694 :     result.dscale = rscale;</span></span>
<span id="L4391" title="Line 4391: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4391</span>                 :                : </span>
<span id="L4392" title="Line 4392: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org"> 1603 <a href="#L4492" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    4392</span>                 :<span class="tlaCBC">          14694 :     res = make_result(&amp;result);</span></span>
<span id="L4393" title="Line 4393: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4393</span>                 :                : </span>
<span id="L4394" title="Line 4394: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4394</span>                 :<span class="tlaCBC">          14694 :     free_var(&amp;result);</span></span>
<span id="L4395" title="Line 4395: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4395</span>                 :                : </span>
<span id="L4396" title="Line 4396: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4396</span>                 :<span class="tlaCBC">          14694 :     return res;</span></span>
<span id="L4397" title="Line 4397: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4397</span>                 :                : }</span>
<span id="L4398" title="Line 4398: commit a2da77cdb466 on 2021-04-06 by peter@eisentraut.org">                           <span class="lineNum">    4398</span>                 :                : </span>
<span id="L4399" title="Line 4399: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org">                           <span class="lineNum">    4399</span>                 :                : Datum</span>
<span id="L4400" title="Line 4400: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org"> 1812                      <span class="lineNum">    4400</span>                 :<span class="tlaCBC">         777173 : int4_numeric(PG_FUNCTION_ARGS)</span></span>
<span id="L4401" title="Line 4401: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org">                           <span class="lineNum">    4401</span>                 :                : {</span>
<span id="L4402" title="Line 4402: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org">                           <span class="lineNum">    4402</span>                 :<span class="tlaCBC">         777173 :     int32       val = PG_GETARG_INT32(0);</span></span>
<span id="L4403" title="Line 4403: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org">                           <span class="lineNum">    4403</span>                 :                : </span>
<span id="L4404" title="Line 4404: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org">                           <span class="lineNum">    4404</span>                 :<span class="tlaCBC">         777173 :     PG_RETURN_NUMERIC(int64_to_numeric(val));</span></span>
<span id="L4405" title="Line 4405: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4405</span>                 :                : }</span>
<span id="L4406" title="Line 4406: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4406</span>                 :                : </span>
<span id="L4407" title="Line 4407: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4407</span>                 :                : int32</span>
<span id="L4408" title="Line 4408: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L4418" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    4408</span>                 :<span class="tlaCBC">           3834 : numeric_int4_opt_error(Numeric num, bool *have_error)</span></span>
<span id="L4409" title="Line 4409: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4409</span>                 :                : {</span>
<span id="L4410" title="Line 4410: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4410</span>                 :                :     NumericVar  x;</span>
<span id="L4411" title="Line 4411: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4411</span>                 :                :     int32       result;</span>
<span id="L4412" title="Line 4412: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4412</span>                 :                : </span>
<span id="L4413" title="Line 4413: commit a76cfba663ce on 2019-08-05 by michael@paquier.xyz"> 2213 <a href="#L7604" title="next CBC in &ldquo;michael@paquier.xyz&rdquo; bin">michael@paquier.xyz</a>  <span class="lineNum">    4413</span>         [<span class="tlaCBC"> <a href="#L4416" title="CBC: Branch 0 was taken 792 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4416" title="CBC: Branch 1 was taken 3042 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3834 :     if (have_error)</span></span>
<span id="L4414" title="Line 4414: commit a76cfba663ce on 2019-08-05 by michael@paquier.xyz">                           <span class="lineNum">    4414</span>                 :<span class="tlaCBC">            792 :         *have_error = false;</span></span>
<span id="L4415" title="Line 4415: commit a76cfba663ce on 2019-08-05 by michael@paquier.xyz">                           <span class="lineNum">    4415</span>                 :                : </span>
<span id="L4416" title="Line 4416: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L4425" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4416</span>         [<span class="tlaCBC"> <a href="#L4418" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4418" title="CBC: Branch 1 was taken 3825 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3834 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L4417" title="Line 4417: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4417</span>                 :                :     {</span>
<span id="L4418" title="Line 4418: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L4439" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    4418</span>         [<span class="tlaUBC"> <a href="#L4426" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L4425" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :         if (have_error)</span></span>
<span id="L4419" title="Line 4419: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4419</span>                 :                :         {</span>
<span id="L4420" title="Line 4420: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"><span title="akorotkov@postgresql.org 2355 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L4508" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">2355</a> <a href="#top" title="next UBC in &ldquo;akorotkov@postgresql.org&rdquo; bin" class="tlaBgUBC">akorotkov@postgresql</a></span> <span class="lineNum">    4420</span>                 :<a href="#L4508" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             *have_error = true;</span></span>
<span id="L4421" title="Line 4421: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"><span title="akorotkov@postgresql.org 2355 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    4421</span>                 :<span class="tlaUBC">              0 :             return 0;</span></span>
<span id="L4422" title="Line 4422: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4422</span>                 :                :         }</span>
<span id="L4423" title="Line 4423: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4423</span>                 :                :         else</span>
<span id="L4424" title="Line 4424: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4424</span>                 :                :         {</span>
<span id="L4425" title="Line 4425: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L4513" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L4488" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4425</span>         [<span class="tlaCBC"> <a href="#L4426" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4426" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<a href="#L4513" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           9 :             if (NUMERIC_IS_NAN(num))</span></span>
<span id="L4426" title="Line 4426: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4426</span>         [<span class="tlaCBC"> <a href="#L4430" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4430" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :                 ereport(ERROR,</span></span>
<span id="L4427" title="Line 4427: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4427</span>                 :                :                         (errcode(ERRCODE_FEATURE_NOT_SUPPORTED),</span>
<span id="L4428" title="Line 4428: commit c302a6139072 on 2021-06-27 by peter@eisentraut.org">                           <span class="lineNum">    4428</span>                 :                :                          errmsg(&quot;cannot convert NaN to %s&quot;, &quot;integer&quot;)));</span>
<span id="L4429" title="Line 4429: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4429</span>                 :                :             else</span>
<span id="L4430" title="Line 4430: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4430</span>         [<span class="tlaCBC"> <a href="#L4439" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4448" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              6 :                 ereport(ERROR,</span></span>
<span id="L4431" title="Line 4431: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4431</span>                 :                :                         (errcode(ERRCODE_FEATURE_NOT_SUPPORTED),</span>
<span id="L4432" title="Line 4432: commit c302a6139072 on 2021-06-27 by peter@eisentraut.org">                           <span class="lineNum">    4432</span>                 :                :                          errmsg(&quot;cannot convert infinity to %s&quot;, &quot;integer&quot;)));</span>
<span id="L4433" title="Line 4433: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4433</span>                 :                :         }</span>
<span id="L4434" title="Line 4434: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4434</span>                 :                :     }</span>
<span id="L4435" title="Line 4435: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4435</span>                 :                : </span>
<span id="L4436" title="Line 4436: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    4436</span>                 :                :     /* Convert to variable format, then convert to int4 */</span>
<span id="L4437" title="Line 4437: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L4525" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    4437</span>                 :<span class="tlaCBC">           3825 :     init_var_from_num(num, &amp;x);</span></span>
<span id="L4438" title="Line 4438: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4438</span>                 :                : </span>
<span id="L4439" title="Line 4439: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L4476" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    4439</span>         [<span class="tlaCBC"> <a href="#L4441" title="CBC: Branch 0 was taken 45 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4441" title="CBC: Branch 1 was taken 3780 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3825 :     if (!numericvar_to_int32(&amp;x, &amp;result))</span></span>
<span id="L4440" title="Line 4440: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4440</span>                 :                :     {</span>
<span id="L4441" title="Line 4441: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4441</span>         [<span class="tlaCBC"> <a href="#L4448" title="CBC: Branch 0 was taken 39 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4448" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             45 :         if (have_error)</span></span>
<span id="L4442" title="Line 4442: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4442</span>                 :                :         {</span>
<span id="L4443" title="Line 4443: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4443</span>                 :<span class="tlaCBC">             39 :             *have_error = true;</span></span>
<span id="L4444" title="Line 4444: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4444</span>                 :<span class="tlaCBC">             39 :             return 0;</span></span>
<span id="L4445" title="Line 4445: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4445</span>                 :                :         }</span>
<span id="L4446" title="Line 4446: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4446</span>                 :                :         else</span>
<span id="L4447" title="Line 4447: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4447</span>                 :                :         {</span>
<span id="L4448" title="Line 4448: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4448</span>         [<span class="tlaCBC"> <a href="#L4475" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4506" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              6 :             ereport(ERROR,</span></span>
<span id="L4449" title="Line 4449: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4449</span>                 :                :                     (errcode(ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE),</span>
<span id="L4450" title="Line 4450: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4450</span>                 :                :                      errmsg(&quot;integer out of range&quot;)));</span>
<span id="L4451" title="Line 4451: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4451</span>                 :                :         }</span>
<span id="L4452" title="Line 4452: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4452</span>                 :                :     }</span>
<span id="L4453" title="Line 4453: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4453</span>                 :                : </span>
<span id="L4454" title="Line 4454: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4454</span>                 :<span class="tlaCBC">           3780 :     return result;</span></span>
<span id="L4455" title="Line 4455: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4455</span>                 :                : }</span>
<span id="L4456" title="Line 4456: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4456</span>                 :                : </span>
<span id="L4457" title="Line 4457: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4457</span>                 :                : Datum</span>
<span id="L4458" title="Line 4458: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4458</span>                 :<span class="tlaCBC">           3042 : numeric_int4(PG_FUNCTION_ARGS)</span></span>
<span id="L4459" title="Line 4459: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4459</span>                 :                : {</span>
<span id="L4460" title="Line 4460: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4460</span>                 :<span class="tlaCBC">           3042 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L4461" title="Line 4461: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4461</span>                 :                : </span>
<span id="L4462" title="Line 4462: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4462</span>                 :<span class="tlaCBC">           3042 :     PG_RETURN_INT32(numeric_int4_opt_error(num, NULL));</span></span>
<span id="L4463" title="Line 4463: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    4463</span>                 :                : }</span>
<span id="L4464" title="Line 4464: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    4464</span>                 :                : </span>
<span id="L4465" title="Line 4465: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    4465</span>                 :                : /*</span>
<span id="L4466" title="Line 4466: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    4466</span>                 :                :  * Given a NumericVar, convert it to an int32. If the NumericVar</span>
<span id="L4467" title="Line 4467: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4467</span>                 :                :  * exceeds the range of an int32, false is returned, otherwise true is returned.</span>
<span id="L4468" title="Line 4468: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4468</span>                 :                :  * The input NumericVar is *not* free'd.</span>
<span id="L4469" title="Line 4469: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    4469</span>                 :                :  */</span>
<span id="L4470" title="Line 4470: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4470</span>                 :                : static bool</span>
<span id="L4471" title="Line 4471: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    4471</span>                 :<span class="tlaCBC">           4197 : numericvar_to_int32(const NumericVar *var, int32 *result)</span></span>
<span id="L4472" title="Line 4472: commit 0079547bcbed on 2004-05-14 by neilc@samurai.com">                           <span class="lineNum">    4472</span>                 :                : {</span>
<span id="L4473" title="Line 4473: commit b6b71b85bc45 on 2004-08-29 by bruce@momjian.us">                           <span class="lineNum">    4473</span>                 :                :     int64       val;</span>
<span id="L4474" title="Line 4474: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4474</span>                 :                : </span>
<span id="L4475" title="Line 4475: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> 3812 <a href="#L4527" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    4475</span>         [<span class="tlaCBC"> <a href="#L4478" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4478" title="CBC: Branch 1 was taken 4194 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           4197 :     if (!numericvar_to_int64(var, &amp;val))</span></span>
<span id="L4476" title="Line 4476: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L4482" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    4476</span>                 :<span class="tlaCBC">              3 :         return false;</span></span>
<span id="L4477" title="Line 4477: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4477</span>                 :                : </span>
<span id="L4478" title="Line 4478: commit 2642df9fac09 on 2021-08-06 by dean.a.rasheed@gmail.com"> 1481 <a href="#L4484" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    4478</span>   [<span class="tlaCBC"> <a href="#L4501" title="CBC: Branch 0 was taken 4191 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4501" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4501" title="CBC: Branch 2 was taken 39 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4501" title="CBC: Branch 3 was taken 4152 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           4194 :     if (unlikely(val &lt; PG_INT32_MIN) || unlikely(val &gt; PG_INT32_MAX))</span></span>
<span id="L4479" title="Line 4479: commit 2642df9fac09 on 2021-08-06 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4479</span>                 :<span class="tlaCBC">             42 :         return false;</span></span>
<span id="L4480" title="Line 4480: commit 2642df9fac09 on 2021-08-06 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4480</span>                 :                : </span>
<span id="L4481" title="Line 4481: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4481</span>                 :                :     /* Down-convert to int4 */</span>
<span id="L4482" title="Line 4482: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L7595" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    4482</span>                 :<span class="tlaCBC">           4152 :     *result = (int32) val;</span></span>
<span id="L4483" title="Line 4483: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4483</span>                 :                : </span>
<span id="L4484" title="Line 4484: commit 2642df9fac09 on 2021-08-06 by dean.a.rasheed@gmail.com"> 1481 <a href="#L4591" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    4484</span>                 :<span class="tlaCBC">           4152 :     return true;</span></span>
<span id="L4485" title="Line 4485: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4485</span>                 :                : }</span>
<span id="L4486" title="Line 4486: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4486</span>                 :                : </span>
<span id="L4487" title="Line 4487: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4487</span>                 :                : Datum</span>
<span id="L4488" title="Line 4488: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L4504" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4488</span>                 :<span class="tlaCBC">          18425 : int8_numeric(PG_FUNCTION_ARGS)</span></span>
<span id="L4489" title="Line 4489: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4489</span>                 :                : {</span>
<span id="L4490" title="Line 4490: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">    4490</span>                 :<span class="tlaCBC">          18425 :     int64       val = PG_GETARG_INT64(0);</span></span>
<span id="L4491" title="Line 4491: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4491</span>                 :                : </span>
<span id="L4492" title="Line 4492: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org"> 1812 <a href="#L4506" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    4492</span>                 :<span class="tlaCBC">          18425 :     PG_RETURN_NUMERIC(int64_to_numeric(val));</span></span>
<span id="L4493" title="Line 4493: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4493</span>                 :                : }</span>
<span id="L4494" title="Line 4494: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4494</span>                 :                : </span>
<span id="L4495" title="Line 4495: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4495</span>                 :                : int64</span>
<span id="L4496" title="Line 4496: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">  601                      <span class="lineNum">    4496</span>                 :<span class="tlaCBC">            285 : numeric_int8_opt_error(Numeric num, bool *have_error)</span></span>
<span id="L4497" title="Line 4497: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4497</span>                 :                : {</span>
<span id="L4498" title="Line 4498: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4498</span>                 :                :     NumericVar  x;</span>
<span id="L4499" title="Line 4499: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4499</span>                 :                :     int64       result;</span>
<span id="L4500" title="Line 4500: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4500</span>                 :                : </span>
<span id="L4501" title="Line 4501: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4501</span>         [<span class="tlaCBC"> <a href="#L4504" title="CBC: Branch 0 was taken 24 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4504" title="CBC: Branch 1 was taken 261 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            285 :     if (have_error)</span></span>
<span id="L4502" title="Line 4502: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4502</span>                 :<span class="tlaCBC">             24 :         *have_error = false;</span></span>
<span id="L4503" title="Line 4503: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4503</span>                 :                : </span>
<span id="L4504" title="Line 4504: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L4555" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4504</span>         [<span class="tlaCBC"> <a href="#L4506" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4506" title="CBC: Branch 1 was taken 276 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            285 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L4505" title="Line 4505: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4505</span>                 :                :     {</span>
<span id="L4506" title="Line 4506: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">  601 <a href="#L4513" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    4506</span>         [<span class="tlaUBC"> <a href="#L4514" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L4513" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :         if (have_error)</span></span>
<span id="L4507" title="Line 4507: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4507</span>                 :                :         {</span>
<span id="L4508" title="Line 4508: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org"><span title="peter@eisentraut.org 601 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L4587" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">601</a> <a href="#L6432" title="next UBC in &ldquo;peter@eisentraut.org&rdquo; bin" class="tlaBgUBC">peter@eisentraut.org</a></span> <span class="lineNum">    4508</span>                 :<a href="#L4587" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             *have_error = true;</span></span>
<span id="L4509" title="Line 4509: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org"><span title="peter@eisentraut.org 601 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    4509</span>                 :<span class="tlaUBC">              0 :             return 0;</span></span>
<span id="L4510" title="Line 4510: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4510</span>                 :                :         }</span>
<span id="L4511" title="Line 4511: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4511</span>                 :                :         else</span>
<span id="L4512" title="Line 4512: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4512</span>                 :                :         {</span>
<span id="L4513" title="Line 4513: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">  <a href="#L4591" title="next CBC in &ldquo;(360..) days&rdquo; bin">601</a> <a href="#L4529" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    4513</span>         [<span class="tlaCBC"> <a href="#L4514" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4514" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<a href="#L4591" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           9 :             if (NUMERIC_IS_NAN(num))</span></span>
<span id="L4514" title="Line 4514: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4514</span>         [<span class="tlaCBC"> <a href="#L4518" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4518" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :                 ereport(ERROR,</span></span>
<span id="L4515" title="Line 4515: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4515</span>                 :                :                         (errcode(ERRCODE_FEATURE_NOT_SUPPORTED),</span>
<span id="L4516" title="Line 4516: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4516</span>                 :                :                          errmsg(&quot;cannot convert NaN to %s&quot;, &quot;bigint&quot;)));</span>
<span id="L4517" title="Line 4517: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4517</span>                 :                :             else</span>
<span id="L4518" title="Line 4518: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4518</span>         [<span class="tlaCBC"> <a href="#L4527" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4536" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              6 :                 ereport(ERROR,</span></span>
<span id="L4519" title="Line 4519: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4519</span>                 :                :                         (errcode(ERRCODE_FEATURE_NOT_SUPPORTED),</span>
<span id="L4520" title="Line 4520: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4520</span>                 :                :                          errmsg(&quot;cannot convert infinity to %s&quot;, &quot;bigint&quot;)));</span>
<span id="L4521" title="Line 4521: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4521</span>                 :                :         }</span>
<span id="L4522" title="Line 4522: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4522</span>                 :                :     }</span>
<span id="L4523" title="Line 4523: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4523</span>                 :                : </span>
<span id="L4524" title="Line 4524: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4524</span>                 :                :     /* Convert to variable format, then convert to int8 */</span>
<span id="L4525" title="Line 4525: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L4584" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    4525</span>                 :<span class="tlaCBC">            276 :     init_var_from_num(num, &amp;x);</span></span>
<span id="L4526" title="Line 4526: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4526</span>                 :                : </span>
<span id="L4527" title="Line 4527: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> 3812 <a href="#L4586" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    4527</span>         [<span class="tlaCBC"> <a href="#L4529" title="CBC: Branch 0 was taken 30 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4529" title="CBC: Branch 1 was taken 246 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            276 :     if (!numericvar_to_int64(&amp;x, &amp;result))</span></span>
<span id="L4528" title="Line 4528: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4528</span>                 :                :     {</span>
<span id="L4529" title="Line 4529: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">  601 <a href="#L4559" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    4529</span>         [<span class="tlaCBC"> <a href="#L4536" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4536" title="CBC: Branch 1 was taken 24 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             30 :         if (have_error)</span></span>
<span id="L4530" title="Line 4530: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4530</span>                 :                :         {</span>
<span id="L4531" title="Line 4531: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4531</span>                 :<span class="tlaCBC">              6 :             *have_error = true;</span></span>
<span id="L4532" title="Line 4532: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4532</span>                 :<span class="tlaCBC">              6 :             return 0;</span></span>
<span id="L4533" title="Line 4533: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4533</span>                 :                :         }</span>
<span id="L4534" title="Line 4534: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4534</span>                 :                :         else</span>
<span id="L4535" title="Line 4535: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4535</span>                 :                :         {</span>
<span id="L4536" title="Line 4536: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4536</span>         [<span class="tlaCBC"> <a href="#L4571" title="CBC: Branch 0 was taken 24 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4574" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             24 :             ereport(ERROR,</span></span>
<span id="L4537" title="Line 4537: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4537</span>                 :                :                     (errcode(ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE),</span>
<span id="L4538" title="Line 4538: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4538</span>                 :                :                      errmsg(&quot;bigint out of range&quot;)));</span>
<span id="L4539" title="Line 4539: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4539</span>                 :                :         }</span>
<span id="L4540" title="Line 4540: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4540</span>                 :                :     }</span>
<span id="L4541" title="Line 4541: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4541</span>                 :                : </span>
<span id="L4542" title="Line 4542: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4542</span>                 :<span class="tlaCBC">            246 :     return result;</span></span>
<span id="L4543" title="Line 4543: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4543</span>                 :                : }</span>
<span id="L4544" title="Line 4544: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4544</span>                 :                : </span>
<span id="L4545" title="Line 4545: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4545</span>                 :                : Datum</span>
<span id="L4546" title="Line 4546: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4546</span>                 :<span class="tlaCBC">            261 : numeric_int8(PG_FUNCTION_ARGS)</span></span>
<span id="L4547" title="Line 4547: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4547</span>                 :                : {</span>
<span id="L4548" title="Line 4548: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4548</span>                 :<span class="tlaCBC">            261 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L4549" title="Line 4549: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4549</span>                 :                : </span>
<span id="L4550" title="Line 4550: commit c1b9e1e56d8c on 2024-01-03 by peter@eisentraut.org">                           <span class="lineNum">    4550</span>                 :<span class="tlaCBC">            261 :     PG_RETURN_INT64(numeric_int8_opt_error(num, NULL));</span></span>
<span id="L4551" title="Line 4551: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4551</span>                 :                : }</span>
<span id="L4552" title="Line 4552: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4552</span>                 :                : </span>
<span id="L4553" title="Line 4553: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4553</span>                 :                : </span>
<span id="L4554" title="Line 4554: commit 48165ec2262b on 2000-06-05 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4554</span>                 :                : Datum</span>
<span id="L4555" title="Line 4555: commit 48165ec2262b on 2000-06-05 by tgl@sss.pgh.pa.us"> 9213 <a href="#L4564" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4555</span>                 :<span class="tlaCBC">              3 : int2_numeric(PG_FUNCTION_ARGS)</span></span>
<span id="L4556" title="Line 4556: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4556</span>                 :                : {</span>
<span id="L4557" title="Line 4557: commit 48165ec2262b on 2000-06-05 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4557</span>                 :<span class="tlaCBC">              3 :     int16       val = PG_GETARG_INT16(0);</span></span>
<span id="L4558" title="Line 4558: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4558</span>                 :                : </span>
<span id="L4559" title="Line 4559: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org"> 1812 <a href="#L5598" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    4559</span>                 :<span class="tlaCBC">              3 :     PG_RETURN_NUMERIC(int64_to_numeric(val));</span></span>
<span id="L4560" title="Line 4560: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4560</span>                 :                : }</span>
<span id="L4561" title="Line 4561: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4561</span>                 :                : </span>
<span id="L4562" title="Line 4562: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4562</span>                 :                : </span>
<span id="L4563" title="Line 4563: commit 48165ec2262b on 2000-06-05 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4563</span>                 :                : Datum</span>
<span id="L4564" title="Line 4564: commit 48165ec2262b on 2000-06-05 by tgl@sss.pgh.pa.us"> 9213 <a href="#L4592" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4564</span>                 :<span class="tlaCBC">             51 : numeric_int2(PG_FUNCTION_ARGS)</span></span>
<span id="L4565" title="Line 4565: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4565</span>                 :                : {</span>
<span id="L4566" title="Line 4566: commit 48165ec2262b on 2000-06-05 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4566</span>                 :<span class="tlaCBC">             51 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L4567" title="Line 4567: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4567</span>                 :                :     NumericVar  x;</span>
<span id="L4568" title="Line 4568: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4568</span>                 :                :     int64       val;</span>
<span id="L4569" title="Line 4569: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4569</span>                 :                :     int16       result;</span>
<span id="L4570" title="Line 4570: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4570</span>                 :                : </span>
<span id="L4571" title="Line 4571: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    4571</span>         [<span class="tlaCBC"> <a href="#L4573" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4573" title="CBC: Branch 1 was taken 42 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             51 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L4572" title="Line 4572: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4572</span>                 :                :     {</span>
<span id="L4573" title="Line 4573: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4573</span>         [<span class="tlaCBC"> <a href="#L4574" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4574" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :         if (NUMERIC_IS_NAN(num))</span></span>
<span id="L4574" title="Line 4574: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4574</span>         [<span class="tlaCBC"> <a href="#L4578" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4578" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :             ereport(ERROR,</span></span>
<span id="L4575" title="Line 4575: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4575</span>                 :                :                     (errcode(ERRCODE_FEATURE_NOT_SUPPORTED),</span>
<span id="L4576" title="Line 4576: commit c302a6139072 on 2021-06-27 by peter@eisentraut.org">                           <span class="lineNum">    4576</span>                 :                :                      errmsg(&quot;cannot convert NaN to %s&quot;, &quot;smallint&quot;)));</span>
<span id="L4577" title="Line 4577: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4577</span>                 :                :         else</span>
<span id="L4578" title="Line 4578: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4578</span>         [<span class="tlaCBC"> <a href="#L4586" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4586" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              6 :             ereport(ERROR,</span></span>
<span id="L4579" title="Line 4579: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4579</span>                 :                :                     (errcode(ERRCODE_FEATURE_NOT_SUPPORTED),</span>
<span id="L4580" title="Line 4580: commit c302a6139072 on 2021-06-27 by peter@eisentraut.org">                           <span class="lineNum">    4580</span>                 :                :                      errmsg(&quot;cannot convert infinity to %s&quot;, &quot;smallint&quot;)));</span>
<span id="L4581" title="Line 4581: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4581</span>                 :                :     }</span>
<span id="L4582" title="Line 4582: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4582</span>                 :                : </span>
<span id="L4583" title="Line 4583: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4583</span>                 :                :     /* Convert to variable format and thence to int8 */</span>
<span id="L4584" title="Line 4584: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L4911" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    4584</span>                 :<span class="tlaCBC">             42 :     init_var_from_num(num, &amp;x);</span></span>
<span id="L4585" title="Line 4585: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4585</span>                 :                : </span>
<span id="L4586" title="Line 4586: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> 3812 <a href="#L5240" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    4586</span>         [<span class="tlaUBC"> <a href="#L4587" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L4591" title="CBC: Branch 1 was taken 42 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             42 :     if (!numericvar_to_int64(&amp;x, &amp;val))</span></span>
<span id="L4587" title="Line 4587: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 8066 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L4679" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">8066</a> </span><a href="#L4679" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 8066 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    4587</span>         [<span class="tlaUBC"> <a href="#L4592" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L4592" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L4679" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         ereport(ERROR,</span></span>
<span id="L4588" title="Line 4588: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4588</span>                 :                :                 (errcode(ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE),</span>
<span id="L4589" title="Line 4589: commit 4171bb869f23 on 2004-10-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4589</span>                 :                :                  errmsg(&quot;smallint out of range&quot;)));</span>
<span id="L4590" title="Line 4590: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4590</span>                 :                : </span>
<span id="L4591" title="Line 4591: commit 2642df9fac09 on 2021-08-06 by dean.a.rasheed@gmail.com"> <a href="#L4690" title="next CBC in &ldquo;(360..) days&rdquo; bin">1481</a> <a href="#L4597" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    4591</span>   [<span class="tlaCBC"> <a href="#L4592" title="CBC: Branch 0 was taken 39 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4592" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4592" title="CBC: Branch 2 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4592" title="CBC: Branch 3 was taken 36 times" class="branchTla">+</a> </span>]:<a href="#L4690" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          42 :     if (unlikely(val &lt; PG_INT16_MIN) || unlikely(val &gt; PG_INT16_MAX))</span></span>
<span id="L4592" title="Line 4592: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us"> 8066 <a href="#L4599" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4592</span>         [<span class="tlaCBC"> <a href="#L4612" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4677" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              6 :         ereport(ERROR,</span></span>
<span id="L4593" title="Line 4593: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4593</span>                 :                :                 (errcode(ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE),</span>
<span id="L4594" title="Line 4594: commit 4171bb869f23 on 2004-10-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4594</span>                 :                :                  errmsg(&quot;smallint out of range&quot;)));</span>
<span id="L4595" title="Line 4595: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4595</span>                 :                : </span>
<span id="L4596" title="Line 4596: commit 2642df9fac09 on 2021-08-06 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4596</span>                 :                :     /* Down-convert to int2 */</span>
<span id="L4597" title="Line 4597: commit 2642df9fac09 on 2021-08-06 by dean.a.rasheed@gmail.com"> 1481 <a href="#L5236" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    4597</span>                 :<span class="tlaCBC">             36 :     result = (int16) val;</span></span>
<span id="L4598" title="Line 4598: commit 2642df9fac09 on 2021-08-06 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4598</span>                 :                : </span>
<span id="L4599" title="Line 4599: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L4628" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4599</span>                 :<span class="tlaCBC">             36 :     PG_RETURN_INT16(result);</span></span>
<span id="L4600" title="Line 4600: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4600</span>                 :                : }</span>
<span id="L4601" title="Line 4601: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4601</span>                 :                : </span>
<span id="L4602" title="Line 4602: commit 9110b33f46bf on 2000-02-24 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4602</span>                 :                : </span>
<span id="L4603" title="Line 4603: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4603</span>                 :                : Datum</span>
<span id="L4604" title="Line 4604: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159                      <span class="lineNum">    4604</span>                 :<span class="tlaCBC">            537 : float8_numeric(PG_FUNCTION_ARGS)</span></span>
<span id="L4605" title="Line 4605: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4605</span>                 :                : {</span>
<span id="L4606" title="Line 4606: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4606</span>                 :<span class="tlaCBC">            537 :     float8      val = PG_GETARG_FLOAT8(0);</span></span>
<span id="L4607" title="Line 4607: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4607</span>                 :                :     Numeric     res;</span>
<span id="L4608" title="Line 4608: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4608</span>                 :                :     NumericVar  result;</span>
<span id="L4609" title="Line 4609: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4609</span>                 :                :     char        buf[DBL_DIG + 100];</span>
<span id="L4610" title="Line 4610: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4610</span>                 :                :     const char *endptr;</span>
<span id="L4611" title="Line 4611: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4611</span>                 :                : </span>
<span id="L4612" title="Line 4612: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4612</span>         [<span class="tlaCBC"> <a href="#L4615" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4615" title="CBC: Branch 1 was taken 534 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            537 :     if (isnan(val))</span></span>
<span id="L4613" title="Line 4613: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4613</span>                 :<span class="tlaCBC">              3 :         PG_RETURN_NUMERIC(make_result(&amp;const_nan));</span></span>
<span id="L4614" title="Line 4614: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4614</span>                 :                : </span>
<span id="L4615" title="Line 4615: commit 7769fc000aa3 on 2017-09-27 by tgl@sss.pgh.pa.us"> 2890                      <span class="lineNum">    4615</span>         [<span class="tlaCBC"> <a href="#L4617" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4617" title="CBC: Branch 1 was taken 528 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            534 :     if (isinf(val))</span></span>
<span id="L4616" title="Line 4616: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4616</span>                 :                :     {</span>
<span id="L4617" title="Line 4617: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    4617</span>         [<span class="tlaCBC"> <a href="#L4645" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4645" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              6 :         if (val &lt; 0)</span></span>
<span id="L4618" title="Line 4618: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4618</span>                 :<span class="tlaCBC">              3 :             PG_RETURN_NUMERIC(make_result(&amp;const_ninf));</span></span>
<span id="L4619" title="Line 4619: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4619</span>                 :                :         else</span>
<span id="L4620" title="Line 4620: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4620</span>                 :<span class="tlaCBC">              3 :             PG_RETURN_NUMERIC(make_result(&amp;const_pinf));</span></span>
<span id="L4621" title="Line 4621: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4621</span>                 :                :     }</span>
<span id="L4622" title="Line 4622: commit 7769fc000aa3 on 2017-09-27 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4622</span>                 :                : </span>
<span id="L4623" title="Line 4623: commit 7769fc000aa3 on 2017-09-27 by tgl@sss.pgh.pa.us"> 2890                      <span class="lineNum">    4623</span>                 :<span class="tlaCBC">            528 :     snprintf(buf, sizeof(buf), &quot;%.*g&quot;, DBL_DIG, val);</span></span>
<span id="L4624" title="Line 4624: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4624</span>                 :                : </span>
<span id="L4625" title="Line 4625: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L4630" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    4625</span>                 :<span class="tlaCBC">            528 :     init_var(&amp;result);</span></span>
<span id="L4626" title="Line 4626: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4626</span>                 :                : </span>
<span id="L4627" title="Line 4627: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4627</span>                 :                :     /* Assume we need not worry about leading/trailing spaces */</span>
<span id="L4628" title="Line 4628: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">  991 <a href="#L4634" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4628</span>                 :<span class="tlaCBC">            528 :     (void) set_var_from_str(buf, buf, &amp;result, &amp;endptr, NULL);</span></span>
<span id="L4629" title="Line 4629: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4629</span>                 :                : </span>
<span id="L4630" title="Line 4630: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L4660" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    4630</span>                 :<span class="tlaCBC">            528 :     res = make_result(&amp;result);</span></span>
<span id="L4631" title="Line 4631: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4631</span>                 :                : </span>
<span id="L4632" title="Line 4632: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4632</span>                 :<span class="tlaCBC">            528 :     free_var(&amp;result);</span></span>
<span id="L4633" title="Line 4633: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4633</span>                 :                : </span>
<span id="L4634" title="Line 4634: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L4662" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4634</span>                 :<span class="tlaCBC">            528 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L4635" title="Line 4635: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4635</span>                 :                : }</span>
<span id="L4636" title="Line 4636: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4636</span>                 :                : </span>
<span id="L4637" title="Line 4637: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4637</span>                 :                : </span>
<span id="L4638" title="Line 4638: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4638</span>                 :                : Datum</span>
<span id="L4639" title="Line 4639: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4639</span>                 :<span class="tlaCBC">         259976 : numeric_float8(PG_FUNCTION_ARGS)</span></span>
<span id="L4640" title="Line 4640: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4640</span>                 :                : {</span>
<span id="L4641" title="Line 4641: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4641</span>                 :<span class="tlaCBC">         259976 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L4642" title="Line 4642: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    4642</span>                 :                :     char       *tmp;</span>
<span id="L4643" title="Line 4643: commit 463f1f5cdaec on 2000-08-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4643</span>                 :                :     Datum       result;</span>
<span id="L4644" title="Line 4644: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4644</span>                 :                : </span>
<span id="L4645" title="Line 4645: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    4645</span>         [<span class="tlaCBC"> <a href="#L4647" title="CBC: Branch 0 was taken 39 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4647" title="CBC: Branch 1 was taken 259937 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         259976 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L4646" title="Line 4646: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4646</span>                 :                :     {</span>
<span id="L4647" title="Line 4647: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4647</span>         [<span class="tlaCBC"> <a href="#L4649" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4649" title="CBC: Branch 1 was taken 27 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             39 :         if (NUMERIC_IS_PINF(num))</span></span>
<span id="L4648" title="Line 4648: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4648</span>                 :<span class="tlaCBC">             12 :             PG_RETURN_FLOAT8(get_float8_infinity());</span></span>
<span id="L4649" title="Line 4649: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4649</span>         [<span class="tlaCBC"> <a href="#L4677" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4677" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             27 :         else if (NUMERIC_IS_NINF(num))</span></span>
<span id="L4650" title="Line 4650: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4650</span>                 :<span class="tlaCBC">             12 :             PG_RETURN_FLOAT8(-get_float8_infinity());</span></span>
<span id="L4651" title="Line 4651: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4651</span>                 :                :         else</span>
<span id="L4652" title="Line 4652: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4652</span>                 :<span class="tlaCBC">             15 :             PG_RETURN_FLOAT8(get_float8_nan());</span></span>
<span id="L4653" title="Line 4653: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4653</span>                 :                :     }</span>
<span id="L4654" title="Line 4654: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4654</span>                 :                : </span>
<span id="L4655" title="Line 4655: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us"> 9205                      <span class="lineNum">    4655</span>                 :<span class="tlaCBC">         259937 :     tmp = DatumGetCString(DirectFunctionCall1(numeric_out,</span></span>
<span id="L4656" title="Line 4656: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4656</span>                 :                :                                               NumericGetDatum(num)));</span>
<span id="L4657" title="Line 4657: commit 463f1f5cdaec on 2000-08-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4657</span>                 :                : </span>
<span id="L4658" title="Line 4658: commit 463f1f5cdaec on 2000-08-01 by tgl@sss.pgh.pa.us"> 9156                      <span class="lineNum">    4658</span>                 :<span class="tlaCBC">         259937 :     result = DirectFunctionCall1(float8in, CStringGetDatum(tmp));</span></span>
<span id="L4659" title="Line 4659: commit 463f1f5cdaec on 2000-08-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4659</span>                 :                : </span>
<span id="L4660" title="Line 4660: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L4719" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    4660</span>                 :<span class="tlaCBC">         259937 :     pfree(tmp);</span></span>
<span id="L4661" title="Line 4661: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4661</span>                 :                : </span>
<span id="L4662" title="Line 4662: commit 463f1f5cdaec on 2000-08-01 by tgl@sss.pgh.pa.us"> 9156 <a href="#L4690" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4662</span>                 :<span class="tlaCBC">         259937 :     PG_RETURN_DATUM(result);</span></span>
<span id="L4663" title="Line 4663: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4663</span>                 :                : }</span>
<span id="L4664" title="Line 4664: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4664</span>                 :                : </span>
<span id="L4665" title="Line 4665: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4665</span>                 :                : </span>
<span id="L4666" title="Line 4666: commit 352a24a1f9d6 on 2016-12-28 by peter_e@gmx.net">                           <span class="lineNum">    4666</span>                 :                : /*</span>
<span id="L4667" title="Line 4667: commit 352a24a1f9d6 on 2016-12-28 by peter_e@gmx.net">                           <span class="lineNum">    4667</span>                 :                :  * Convert numeric to float8; if out of range, return +/- HUGE_VAL</span>
<span id="L4668" title="Line 4668: commit 352a24a1f9d6 on 2016-12-28 by peter_e@gmx.net">                           <span class="lineNum">    4668</span>                 :                :  *</span>
<span id="L4669" title="Line 4669: commit 352a24a1f9d6 on 2016-12-28 by peter_e@gmx.net">                           <span class="lineNum">    4669</span>                 :                :  * (internal helper function, not directly callable from SQL)</span>
<span id="L4670" title="Line 4670: commit 352a24a1f9d6 on 2016-12-28 by peter_e@gmx.net">                           <span class="lineNum">    4670</span>                 :                :  */</span>
<span id="L4671" title="Line 4671: commit e482dcb0a438 on 2001-10-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4671</span>                 :                : Datum</span>
<span id="L4672" title="Line 4672: commit e482dcb0a438 on 2001-10-13 by tgl@sss.pgh.pa.us"> 8718                      <span class="lineNum">    4672</span>                 :<span class="tlaCBC">             17 : numeric_float8_no_overflow(PG_FUNCTION_ARGS)</span></span>
<span id="L4673" title="Line 4673: commit e482dcb0a438 on 2001-10-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4673</span>                 :                : {</span>
<span id="L4674" title="Line 4674: commit e482dcb0a438 on 2001-10-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4674</span>                 :<span class="tlaCBC">             17 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L4675" title="Line 4675: commit e482dcb0a438 on 2001-10-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4675</span>                 :                :     double      val;</span>
<span id="L4676" title="Line 4676: commit e482dcb0a438 on 2001-10-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4676</span>                 :                : </span>
<span id="L4677" title="Line 4677: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    4677</span>         [<span class="tlaUBC"> <a href="#L4679" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L4706" title="CBC: Branch 1 was taken 17 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             17 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L4678" title="Line 4678: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4678</span>                 :                :     {</span>
<span id="L4679" title="Line 4679: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L4774" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L4774" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    4679</span>         [<span class="tlaUBC"> <a href="#L4681" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L4681" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L4774" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         if (NUMERIC_IS_PINF(num))</span></span>
<span id="L4680" title="Line 4680: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    4680</span>                 :<span class="tlaUBC">              0 :             val = HUGE_VAL;</span></span>
<span id="L4681" title="Line 4681: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    4681</span>         [<span class="tlaUBC"> <a href="#L4769" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L4769" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :         else if (NUMERIC_IS_NINF(num))</span></span>
<span id="L4682" title="Line 4682: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    4682</span>                 :<span class="tlaUBC">              0 :             val = -HUGE_VAL;</span></span>
<span id="L4683" title="Line 4683: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4683</span>                 :                :         else</span>
<span id="L4684" title="Line 4684: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    4684</span>                 :<span class="tlaUBC">              0 :             val = get_float8_nan();</span></span>
<span id="L4685" title="Line 4685: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4685</span>                 :                :     }</span>
<span id="L4686" title="Line 4686: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4686</span>                 :                :     else</span>
<span id="L4687" title="Line 4687: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4687</span>                 :                :     {</span>
<span id="L4688" title="Line 4688: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4688</span>                 :                :         NumericVar  x;</span>
<span id="L4689" title="Line 4689: commit e482dcb0a438 on 2001-10-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4689</span>                 :                : </span>
<span id="L4690" title="Line 4690: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L4780" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L4722" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4690</span>                 :<a href="#L4780" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          17 :         init_var_from_num(num, &amp;x);</span></span>
<span id="L4691" title="Line 4691: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4691</span>                 :<span class="tlaCBC">             17 :         val = numericvar_to_double_no_overflow(&amp;x);</span></span>
<span id="L4692" title="Line 4692: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4692</span>                 :                :     }</span>
<span id="L4693" title="Line 4693: commit e482dcb0a438 on 2001-10-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4693</span>                 :                : </span>
<span id="L4694" title="Line 4694: commit e482dcb0a438 on 2001-10-13 by tgl@sss.pgh.pa.us"> 8718                      <span class="lineNum">    4694</span>                 :<span class="tlaCBC">             17 :     PG_RETURN_FLOAT8(val);</span></span>
<span id="L4695" title="Line 4695: commit e482dcb0a438 on 2001-10-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4695</span>                 :                : }</span>
<span id="L4696" title="Line 4696: commit e482dcb0a438 on 2001-10-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4696</span>                 :                : </span>
<span id="L4697" title="Line 4697: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4697</span>                 :                : Datum</span>
<span id="L4698" title="Line 4698: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159                      <span class="lineNum">    4698</span>                 :<span class="tlaCBC">          11185 : float4_numeric(PG_FUNCTION_ARGS)</span></span>
<span id="L4699" title="Line 4699: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4699</span>                 :                : {</span>
<span id="L4700" title="Line 4700: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4700</span>                 :<span class="tlaCBC">          11185 :     float4      val = PG_GETARG_FLOAT4(0);</span></span>
<span id="L4701" title="Line 4701: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4701</span>                 :                :     Numeric     res;</span>
<span id="L4702" title="Line 4702: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4702</span>                 :                :     NumericVar  result;</span>
<span id="L4703" title="Line 4703: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4703</span>                 :                :     char        buf[FLT_DIG + 100];</span>
<span id="L4704" title="Line 4704: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4704</span>                 :                :     const char *endptr;</span>
<span id="L4705" title="Line 4705: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4705</span>                 :                : </span>
<span id="L4706" title="Line 4706: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4706</span>         [<span class="tlaCBC"> <a href="#L4709" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4709" title="CBC: Branch 1 was taken 11182 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          11185 :     if (isnan(val))</span></span>
<span id="L4707" title="Line 4707: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4707</span>                 :<span class="tlaCBC">              3 :         PG_RETURN_NUMERIC(make_result(&amp;const_nan));</span></span>
<span id="L4708" title="Line 4708: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4708</span>                 :                : </span>
<span id="L4709" title="Line 4709: commit 7769fc000aa3 on 2017-09-27 by tgl@sss.pgh.pa.us"> 2890                      <span class="lineNum">    4709</span>         [<span class="tlaCBC"> <a href="#L4711" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4711" title="CBC: Branch 1 was taken 11176 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          11182 :     if (isinf(val))</span></span>
<span id="L4710" title="Line 4710: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4710</span>                 :                :     {</span>
<span id="L4711" title="Line 4711: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    4711</span>         [<span class="tlaCBC"> <a href="#L4739" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4739" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              6 :         if (val &lt; 0)</span></span>
<span id="L4712" title="Line 4712: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4712</span>                 :<span class="tlaCBC">              3 :             PG_RETURN_NUMERIC(make_result(&amp;const_ninf));</span></span>
<span id="L4713" title="Line 4713: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4713</span>                 :                :         else</span>
<span id="L4714" title="Line 4714: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4714</span>                 :<span class="tlaCBC">              3 :             PG_RETURN_NUMERIC(make_result(&amp;const_pinf));</span></span>
<span id="L4715" title="Line 4715: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4715</span>                 :                :     }</span>
<span id="L4716" title="Line 4716: commit 7769fc000aa3 on 2017-09-27 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4716</span>                 :                : </span>
<span id="L4717" title="Line 4717: commit 7769fc000aa3 on 2017-09-27 by tgl@sss.pgh.pa.us"> 2890                      <span class="lineNum">    4717</span>                 :<span class="tlaCBC">          11176 :     snprintf(buf, sizeof(buf), &quot;%.*g&quot;, FLT_DIG, val);</span></span>
<span id="L4718" title="Line 4718: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4718</span>                 :                : </span>
<span id="L4719" title="Line 4719: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L4724" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    4719</span>                 :<span class="tlaCBC">          11176 :     init_var(&amp;result);</span></span>
<span id="L4720" title="Line 4720: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4720</span>                 :                : </span>
<span id="L4721" title="Line 4721: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4721</span>                 :                :     /* Assume we need not worry about leading/trailing spaces */</span>
<span id="L4722" title="Line 4722: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">  991 <a href="#L4728" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4722</span>                 :<span class="tlaCBC">          11176 :     (void) set_var_from_str(buf, buf, &amp;result, &amp;endptr, NULL);</span></span>
<span id="L4723" title="Line 4723: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4723</span>                 :                : </span>
<span id="L4724" title="Line 4724: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L4754" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    4724</span>                 :<span class="tlaCBC">          11176 :     res = make_result(&amp;result);</span></span>
<span id="L4725" title="Line 4725: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4725</span>                 :                : </span>
<span id="L4726" title="Line 4726: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4726</span>                 :<span class="tlaCBC">          11176 :     free_var(&amp;result);</span></span>
<span id="L4727" title="Line 4727: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4727</span>                 :                : </span>
<span id="L4728" title="Line 4728: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"> 9159 <a href="#L4756" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4728</span>                 :<span class="tlaCBC">          11176 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L4729" title="Line 4729: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4729</span>                 :                : }</span>
<span id="L4730" title="Line 4730: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4730</span>                 :                : </span>
<span id="L4731" title="Line 4731: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4731</span>                 :                : </span>
<span id="L4732" title="Line 4732: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4732</span>                 :                : Datum</span>
<span id="L4733" title="Line 4733: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4733</span>                 :<span class="tlaCBC">           1228 : numeric_float4(PG_FUNCTION_ARGS)</span></span>
<span id="L4734" title="Line 4734: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4734</span>                 :                : {</span>
<span id="L4735" title="Line 4735: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4735</span>                 :<span class="tlaCBC">           1228 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L4736" title="Line 4736: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    4736</span>                 :                :     char       *tmp;</span>
<span id="L4737" title="Line 4737: commit 463f1f5cdaec on 2000-08-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4737</span>                 :                :     Datum       result;</span>
<span id="L4738" title="Line 4738: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4738</span>                 :                : </span>
<span id="L4739" title="Line 4739: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    4739</span>         [<span class="tlaCBC"> <a href="#L4741" title="CBC: Branch 0 was taken 39 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4741" title="CBC: Branch 1 was taken 1189 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1228 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L4740" title="Line 4740: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4740</span>                 :                :     {</span>
<span id="L4741" title="Line 4741: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4741</span>         [<span class="tlaCBC"> <a href="#L4743" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4743" title="CBC: Branch 1 was taken 27 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             39 :         if (NUMERIC_IS_PINF(num))</span></span>
<span id="L4742" title="Line 4742: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4742</span>                 :<span class="tlaCBC">             12 :             PG_RETURN_FLOAT4(get_float4_infinity());</span></span>
<span id="L4743" title="Line 4743: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4743</span>         [<span class="tlaCBC"> <a href="#L4767" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4767" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             27 :         else if (NUMERIC_IS_NINF(num))</span></span>
<span id="L4744" title="Line 4744: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4744</span>                 :<span class="tlaCBC">             12 :             PG_RETURN_FLOAT4(-get_float4_infinity());</span></span>
<span id="L4745" title="Line 4745: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4745</span>                 :                :         else</span>
<span id="L4746" title="Line 4746: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4746</span>                 :<span class="tlaCBC">             15 :             PG_RETURN_FLOAT4(get_float4_nan());</span></span>
<span id="L4747" title="Line 4747: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4747</span>                 :                :     }</span>
<span id="L4748" title="Line 4748: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4748</span>                 :                : </span>
<span id="L4749" title="Line 4749: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us"> 9205                      <span class="lineNum">    4749</span>                 :<span class="tlaCBC">           1189 :     tmp = DatumGetCString(DirectFunctionCall1(numeric_out,</span></span>
<span id="L4750" title="Line 4750: commit f2d120532207 on 2000-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4750</span>                 :                :                                               NumericGetDatum(num)));</span>
<span id="L4751" title="Line 4751: commit 463f1f5cdaec on 2000-08-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4751</span>                 :                : </span>
<span id="L4752" title="Line 4752: commit 463f1f5cdaec on 2000-08-01 by tgl@sss.pgh.pa.us"> 9156                      <span class="lineNum">    4752</span>                 :<span class="tlaCBC">           1189 :     result = DirectFunctionCall1(float4in, CStringGetDatum(tmp));</span></span>
<span id="L4753" title="Line 4753: commit 463f1f5cdaec on 2000-08-01 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4753</span>                 :                : </span>
<span id="L4754" title="Line 4754: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L6773" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    4754</span>                 :<span class="tlaCBC">           1189 :     pfree(tmp);</span></span>
<span id="L4755" title="Line 4755: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4755</span>                 :                : </span>
<span id="L4756" title="Line 4756: commit 463f1f5cdaec on 2000-08-01 by tgl@sss.pgh.pa.us"> 9156 <a href="#L4767" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4756</span>                 :<span class="tlaCBC">           1189 :     PG_RETURN_DATUM(result);</span></span>
<span id="L4757" title="Line 4757: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4757</span>                 :                : }</span>
<span id="L4758" title="Line 4758: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4758</span>                 :                : </span>
<span id="L4759" title="Line 4759: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    4759</span>                 :                : </span>
<span id="L4760" title="Line 4760: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4760</span>                 :                : Datum</span>
<span id="L4761" title="Line 4761: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org"> 1883 <a href="#L4780" title="next CBC in &ldquo;fujii@postgresql.org&rdquo; bin">fujii@postgresql.org</a> <span class="lineNum">    4761</span>                 :<span class="tlaCBC">             60 : numeric_pg_lsn(PG_FUNCTION_ARGS)</span></span>
<span id="L4762" title="Line 4762: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4762</span>                 :                : {</span>
<span id="L4763" title="Line 4763: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4763</span>                 :<span class="tlaCBC">             60 :     Numeric     num = PG_GETARG_NUMERIC(0);</span></span>
<span id="L4764" title="Line 4764: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4764</span>                 :                :     NumericVar  x;</span>
<span id="L4765" title="Line 4765: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4765</span>                 :                :     XLogRecPtr  result;</span>
<span id="L4766" title="Line 4766: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4766</span>                 :                : </span>
<span id="L4767" title="Line 4767: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L4828" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4767</span>         [<span class="tlaCBC"> <a href="#L4769" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4769" title="CBC: Branch 1 was taken 57 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             60 :     if (NUMERIC_IS_SPECIAL(num))</span></span>
<span id="L4768" title="Line 4768: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4768</span>                 :                :     {</span>
<span id="L4769" title="Line 4769: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4769</span>         [<span class="tlaCBC"> <a href="#L4770" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4770" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :         if (NUMERIC_IS_NAN(num))</span></span>
<span id="L4770" title="Line 4770: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4770</span>         [<span class="tlaCBC"> <a href="#L4782" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4774" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :             ereport(ERROR,</span></span>
<span id="L4771" title="Line 4771: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4771</span>                 :                :                     (errcode(ERRCODE_FEATURE_NOT_SUPPORTED),</span>
<span id="L4772" title="Line 4772: commit c302a6139072 on 2021-06-27 by peter@eisentraut.org">                           <span class="lineNum">    4772</span>                 :                :                      errmsg(&quot;cannot convert NaN to %s&quot;, &quot;pg_lsn&quot;)));</span>
<span id="L4773" title="Line 4773: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4773</span>                 :                :         else</span>
<span id="L4774" title="Line 4774: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L4835" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L4835" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    4774</span>         [<span class="tlaUBC"> <a href="#L4783" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L4783" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L4835" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             ereport(ERROR,</span></span>
<span id="L4775" title="Line 4775: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4775</span>                 :                :                     (errcode(ERRCODE_FEATURE_NOT_SUPPORTED),</span>
<span id="L4776" title="Line 4776: commit c302a6139072 on 2021-06-27 by peter@eisentraut.org">                           <span class="lineNum">    4776</span>                 :                :                      errmsg(&quot;cannot convert infinity to %s&quot;, &quot;pg_lsn&quot;)));</span>
<span id="L4777" title="Line 4777: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4777</span>                 :                :     }</span>
<span id="L4778" title="Line 4778: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4778</span>                 :                : </span>
<span id="L4779" title="Line 4779: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4779</span>                 :                :     /* Convert to variable format and thence to pg_lsn */</span>
<span id="L4780" title="Line 4780: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org"> <a href="#L4837" title="next CBC in &ldquo;(360..) days&rdquo; bin">1883</a> <a href="#L7964" title="next CBC in &ldquo;fujii@postgresql.org&rdquo; bin">fujii@postgresql.org</a> <span class="lineNum">    4780</span>                 :<a href="#L4837" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          57 :     init_var_from_num(num, &amp;x);</span></span>
<span id="L4781" title="Line 4781: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4781</span>                 :                : </span>
<span id="L4782" title="Line 4782: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4782</span>         [<span class="tlaCBC"> <a href="#L4783" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4783" title="CBC: Branch 1 was taken 45 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             57 :     if (!numericvar_to_uint64(&amp;x, (uint64 *) &amp;result))</span></span>
<span id="L4783" title="Line 4783: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4783</span>         [<span class="tlaCBC"> <a href="#L4834" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L4834" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             12 :         ereport(ERROR,</span></span>
<span id="L4784" title="Line 4784: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4784</span>                 :                :                 (errcode(ERRCODE_INVALID_PARAMETER_VALUE),</span>
<span id="L4785" title="Line 4785: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4785</span>                 :                :                  errmsg(&quot;pg_lsn out of range&quot;)));</span>
<span id="L4786" title="Line 4786: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4786</span>                 :                : </span>
<span id="L4787" title="Line 4787: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4787</span>                 :<span class="tlaCBC">             45 :     PG_RETURN_LSN(result);</span></span>
<span id="L4788" title="Line 4788: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4788</span>                 :                : }</span>
<span id="L4789" title="Line 4789: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4789</span>                 :                : </span>
<span id="L4790" title="Line 4790: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    4790</span>                 :                : </span>
<span id="L4791" title="Line 4791: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4791</span>                 :                : /* ----------------------------------------------------------------------</span>
<span id="L4792" title="Line 4792: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4792</span>                 :                :  *</span>
<span id="L4793" title="Line 4793: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4793</span>                 :                :  * Aggregate functions</span>
<span id="L4794" title="Line 4794: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4794</span>                 :                :  *</span>
<span id="L4795" title="Line 4795: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4795</span>                 :                :  * The transition datatype for all these aggregates is declared as INTERNAL.</span>
<span id="L4796" title="Line 4796: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4796</span>                 :                :  * Actually, it's a pointer to a NumericAggState allocated in the aggregate</span>
<span id="L4797" title="Line 4797: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4797</span>                 :                :  * context.  The digit buffers for the NumericVars will be there too.</span>
<span id="L4798" title="Line 4798: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4798</span>                 :                :  *</span>
<span id="L4799" title="Line 4799: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4799</span>                 :                :  * For integer inputs, some aggregates use special-purpose 64-bit or 128-bit</span>
<span id="L4800" title="Line 4800: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    4800</span>                 :                :  * integer based transition datatypes to speed up calculations.</span>
<span id="L4801" title="Line 4801: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    4801</span>                 :                :  *</span>
<span id="L4802" title="Line 4802: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4802</span>                 :                :  * ----------------------------------------------------------------------</span>
<span id="L4803" title="Line 4803: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4803</span>                 :                :  */</span>
<span id="L4804" title="Line 4804: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4804</span>                 :                : </span>
<span id="L4805" title="Line 4805: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4805</span>                 :                : typedef struct NumericAggState</span>
<span id="L4806" title="Line 4806: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4806</span>                 :                : {</span>
<span id="L4807" title="Line 4807: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4807</span>                 :                :     bool        calcSumX2;      /* if true, calculate sumX2 */</span>
<span id="L4808" title="Line 4808: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4808</span>                 :                :     MemoryContext agg_context;  /* context we're calculating in */</span>
<span id="L4809" title="Line 4809: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4809</span>                 :                :     int64       N;              /* count of processed numbers */</span>
<span id="L4810" title="Line 4810: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    4810</span>                 :                :     NumericSumAccum sumX;       /* sum of processed numbers */</span>
<span id="L4811" title="Line 4811: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    4811</span>                 :                :     NumericSumAccum sumX2;      /* sum of squares of processed numbers */</span>
<span id="L4812" title="Line 4812: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4812</span>                 :                :     int         maxScale;       /* maximum scale seen so far */</span>
<span id="L4813" title="Line 4813: commit 0a7832005792 on 2014-05-06 by bruce@momjian.us">                           <span class="lineNum">    4813</span>                 :                :     int64       maxScaleCount;  /* number of values seen with maximum scale */</span>
<span id="L4814" title="Line 4814: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4814</span>                 :                :     /* These counts are *not* included in N!  Use NA_TOTAL_COUNT() as needed */</span>
<span id="L4815" title="Line 4815: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4815</span>                 :                :     int64       NaNcount;       /* count of NaN values */</span>
<span id="L4816" title="Line 4816: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4816</span>                 :                :     int64       pInfcount;      /* count of +Inf values */</span>
<span id="L4817" title="Line 4817: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4817</span>                 :                :     int64       nInfcount;      /* count of -Inf values */</span>
<span id="L4818" title="Line 4818: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4818</span>                 :                : } NumericAggState;</span>
<span id="L4819" title="Line 4819: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4819</span>                 :                : </span>
<span id="L4820" title="Line 4820: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4820</span>                 :                : #define NA_TOTAL_COUNT(na) \</span>
<span id="L4821" title="Line 4821: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4821</span>                 :                :     ((na)-&gt;N + (na)-&gt;NaNcount + (na)-&gt;pInfcount + (na)-&gt;nInfcount)</span>
<span id="L4822" title="Line 4822: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4822</span>                 :                : </span>
<span id="L4823" title="Line 4823: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4823</span>                 :                : /*</span>
<span id="L4824" title="Line 4824: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4824</span>                 :                :  * Prepare state data for a numeric aggregate function that needs to compute</span>
<span id="L4825" title="Line 4825: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4825</span>                 :                :  * sum, count and optionally sum of squares of the input.</span>
<span id="L4826" title="Line 4826: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4826</span>                 :                :  */</span>
<span id="L4827" title="Line 4827: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4827</span>                 :                : static NumericAggState *</span>
<span id="L4828" title="Line 4828: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301 <a href="#L4837" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4828</span>                 :<span class="tlaCBC">          85570 : makeNumericAggState(FunctionCallInfo fcinfo, bool calcSumX2)</span></span>
<span id="L4829" title="Line 4829: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4829</span>                 :                : {</span>
<span id="L4830" title="Line 4830: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4830</span>                 :                :     NumericAggState *state;</span>
<span id="L4831" title="Line 4831: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4831</span>                 :                :     MemoryContext agg_context;</span>
<span id="L4832" title="Line 4832: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4832</span>                 :                :     MemoryContext old_context;</span>
<span id="L4833" title="Line 4833: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4833</span>                 :                : </span>
<span id="L4834" title="Line 4834: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4834</span>         [<span class="tlaUBC"> <a href="#L4835" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L4875" title="CBC: Branch 1 was taken 85570 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          85570 :     if (!AggCheckCallContext(fcinfo, &amp;agg_context))</span></span>
<span id="L4835" title="Line 4835: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 4301 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L4948" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">4301</a> </span><a href="#L4948" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 4301 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    4835</span>         [<span class="tlaUBC"> <a href="#L4947" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L4947" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L4948" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;aggregate function called in non-aggregate context&quot;);</span></span>
<span id="L4836" title="Line 4836: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4836</span>                 :                : </span>
<span id="L4837" title="Line 4837: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> <a href="#L4949" title="next CBC in &ldquo;(360..) days&rdquo; bin">4301</a> <a href="#L4919" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4837</span>                 :<a href="#L4949" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">       85570 :     old_context = MemoryContextSwitchTo(agg_context);</span></span>
<span id="L4838" title="Line 4838: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4838</span>                 :                : </span>
<span id="L4839" title="Line 4839: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4839</span>                 :<span class="tlaCBC">          85570 :     state = (NumericAggState *) palloc0(sizeof(NumericAggState));</span></span>
<span id="L4840" title="Line 4840: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4840</span>                 :<span class="tlaCBC">          85570 :     state-&gt;calcSumX2 = calcSumX2;</span></span>
<span id="L4841" title="Line 4841: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4841</span>                 :<span class="tlaCBC">          85570 :     state-&gt;agg_context = agg_context;</span></span>
<span id="L4842" title="Line 4842: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4842</span>                 :                : </span>
<span id="L4843" title="Line 4843: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4843</span>                 :<span class="tlaCBC">          85570 :     MemoryContextSwitchTo(old_context);</span></span>
<span id="L4844" title="Line 4844: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4844</span>                 :                : </span>
<span id="L4845" title="Line 4845: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4845</span>                 :<span class="tlaCBC">          85570 :     return state;</span></span>
<span id="L4846" title="Line 4846: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4846</span>                 :                : }</span>
<span id="L4847" title="Line 4847: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4847</span>                 :                : </span>
<span id="L4848" title="Line 4848: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4848</span>                 :                : /*</span>
<span id="L4849" title="Line 4849: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4849</span>                 :                :  * Like makeNumericAggState(), but allocate the state in the current memory</span>
<span id="L4850" title="Line 4850: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4850</span>                 :                :  * context.</span>
<span id="L4851" title="Line 4851: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4851</span>                 :                :  */</span>
<span id="L4852" title="Line 4852: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4852</span>                 :                : static NumericAggState *</span>
<span id="L4853" title="Line 4853: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us"> 3351                      <span class="lineNum">    4853</span>                 :<span class="tlaCBC">             42 : makeNumericAggStateCurrentContext(bool calcSumX2)</span></span>
<span id="L4854" title="Line 4854: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4854</span>                 :                : {</span>
<span id="L4855" title="Line 4855: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4855</span>                 :                :     NumericAggState *state;</span>
<span id="L4856" title="Line 4856: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4856</span>                 :                : </span>
<span id="L4857" title="Line 4857: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4857</span>                 :<span class="tlaCBC">             42 :     state = (NumericAggState *) palloc0(sizeof(NumericAggState));</span></span>
<span id="L4858" title="Line 4858: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4858</span>                 :<span class="tlaCBC">             42 :     state-&gt;calcSumX2 = calcSumX2;</span></span>
<span id="L4859" title="Line 4859: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4859</span>                 :<span class="tlaCBC">             42 :     state-&gt;agg_context = CurrentMemoryContext;</span></span>
<span id="L4860" title="Line 4860: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4860</span>                 :                : </span>
<span id="L4861" title="Line 4861: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4861</span>                 :<span class="tlaCBC">             42 :     return state;</span></span>
<span id="L4862" title="Line 4862: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4862</span>                 :                : }</span>
<span id="L4863" title="Line 4863: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4863</span>                 :                : </span>
<span id="L4864" title="Line 4864: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    4864</span>                 :                : /*</span>
<span id="L4865" title="Line 4865: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4865</span>                 :                :  * Accumulate a new input value for numeric aggregate functions.</span>
<span id="L4866" title="Line 4866: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    4866</span>                 :                :  */</span>
<span id="L4867" title="Line 4867: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4867</span>                 :                : static void</span>
<span id="L4868" title="Line 4868: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301                      <span class="lineNum">    4868</span>                 :<span class="tlaCBC">        1056776 : do_numeric_accum(NumericAggState *state, Numeric newval)</span></span>
<span id="L4869" title="Line 4869: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4869</span>                 :                : {</span>
<span id="L4870" title="Line 4870: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4870</span>                 :                :     NumericVar  X;</span>
<span id="L4871" title="Line 4871: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4871</span>                 :                :     NumericVar  X2;</span>
<span id="L4872" title="Line 4872: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4872</span>                 :                :     MemoryContext old_context;</span>
<span id="L4873" title="Line 4873: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    4873</span>                 :                : </span>
<span id="L4874" title="Line 4874: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4874</span>                 :                :     /* Count NaN/infinity inputs separately from all else */</span>
<span id="L4875" title="Line 4875: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    4875</span>         [<span class="tlaCBC"> <a href="#L4877" title="CBC: Branch 0 was taken 81 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4877" title="CBC: Branch 1 was taken 1056695 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1056776 :     if (NUMERIC_IS_SPECIAL(newval))</span></span>
<span id="L4876" title="Line 4876: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4876</span>                 :                :     {</span>
<span id="L4877" title="Line 4877: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4877</span>         [<span class="tlaCBC"> <a href="#L4879" title="CBC: Branch 0 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4879" title="CBC: Branch 1 was taken 45 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             81 :         if (NUMERIC_IS_PINF(newval))</span></span>
<span id="L4878" title="Line 4878: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4878</span>                 :<span class="tlaCBC">             36 :             state-&gt;pInfcount++;</span></span>
<span id="L4879" title="Line 4879: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4879</span>         [<span class="tlaCBC"> <a href="#L4893" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4893" title="CBC: Branch 1 was taken 27 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             45 :         else if (NUMERIC_IS_NINF(newval))</span></span>
<span id="L4880" title="Line 4880: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4880</span>                 :<span class="tlaCBC">             18 :             state-&gt;nInfcount++;</span></span>
<span id="L4881" title="Line 4881: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4881</span>                 :                :         else</span>
<span id="L4882" title="Line 4882: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4882</span>                 :<span class="tlaCBC">             27 :             state-&gt;NaNcount++;</span></span>
<span id="L4883" title="Line 4883: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301                      <span class="lineNum">    4883</span>                 :<span class="tlaCBC">             81 :         return;</span></span>
<span id="L4884" title="Line 4884: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4884</span>                 :                :     }</span>
<span id="L4885" title="Line 4885: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4885</span>                 :                : </span>
<span id="L4886" title="Line 4886: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4886</span>                 :                :     /* load processed number in short-lived context */</span>
<span id="L4887" title="Line 4887: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4887</span>                 :<span class="tlaCBC">        1056695 :     init_var_from_num(newval, &amp;X);</span></span>
<span id="L4888" title="Line 4888: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4888</span>                 :                : </span>
<span id="L4889" title="Line 4889: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4889</span>                 :                :     /*</span>
<span id="L4890" title="Line 4890: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4890</span>                 :                :      * Track the highest input dscale that we've seen, to support inverse</span>
<span id="L4891" title="Line 4891: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4891</span>                 :                :      * transitions (see do_numeric_discard).</span>
<span id="L4892" title="Line 4892: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4892</span>                 :                :      */</span>
<span id="L4893" title="Line 4893: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> 4154                      <span class="lineNum">    4893</span>         [<span class="tlaCBC"> <a href="#L4898" title="CBC: Branch 0 was taken 78 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4898" title="CBC: Branch 1 was taken 1056617 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1056695 :     if (X.dscale &gt; state-&gt;maxScale)</span></span>
<span id="L4894" title="Line 4894: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4894</span>                 :                :     {</span>
<span id="L4895" title="Line 4895: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4895</span>                 :<span class="tlaCBC">             78 :         state-&gt;maxScale = X.dscale;</span></span>
<span id="L4896" title="Line 4896: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4896</span>                 :<span class="tlaCBC">             78 :         state-&gt;maxScaleCount = 1;</span></span>
<span id="L4897" title="Line 4897: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4897</span>                 :                :     }</span>
<span id="L4898" title="Line 4898: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4898</span>         [<span class="tlaCBC"> <a href="#L4902" title="CBC: Branch 0 was taken 1056599 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4902" title="CBC: Branch 1 was taken 18 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1056617 :     else if (X.dscale == state-&gt;maxScale)</span></span>
<span id="L4899" title="Line 4899: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4899</span>                 :<span class="tlaCBC">        1056599 :         state-&gt;maxScaleCount++;</span></span>
<span id="L4900" title="Line 4900: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4900</span>                 :                : </span>
<span id="L4901" title="Line 4901: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4901</span>                 :                :     /* if we need X^2, calculate that in short-lived context */</span>
<span id="L4902" title="Line 4902: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301                      <span class="lineNum">    4902</span>         [<span class="tlaCBC"> <a href="#L4916" title="CBC: Branch 0 was taken 120366 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4916" title="CBC: Branch 1 was taken 936329 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1056695 :     if (state-&gt;calcSumX2)</span></span>
<span id="L4903" title="Line 4903: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4903</span>                 :                :     {</span>
<span id="L4904" title="Line 4904: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4904</span>                 :<span class="tlaCBC">         120366 :         init_var(&amp;X2);</span></span>
<span id="L4905" title="Line 4905: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4905</span>                 :<span class="tlaCBC">         120366 :         mul_var(&amp;X, &amp;X, &amp;X2, X.dscale * 2);</span></span>
<span id="L4906" title="Line 4906: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4906</span>                 :                :     }</span>
<span id="L4907" title="Line 4907: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4907</span>                 :                : </span>
<span id="L4908" title="Line 4908: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4908</span>                 :                :     /* The rest of this needs to work in the aggregate context */</span>
<span id="L4909" title="Line 4909: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4909</span>                 :<span class="tlaCBC">        1056695 :     old_context = MemoryContextSwitchTo(state-&gt;agg_context);</span></span>
<span id="L4910" title="Line 4910: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4910</span>                 :                : </span>
<span id="L4911" title="Line 4911: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L5002" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    4911</span>                 :<span class="tlaCBC">        1056695 :     state-&gt;N++;</span></span>
<span id="L4912" title="Line 4912: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4912</span>                 :                : </span>
<span id="L4913" title="Line 4913: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    4913</span>                 :                :     /* Accumulate sums */</span>
<span id="L4914" title="Line 4914: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    4914</span>                 :<span class="tlaCBC">        1056695 :     accum_sum_add(&amp;(state-&gt;sumX), &amp;X);</span></span>
<span id="L4915" title="Line 4915: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4915</span>                 :                : </span>
<span id="L4916" title="Line 4916: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    4916</span>         [<span class="tlaCBC"> <a href="#L4945" title="CBC: Branch 0 was taken 120366 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4945" title="CBC: Branch 1 was taken 936329 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1056695 :     if (state-&gt;calcSumX2)</span></span>
<span id="L4917" title="Line 4917: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    4917</span>                 :<span class="tlaCBC">         120366 :         accum_sum_add(&amp;(state-&gt;sumX2), &amp;X2);</span></span>
<span id="L4918" title="Line 4918: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4918</span>                 :                : </span>
<span id="L4919" title="Line 4919: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301 <a href="#L4949" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4919</span>                 :<span class="tlaCBC">        1056695 :     MemoryContextSwitchTo(old_context);</span></span>
<span id="L4920" title="Line 4920: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    4920</span>                 :                : }</span>
<span id="L4921" title="Line 4921: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    4921</span>                 :                : </span>
<span id="L4922" title="Line 4922: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4922</span>                 :                : /*</span>
<span id="L4923" title="Line 4923: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4923</span>                 :                :  * Attempt to remove an input value from the aggregated state.</span>
<span id="L4924" title="Line 4924: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4924</span>                 :                :  *</span>
<span id="L4925" title="Line 4925: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4925</span>                 :                :  * If the value cannot be removed then the function will return false; the</span>
<span id="L4926" title="Line 4926: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4926</span>                 :                :  * possible reasons for failing are described below.</span>
<span id="L4927" title="Line 4927: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4927</span>                 :                :  *</span>
<span id="L4928" title="Line 4928: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4928</span>                 :                :  * If we aggregate the values 1.01 and 2 then the result will be 3.01.</span>
<span id="L4929" title="Line 4929: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4929</span>                 :                :  * If we are then asked to un-aggregate the 1.01 then we must fail as we</span>
<span id="L4930" title="Line 4930: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4930</span>                 :                :  * won't be able to tell what the new aggregated value's dscale should be.</span>
<span id="L4931" title="Line 4931: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4931</span>                 :                :  * We don't want to return 2.00 (dscale = 2), since the sum's dscale would</span>
<span id="L4932" title="Line 4932: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4932</span>                 :                :  * have been zero if we'd really aggregated only 2.</span>
<span id="L4933" title="Line 4933: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4933</span>                 :                :  *</span>
<span id="L4934" title="Line 4934: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4934</span>                 :                :  * Note: alternatively, we could count the number of inputs with each possible</span>
<span id="L4935" title="Line 4935: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4935</span>                 :                :  * dscale (up to some sane limit).  Not yet clear if it's worth the trouble.</span>
<span id="L4936" title="Line 4936: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4936</span>                 :                :  */</span>
<span id="L4937" title="Line 4937: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4937</span>                 :                : static bool</span>
<span id="L4938" title="Line 4938: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> 4154                      <span class="lineNum">    4938</span>                 :<span class="tlaCBC">            171 : do_numeric_discard(NumericAggState *state, Numeric newval)</span></span>
<span id="L4939" title="Line 4939: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4939</span>                 :                : {</span>
<span id="L4940" title="Line 4940: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4940</span>                 :                :     NumericVar  X;</span>
<span id="L4941" title="Line 4941: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4941</span>                 :                :     NumericVar  X2;</span>
<span id="L4942" title="Line 4942: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4942</span>                 :                :     MemoryContext old_context;</span>
<span id="L4943" title="Line 4943: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4943</span>                 :                : </span>
<span id="L4944" title="Line 4944: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4944</span>                 :                :     /* Count NaN/infinity inputs separately from all else */</span>
<span id="L4945" title="Line 4945: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    4945</span>         [<span class="tlaCBC"> <a href="#L4947" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4947" title="CBC: Branch 1 was taken 168 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            171 :     if (NUMERIC_IS_SPECIAL(newval))</span></span>
<span id="L4946" title="Line 4946: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4946</span>                 :                :     {</span>
<span id="L4947" title="Line 4947: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4947</span>         [<span class="tlaUBC"> <a href="#L4949" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L4949" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              3 :         if (NUMERIC_IS_PINF(newval))</span></span>
<span id="L4948" title="Line 4948: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L4950" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L4950" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    4948</span>                 :<a href="#L4950" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             state-&gt;pInfcount--;</span></span>
<span id="L4949" title="Line 4949: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L4952" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L4952" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4949</span>         [<span class="tlaUBC"> <a href="#L4966" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L4966" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<a href="#L4952" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           3 :         else if (NUMERIC_IS_NINF(newval))</span></span>
<span id="L4950" title="Line 4950: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5019" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L5450" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    4950</span>                 :<a href="#L5019" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             state-&gt;nInfcount--;</span></span>
<span id="L4951" title="Line 4951: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4951</span>                 :                :         else</span>
<span id="L4952" title="Line 4952: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> <a href="#L5022" title="next CBC in &ldquo;(360..) days&rdquo; bin">1861</a> <a href="#L5005" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    4952</span>                 :<a href="#L5022" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           3 :             state-&gt;NaNcount--;</span></span>
<span id="L4953" title="Line 4953: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> 4154                      <span class="lineNum">    4953</span>                 :<span class="tlaCBC">              3 :         return true;</span></span>
<span id="L4954" title="Line 4954: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4954</span>                 :                :     }</span>
<span id="L4955" title="Line 4955: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4955</span>                 :                : </span>
<span id="L4956" title="Line 4956: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4956</span>                 :                :     /* load processed number in short-lived context */</span>
<span id="L4957" title="Line 4957: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4957</span>                 :<span class="tlaCBC">            168 :     init_var_from_num(newval, &amp;X);</span></span>
<span id="L4958" title="Line 4958: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4958</span>                 :                : </span>
<span id="L4959" title="Line 4959: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4959</span>                 :                :     /*</span>
<span id="L4960" title="Line 4960: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4960</span>                 :                :      * state-&gt;sumX's dscale is the maximum dscale of any of the inputs.</span>
<span id="L4961" title="Line 4961: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4961</span>                 :                :      * Removing the last input with that dscale would require us to recompute</span>
<span id="L4962" title="Line 4962: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4962</span>                 :                :      * the maximum dscale of the *remaining* inputs, which we cannot do unless</span>
<span id="L4963" title="Line 4963: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4963</span>                 :                :      * no more non-NaN inputs remain at all.  So we report a failure instead,</span>
<span id="L4964" title="Line 4964: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4964</span>                 :                :      * and force the aggregation to be redone from scratch.</span>
<span id="L4965" title="Line 4965: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4965</span>                 :                :      */</span>
<span id="L4966" title="Line 4966: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4966</span>         [<span class="tlaCBC"> <a href="#L4968" title="CBC: Branch 0 was taken 168 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L5002" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            168 :     if (X.dscale == state-&gt;maxScale)</span></span>
<span id="L4967" title="Line 4967: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4967</span>                 :                :     {</span>
<span id="L4968" title="Line 4968: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4968</span>   [<span class="tlaCBC"> <a href="#L4976" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4976" title="CBC: Branch 1 was taken 156 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4976" title="CBC: Branch 2 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4976" title="CBC: Branch 3 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            168 :         if (state-&gt;maxScaleCount &gt; 1 || state-&gt;maxScale == 0)</span></span>
<span id="L4969" title="Line 4969: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4969</span>                 :                :         {</span>
<span id="L4970" title="Line 4970: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4970</span>                 :                :             /*</span>
<span id="L4971" title="Line 4971: commit 0a7832005792 on 2014-05-06 by bruce@momjian.us">                           <span class="lineNum">    4971</span>                 :                :              * Some remaining inputs have same dscale, or dscale hasn't gotten</span>
<span id="L4972" title="Line 4972: commit 0a7832005792 on 2014-05-06 by bruce@momjian.us">                           <span class="lineNum">    4972</span>                 :                :              * above zero anyway</span>
<span id="L4973" title="Line 4973: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4973</span>                 :                :              */</span>
<span id="L4974" title="Line 4974: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4974</span>                 :<span class="tlaCBC">            159 :             state-&gt;maxScaleCount--;</span></span>
<span id="L4975" title="Line 4975: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4975</span>                 :                :         }</span>
<span id="L4976" title="Line 4976: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4976</span>         [<span class="tlaCBC"> <a href="#L4990" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4990" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :         else if (state-&gt;N == 1)</span></span>
<span id="L4977" title="Line 4977: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4977</span>                 :                :         {</span>
<span id="L4978" title="Line 4978: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4978</span>                 :                :             /* No remaining non-NaN inputs at all, so reset maxScale */</span>
<span id="L4979" title="Line 4979: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4979</span>                 :<span class="tlaCBC">              6 :             state-&gt;maxScale = 0;</span></span>
<span id="L4980" title="Line 4980: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4980</span>                 :<span class="tlaCBC">              6 :             state-&gt;maxScaleCount = 0;</span></span>
<span id="L4981" title="Line 4981: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4981</span>                 :                :         }</span>
<span id="L4982" title="Line 4982: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4982</span>                 :                :         else</span>
<span id="L4983" title="Line 4983: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4983</span>                 :                :         {</span>
<span id="L4984" title="Line 4984: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4984</span>                 :                :             /* Correct new maxScale is uncertain, must fail */</span>
<span id="L4985" title="Line 4985: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4985</span>                 :<span class="tlaCBC">              3 :             return false;</span></span>
<span id="L4986" title="Line 4986: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4986</span>                 :                :         }</span>
<span id="L4987" title="Line 4987: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4987</span>                 :                :     }</span>
<span id="L4988" title="Line 4988: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4988</span>                 :                : </span>
<span id="L4989" title="Line 4989: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4989</span>                 :                :     /* if we need X^2, calculate that in short-lived context */</span>
<span id="L4990" title="Line 4990: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4990</span>         [<span class="tlaCBC"> <a href="#L4999" title="CBC: Branch 0 was taken 144 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L4999" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            165 :     if (state-&gt;calcSumX2)</span></span>
<span id="L4991" title="Line 4991: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4991</span>                 :                :     {</span>
<span id="L4992" title="Line 4992: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4992</span>                 :<span class="tlaCBC">            144 :         init_var(&amp;X2);</span></span>
<span id="L4993" title="Line 4993: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4993</span>                 :<span class="tlaCBC">            144 :         mul_var(&amp;X, &amp;X, &amp;X2, X.dscale * 2);</span></span>
<span id="L4994" title="Line 4994: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4994</span>                 :                :     }</span>
<span id="L4995" title="Line 4995: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4995</span>                 :                : </span>
<span id="L4996" title="Line 4996: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4996</span>                 :                :     /* The rest of this needs to work in the aggregate context */</span>
<span id="L4997" title="Line 4997: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4997</span>                 :<span class="tlaCBC">            165 :     old_context = MemoryContextSwitchTo(state-&gt;agg_context);</span></span>
<span id="L4998" title="Line 4998: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4998</span>                 :                : </span>
<span id="L4999" title="Line 4999: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    4999</span>         [<span class="tlaCBC"> <a href="#L5002" title="CBC: Branch 0 was taken 156 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5002" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            165 :     if (state-&gt;N-- &gt; 1)</span></span>
<span id="L5000" title="Line 5000: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5000</span>                 :                :     {</span>
<span id="L5001" title="Line 5001: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    5001</span>                 :                :         /* Negate X, to subtract it from the sum */</span>
<span id="L5002" title="Line 5002: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L5008" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    5002</span>         [<span class="tlaCBC"> <a href="#L5005" title="CBC: Branch 0 was taken 156 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L5015" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            156 :         X.sign = (X.sign == NUMERIC_POS ? NUMERIC_NEG : NUMERIC_POS);</span></span>
<span id="L5003" title="Line 5003: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    5003</span>                 :<span class="tlaCBC">            156 :         accum_sum_add(&amp;(state-&gt;sumX), &amp;X);</span></span>
<span id="L5004" title="Line 5004: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5004</span>                 :                : </span>
<span id="L5005" title="Line 5005: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> 4154 <a href="#L5015" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5005</span>         [<span class="tlaCBC"> <a href="#L5015" title="CBC: Branch 0 was taken 144 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5015" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            156 :         if (state-&gt;calcSumX2)</span></span>
<span id="L5006" title="Line 5006: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    5006</span>                 :                :         {</span>
<span id="L5007" title="Line 5007: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    5007</span>                 :                :             /* Negate X^2. X^2 is always positive */</span>
<span id="L5008" title="Line 5008: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L5017" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    5008</span>                 :<span class="tlaCBC">            144 :             X2.sign = NUMERIC_NEG;</span></span>
<span id="L5009" title="Line 5009: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    5009</span>                 :<span class="tlaCBC">            144 :             accum_sum_add(&amp;(state-&gt;sumX2), &amp;X2);</span></span>
<span id="L5010" title="Line 5010: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    5010</span>                 :                :         }</span>
<span id="L5011" title="Line 5011: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5011</span>                 :                :     }</span>
<span id="L5012" title="Line 5012: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5012</span>                 :                :     else</span>
<span id="L5013" title="Line 5013: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5013</span>                 :                :     {</span>
<span id="L5014" title="Line 5014: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    5014</span>                 :                :         /* Zero the sums */</span>
<span id="L5015" title="Line 5015: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> 4154 <a href="#L5022" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5015</span>         [<span class="tlaUBC"> <a href="#L5018" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5018" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :         Assert(state-&gt;N == 0);</span></span>
<span id="L5016" title="Line 5016: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    5016</span>                 :                : </span>
<span id="L5017" title="Line 5017: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L5080" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    5017</span>                 :<span class="tlaCBC">              9 :         accum_sum_reset(&amp;state-&gt;sumX);</span></span>
<span id="L5018" title="Line 5018: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    5018</span>         [<span class="tlaUBC"> <a href="#L5058" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5035" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :         if (state-&gt;calcSumX2)</span></span>
<span id="L5019" title="Line 5019: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"><span title="heikki.linnakangas@iki.fi 3280 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5059" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3280</a> <a href="#L12162" title="next UBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin" class="tlaBgUBC">heikki.linnakangas@i</a></span> <span class="lineNum">    5019</span>                 :<a href="#L5059" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             accum_sum_reset(&amp;state-&gt;sumX2);</span></span>
<span id="L5020" title="Line 5020: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5020</span>                 :                :     }</span>
<span id="L5021" title="Line 5021: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5021</span>                 :                : </span>
<span id="L5022" title="Line 5022: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L5061" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L5072" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5022</span>                 :<a href="#L5061" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         165 :     MemoryContextSwitchTo(old_context);</span></span>
<span id="L5023" title="Line 5023: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5023</span>                 :                : </span>
<span id="L5024" title="Line 5024: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5024</span>                 :<span class="tlaCBC">            165 :     return true;</span></span>
<span id="L5025" title="Line 5025: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5025</span>                 :                : }</span>
<span id="L5026" title="Line 5026: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5026</span>                 :                : </span>
<span id="L5027" title="Line 5027: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5027</span>                 :                : /*</span>
<span id="L5028" title="Line 5028: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5028</span>                 :                :  * Generic transition function for numeric aggregates that require sumX2.</span>
<span id="L5029" title="Line 5029: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5029</span>                 :                :  */</span>
<span id="L5030" title="Line 5030: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5030</span>                 :                : Datum</span>
<span id="L5031" title="Line 5031: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171                      <span class="lineNum">    5031</span>                 :<span class="tlaCBC">            321 : numeric_accum(PG_FUNCTION_ARGS)</span></span>
<span id="L5032" title="Line 5032: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5032</span>                 :                : {</span>
<span id="L5033" title="Line 5033: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5033</span>                 :                :     NumericAggState *state;</span>
<span id="L5034" title="Line 5034: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5034</span>                 :                : </span>
<span id="L5035" title="Line 5035: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301                      <span class="lineNum">    5035</span>         [<span class="tlaCBC"> <a href="#L5038" title="CBC: Branch 0 was taken 234 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5038" title="CBC: Branch 1 was taken 87 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            321 :     state = PG_ARGISNULL(0) ? NULL : (NumericAggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5036" title="Line 5036: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5036</span>                 :                : </span>
<span id="L5037" title="Line 5037: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5037</span>                 :                :     /* Create the state data on the first call */</span>
<span id="L5038" title="Line 5038: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> 4154                      <span class="lineNum">    5038</span>         [<span class="tlaCBC"> <a href="#L5041" title="CBC: Branch 0 was taken 87 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5041" title="CBC: Branch 1 was taken 234 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            321 :     if (state == NULL)</span></span>
<span id="L5039" title="Line 5039: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5039</span>                 :<span class="tlaCBC">             87 :         state = makeNumericAggState(fcinfo, true);</span></span>
<span id="L5040" title="Line 5040: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5040</span>                 :                : </span>
<span id="L5041" title="Line 5041: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5041</span>         [<span class="tlaCBC"> <a href="#L5058" title="CBC: Branch 0 was taken 312 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5058" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            321 :     if (!PG_ARGISNULL(1))</span></span>
<span id="L5042" title="Line 5042: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301                      <span class="lineNum">    5042</span>                 :<span class="tlaCBC">            312 :         do_numeric_accum(state, PG_GETARG_NUMERIC(1));</span></span>
<span id="L5043" title="Line 5043: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5043</span>                 :                : </span>
<span id="L5044" title="Line 5044: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5044</span>                 :<span class="tlaCBC">            321 :     PG_RETURN_POINTER(state);</span></span>
<span id="L5045" title="Line 5045: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5045</span>                 :                : }</span>
<span id="L5046" title="Line 5046: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5046</span>                 :                : </span>
<span id="L5047" title="Line 5047: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5047</span>                 :                : /*</span>
<span id="L5048" title="Line 5048: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5048</span>                 :                :  * Generic combine function for numeric aggregates which require sumX2</span>
<span id="L5049" title="Line 5049: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5049</span>                 :                :  */</span>
<span id="L5050" title="Line 5050: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5050</span>                 :                : Datum</span>
<span id="L5051" title="Line 5051: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5061" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5051</span>                 :<span class="tlaCBC">             18 : numeric_combine(PG_FUNCTION_ARGS)</span></span>
<span id="L5052" title="Line 5052: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5052</span>                 :                : {</span>
<span id="L5053" title="Line 5053: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5053</span>                 :                :     NumericAggState *state1;</span>
<span id="L5054" title="Line 5054: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5054</span>                 :                :     NumericAggState *state2;</span>
<span id="L5055" title="Line 5055: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5055</span>                 :                :     MemoryContext agg_context;</span>
<span id="L5056" title="Line 5056: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5056</span>                 :                :     MemoryContext old_context;</span>
<span id="L5057" title="Line 5057: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5057</span>                 :                : </span>
<span id="L5058" title="Line 5058: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5058</span>         [<span class="tlaUBC"> <a href="#L5059" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5061" title="CBC: Branch 1 was taken 18 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :     if (!AggCheckCallContext(fcinfo, &amp;agg_context))</span></span>
<span id="L5059" title="Line 5059: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5065" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L5065" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5059</span>         [<span class="tlaUBC"> <a href="#L5062" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5062" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5065" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;aggregate function called in non-aggregate context&quot;);</span></span>
<span id="L5060" title="Line 5060: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5060</span>                 :                : </span>
<span id="L5061" title="Line 5061: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5068" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5068" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5061</span>         [<span class="tlaCBC"> <a href="#L5062" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5062" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<a href="#L5068" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          18 :     state1 = PG_ARGISNULL(0) ? NULL : (NumericAggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5062" title="Line 5062: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5062</span>         [<span class="tlaCBC"> <a href="#L5064" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L5064" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             18 :     state2 = PG_ARGISNULL(1) ? NULL : (NumericAggState *) PG_GETARG_POINTER(1);</span></span>
<span id="L5063" title="Line 5063: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5063</span>                 :                : </span>
<span id="L5064" title="Line 5064: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5064</span>         [<span class="tlaUBC"> <a href="#L5093" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5068" title="CBC: Branch 1 was taken 18 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :     if (state2 == NULL)</span></span>
<span id="L5065" title="Line 5065: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5101" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L5101" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5065</span>                 :<a href="#L5101" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         PG_RETURN_POINTER(state1);</span></span>
<span id="L5066" title="Line 5066: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5066</span>                 :                : </span>
<span id="L5067" title="Line 5067: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5067</span>                 :                :     /* manually copy all fields from state2 to state1 */</span>
<span id="L5068" title="Line 5068: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5104" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5073" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5068</span>         [<span class="tlaCBC"> <a href="#L5093" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5093" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<a href="#L5104" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          18 :     if (state1 == NULL)</span></span>
<span id="L5069" title="Line 5069: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5069</span>                 :                :     {</span>
<span id="L5070" title="Line 5070: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5070</span>                 :<span class="tlaCBC">              9 :         old_context = MemoryContextSwitchTo(agg_context);</span></span>
<span id="L5071" title="Line 5071: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5071</span>                 :                : </span>
<span id="L5072" title="Line 5072: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us"> 3351 <a href="#L5075" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5072</span>                 :<span class="tlaCBC">              9 :         state1 = makeNumericAggStateCurrentContext(true);</span></span>
<span id="L5073" title="Line 5073: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5077" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5073</span>                 :<span class="tlaCBC">              9 :         state1-&gt;N = state2-&gt;N;</span></span>
<span id="L5074" title="Line 5074: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5074</span>                 :<span class="tlaCBC">              9 :         state1-&gt;NaNcount = state2-&gt;NaNcount;</span></span>
<span id="L5075" title="Line 5075: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L5088" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5075</span>                 :<span class="tlaCBC">              9 :         state1-&gt;pInfcount = state2-&gt;pInfcount;</span></span>
<span id="L5076" title="Line 5076: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5076</span>                 :<span class="tlaCBC">              9 :         state1-&gt;nInfcount = state2-&gt;nInfcount;</span></span>
<span id="L5077" title="Line 5077: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5083" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5077</span>                 :<span class="tlaCBC">              9 :         state1-&gt;maxScale = state2-&gt;maxScale;</span></span>
<span id="L5078" title="Line 5078: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5078</span>                 :<span class="tlaCBC">              9 :         state1-&gt;maxScaleCount = state2-&gt;maxScaleCount;</span></span>
<span id="L5079" title="Line 5079: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5079</span>                 :                : </span>
<span id="L5080" title="Line 5080: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L5111" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    5080</span>                 :<span class="tlaCBC">              9 :         accum_sum_copy(&amp;state1-&gt;sumX, &amp;state2-&gt;sumX);</span></span>
<span id="L5081" title="Line 5081: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    5081</span>                 :<span class="tlaCBC">              9 :         accum_sum_copy(&amp;state1-&gt;sumX2, &amp;state2-&gt;sumX2);</span></span>
<span id="L5082" title="Line 5082: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5082</span>                 :                : </span>
<span id="L5083" title="Line 5083: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5093" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5083</span>                 :<span class="tlaCBC">              9 :         MemoryContextSwitchTo(old_context);</span></span>
<span id="L5084" title="Line 5084: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5084</span>                 :                : </span>
<span id="L5085" title="Line 5085: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5085</span>                 :<span class="tlaCBC">              9 :         PG_RETURN_POINTER(state1);</span></span>
<span id="L5086" title="Line 5086: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5086</span>                 :                :     }</span>
<span id="L5087" title="Line 5087: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5087</span>                 :                : </span>
<span id="L5088" title="Line 5088: commit 77a3be32f7c1 on 2020-06-11 by tgl@sss.pgh.pa.us"> 1902 <a href="#L5127" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5088</span>                 :<span class="tlaCBC">              9 :     state1-&gt;N += state2-&gt;N;</span></span>
<span id="L5089" title="Line 5089: commit 77a3be32f7c1 on 2020-06-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5089</span>                 :<span class="tlaCBC">              9 :     state1-&gt;NaNcount += state2-&gt;NaNcount;</span></span>
<span id="L5090" title="Line 5090: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    5090</span>                 :<span class="tlaCBC">              9 :     state1-&gt;pInfcount += state2-&gt;pInfcount;</span></span>
<span id="L5091" title="Line 5091: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5091</span>                 :<span class="tlaCBC">              9 :     state1-&gt;nInfcount += state2-&gt;nInfcount;</span></span>
<span id="L5092" title="Line 5092: commit 77a3be32f7c1 on 2020-06-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5092</span>                 :                : </span>
<span id="L5093" title="Line 5093: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5104" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5093</span>         [<span class="tlaCBC"> <a href="#L5099" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L5099" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              9 :     if (state2-&gt;N &gt; 0)</span></span>
<span id="L5094" title="Line 5094: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5094</span>                 :                :     {</span>
<span id="L5095" title="Line 5095: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5095</span>                 :                :         /*</span>
<span id="L5096" title="Line 5096: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5096</span>                 :                :          * These are currently only needed for moving aggregates, but let's do</span>
<span id="L5097" title="Line 5097: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5097</span>                 :                :          * the right thing anyway...</span>
<span id="L5098" title="Line 5098: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5098</span>                 :                :          */</span>
<span id="L5099" title="Line 5099: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5099</span>         [<span class="tlaUBC"> <a href="#L5104" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5104" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :         if (state2-&gt;maxScale &gt; state1-&gt;maxScale)</span></span>
<span id="L5100" title="Line 5100: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5100</span>                 :                :         {</span>
<span id="L5101" title="Line 5101: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5151" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L5151" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5101</span>                 :<a href="#L5151" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             state1-&gt;maxScale = state2-&gt;maxScale;</span></span>
<span id="L5102" title="Line 5102: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    5102</span>                 :<span class="tlaUBC">              0 :             state1-&gt;maxScaleCount = state2-&gt;maxScaleCount;</span></span>
<span id="L5103" title="Line 5103: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5103</span>                 :                :         }</span>
<span id="L5104" title="Line 5104: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5153" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5114" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5104</span>         [<span class="tlaCBC"> <a href="#L5127" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L5150" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<a href="#L5153" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           9 :         else if (state2-&gt;maxScale == state1-&gt;maxScale)</span></span>
<span id="L5105" title="Line 5105: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5105</span>                 :<span class="tlaCBC">              9 :             state1-&gt;maxScaleCount += state2-&gt;maxScaleCount;</span></span>
<span id="L5106" title="Line 5106: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5106</span>                 :                : </span>
<span id="L5107" title="Line 5107: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5107</span>                 :                :         /* The rest of this needs to work in the aggregate context */</span>
<span id="L5108" title="Line 5108: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5108</span>                 :<span class="tlaCBC">              9 :         old_context = MemoryContextSwitchTo(agg_context);</span></span>
<span id="L5109" title="Line 5109: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5109</span>                 :                : </span>
<span id="L5110" title="Line 5110: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5110</span>                 :                :         /* Accumulate sums */</span>
<span id="L5111" title="Line 5111: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L5172" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    5111</span>                 :<span class="tlaCBC">              9 :         accum_sum_combine(&amp;state1-&gt;sumX, &amp;state2-&gt;sumX);</span></span>
<span id="L5112" title="Line 5112: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    5112</span>                 :<span class="tlaCBC">              9 :         accum_sum_combine(&amp;state1-&gt;sumX2, &amp;state2-&gt;sumX2);</span></span>
<span id="L5113" title="Line 5113: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5113</span>                 :                : </span>
<span id="L5114" title="Line 5114: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5143" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5114</span>                 :<span class="tlaCBC">              9 :         MemoryContextSwitchTo(old_context);</span></span>
<span id="L5115" title="Line 5115: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5115</span>                 :                :     }</span>
<span id="L5116" title="Line 5116: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5116</span>                 :<span class="tlaCBC">              9 :     PG_RETURN_POINTER(state1);</span></span>
<span id="L5117" title="Line 5117: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5117</span>                 :                : }</span>
<span id="L5118" title="Line 5118: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5118</span>                 :                : </span>
<span id="L5119" title="Line 5119: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    5119</span>                 :                : /*</span>
<span id="L5120" title="Line 5120: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5120</span>                 :                :  * Generic transition function for numeric aggregates that don't require sumX2.</span>
<span id="L5121" title="Line 5121: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    5121</span>                 :                :  */</span>
<span id="L5122" title="Line 5122: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    5122</span>                 :                : Datum</span>
<span id="L5123" title="Line 5123: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us"> 6765 <a href="#L5747" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    5123</span>                 :<span class="tlaCBC">         936404 : numeric_avg_accum(PG_FUNCTION_ARGS)</span></span>
<span id="L5124" title="Line 5124: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    5124</span>                 :                : {</span>
<span id="L5125" title="Line 5125: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5125</span>                 :                :     NumericAggState *state;</span>
<span id="L5126" title="Line 5126: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5126</span>                 :                : </span>
<span id="L5127" title="Line 5127: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301 <a href="#L5164" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5127</span>         [<span class="tlaCBC"> <a href="#L5130" title="CBC: Branch 0 was taken 850951 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5130" title="CBC: Branch 1 was taken 85453 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         936404 :     state = PG_ARGISNULL(0) ? NULL : (NumericAggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5128" title="Line 5128: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5128</span>                 :                : </span>
<span id="L5129" title="Line 5129: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5129</span>                 :                :     /* Create the state data on the first call */</span>
<span id="L5130" title="Line 5130: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> 4154                      <span class="lineNum">    5130</span>         [<span class="tlaCBC"> <a href="#L5133" title="CBC: Branch 0 was taken 85453 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5133" title="CBC: Branch 1 was taken 850951 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         936404 :     if (state == NULL)</span></span>
<span id="L5131" title="Line 5131: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5131</span>                 :<span class="tlaCBC">          85453 :         state = makeNumericAggState(fcinfo, false);</span></span>
<span id="L5132" title="Line 5132: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5132</span>                 :                : </span>
<span id="L5133" title="Line 5133: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5133</span>         [<span class="tlaCBC"> <a href="#L5150" title="CBC: Branch 0 was taken 936374 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5150" title="CBC: Branch 1 was taken 30 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         936404 :     if (!PG_ARGISNULL(1))</span></span>
<span id="L5134" title="Line 5134: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301                      <span class="lineNum">    5134</span>                 :<span class="tlaCBC">         936374 :         do_numeric_accum(state, PG_GETARG_NUMERIC(1));</span></span>
<span id="L5135" title="Line 5135: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5135</span>                 :                : </span>
<span id="L5136" title="Line 5136: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> 4154                      <span class="lineNum">    5136</span>                 :<span class="tlaCBC">         936404 :     PG_RETURN_POINTER(state);</span></span>
<span id="L5137" title="Line 5137: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5137</span>                 :                : }</span>
<span id="L5138" title="Line 5138: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5138</span>                 :                : </span>
<span id="L5139" title="Line 5139: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5139</span>                 :                : /*</span>
<span id="L5140" title="Line 5140: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5140</span>                 :                :  * Combine function for numeric aggregates which don't require sumX2</span>
<span id="L5141" title="Line 5141: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5141</span>                 :                :  */</span>
<span id="L5142" title="Line 5142: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5142</span>                 :                : Datum</span>
<span id="L5143" title="Line 5143: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5153" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5143</span>                 :<span class="tlaCBC">             12 : numeric_avg_combine(PG_FUNCTION_ARGS)</span></span>
<span id="L5144" title="Line 5144: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5144</span>                 :                : {</span>
<span id="L5145" title="Line 5145: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5145</span>                 :                :     NumericAggState *state1;</span>
<span id="L5146" title="Line 5146: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5146</span>                 :                :     NumericAggState *state2;</span>
<span id="L5147" title="Line 5147: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5147</span>                 :                :     MemoryContext agg_context;</span>
<span id="L5148" title="Line 5148: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5148</span>                 :                :     MemoryContext old_context;</span>
<span id="L5149" title="Line 5149: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5149</span>                 :                : </span>
<span id="L5150" title="Line 5150: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5150</span>         [<span class="tlaUBC"> <a href="#L5151" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5153" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             12 :     if (!AggCheckCallContext(fcinfo, &amp;agg_context))</span></span>
<span id="L5151" title="Line 5151: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5157" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L5157" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5151</span>         [<span class="tlaUBC"> <a href="#L5154" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5154" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5157" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;aggregate function called in non-aggregate context&quot;);</span></span>
<span id="L5152" title="Line 5152: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5152</span>                 :                : </span>
<span id="L5153" title="Line 5153: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5160" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5160" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5153</span>         [<span class="tlaCBC"> <a href="#L5154" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5154" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<a href="#L5160" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          12 :     state1 = PG_ARGISNULL(0) ? NULL : (NumericAggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5154" title="Line 5154: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5154</span>         [<span class="tlaCBC"> <a href="#L5156" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L5156" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             12 :     state2 = PG_ARGISNULL(1) ? NULL : (NumericAggState *) PG_GETARG_POINTER(1);</span></span>
<span id="L5155" title="Line 5155: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5155</span>                 :                : </span>
<span id="L5156" title="Line 5156: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5156</span>         [<span class="tlaUBC"> <a href="#L5184" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5160" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             12 :     if (state2 == NULL)</span></span>
<span id="L5157" title="Line 5157: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5192" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L5192" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5157</span>                 :<a href="#L5192" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         PG_RETURN_POINTER(state1);</span></span>
<span id="L5158" title="Line 5158: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5158</span>                 :                : </span>
<span id="L5159" title="Line 5159: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5159</span>                 :                :     /* manually copy all fields from state2 to state1 */</span>
<span id="L5160" title="Line 5160: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5195" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5165" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5160</span>         [<span class="tlaCBC"> <a href="#L5184" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5184" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<a href="#L5195" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          12 :     if (state1 == NULL)</span></span>
<span id="L5161" title="Line 5161: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5161</span>                 :                :     {</span>
<span id="L5162" title="Line 5162: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5162</span>                 :<span class="tlaCBC">              3 :         old_context = MemoryContextSwitchTo(agg_context);</span></span>
<span id="L5163" title="Line 5163: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5163</span>                 :                : </span>
<span id="L5164" title="Line 5164: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us"> 3351 <a href="#L5167" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5164</span>                 :<span class="tlaCBC">              3 :         state1 = makeNumericAggStateCurrentContext(false);</span></span>
<span id="L5165" title="Line 5165: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5169" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5165</span>                 :<span class="tlaCBC">              3 :         state1-&gt;N = state2-&gt;N;</span></span>
<span id="L5166" title="Line 5166: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5166</span>                 :<span class="tlaCBC">              3 :         state1-&gt;NaNcount = state2-&gt;NaNcount;</span></span>
<span id="L5167" title="Line 5167: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L5179" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5167</span>                 :<span class="tlaCBC">              3 :         state1-&gt;pInfcount = state2-&gt;pInfcount;</span></span>
<span id="L5168" title="Line 5168: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5168</span>                 :<span class="tlaCBC">              3 :         state1-&gt;nInfcount = state2-&gt;nInfcount;</span></span>
<span id="L5169" title="Line 5169: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5174" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5169</span>                 :<span class="tlaCBC">              3 :         state1-&gt;maxScale = state2-&gt;maxScale;</span></span>
<span id="L5170" title="Line 5170: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5170</span>                 :<span class="tlaCBC">              3 :         state1-&gt;maxScaleCount = state2-&gt;maxScaleCount;</span></span>
<span id="L5171" title="Line 5171: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5171</span>                 :                : </span>
<span id="L5172" title="Line 5172: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L5202" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    5172</span>                 :<span class="tlaCBC">              3 :         accum_sum_copy(&amp;state1-&gt;sumX, &amp;state2-&gt;sumX);</span></span>
<span id="L5173" title="Line 5173: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5173</span>                 :                : </span>
<span id="L5174" title="Line 5174: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5184" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5174</span>                 :<span class="tlaCBC">              3 :         MemoryContextSwitchTo(old_context);</span></span>
<span id="L5175" title="Line 5175: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5175</span>                 :                : </span>
<span id="L5176" title="Line 5176: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5176</span>                 :<span class="tlaCBC">              3 :         PG_RETURN_POINTER(state1);</span></span>
<span id="L5177" title="Line 5177: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5177</span>                 :                :     }</span>
<span id="L5178" title="Line 5178: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5178</span>                 :                : </span>
<span id="L5179" title="Line 5179: commit 77a3be32f7c1 on 2020-06-11 by tgl@sss.pgh.pa.us"> 1902 <a href="#L5249" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5179</span>                 :<span class="tlaCBC">              9 :     state1-&gt;N += state2-&gt;N;</span></span>
<span id="L5180" title="Line 5180: commit 77a3be32f7c1 on 2020-06-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5180</span>                 :<span class="tlaCBC">              9 :     state1-&gt;NaNcount += state2-&gt;NaNcount;</span></span>
<span id="L5181" title="Line 5181: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    5181</span>                 :<span class="tlaCBC">              9 :     state1-&gt;pInfcount += state2-&gt;pInfcount;</span></span>
<span id="L5182" title="Line 5182: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5182</span>                 :<span class="tlaCBC">              9 :     state1-&gt;nInfcount += state2-&gt;nInfcount;</span></span>
<span id="L5183" title="Line 5183: commit 77a3be32f7c1 on 2020-06-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5183</span>                 :                : </span>
<span id="L5184" title="Line 5184: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5195" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5184</span>         [<span class="tlaCBC"> <a href="#L5190" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L5190" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              9 :     if (state2-&gt;N &gt; 0)</span></span>
<span id="L5185" title="Line 5185: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5185</span>                 :                :     {</span>
<span id="L5186" title="Line 5186: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5186</span>                 :                :         /*</span>
<span id="L5187" title="Line 5187: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5187</span>                 :                :          * These are currently only needed for moving aggregates, but let's do</span>
<span id="L5188" title="Line 5188: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5188</span>                 :                :          * the right thing anyway...</span>
<span id="L5189" title="Line 5189: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5189</span>                 :                :          */</span>
<span id="L5190" title="Line 5190: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5190</span>         [<span class="tlaUBC"> <a href="#L5195" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5195" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :         if (state2-&gt;maxScale &gt; state1-&gt;maxScale)</span></span>
<span id="L5191" title="Line 5191: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5191</span>                 :                :         {</span>
<span id="L5192" title="Line 5192: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5224" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L5224" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5192</span>                 :<a href="#L5224" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             state1-&gt;maxScale = state2-&gt;maxScale;</span></span>
<span id="L5193" title="Line 5193: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    5193</span>                 :<span class="tlaUBC">              0 :             state1-&gt;maxScaleCount = state2-&gt;maxScaleCount;</span></span>
<span id="L5194" title="Line 5194: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5194</span>                 :                :         }</span>
<span id="L5195" title="Line 5195: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5226" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5204" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5195</span>         [<span class="tlaCBC"> <a href="#L5223" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L5223" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<a href="#L5226" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           9 :         else if (state2-&gt;maxScale == state1-&gt;maxScale)</span></span>
<span id="L5196" title="Line 5196: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5196</span>                 :<span class="tlaCBC">              9 :             state1-&gt;maxScaleCount += state2-&gt;maxScaleCount;</span></span>
<span id="L5197" title="Line 5197: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5197</span>                 :                : </span>
<span id="L5198" title="Line 5198: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5198</span>                 :                :         /* The rest of this needs to work in the aggregate context */</span>
<span id="L5199" title="Line 5199: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5199</span>                 :<span class="tlaCBC">              9 :         old_context = MemoryContextSwitchTo(agg_context);</span></span>
<span id="L5200" title="Line 5200: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5200</span>                 :                : </span>
<span id="L5201" title="Line 5201: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5201</span>                 :                :         /* Accumulate sums */</span>
<span id="L5202" title="Line 5202: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L5228" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    5202</span>                 :<span class="tlaCBC">              9 :         accum_sum_combine(&amp;state1-&gt;sumX, &amp;state2-&gt;sumX);</span></span>
<span id="L5203" title="Line 5203: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5203</span>                 :                : </span>
<span id="L5204" title="Line 5204: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5226" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5204</span>                 :<span class="tlaCBC">              9 :         MemoryContextSwitchTo(old_context);</span></span>
<span id="L5205" title="Line 5205: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5205</span>                 :                :     }</span>
<span id="L5206" title="Line 5206: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5206</span>                 :<span class="tlaCBC">              9 :     PG_RETURN_POINTER(state1);</span></span>
<span id="L5207" title="Line 5207: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5207</span>                 :                : }</span>
<span id="L5208" title="Line 5208: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5208</span>                 :                : </span>
<span id="L5209" title="Line 5209: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5209</span>                 :                : /*</span>
<span id="L5210" title="Line 5210: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5210</span>                 :                :  * numeric_avg_serialize</span>
<span id="L5211" title="Line 5211: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5211</span>                 :                :  *      Serialize NumericAggState for numeric aggregates that don't require</span>
<span id="L5212" title="Line 5212: commit f8ace5477ef9 on 2016-06-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5212</span>                 :                :  *      sumX2.</span>
<span id="L5213" title="Line 5213: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5213</span>                 :                :  */</span>
<span id="L5214" title="Line 5214: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5214</span>                 :                : Datum</span>
<span id="L5215" title="Line 5215: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5215</span>                 :<span class="tlaCBC">             12 : numeric_avg_serialize(PG_FUNCTION_ARGS)</span></span>
<span id="L5216" title="Line 5216: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5216</span>                 :                : {</span>
<span id="L5217" title="Line 5217: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5217</span>                 :                :     NumericAggState *state;</span>
<span id="L5218" title="Line 5218: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5218</span>                 :                :     StringInfoData buf;</span>
<span id="L5219" title="Line 5219: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5219</span>                 :                :     bytea      *result;</span>
<span id="L5220" title="Line 5220: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    5220</span>                 :                :     NumericVar  tmp_var;</span>
<span id="L5221" title="Line 5221: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5221</span>                 :                : </span>
<span id="L5222" title="Line 5222: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5222</span>                 :                :     /* Ensure we disallow calling when not in aggregate context */</span>
<span id="L5223" title="Line 5223: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5223</span>         [<span class="tlaUBC"> <a href="#L5224" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5274" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             12 :     if (!AggCheckCallContext(fcinfo, NULL))</span></span>
<span id="L5224" title="Line 5224: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5275" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L5275" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5224</span>         [<span class="tlaUBC"> <a href="#L5274" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5274" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5275" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;aggregate function called in non-aggregate context&quot;);</span></span>
<span id="L5225" title="Line 5225: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5225</span>                 :                : </span>
<span id="L5226" title="Line 5226: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5277" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5230" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5226</span>                 :<a href="#L5277" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          12 :     state = (NumericAggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5227" title="Line 5227: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5227</span>                 :                : </span>
<span id="L5228" title="Line 5228: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L5295" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    5228</span>                 :<span class="tlaCBC">             12 :     init_var(&amp;tmp_var);</span></span>
<span id="L5229" title="Line 5229: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5229</span>                 :                : </span>
<span id="L5230" title="Line 5230: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5243" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5230</span>                 :<span class="tlaCBC">             12 :     pq_begintypsend(&amp;buf);</span></span>
<span id="L5231" title="Line 5231: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5231</span>                 :                : </span>
<span id="L5232" title="Line 5232: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5232</span>                 :                :     /* N */</span>
<span id="L5233" title="Line 5233: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5233</span>                 :<span class="tlaCBC">             12 :     pq_sendint64(&amp;buf, state-&gt;N);</span></span>
<span id="L5234" title="Line 5234: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5234</span>                 :                : </span>
<span id="L5235" title="Line 5235: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5235</span>                 :                :     /* sumX */</span>
<span id="L5236" title="Line 5236: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com"> 1513 <a href="#L5256" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5236</span>                 :<span class="tlaCBC">             12 :     accum_sum_final(&amp;state-&gt;sumX, &amp;tmp_var);</span></span>
<span id="L5237" title="Line 5237: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5237</span>                 :<span class="tlaCBC">             12 :     numericvar_serialize(&amp;buf, &amp;tmp_var);</span></span>
<span id="L5238" title="Line 5238: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5238</span>                 :                : </span>
<span id="L5239" title="Line 5239: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5239</span>                 :                :     /* maxScale */</span>
<span id="L5240" title="Line 5240: commit 31079a4a8e66 on 2017-10-11 by andres@anarazel.de"> 2876 <a href="#L5354" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    5240</span>                 :<span class="tlaCBC">             12 :     pq_sendint32(&amp;buf, state-&gt;maxScale);</span></span>
<span id="L5241" title="Line 5241: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5241</span>                 :                : </span>
<span id="L5242" title="Line 5242: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5242</span>                 :                :     /* maxScaleCount */</span>
<span id="L5243" title="Line 5243: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5254" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5243</span>                 :<span class="tlaCBC">             12 :     pq_sendint64(&amp;buf, state-&gt;maxScaleCount);</span></span>
<span id="L5244" title="Line 5244: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5244</span>                 :                : </span>
<span id="L5245" title="Line 5245: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5245</span>                 :                :     /* NaNcount */</span>
<span id="L5246" title="Line 5246: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5246</span>                 :<span class="tlaCBC">             12 :     pq_sendint64(&amp;buf, state-&gt;NaNcount);</span></span>
<span id="L5247" title="Line 5247: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5247</span>                 :                : </span>
<span id="L5248" title="Line 5248: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5248</span>                 :                :     /* pInfcount */</span>
<span id="L5249" title="Line 5249: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L5288" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5249</span>                 :<span class="tlaCBC">             12 :     pq_sendint64(&amp;buf, state-&gt;pInfcount);</span></span>
<span id="L5250" title="Line 5250: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5250</span>                 :                : </span>
<span id="L5251" title="Line 5251: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5251</span>                 :                :     /* nInfcount */</span>
<span id="L5252" title="Line 5252: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5252</span>                 :<span class="tlaCBC">             12 :     pq_sendint64(&amp;buf, state-&gt;nInfcount);</span></span>
<span id="L5253" title="Line 5253: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5253</span>                 :                : </span>
<span id="L5254" title="Line 5254: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5258" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5254</span>                 :<span class="tlaCBC">             12 :     result = pq_endtypsend(&amp;buf);</span></span>
<span id="L5255" title="Line 5255: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5255</span>                 :                : </span>
<span id="L5256" title="Line 5256: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com"> 1513 <a href="#L5279" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5256</span>                 :<span class="tlaCBC">             12 :     free_var(&amp;tmp_var);</span></span>
<span id="L5257" title="Line 5257: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5257</span>                 :                : </span>
<span id="L5258" title="Line 5258: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5291" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5258</span>                 :<span class="tlaCBC">             12 :     PG_RETURN_BYTEA_P(result);</span></span>
<span id="L5259" title="Line 5259: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5259</span>                 :                : }</span>
<span id="L5260" title="Line 5260: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5260</span>                 :                : </span>
<span id="L5261" title="Line 5261: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5261</span>                 :                : /*</span>
<span id="L5262" title="Line 5262: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5262</span>                 :                :  * numeric_avg_deserialize</span>
<span id="L5263" title="Line 5263: commit f8ace5477ef9 on 2016-06-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5263</span>                 :                :  *      Deserialize bytea into NumericAggState for numeric aggregates that</span>
<span id="L5264" title="Line 5264: commit f8ace5477ef9 on 2016-06-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5264</span>                 :                :  *      don't require sumX2.</span>
<span id="L5265" title="Line 5265: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5265</span>                 :                :  */</span>
<span id="L5266" title="Line 5266: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5266</span>                 :                : Datum</span>
<span id="L5267" title="Line 5267: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5267</span>                 :<span class="tlaCBC">             12 : numeric_avg_deserialize(PG_FUNCTION_ARGS)</span></span>
<span id="L5268" title="Line 5268: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5268</span>                 :                : {</span>
<span id="L5269" title="Line 5269: commit f8ace5477ef9 on 2016-06-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5269</span>                 :                :     bytea      *sstate;</span>
<span id="L5270" title="Line 5270: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5270</span>                 :                :     NumericAggState *result;</span>
<span id="L5271" title="Line 5271: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5271</span>                 :                :     StringInfoData buf;</span>
<span id="L5272" title="Line 5272: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5272</span>                 :                :     NumericVar  tmp_var;</span>
<span id="L5273" title="Line 5273: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5273</span>                 :                : </span>
<span id="L5274" title="Line 5274: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5274</span>         [<span class="tlaUBC"> <a href="#L5275" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5333" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             12 :     if (!AggCheckCallContext(fcinfo, NULL))</span></span>
<span id="L5275" title="Line 5275: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5334" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L5334" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5275</span>         [<span class="tlaUBC"> <a href="#L5333" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5333" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5334" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;aggregate function called in non-aggregate context&quot;);</span></span>
<span id="L5276" title="Line 5276: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5276</span>                 :                : </span>
<span id="L5277" title="Line 5277: commit 3a0d473192b2 on 2017-03-12 by noah@leadboat.com"> <a href="#L5336" title="next CBC in &ldquo;(360..) days&rdquo; bin">3089</a> <a href="#L5391" title="next CBC in &ldquo;noah@leadboat.com&rdquo; bin">noah@leadboat.com</a>    <span class="lineNum">    5277</span>                 :<a href="#L5336" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          12 :     sstate = PG_GETARG_BYTEA_PP(0);</span></span>
<span id="L5278" title="Line 5278: commit f8ace5477ef9 on 2016-06-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5278</span>                 :                : </span>
<span id="L5279" title="Line 5279: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com"> 1513 <a href="#L5294" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5279</span>                 :<span class="tlaCBC">             12 :     init_var(&amp;tmp_var);</span></span>
<span id="L5280" title="Line 5280: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5280</span>                 :                : </span>
<span id="L5281" title="Line 5281: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5281</span>                 :                :     /*</span>
<span id="L5282" title="Line 5282: commit 0c882a298881 on 2023-10-27 by drowley@postgresql.org">                           <span class="lineNum">    5282</span>                 :                :      * Initialize a StringInfo so that we can &quot;receive&quot; it using the standard</span>
<span id="L5283" title="Line 5283: commit 0c882a298881 on 2023-10-27 by drowley@postgresql.org">                           <span class="lineNum">    5283</span>                 :                :      * recv-function infrastructure.</span>
<span id="L5284" title="Line 5284: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5284</span>                 :                :      */</span>
<span id="L5285" title="Line 5285: commit 0c882a298881 on 2023-10-27 by drowley@postgresql.org">  669 <a href="#L5399" title="next CBC in &ldquo;drowley@postgresql.org&rdquo; bin">drowley@postgresql.o</a> <span class="lineNum">    5285</span>         [<span class="tlaECB"> <a href="#L5286" title="ECB: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaEUB"> <a href="#L5286" title="EUB: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             12 :     initReadOnlyStringInfo(&amp;buf, VARDATA_ANY(sstate),</span></span>
<span id="L5286" title="Line 5286: commit 0c882a298881 on 2023-10-27 by drowley@postgresql.org">                           <span class="lineNum">    5286</span>   [<span class="tlaEUB"> <a href="#L5400" title="EUB: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaECB"> <a href="#L5399" title="ECB: Branch 1 was taken 12 times" class="branchTla">+</a> </span><span class="tlaEUB"> <a href="#L5400" title="EUB: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaEUB"> <a href="#L5400" title="EUB: Branch 3 was not taken" class="branchTla">-</a> </span> :<span class="tlaCBC">             12 :                            VARSIZE_ANY_EXHDR(sstate));</span></span>
                           <span class="lineNum">        </span> <span class="tlaEUB"> <a href="#L5400" title="EUB: Branch 4 was not taken" class="branchTla">-</a> </span><span class="tlaEUB"> <a href="#L5400" title="EUB: Branch 5 was not taken" class="branchTla">-</a> </span><span class="tlaEUB"> <a href="#L5400" title="EUB: Branch 6 was not taken" class="branchTla">-</a> </span><span class="tlaEUB"> <a href="#L5400" title="EUB: Branch 7 was not taken" class="branchTla">-</a> </span><span class="tlaECB"> <a href="#L5399" title="ECB: Branch 8 was taken 12 times" class="branchTla">+</a> </span> 
                           <span class="lineNum">        </span>             <span class="tlaEUB"> <a href="#L5400" title="EUB: Branch 9 was not taken" class="branchTla">-</a> </span>]
<span id="L5287" title="Line 5287: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5287</span>                 :                : </span>
<span id="L5288" title="Line 5288: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us"> 3351 <a href="#L5307" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5288</span>                 :<span class="tlaCBC">             12 :     result = makeNumericAggStateCurrentContext(false);</span></span>
<span id="L5289" title="Line 5289: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5289</span>                 :                : </span>
<span id="L5290" title="Line 5290: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5290</span>                 :                :     /* N */</span>
<span id="L5291" title="Line 5291: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5298" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5291</span>                 :<span class="tlaCBC">             12 :     result-&gt;N = pq_getmsgint64(&amp;buf);</span></span>
<span id="L5292" title="Line 5292: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5292</span>                 :                : </span>
<span id="L5293" title="Line 5293: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5293</span>                 :                :     /* sumX */</span>
<span id="L5294" title="Line 5294: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com"> 1513 <a href="#L5314" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5294</span>                 :<span class="tlaCBC">             12 :     numericvar_deserialize(&amp;buf, &amp;tmp_var);</span></span>
<span id="L5295" title="Line 5295: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L5338" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    5295</span>                 :<span class="tlaCBC">             12 :     accum_sum_add(&amp;(result-&gt;sumX), &amp;tmp_var);</span></span>
<span id="L5296" title="Line 5296: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5296</span>                 :                : </span>
<span id="L5297" title="Line 5297: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5297</span>                 :                :     /* maxScale */</span>
<span id="L5298" title="Line 5298: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5312" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5298</span>                 :<span class="tlaCBC">             12 :     result-&gt;maxScale = pq_getmsgint(&amp;buf, 4);</span></span>
<span id="L5299" title="Line 5299: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5299</span>                 :                : </span>
<span id="L5300" title="Line 5300: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5300</span>                 :                :     /* maxScaleCount */</span>
<span id="L5301" title="Line 5301: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5301</span>                 :<span class="tlaCBC">             12 :     result-&gt;maxScaleCount = pq_getmsgint64(&amp;buf);</span></span>
<span id="L5302" title="Line 5302: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5302</span>                 :                : </span>
<span id="L5303" title="Line 5303: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5303</span>                 :                :     /* NaNcount */</span>
<span id="L5304" title="Line 5304: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5304</span>                 :<span class="tlaCBC">             12 :     result-&gt;NaNcount = pq_getmsgint64(&amp;buf);</span></span>
<span id="L5305" title="Line 5305: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5305</span>                 :                : </span>
<span id="L5306" title="Line 5306: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5306</span>                 :                :     /* pInfcount */</span>
<span id="L5307" title="Line 5307: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L5363" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5307</span>                 :<span class="tlaCBC">             12 :     result-&gt;pInfcount = pq_getmsgint64(&amp;buf);</span></span>
<span id="L5308" title="Line 5308: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5308</span>                 :                : </span>
<span id="L5309" title="Line 5309: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5309</span>                 :                :     /* nInfcount */</span>
<span id="L5310" title="Line 5310: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5310</span>                 :<span class="tlaCBC">             12 :     result-&gt;nInfcount = pq_getmsgint64(&amp;buf);</span></span>
<span id="L5311" title="Line 5311: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5311</span>                 :                : </span>
<span id="L5312" title="Line 5312: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5316" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5312</span>                 :<span class="tlaCBC">             12 :     pq_getmsgend(&amp;buf);</span></span>
<span id="L5313" title="Line 5313: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5313</span>                 :                : </span>
<span id="L5314" title="Line 5314: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com"> 1513 <a href="#L5346" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5314</span>                 :<span class="tlaCBC">             12 :     free_var(&amp;tmp_var);</span></span>
<span id="L5315" title="Line 5315: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5315</span>                 :                : </span>
<span id="L5316" title="Line 5316: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5336" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5316</span>                 :<span class="tlaCBC">             12 :     PG_RETURN_POINTER(result);</span></span>
<span id="L5317" title="Line 5317: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5317</span>                 :                : }</span>
<span id="L5318" title="Line 5318: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5318</span>                 :                : </span>
<span id="L5319" title="Line 5319: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5319</span>                 :                : /*</span>
<span id="L5320" title="Line 5320: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5320</span>                 :                :  * numeric_serialize</span>
<span id="L5321" title="Line 5321: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5321</span>                 :                :  *      Serialization function for NumericAggState for numeric aggregates that</span>
<span id="L5322" title="Line 5322: commit f8ace5477ef9 on 2016-06-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5322</span>                 :                :  *      require sumX2.</span>
<span id="L5323" title="Line 5323: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5323</span>                 :                :  */</span>
<span id="L5324" title="Line 5324: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5324</span>                 :                : Datum</span>
<span id="L5325" title="Line 5325: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5325</span>                 :<span class="tlaCBC">             18 : numeric_serialize(PG_FUNCTION_ARGS)</span></span>
<span id="L5326" title="Line 5326: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5326</span>                 :                : {</span>
<span id="L5327" title="Line 5327: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5327</span>                 :                :     NumericAggState *state;</span>
<span id="L5328" title="Line 5328: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5328</span>                 :                :     StringInfoData buf;</span>
<span id="L5329" title="Line 5329: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5329</span>                 :                :     bytea      *result;</span>
<span id="L5330" title="Line 5330: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5330</span>                 :                :     NumericVar  tmp_var;</span>
<span id="L5331" title="Line 5331: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5331</span>                 :                : </span>
<span id="L5332" title="Line 5332: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5332</span>                 :                :     /* Ensure we disallow calling when not in aggregate context */</span>
<span id="L5333" title="Line 5333: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5333</span>         [<span class="tlaUBC"> <a href="#L5334" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5388" title="CBC: Branch 1 was taken 18 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :     if (!AggCheckCallContext(fcinfo, NULL))</span></span>
<span id="L5334" title="Line 5334: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5389" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L5389" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5334</span>         [<span class="tlaUBC"> <a href="#L5388" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5388" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5389" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;aggregate function called in non-aggregate context&quot;);</span></span>
<span id="L5335" title="Line 5335: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5335</span>                 :                : </span>
<span id="L5336" title="Line 5336: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5391" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5340" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5336</span>                 :<a href="#L5391" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          18 :     state = (NumericAggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5337" title="Line 5337: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5337</span>                 :                : </span>
<span id="L5338" title="Line 5338: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L6027" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    5338</span>                 :<span class="tlaCBC">             18 :     init_var(&amp;tmp_var);</span></span>
<span id="L5339" title="Line 5339: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    5339</span>                 :                : </span>
<span id="L5340" title="Line 5340: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5357" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5340</span>                 :<span class="tlaCBC">             18 :     pq_begintypsend(&amp;buf);</span></span>
<span id="L5341" title="Line 5341: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5341</span>                 :                : </span>
<span id="L5342" title="Line 5342: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5342</span>                 :                :     /* N */</span>
<span id="L5343" title="Line 5343: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5343</span>                 :<span class="tlaCBC">             18 :     pq_sendint64(&amp;buf, state-&gt;N);</span></span>
<span id="L5344" title="Line 5344: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5344</span>                 :                : </span>
<span id="L5345" title="Line 5345: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5345</span>                 :                :     /* sumX */</span>
<span id="L5346" title="Line 5346: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com"> 1513 <a href="#L5370" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5346</span>                 :<span class="tlaCBC">             18 :     accum_sum_final(&amp;state-&gt;sumX, &amp;tmp_var);</span></span>
<span id="L5347" title="Line 5347: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5347</span>                 :<span class="tlaCBC">             18 :     numericvar_serialize(&amp;buf, &amp;tmp_var);</span></span>
<span id="L5348" title="Line 5348: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5348</span>                 :                : </span>
<span id="L5349" title="Line 5349: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5349</span>                 :                :     /* sumX2 */</span>
<span id="L5350" title="Line 5350: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5350</span>                 :<span class="tlaCBC">             18 :     accum_sum_final(&amp;state-&gt;sumX2, &amp;tmp_var);</span></span>
<span id="L5351" title="Line 5351: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5351</span>                 :<span class="tlaCBC">             18 :     numericvar_serialize(&amp;buf, &amp;tmp_var);</span></span>
<span id="L5352" title="Line 5352: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5352</span>                 :                : </span>
<span id="L5353" title="Line 5353: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5353</span>                 :                :     /* maxScale */</span>
<span id="L5354" title="Line 5354: commit 31079a4a8e66 on 2017-10-11 by andres@anarazel.de"> 2876 <a href="#L5492" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    5354</span>                 :<span class="tlaCBC">             18 :     pq_sendint32(&amp;buf, state-&gt;maxScale);</span></span>
<span id="L5355" title="Line 5355: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5355</span>                 :                : </span>
<span id="L5356" title="Line 5356: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5356</span>                 :                :     /* maxScaleCount */</span>
<span id="L5357" title="Line 5357: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5368" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5357</span>                 :<span class="tlaCBC">             18 :     pq_sendint64(&amp;buf, state-&gt;maxScaleCount);</span></span>
<span id="L5358" title="Line 5358: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5358</span>                 :                : </span>
<span id="L5359" title="Line 5359: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5359</span>                 :                :     /* NaNcount */</span>
<span id="L5360" title="Line 5360: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5360</span>                 :<span class="tlaCBC">             18 :     pq_sendint64(&amp;buf, state-&gt;NaNcount);</span></span>
<span id="L5361" title="Line 5361: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5361</span>                 :                : </span>
<span id="L5362" title="Line 5362: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5362</span>                 :                :     /* pInfcount */</span>
<span id="L5363" title="Line 5363: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L5402" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5363</span>                 :<span class="tlaCBC">             18 :     pq_sendint64(&amp;buf, state-&gt;pInfcount);</span></span>
<span id="L5364" title="Line 5364: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5364</span>                 :                : </span>
<span id="L5365" title="Line 5365: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5365</span>                 :                :     /* nInfcount */</span>
<span id="L5366" title="Line 5366: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5366</span>                 :<span class="tlaCBC">             18 :     pq_sendint64(&amp;buf, state-&gt;nInfcount);</span></span>
<span id="L5367" title="Line 5367: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5367</span>                 :                : </span>
<span id="L5368" title="Line 5368: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5372" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5368</span>                 :<span class="tlaCBC">             18 :     result = pq_endtypsend(&amp;buf);</span></span>
<span id="L5369" title="Line 5369: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5369</span>                 :                : </span>
<span id="L5370" title="Line 5370: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com"> 1513 <a href="#L5393" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5370</span>                 :<span class="tlaCBC">             18 :     free_var(&amp;tmp_var);</span></span>
<span id="L5371" title="Line 5371: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5371</span>                 :                : </span>
<span id="L5372" title="Line 5372: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5405" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5372</span>                 :<span class="tlaCBC">             18 :     PG_RETURN_BYTEA_P(result);</span></span>
<span id="L5373" title="Line 5373: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5373</span>                 :                : }</span>
<span id="L5374" title="Line 5374: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5374</span>                 :                : </span>
<span id="L5375" title="Line 5375: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5375</span>                 :                : /*</span>
<span id="L5376" title="Line 5376: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5376</span>                 :                :  * numeric_deserialize</span>
<span id="L5377" title="Line 5377: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5377</span>                 :                :  *      Deserialization function for NumericAggState for numeric aggregates that</span>
<span id="L5378" title="Line 5378: commit f8ace5477ef9 on 2016-06-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5378</span>                 :                :  *      require sumX2.</span>
<span id="L5379" title="Line 5379: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5379</span>                 :                :  */</span>
<span id="L5380" title="Line 5380: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5380</span>                 :                : Datum</span>
<span id="L5381" title="Line 5381: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5381</span>                 :<span class="tlaCBC">             18 : numeric_deserialize(PG_FUNCTION_ARGS)</span></span>
<span id="L5382" title="Line 5382: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5382</span>                 :                : {</span>
<span id="L5383" title="Line 5383: commit f8ace5477ef9 on 2016-06-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5383</span>                 :                :     bytea      *sstate;</span>
<span id="L5384" title="Line 5384: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5384</span>                 :                :     NumericAggState *result;</span>
<span id="L5385" title="Line 5385: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5385</span>                 :                :     StringInfoData buf;</span>
<span id="L5386" title="Line 5386: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5386</span>                 :                :     NumericVar  tmp_var;</span>
<span id="L5387" title="Line 5387: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5387</span>                 :                : </span>
<span id="L5388" title="Line 5388: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5388</span>         [<span class="tlaUBC"> <a href="#L5389" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5446" title="CBC: Branch 1 was taken 18 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :     if (!AggCheckCallContext(fcinfo, NULL))</span></span>
<span id="L5389" title="Line 5389: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5450" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L5615" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5389</span>         [<span class="tlaUBC"> <a href="#L5446" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5446" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5450" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;aggregate function called in non-aggregate context&quot;);</span></span>
<span id="L5390" title="Line 5390: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5390</span>                 :                : </span>
<span id="L5391" title="Line 5391: commit 3a0d473192b2 on 2017-03-12 by noah@leadboat.com"> <a href="#L5452" title="next CBC in &ldquo;(360..) days&rdquo; bin">3089</a> <a href="#L5718" title="next CBC in &ldquo;noah@leadboat.com&rdquo; bin">noah@leadboat.com</a>    <span class="lineNum">    5391</span>                 :<a href="#L5452" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          18 :     sstate = PG_GETARG_BYTEA_PP(0);</span></span>
<span id="L5392" title="Line 5392: commit f8ace5477ef9 on 2016-06-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5392</span>                 :                : </span>
<span id="L5393" title="Line 5393: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com"> 1513 <a href="#L5408" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5393</span>                 :<span class="tlaCBC">             18 :     init_var(&amp;tmp_var);</span></span>
<span id="L5394" title="Line 5394: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5394</span>                 :                : </span>
<span id="L5395" title="Line 5395: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5395</span>                 :                :     /*</span>
<span id="L5396" title="Line 5396: commit 0c882a298881 on 2023-10-27 by drowley@postgresql.org">                           <span class="lineNum">    5396</span>                 :                :      * Initialize a StringInfo so that we can &quot;receive&quot; it using the standard</span>
<span id="L5397" title="Line 5397: commit 0c882a298881 on 2023-10-27 by drowley@postgresql.org">                           <span class="lineNum">    5397</span>                 :                :      * recv-function infrastructure.</span>
<span id="L5398" title="Line 5398: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5398</span>                 :                :      */</span>
<span id="L5399" title="Line 5399: commit 0c882a298881 on 2023-10-27 by drowley@postgresql.org">  669 <a href="#L5724" title="next CBC in &ldquo;drowley@postgresql.org&rdquo; bin">drowley@postgresql.o</a> <span class="lineNum">    5399</span>         [<span class="tlaECB"> <a href="#L5400" title="ECB: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaECB"> <a href="#L5400" title="ECB: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :     initReadOnlyStringInfo(&amp;buf, VARDATA_ANY(sstate),</span></span>
<span id="L5400" title="Line 5400: commit 0c882a298881 on 2023-10-27 by drowley@postgresql.org">                           <span class="lineNum">    5400</span>   [<span class="tlaEUB"> <a href="#L5724" title="EUB: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaECB"> <a href="#L5724" title="ECB: Branch 1 was taken 18 times" class="branchTla">+</a> </span><span class="tlaEUB"> <a href="#L5724" title="EUB: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaEUB"> <a href="#L5724" title="EUB: Branch 3 was not taken" class="branchTla">-</a> </span> :<span class="tlaCBC">             18 :                            VARSIZE_ANY_EXHDR(sstate));</span></span>
                           <span class="lineNum">        </span> <span class="tlaEUB"> <a href="#L5724" title="EUB: Branch 4 was not taken" class="branchTla">-</a> </span><span class="tlaEUB"> <a href="#L5724" title="EUB: Branch 5 was not taken" class="branchTla">-</a> </span><span class="tlaEUB"> <a href="#L5724" title="EUB: Branch 6 was not taken" class="branchTla">-</a> </span><span class="tlaEUB"> <a href="#L5724" title="EUB: Branch 7 was not taken" class="branchTla">-</a> </span><span class="tlaECB"> <a href="#L5724" title="ECB: Branch 8 was taken 12 times" class="branchTla">+</a> </span> 
                           <span class="lineNum">        </span>             <span class="tlaECB"> <a href="#L5724" title="ECB: Branch 9 was taken 6 times" class="branchTla">+</a> </span>]
<span id="L5401" title="Line 5401: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5401</span>                 :                : </span>
<span id="L5402" title="Line 5402: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us"> 3351 <a href="#L5425" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5402</span>                 :<span class="tlaCBC">             18 :     result = makeNumericAggStateCurrentContext(false);</span></span>
<span id="L5403" title="Line 5403: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5403</span>                 :                : </span>
<span id="L5404" title="Line 5404: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5404</span>                 :                :     /* N */</span>
<span id="L5405" title="Line 5405: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5416" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5405</span>                 :<span class="tlaCBC">             18 :     result-&gt;N = pq_getmsgint64(&amp;buf);</span></span>
<span id="L5406" title="Line 5406: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5406</span>                 :                : </span>
<span id="L5407" title="Line 5407: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5407</span>                 :                :     /* sumX */</span>
<span id="L5408" title="Line 5408: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com"> 1513 <a href="#L5432" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5408</span>                 :<span class="tlaCBC">             18 :     numericvar_deserialize(&amp;buf, &amp;tmp_var);</span></span>
<span id="L5409" title="Line 5409: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5409</span>                 :<span class="tlaCBC">             18 :     accum_sum_add(&amp;(result-&gt;sumX), &amp;tmp_var);</span></span>
<span id="L5410" title="Line 5410: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5410</span>                 :                : </span>
<span id="L5411" title="Line 5411: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5411</span>                 :                :     /* sumX2 */</span>
<span id="L5412" title="Line 5412: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5412</span>                 :<span class="tlaCBC">             18 :     numericvar_deserialize(&amp;buf, &amp;tmp_var);</span></span>
<span id="L5413" title="Line 5413: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5413</span>                 :<span class="tlaCBC">             18 :     accum_sum_add(&amp;(result-&gt;sumX2), &amp;tmp_var);</span></span>
<span id="L5414" title="Line 5414: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5414</span>                 :                : </span>
<span id="L5415" title="Line 5415: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5415</span>                 :                :     /* maxScale */</span>
<span id="L5416" title="Line 5416: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5430" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5416</span>                 :<span class="tlaCBC">             18 :     result-&gt;maxScale = pq_getmsgint(&amp;buf, 4);</span></span>
<span id="L5417" title="Line 5417: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5417</span>                 :                : </span>
<span id="L5418" title="Line 5418: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5418</span>                 :                :     /* maxScaleCount */</span>
<span id="L5419" title="Line 5419: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5419</span>                 :<span class="tlaCBC">             18 :     result-&gt;maxScaleCount = pq_getmsgint64(&amp;buf);</span></span>
<span id="L5420" title="Line 5420: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5420</span>                 :                : </span>
<span id="L5421" title="Line 5421: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5421</span>                 :                :     /* NaNcount */</span>
<span id="L5422" title="Line 5422: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5422</span>                 :<span class="tlaCBC">             18 :     result-&gt;NaNcount = pq_getmsgint64(&amp;buf);</span></span>
<span id="L5423" title="Line 5423: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5423</span>                 :                : </span>
<span id="L5424" title="Line 5424: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5424</span>                 :                :     /* pInfcount */</span>
<span id="L5425" title="Line 5425: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L5442" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5425</span>                 :<span class="tlaCBC">             18 :     result-&gt;pInfcount = pq_getmsgint64(&amp;buf);</span></span>
<span id="L5426" title="Line 5426: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5426</span>                 :                : </span>
<span id="L5427" title="Line 5427: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5427</span>                 :                :     /* nInfcount */</span>
<span id="L5428" title="Line 5428: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5428</span>                 :<span class="tlaCBC">             18 :     result-&gt;nInfcount = pq_getmsgint64(&amp;buf);</span></span>
<span id="L5429" title="Line 5429: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5429</span>                 :                : </span>
<span id="L5430" title="Line 5430: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5434" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5430</span>                 :<span class="tlaCBC">             18 :     pq_getmsgend(&amp;buf);</span></span>
<span id="L5431" title="Line 5431: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5431</span>                 :                : </span>
<span id="L5432" title="Line 5432: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com"> 1513 <a href="#L5644" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5432</span>                 :<span class="tlaCBC">             18 :     free_var(&amp;tmp_var);</span></span>
<span id="L5433" title="Line 5433: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5433</span>                 :                : </span>
<span id="L5434" title="Line 5434: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5607" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5434</span>                 :<span class="tlaCBC">             18 :     PG_RETURN_POINTER(result);</span></span>
<span id="L5435" title="Line 5435: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5435</span>                 :                : }</span>
<span id="L5436" title="Line 5436: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5436</span>                 :                : </span>
<span id="L5437" title="Line 5437: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5437</span>                 :                : /*</span>
<span id="L5438" title="Line 5438: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5438</span>                 :                :  * Generic inverse transition function for numeric aggregates</span>
<span id="L5439" title="Line 5439: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5439</span>                 :                :  * (with or without requirement for X^2).</span>
<span id="L5440" title="Line 5440: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5440</span>                 :                :  */</span>
<span id="L5441" title="Line 5441: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5441</span>                 :                : Datum</span>
<span id="L5442" title="Line 5442: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> 4154 <a href="#L5452" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5442</span>                 :<span class="tlaCBC">            114 : numeric_accum_inv(PG_FUNCTION_ARGS)</span></span>
<span id="L5443" title="Line 5443: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5443</span>                 :                : {</span>
<span id="L5444" title="Line 5444: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5444</span>                 :                :     NumericAggState *state;</span>
<span id="L5445" title="Line 5445: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5445</span>                 :                : </span>
<span id="L5446" title="Line 5446: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5446</span>         [<span class="tlaCBC"> <a href="#L5449" title="CBC: Branch 0 was taken 114 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L5449" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            114 :     state = PG_ARGISNULL(0) ? NULL : (NumericAggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5447" title="Line 5447: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5447</span>                 :                : </span>
<span id="L5448" title="Line 5448: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5448</span>                 :                :     /* Should not get here with no state */</span>
<span id="L5449" title="Line 5449: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5449</span>         [<span class="tlaUBC"> <a href="#L5450" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5452" title="CBC: Branch 1 was taken 114 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            114 :     if (state == NULL)</span></span>
<span id="L5450" title="Line 5450: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5499" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">4154</a> </span><a href="#L5887" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    5450</span>         [<span class="tlaUBC"> <a href="#L5498" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5498" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5499" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;numeric_accum_inv called with NULL state&quot;);</span></span>
<span id="L5451" title="Line 5451: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5451</span>                 :                : </span>
<span id="L5452" title="Line 5452: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L5501" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L5516" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5452</span>         [<span class="tlaCBC"> <a href="#L5455" title="CBC: Branch 0 was taken 99 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5455" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<a href="#L5501" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         114 :     if (!PG_ARGISNULL(1))</span></span>
<span id="L5453" title="Line 5453: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5453</span>                 :                :     {</span>
<span id="L5454" title="Line 5454: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5454</span>                 :                :         /* If we fail to perform the inverse transition, return NULL */</span>
<span id="L5455" title="Line 5455: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5455</span>         [<span class="tlaCBC"> <a href="#L5498" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5498" title="CBC: Branch 1 was taken 96 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             99 :         if (!do_numeric_discard(state, PG_GETARG_NUMERIC(1)))</span></span>
<span id="L5456" title="Line 5456: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5456</span>                 :<span class="tlaCBC">              3 :             PG_RETURN_NULL();</span></span>
<span id="L5457" title="Line 5457: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5457</span>                 :                :     }</span>
<span id="L5458" title="Line 5458: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    5458</span>                 :                : </span>
<span id="L5459" title="Line 5459: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301                      <span class="lineNum">    5459</span>                 :<span class="tlaCBC">            111 :     PG_RETURN_POINTER(state);</span></span>
<span id="L5460" title="Line 5460: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    5460</span>                 :                : }</span>
<span id="L5461" title="Line 5461: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    5461</span>                 :                : </span>
<span id="L5462" title="Line 5462: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5462</span>                 :                : </span>
<span id="L5463" title="Line 5463: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5463</span>                 :                : /*</span>
<span id="L5464" title="Line 5464: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5464</span>                 :                :  * Integer data types in general use Numeric accumulators to share code and</span>
<span id="L5465" title="Line 5465: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5465</span>                 :                :  * avoid risk of overflow.  However for performance reasons optimized</span>
<span id="L5466" title="Line 5466: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5466</span>                 :                :  * special-purpose accumulator routines are used when possible:</span>
<span id="L5467" title="Line 5467: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5467</span>                 :                :  *</span>
<span id="L5468" title="Line 5468: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5468</span>                 :                :  * For 16-bit and 32-bit inputs, N and sum(X) fit into 64-bit, so 64-bit</span>
<span id="L5469" title="Line 5469: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5469</span>                 :                :  * accumulators are used for SUM and AVG of these data types.</span>
<span id="L5470" title="Line 5470: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5470</span>                 :                :  *</span>
<span id="L5471" title="Line 5471: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5471</span>                 :                :  * For 16-bit and 32-bit inputs, sum(X^2) fits into 128-bit, so 128-bit</span>
<span id="L5472" title="Line 5472: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5472</span>                 :                :  * accumulators are used for STDDEV_POP, STDDEV_SAMP, VAR_POP, and VAR_SAMP of</span>
<span id="L5473" title="Line 5473: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5473</span>                 :                :  * these data types.</span>
<span id="L5474" title="Line 5474: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5474</span>                 :                :  *</span>
<span id="L5475" title="Line 5475: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5475</span>                 :                :  * For 64-bit inputs, sum(X) fits into 128-bit, so a 128-bit accumulator is</span>
<span id="L5476" title="Line 5476: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5476</span>                 :                :  * used for SUM(int8) and AVG(int8).</span>
<span id="L5477" title="Line 5477: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5477</span>                 :                :  */</span>
<span id="L5478" title="Line 5478: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5478</span>                 :                : </span>
<span id="L5479" title="Line 5479: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5479</span>                 :                : typedef struct Int128AggState</span>
<span id="L5480" title="Line 5480: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5480</span>                 :                : {</span>
<span id="L5481" title="Line 5481: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    5481</span>                 :                :     bool        calcSumX2;      /* if true, calculate sumX2 */</span>
<span id="L5482" title="Line 5482: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    5482</span>                 :                :     int64       N;              /* count of processed numbers */</span>
<span id="L5483" title="Line 5483: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5483</span>                 :                :     INT128      sumX;           /* sum of processed numbers */</span>
<span id="L5484" title="Line 5484: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5484</span>                 :                :     INT128      sumX2;          /* sum of squares of processed numbers */</span>
<span id="L5485" title="Line 5485: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5485</span>                 :                : } Int128AggState;</span>
<span id="L5486" title="Line 5486: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5486</span>                 :                : </span>
<span id="L5487" title="Line 5487: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5487</span>                 :                : /*</span>
<span id="L5488" title="Line 5488: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5488</span>                 :                :  * Prepare state data for a 128-bit aggregate function that needs to compute</span>
<span id="L5489" title="Line 5489: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5489</span>                 :                :  * sum, count and optionally sum of squares of the input.</span>
<span id="L5490" title="Line 5490: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5490</span>                 :                :  */</span>
<span id="L5491" title="Line 5491: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5491</span>                 :                : static Int128AggState *</span>
<span id="L5492" title="Line 5492: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> 3812 <a href="#L5501" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    5492</span>                 :<span class="tlaCBC">            492 : makeInt128AggState(FunctionCallInfo fcinfo, bool calcSumX2)</span></span>
<span id="L5493" title="Line 5493: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5493</span>                 :                : {</span>
<span id="L5494" title="Line 5494: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5494</span>                 :                :     Int128AggState *state;</span>
<span id="L5495" title="Line 5495: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5495</span>                 :                :     MemoryContext agg_context;</span>
<span id="L5496" title="Line 5496: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5496</span>                 :                :     MemoryContext old_context;</span>
<span id="L5497" title="Line 5497: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5497</span>                 :                : </span>
<span id="L5498" title="Line 5498: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5498</span>         [<span class="tlaUBC"> <a href="#L5499" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5532" title="CBC: Branch 1 was taken 492 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            492 :     if (!AggCheckCallContext(fcinfo, &amp;agg_context))</span></span>
<span id="L5499" title="Line 5499: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"><span title="andres@anarazel.de 3812 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5615" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3812</a> </span><a href="#L5942" title="next UBC in &ldquo;andres@anarazel.de&rdquo; bin" class="tlaBgUBC">andres@anarazel.de</a><span title="andres@anarazel.de 3812 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  </span> <span class="lineNum">    5499</span>         [<span class="tlaUBC"> <a href="#L5614" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5614" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5615" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;aggregate function called in non-aggregate context&quot;);</span></span>
<span id="L5500" title="Line 5500: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5500</span>                 :                : </span>
<span id="L5501" title="Line 5501: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L5532" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L5532" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    5501</span>                 :<a href="#L5532" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         492 :     old_context = MemoryContextSwitchTo(agg_context);</span></span>
<span id="L5502" title="Line 5502: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5502</span>                 :                : </span>
<span id="L5503" title="Line 5503: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5503</span>                 :<span class="tlaCBC">            492 :     state = (Int128AggState *) palloc0(sizeof(Int128AggState));</span></span>
<span id="L5504" title="Line 5504: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5504</span>                 :<span class="tlaCBC">            492 :     state-&gt;calcSumX2 = calcSumX2;</span></span>
<span id="L5505" title="Line 5505: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5505</span>                 :                : </span>
<span id="L5506" title="Line 5506: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5506</span>                 :<span class="tlaCBC">            492 :     MemoryContextSwitchTo(old_context);</span></span>
<span id="L5507" title="Line 5507: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5507</span>                 :                : </span>
<span id="L5508" title="Line 5508: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5508</span>                 :<span class="tlaCBC">            492 :     return state;</span></span>
<span id="L5509" title="Line 5509: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5509</span>                 :                : }</span>
<span id="L5510" title="Line 5510: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5510</span>                 :                : </span>
<span id="L5511" title="Line 5511: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5511</span>                 :                : /*</span>
<span id="L5512" title="Line 5512: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5512</span>                 :                :  * Like makeInt128AggState(), but allocate the state in the current memory</span>
<span id="L5513" title="Line 5513: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5513</span>                 :                :  * context.</span>
<span id="L5514" title="Line 5514: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5514</span>                 :                :  */</span>
<span id="L5515" title="Line 5515: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5515</span>                 :                : static Int128AggState *</span>
<span id="L5516" title="Line 5516: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us"> 3351 <a href="#L5553" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5516</span>                 :<span class="tlaCBC">             34 : makeInt128AggStateCurrentContext(bool calcSumX2)</span></span>
<span id="L5517" title="Line 5517: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5517</span>                 :                : {</span>
<span id="L5518" title="Line 5518: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5518</span>                 :                :     Int128AggState *state;</span>
<span id="L5519" title="Line 5519: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5519</span>                 :                : </span>
<span id="L5520" title="Line 5520: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5520</span>                 :<span class="tlaCBC">             34 :     state = (Int128AggState *) palloc0(sizeof(Int128AggState));</span></span>
<span id="L5521" title="Line 5521: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5521</span>                 :<span class="tlaCBC">             34 :     state-&gt;calcSumX2 = calcSumX2;</span></span>
<span id="L5522" title="Line 5522: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5522</span>                 :                : </span>
<span id="L5523" title="Line 5523: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5523</span>                 :<span class="tlaCBC">             34 :     return state;</span></span>
<span id="L5524" title="Line 5524: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5524</span>                 :                : }</span>
<span id="L5525" title="Line 5525: commit bd1693e89e7e on 2016-06-23 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5525</span>                 :                : </span>
<span id="L5526" title="Line 5526: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5526</span>                 :                : /*</span>
<span id="L5527" title="Line 5527: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5527</span>                 :                :  * Accumulate a new input value for 128-bit aggregate functions.</span>
<span id="L5528" title="Line 5528: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5528</span>                 :                :  */</span>
<span id="L5529" title="Line 5529: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNumWithDelete" title="removed line 5637 from baseline version">    5529</span>                 :                : static void</span>
<span id="L5530" title="Line 5530: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5533" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5533" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5530</span>                 :<a href="#L5533" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">      278741 : do_int128_accum(Int128AggState *state, int64 newval)</span></span>
<span id="L5531" title="Line 5531: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5531</span>                 :                : {</span>
<span id="L5532" title="Line 5532: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L5536" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L5536" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNumWithDelete" title="removed line 5640 from baseline version">    5532</span>         [<span class="tlaCBC"> <a href="#L5545" title="CBC: Branch 0 was taken 121180 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5545" title="CBC: Branch 1 was taken 157561 times" class="branchTla">+</a> </span>]:<a href="#L5536" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">      278741 :     if (state-&gt;calcSumX2)</span></span>
<span id="L5533" title="Line 5533: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5543" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5543" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5533</span>                 :<a href="#L5543" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">      121180 :         int128_add_int64_mul_int64(&amp;state-&gt;sumX2, newval, newval);</span></span>
<span id="L5534" title="Line 5534: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNumWithDelete" title="removed line 5642 from baseline version">    5534</span>                 :                : </span>
<span id="L5535" title="Line 5535: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5535</span>                 :<span class="tlaGNC">         278741 :     int128_add_int64(&amp;state-&gt;sumX, newval);</span></span>
<span id="L5536" title="Line 5536: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L5545" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L5545" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    5536</span>                 :<a href="#L5545" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">      278741 :     state-&gt;N++;</span></span>
<span id="L5537" title="Line 5537: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5537</span>                 :<span class="tlaCBC">         278741 : }</span></span>
<span id="L5538" title="Line 5538: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5538</span>                 :                : </span>
<span id="L5539" title="Line 5539: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5539</span>                 :                : /*</span>
<span id="L5540" title="Line 5540: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5540</span>                 :                :  * Remove an input value from the aggregated state.</span>
<span id="L5541" title="Line 5541: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5541</span>                 :                :  */</span>
<span id="L5542" title="Line 5542: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNumWithDelete" title="removed line 5650 from baseline version">    5542</span>                 :                : static void</span>
<span id="L5543" title="Line 5543: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5546" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5546" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5543</span>                 :<a href="#L5546" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">         156 : do_int128_discard(Int128AggState *state, int64 newval)</span></span>
<span id="L5544" title="Line 5544: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5544</span>                 :                : {</span>
<span id="L5545" title="Line 5545: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L5549" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L5549" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNumWithDelete" title="removed line 5653 from baseline version">    5545</span>         [<span class="tlaCBC"> <a href="#L5560" title="CBC: Branch 0 was taken 144 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5560" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<a href="#L5549" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         156 :     if (state-&gt;calcSumX2)</span></span>
<span id="L5546" title="Line 5546: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5557" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5557" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5546</span>                 :<a href="#L5557" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">         144 :         int128_sub_int64_mul_int64(&amp;state-&gt;sumX2, newval, newval);</span></span>
<span id="L5547" title="Line 5547: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNumWithDelete" title="removed line 5655 from baseline version">    5547</span>                 :                : </span>
<span id="L5548" title="Line 5548: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5548</span>                 :<span class="tlaGNC">            156 :     int128_sub_int64(&amp;state-&gt;sumX, newval);</span></span>
<span id="L5549" title="Line 5549: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L5560" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L5934" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    5549</span>                 :<a href="#L5560" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         156 :     state-&gt;N--;</span></span>
<span id="L5550" title="Line 5550: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5550</span>                 :<span class="tlaCBC">            156 : }</span></span>
<span id="L5551" title="Line 5551: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5551</span>                 :                : </span>
<span id="L5552" title="Line 5552: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5552</span>                 :                : Datum</span>
<span id="L5553" title="Line 5553: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L5560" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5553</span>                 :<span class="tlaCBC">             99 : int2_accum(PG_FUNCTION_ARGS)</span></span>
<span id="L5554" title="Line 5554: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5554</span>                 :                : {</span>
<span id="L5555" title="Line 5555: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5555</span>                 :                :     Int128AggState *state;</span>
<span id="L5556" title="Line 5556: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNumWithDelete" title="removed line 5673 from baseline version">    5556</span>                 :                : </span>
<span id="L5557" title="Line 5557: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5561" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5561" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5557</span>         [<span class="tlaGNC"> <a href="#L5574" title="GNC: Branch 0 was taken 81 times" class="branchTla">+</a> </span><span class="tlaGNC"> <a href="#L5574" title="GNC: Branch 1 was taken 18 times" class="branchTla">+</a> </span>]:<a href="#L5561" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          99 :     state = PG_ARGISNULL(0) ? NULL : (Int128AggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5558" title="Line 5558: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5558</span>                 :                : </span>
<span id="L5559" title="Line 5559: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5559</span>                 :                :     /* Create the state data on the first call */</span>
<span id="L5560" title="Line 5560: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L5563" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L5563" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNumWithDelete" title="removed line 5677 from baseline version">    5560</span>         [<span class="tlaCBC"> <a href="#L5563" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5563" title="CBC: Branch 1 was taken 81 times" class="branchTla">+</a> </span>]:<a href="#L5563" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          99 :     if (state == NULL)</span></span>
<span id="L5561" title="Line 5561: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5564" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5564" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5561</span>                 :<a href="#L5564" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          18 :         state = makeInt128AggState(fcinfo, true);</span></span>
<span id="L5562" title="Line 5562: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5562</span>                 :                : </span>
<span id="L5563" title="Line 5563: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> <a href="#L5566" title="next CBC in &ldquo;(360..) days&rdquo; bin">4301</a> <a href="#L5566" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNumWithDelete" title="removed line 5682 from baseline version">    5563</span>         [<span class="tlaCBC"> <a href="#L5577" title="CBC: Branch 0 was taken 90 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5577" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<a href="#L5566" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          99 :     if (!PG_ARGISNULL(1))</span></span>
<span id="L5564" title="Line 5564: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5574" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5574" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5564</span>                 :<a href="#L5574" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          90 :         do_int128_accum(state, PG_GETARG_INT16(1));</span></span>
<span id="L5565" title="Line 5565: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5565</span>                 :                : </span>
<span id="L5566" title="Line 5566: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> <a href="#L5577" title="next CBC in &ldquo;(360..) days&rdquo; bin">4301</a> <a href="#L5577" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5566</span>                 :<a href="#L5577" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          99 :     PG_RETURN_POINTER(state);</span></span>
<span id="L5567" title="Line 5567: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5567</span>                 :                : }</span>
<span id="L5568" title="Line 5568: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5568</span>                 :                : </span>
<span id="L5569" title="Line 5569: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5569</span>                 :                : Datum</span>
<span id="L5570" title="Line 5570: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171                      <span class="lineNum">    5570</span>                 :<span class="tlaCBC">         121099 : int4_accum(PG_FUNCTION_ARGS)</span></span>
<span id="L5571" title="Line 5571: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5571</span>                 :                : {</span>
<span id="L5572" title="Line 5572: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5572</span>                 :                :     Int128AggState *state;</span>
<span id="L5573" title="Line 5573: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNumWithDelete" title="removed line 5696 from baseline version">    5573</span>                 :                : </span>
<span id="L5574" title="Line 5574: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5578" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5578" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5574</span>         [<span class="tlaGNC"> <a href="#L5617" title="GNC: Branch 0 was taken 121059 times" class="branchTla">+</a> </span><span class="tlaGNC"> <a href="#L5617" title="GNC: Branch 1 was taken 40 times" class="branchTla">+</a> </span>]:<a href="#L5578" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">      121099 :     state = PG_ARGISNULL(0) ? NULL : (Int128AggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5575" title="Line 5575: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5575</span>                 :                : </span>
<span id="L5576" title="Line 5576: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5576</span>                 :                :     /* Create the state data on the first call */</span>
<span id="L5577" title="Line 5577: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L5580" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L5580" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNumWithDelete" title="removed line 5700 from baseline version">    5577</span>         [<span class="tlaCBC"> <a href="#L5580" title="CBC: Branch 0 was taken 40 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5580" title="CBC: Branch 1 was taken 121059 times" class="branchTla">+</a> </span>]:<a href="#L5580" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">      121099 :     if (state == NULL)</span></span>
<span id="L5578" title="Line 5578: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5581" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5581" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5578</span>                 :<a href="#L5581" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          40 :         state = makeInt128AggState(fcinfo, true);</span></span>
<span id="L5579" title="Line 5579: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5579</span>                 :                : </span>
<span id="L5580" title="Line 5580: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> <a href="#L5583" title="next CBC in &ldquo;(360..) days&rdquo; bin">4301</a> <a href="#L5583" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNumWithDelete" title="removed line 5705 from baseline version">    5580</span>         [<span class="tlaCBC"> <a href="#L5591" title="CBC: Branch 0 was taken 121090 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5591" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<a href="#L5583" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">      121099 :     if (!PG_ARGISNULL(1))</span></span>
<span id="L5581" title="Line 5581: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5617" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5617" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5581</span>                 :<a href="#L5617" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">      121090 :         do_int128_accum(state, PG_GETARG_INT32(1));</span></span>
<span id="L5582" title="Line 5582: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5582</span>                 :                : </span>
<span id="L5583" title="Line 5583: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> <a href="#L5620" title="next CBC in &ldquo;(360..) days&rdquo; bin">4301</a> <a href="#L5600" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5583</span>                 :<a href="#L5620" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">      121099 :     PG_RETURN_POINTER(state);</span></span>
<span id="L5584" title="Line 5584: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5584</span>                 :                : }</span>
<span id="L5585" title="Line 5585: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5585</span>                 :                : </span>
<span id="L5586" title="Line 5586: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5586</span>                 :                : Datum</span>
<span id="L5587" title="Line 5587: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171                      <span class="lineNum">    5587</span>                 :<span class="tlaCBC">         120099 : int8_accum(PG_FUNCTION_ARGS)</span></span>
<span id="L5588" title="Line 5588: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5588</span>                 :                : {</span>
<span id="L5589" title="Line 5589: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5589</span>                 :                :     NumericAggState *state;</span>
<span id="L5590" title="Line 5590: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5590</span>                 :                : </span>
<span id="L5591" title="Line 5591: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301                      <span class="lineNum">    5591</span>         [<span class="tlaCBC"> <a href="#L5594" title="CBC: Branch 0 was taken 120069 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5594" title="CBC: Branch 1 was taken 30 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         120099 :     state = PG_ARGISNULL(0) ? NULL : (NumericAggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5592" title="Line 5592: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5592</span>                 :                : </span>
<span id="L5593" title="Line 5593: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5593</span>                 :                :     /* Create the state data on the first call */</span>
<span id="L5594" title="Line 5594: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> 4154                      <span class="lineNum">    5594</span>         [<span class="tlaCBC"> <a href="#L5597" title="CBC: Branch 0 was taken 30 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5597" title="CBC: Branch 1 was taken 120069 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         120099 :     if (state == NULL)</span></span>
<span id="L5595" title="Line 5595: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5595</span>                 :<span class="tlaCBC">             30 :         state = makeNumericAggState(fcinfo, true);</span></span>
<span id="L5596" title="Line 5596: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5596</span>                 :                : </span>
<span id="L5597" title="Line 5597: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301                      <span class="lineNum">    5597</span>         [<span class="tlaCBC"> <a href="#L5614" title="CBC: Branch 0 was taken 120090 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5614" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         120099 :     if (!PG_ARGISNULL(1))</span></span>
<span id="L5598" title="Line 5598: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org"> 1812 <a href="#L5926" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    5598</span>                 :<span class="tlaCBC">         120090 :         do_numeric_accum(state, int64_to_numeric(PG_GETARG_INT64(1)));</span></span>
<span id="L5599" title="Line 5599: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5599</span>                 :                : </span>
<span id="L5600" title="Line 5600: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301 <a href="#L5754" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5600</span>                 :<span class="tlaCBC">         120099 :     PG_RETURN_POINTER(state);</span></span>
<span id="L5601" title="Line 5601: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5601</span>                 :                : }</span>
<span id="L5602" title="Line 5602: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5602</span>                 :                : </span>
<span id="L5603" title="Line 5603: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5603</span>                 :                : /*</span>
<span id="L5604" title="Line 5604: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5604</span>                 :                :  * Combine function for Int128AggState for aggregates which require sumX2</span>
<span id="L5605" title="Line 5605: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5605</span>                 :                :  */</span>
<span id="L5606" title="Line 5606: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5606</span>                 :                : Datum</span>
<span id="L5607" title="Line 5607: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5620" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5607</span>                 :<span class="tlaCBC">             12 : numeric_poly_combine(PG_FUNCTION_ARGS)</span></span>
<span id="L5608" title="Line 5608: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5608</span>                 :                : {</span>
<span id="L5609" title="Line 5609: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5609</span>                 :                :     Int128AggState *state1;</span>
<span id="L5610" title="Line 5610: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5610</span>                 :                :     Int128AggState *state2;</span>
<span id="L5611" title="Line 5611: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5611</span>                 :                :     MemoryContext agg_context;</span>
<span id="L5612" title="Line 5612: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5612</span>                 :                :     MemoryContext old_context;</span>
<span id="L5613" title="Line 5613: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5613</span>                 :                : </span>
<span id="L5614" title="Line 5614: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5614</span>         [<span class="tlaUBC"> <a href="#L5615" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5620" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             12 :     if (!AggCheckCallContext(fcinfo, &amp;agg_context))</span></span>
<span id="L5615" title="Line 5615: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5621" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L5621" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5615</span>         [<span class="tlaUBC"> <a href="#L5620" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5620" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5621" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;aggregate function called in non-aggregate context&quot;);</span></span>
<span id="L5616" title="Line 5616: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed lines [5745:5746] from baseline version">    5616</span>                 :                : </span>
<span id="L5617" title="Line 5617: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5628" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5628" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5617</span>         [<span class="tlaGNC"> <a href="#L5618" title="GNC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaGNC"> <a href="#L5618" title="GNC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<a href="#L5628" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          12 :     state1 = PG_ARGISNULL(0) ? NULL : (Int128AggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5618" title="Line 5618: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5618</span>         [<span class="tlaGNC"> <a href="#L5751" title="GNC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaUNC"> <a href="#L5779" title="UNC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaGNC">             12 :     state2 = PG_ARGISNULL(1) ? NULL : (Int128AggState *) PG_GETARG_POINTER(1);</span></span>
<span id="L5619" title="Line 5619: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5619</span>                 :                : </span>
<span id="L5620" title="Line 5620: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5624" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5624" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5620</span>         [<span class="tlaUBC"> <a href="#L5638" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5624" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<a href="#L5624" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          12 :     if (state2 == NULL)</span></span>
<span id="L5621" title="Line 5621: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5683" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L5683" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5621</span>                 :<a href="#L5683" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         PG_RETURN_POINTER(state1);</span></span>
<span id="L5622" title="Line 5622: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5622</span>                 :                : </span>
<span id="L5623" title="Line 5623: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5623</span>                 :                :     /* manually copy all fields from state2 to state1 */</span>
<span id="L5624" title="Line 5624: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5629" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5629" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5624</span>         [<span class="tlaCBC"> <a href="#L5638" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5638" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<a href="#L5629" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          12 :     if (state1 == NULL)</span></span>
<span id="L5625" title="Line 5625: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5625</span>                 :                :     {</span>
<span id="L5626" title="Line 5626: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5626</span>                 :<span class="tlaCBC">              3 :         old_context = MemoryContextSwitchTo(agg_context);</span></span>
<span id="L5627" title="Line 5627: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed line 5756 from baseline version">    5627</span>                 :                : </span>
<span id="L5628" title="Line 5628: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5641" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5641" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5628</span>                 :<a href="#L5641" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">           3 :         state1 = makeInt128AggState(fcinfo, true);</span></span>
<span id="L5629" title="Line 5629: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5675" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5675" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5629</span>                 :<a href="#L5644" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           3 :         state1-&gt;N = state2-&gt;N;</span></span>
<span id="L5630" title="Line 5630: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5630</span>                 :<span class="tlaCBC">              3 :         state1-&gt;sumX = state2-&gt;sumX;</span></span>
<span id="L5631" title="Line 5631: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5631</span>                 :<span class="tlaCBC">              3 :         state1-&gt;sumX2 = state2-&gt;sumX2;</span></span>
<span id="L5632" title="Line 5632: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5632</span>                 :                : </span>
<span id="L5633" title="Line 5633: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5633</span>                 :<span class="tlaCBC">              3 :         MemoryContextSwitchTo(old_context);</span></span>
<span id="L5634" title="Line 5634: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5634</span>                 :                : </span>
<span id="L5635" title="Line 5635: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5635</span>                 :<span class="tlaCBC">              3 :         PG_RETURN_POINTER(state1);</span></span>
<span id="L5636" title="Line 5636: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5636</span>                 :                :     }</span>
<span id="L5637" title="Line 5637: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5637</span>                 :                : </span>
<span id="L5638" title="Line 5638: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5638</span>         [<span class="tlaCBC"> <a href="#L5682" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L5682" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              9 :     if (state2-&gt;N &gt; 0)</span></span>
<span id="L5639" title="Line 5639: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5639</span>                 :                :     {</span>
<span id="L5640" title="Line 5640: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed lines [5777:5778] from baseline version">    5640</span>                 :<span class="tlaCBC">              9 :         state1-&gt;N += state2-&gt;N;</span></span>
<span id="L5641" title="Line 5641: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5651" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5651" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5641</span>                 :<a href="#L5651" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">           9 :         int128_add_int128(&amp;state1-&gt;sumX, state2-&gt;sumX);</span></span>
<span id="L5642" title="Line 5642: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5642</span>                 :<span class="tlaGNC">              9 :         int128_add_int128(&amp;state1-&gt;sumX2, state2-&gt;sumX2);</span></span>
<span id="L5643" title="Line 5643: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5643</span>                 :                :     }</span>
<span id="L5644" title="Line 5644: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#top" title="next CBC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L6148" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5644</span>                 :<a href="#L5675" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           9 :     PG_RETURN_POINTER(state1);</span></span>
<span id="L5645" title="Line 5645: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5645</span>                 :                : }</span>
<span id="L5646" title="Line 5646: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5646</span>                 :                : </span>
<span id="L5647" title="Line 5647: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5647</span>                 :                : /*</span>
<span id="L5648" title="Line 5648: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5648</span>                 :                :  * int128_serialize - serialize a 128-bit integer to binary format</span>
<span id="L5649" title="Line 5649: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5649</span>                 :                :  */</span>
<span id="L5650" title="Line 5650: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5650</span>                 :                : static inline void</span>
<span id="L5651" title="Line 5651: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5685" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5685" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5651</span>                 :<a href="#L5685" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          46 : int128_serialize(StringInfo buf, INT128 val)</span></span>
<span id="L5652" title="Line 5652: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5652</span>                 :                : {</span>
<span id="L5653" title="Line 5653: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5653</span>                 :<span class="tlaGNC">             46 :     pq_sendint64(buf, PG_INT128_HI_INT64(val));</span></span>
<span id="L5654" title="Line 5654: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5654</span>                 :<span class="tlaGNC">             46 :     pq_sendint64(buf, PG_INT128_LO_UINT64(val));</span></span>
<span id="L5655" title="Line 5655: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5655</span>                 :<span class="tlaGNC">             46 : }</span></span>
<span id="L5656" title="Line 5656: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5656</span>                 :                : </span>
<span id="L5657" title="Line 5657: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5657</span>                 :                : /*</span>
<span id="L5658" title="Line 5658: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5658</span>                 :                :  * int128_deserialize - deserialize binary format to a 128-bit integer.</span>
<span id="L5659" title="Line 5659: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5659</span>                 :                :  */</span>
<span id="L5660" title="Line 5660: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5660</span>                 :                : static inline INT128</span>
<span id="L5661" title="Line 5661: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5661</span>                 :<span class="tlaGNC">             46 : int128_deserialize(StringInfo buf)</span></span>
<span id="L5662" title="Line 5662: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5662</span>                 :                : {</span>
<span id="L5663" title="Line 5663: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5663</span>                 :<span class="tlaGNC">             46 :     int64       hi = pq_getmsgint64(buf);</span></span>
<span id="L5664" title="Line 5664: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5664</span>                 :<span class="tlaGNC">             46 :     uint64      lo = pq_getmsgint64(buf);</span></span>
<span id="L5665" title="Line 5665: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5665</span>                 :                : </span>
<span id="L5666" title="Line 5666: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5666</span>                 :<span class="tlaGNC">             46 :     return make_int128(hi, lo);</span></span>
<span id="L5667" title="Line 5667: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5667</span>                 :                : }</span>
<span id="L5668" title="Line 5668: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5668</span>                 :                : </span>
<span id="L5669" title="Line 5669: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5669</span>                 :                : /*</span>
<span id="L5670" title="Line 5670: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5670</span>                 :                :  * numeric_poly_serialize</span>
<span id="L5671" title="Line 5671: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5671</span>                 :                :  *      Serialize Int128AggState into bytea for aggregate functions which</span>
<span id="L5672" title="Line 5672: commit f8ace5477ef9 on 2016-06-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5672</span>                 :                :  *      require sumX2.</span>
<span id="L5673" title="Line 5673: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5673</span>                 :                :  */</span>
<span id="L5674" title="Line 5674: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5674</span>                 :                : Datum</span>
<span id="L5675" title="Line 5675: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5687" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5687" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5675</span>                 :<a href="#L5687" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          12 : numeric_poly_serialize(PG_FUNCTION_ARGS)</span></span>
<span id="L5676" title="Line 5676: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5676</span>                 :                : {</span>
<span id="L5677" title="Line 5677: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5677</span>                 :                :     Int128AggState *state;</span>
<span id="L5678" title="Line 5678: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5678</span>                 :                :     StringInfoData buf;</span>
<span id="L5679" title="Line 5679: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5679</span>                 :                :     bytea      *result;</span>
<span id="L5680" title="Line 5680: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5680</span>                 :                : </span>
<span id="L5681" title="Line 5681: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5681</span>                 :                :     /* Ensure we disallow calling when not in aggregate context */</span>
<span id="L5682" title="Line 5682: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5682</span>         [<span class="tlaUBC"> <a href="#L5683" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5715" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             12 :     if (!AggCheckCallContext(fcinfo, NULL))</span></span>
<span id="L5683" title="Line 5683: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5716" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L5716" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5683</span>         [<span class="tlaUBC"> <a href="#L5715" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5715" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5716" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;aggregate function called in non-aggregate context&quot;);</span></span>
<span id="L5684" title="Line 5684: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed lines [5811:5822] from baseline version">    5684</span>                 :                : </span>
<span id="L5685" title="Line 5685: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5693" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5693" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5685</span>                 :<a href="#L5693" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          12 :     state = (Int128AggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5686" title="Line 5686: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5686</span>                 :                : </span>
<span id="L5687" title="Line 5687: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5698" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5698" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5687</span>                 :<a href="#L5698" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          12 :     pq_begintypsend(&amp;buf);</span></span>
<span id="L5688" title="Line 5688: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5688</span>                 :                : </span>
<span id="L5689" title="Line 5689: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5689</span>                 :                :     /* N */</span>
<span id="L5690" title="Line 5690: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5690</span>                 :<span class="tlaCBC">             12 :     pq_sendint64(&amp;buf, state-&gt;N);</span></span>
<span id="L5691" title="Line 5691: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5691</span>                 :                : </span>
<span id="L5692" title="Line 5692: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed lines [5831:5835] from baseline version">    5692</span>                 :                :     /* sumX */</span>
<span id="L5693" title="Line 5693: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5727" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5727" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5693</span>                 :<a href="#L5727" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          12 :     int128_serialize(&amp;buf, state-&gt;sumX);</span></span>
<span id="L5694" title="Line 5694: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5694</span>                 :                : </span>
<span id="L5695" title="Line 5695: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed lines [5839:5843] from baseline version">    5695</span>                 :                :     /* sumX2 */</span>
<span id="L5696" title="Line 5696: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5696</span>                 :<span class="tlaGNC">             12 :     int128_serialize(&amp;buf, state-&gt;sumX2);</span></span>
<span id="L5697" title="Line 5697: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5697</span>                 :                : </span>
<span id="L5698" title="Line 5698: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5718" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5730" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5698</span>                 :<a href="#L5718" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          12 :     result = pq_endtypsend(&amp;buf);</span></span>
<span id="L5699" title="Line 5699: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed line 5847 from baseline version">    5699</span>                 :                : </span>
<span id="L5700" title="Line 5700: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5700</span>                 :<span class="tlaCBC">             12 :     PG_RETURN_BYTEA_P(result);</span></span>
<span id="L5701" title="Line 5701: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5701</span>                 :                : }</span>
<span id="L5702" title="Line 5702: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5702</span>                 :                : </span>
<span id="L5703" title="Line 5703: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5703</span>                 :                : /*</span>
<span id="L5704" title="Line 5704: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5704</span>                 :                :  * numeric_poly_deserialize</span>
<span id="L5705" title="Line 5705: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5705</span>                 :                :  *      Deserialize Int128AggState from bytea for aggregate functions which</span>
<span id="L5706" title="Line 5706: commit f8ace5477ef9 on 2016-06-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5706</span>                 :                :  *      require sumX2.</span>
<span id="L5707" title="Line 5707: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5707</span>                 :                :  */</span>
<span id="L5708" title="Line 5708: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5708</span>                 :                : Datum</span>
<span id="L5709" title="Line 5709: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5709</span>                 :<span class="tlaCBC">             12 : numeric_poly_deserialize(PG_FUNCTION_ARGS)</span></span>
<span id="L5710" title="Line 5710: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5710</span>                 :                : {</span>
<span id="L5711" title="Line 5711: commit f8ace5477ef9 on 2016-06-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5711</span>                 :                :     bytea      *sstate;</span>
<span id="L5712" title="Line 5712: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5712</span>                 :                :     Int128AggState *result;</span>
<span id="L5713" title="Line 5713: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5713</span>                 :                :     StringInfoData buf;</span>
<span id="L5714" title="Line 5714: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5714</span>                 :                : </span>
<span id="L5715" title="Line 5715: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5715</span>         [<span class="tlaUBC"> <a href="#L5716" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5754" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             12 :     if (!AggCheckCallContext(fcinfo, NULL))</span></span>
<span id="L5716" title="Line 5716: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5776" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L5776" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5716</span>         [<span class="tlaUBC"> <a href="#L5775" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5775" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5776" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;aggregate function called in non-aggregate context&quot;);</span></span>
<span id="L5717" title="Line 5717: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5717</span>                 :                : </span>
<span id="L5718" title="Line 5718: commit 3a0d473192b2 on 2017-03-12 by noah@leadboat.com"> <a href="#L5730" title="next CBC in &ldquo;(360..) days&rdquo; bin">3089</a> <a href="#L5852" title="next CBC in &ldquo;noah@leadboat.com&rdquo; bin">noah@leadboat.com</a>    <span class="lineNum">    5718</span>                 :<a href="#L5730" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          12 :     sstate = PG_GETARG_BYTEA_PP(0);</span></span>
<span id="L5719" title="Line 5719: commit f8ace5477ef9 on 2016-06-22 by tgl@sss.pgh.pa.us">                           <span class="lineNumWithDelete" title="removed line 5870 from baseline version">    5719</span>                 :                : </span>
<span id="L5720" title="Line 5720: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5720</span>                 :                :     /*</span>
<span id="L5721" title="Line 5721: commit 0c882a298881 on 2023-10-27 by drowley@postgresql.org">                           <span class="lineNum">    5721</span>                 :                :      * Initialize a StringInfo so that we can &quot;receive&quot; it using the standard</span>
<span id="L5722" title="Line 5722: commit 0c882a298881 on 2023-10-27 by drowley@postgresql.org">                           <span class="lineNum">    5722</span>                 :                :      * recv-function infrastructure.</span>
<span id="L5723" title="Line 5723: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5723</span>                 :                :      */</span>
<span id="L5724" title="Line 5724: commit 0c882a298881 on 2023-10-27 by drowley@postgresql.org">  669 <a href="#L5858" title="next CBC in &ldquo;drowley@postgresql.org&rdquo; bin">drowley@postgresql.o</a> <span class="lineNum">    5724</span>         [<span class="tlaECB"> <a href="#L5725" title="ECB: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaEUB"> <a href="#L5725" title="EUB: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             12 :     initReadOnlyStringInfo(&amp;buf, VARDATA_ANY(sstate),</span></span>
<span id="L5725" title="Line 5725: commit 0c882a298881 on 2023-10-27 by drowley@postgresql.org">                           <span class="lineNum">    5725</span>   [<span class="tlaEUB"> <a href="#L5858" title="EUB: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaECB"> <a href="#L5858" title="ECB: Branch 1 was taken 12 times" class="branchTla">+</a> </span><span class="tlaEUB"> <a href="#L5858" title="EUB: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaEUB"> <a href="#L5858" title="EUB: Branch 3 was not taken" class="branchTla">-</a> </span> :<span class="tlaCBC">             12 :                            VARSIZE_ANY_EXHDR(sstate));</span></span>
                           <span class="lineNum">        </span> <span class="tlaEUB"> <a href="#L5858" title="EUB: Branch 4 was not taken" class="branchTla">-</a> </span><span class="tlaEUB"> <a href="#L5858" title="EUB: Branch 5 was not taken" class="branchTla">-</a> </span><span class="tlaEUB"> <a href="#L5858" title="EUB: Branch 6 was not taken" class="branchTla">-</a> </span><span class="tlaEUB"> <a href="#L5858" title="EUB: Branch 7 was not taken" class="branchTla">-</a> </span><span class="tlaECB"> <a href="#L5858" title="ECB: Branch 8 was taken 12 times" class="branchTla">+</a> </span> 
                           <span class="lineNum">        </span>             <span class="tlaEUB"> <a href="#L5858" title="EUB: Branch 9 was not taken" class="branchTla">-</a> </span>]
<span id="L5726" title="Line 5726: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed line 5879 from baseline version">    5726</span>                 :                : </span>
<span id="L5727" title="Line 5727: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5733" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5733" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5727</span>                 :<a href="#L5733" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          12 :     result = makeInt128AggStateCurrentContext(false);</span></span>
<span id="L5728" title="Line 5728: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5728</span>                 :                : </span>
<span id="L5729" title="Line 5729: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5729</span>                 :                :     /* N */</span>
<span id="L5730" title="Line 5730: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5738" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5738" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5730</span>                 :<a href="#L5738" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          12 :     result-&gt;N = pq_getmsgint64(&amp;buf);</span></span>
<span id="L5731" title="Line 5731: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5731</span>                 :                : </span>
<span id="L5732" title="Line 5732: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed lines [5885:5887] from baseline version">    5732</span>                 :                :     /* sumX */</span>
<span id="L5733" title="Line 5733: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5751" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5751" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5733</span>                 :<a href="#L5751" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          12 :     result-&gt;sumX = int128_deserialize(&amp;buf);</span></span>
<span id="L5734" title="Line 5734: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5734</span>                 :                : </span>
<span id="L5735" title="Line 5735: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNumWithDelete" title="removed lines [5893:5895] from baseline version">    5735</span>                 :                :     /* sumX2 */</span>
<span id="L5736" title="Line 5736: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5736</span>                 :<span class="tlaGNC">             12 :     result-&gt;sumX2 = int128_deserialize(&amp;buf);</span></span>
<span id="L5737" title="Line 5737: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5737</span>                 :                : </span>
<span id="L5738" title="Line 5738: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5754" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5768" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5738</span>                 :<a href="#L5754" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          12 :     pq_getmsgend(&amp;buf);</span></span>
<span id="L5739" title="Line 5739: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed line 5902 from baseline version">    5739</span>                 :                : </span>
<span id="L5740" title="Line 5740: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5740</span>                 :<span class="tlaCBC">             12 :     PG_RETURN_POINTER(result);</span></span>
<span id="L5741" title="Line 5741: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5741</span>                 :                : }</span>
<span id="L5742" title="Line 5742: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5742</span>                 :                : </span>
<span id="L5743" title="Line 5743: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    5743</span>                 :                : /*</span>
<span id="L5744" title="Line 5744: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5744</span>                 :                :  * Transition function for int8 input when we don't need sumX2.</span>
<span id="L5745" title="Line 5745: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    5745</span>                 :                :  */</span>
<span id="L5746" title="Line 5746: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    5746</span>                 :                : Datum</span>
<span id="L5747" title="Line 5747: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us"> 6765 <a href="#L6014" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    5747</span>                 :<span class="tlaCBC">         159460 : int8_avg_accum(PG_FUNCTION_ARGS)</span></span>
<span id="L5748" title="Line 5748: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    5748</span>                 :                : {</span>
<span id="L5749" title="Line 5749: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5749</span>                 :                :     Int128AggState *state;</span>
<span id="L5750" title="Line 5750: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNumWithDelete" title="removed line 5915 from baseline version">    5750</span>                 :                : </span>
<span id="L5751" title="Line 5751: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5755" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5755" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5751</span>         [<span class="tlaGNC"> <a href="#L5778" title="GNC: Branch 0 was taken 159035 times" class="branchTla">+</a> </span><span class="tlaGNC"> <a href="#L5778" title="GNC: Branch 1 was taken 425 times" class="branchTla">+</a> </span>]:<a href="#L5755" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">      159460 :     state = PG_ARGISNULL(0) ? NULL : (Int128AggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5752" title="Line 5752: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5752</span>                 :                : </span>
<span id="L5753" title="Line 5753: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5753</span>                 :                :     /* Create the state data on the first call */</span>
<span id="L5754" title="Line 5754: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L5757" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L5757" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNumWithDelete" title="removed line 5919 from baseline version">    5754</span>         [<span class="tlaCBC"> <a href="#L5757" title="CBC: Branch 0 was taken 425 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5757" title="CBC: Branch 1 was taken 159035 times" class="branchTla">+</a> </span>]:<a href="#L5757" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">      159460 :     if (state == NULL)</span></span>
<span id="L5755" title="Line 5755: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5758" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5758" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5755</span>                 :<a href="#L5758" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">         425 :         state = makeInt128AggState(fcinfo, false);</span></span>
<span id="L5756" title="Line 5756: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5756</span>                 :                : </span>
<span id="L5757" title="Line 5757: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> <a href="#L5760" title="next CBC in &ldquo;(360..) days&rdquo; bin">4301</a> <a href="#L5760" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNumWithDelete" title="removed line 5924 from baseline version">    5757</span>         [<span class="tlaCBC"> <a href="#L5775" title="CBC: Branch 0 was taken 157561 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5775" title="CBC: Branch 1 was taken 1899 times" class="branchTla">+</a> </span>]:<a href="#L5760" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">      159460 :     if (!PG_ARGISNULL(1))</span></span>
<span id="L5758" title="Line 5758: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5778" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5778" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5758</span>                 :<a href="#L5778" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">      157561 :         do_int128_accum(state, PG_GETARG_INT64(1));</span></span>
<span id="L5759" title="Line 5759: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    5759</span>                 :                : </span>
<span id="L5760" title="Line 5760: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L5781" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L5879" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5760</span>                 :<a href="#L5781" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">      159460 :     PG_RETURN_POINTER(state);</span></span>
<span id="L5761" title="Line 5761: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5761</span>                 :                : }</span>
<span id="L5762" title="Line 5762: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    5762</span>                 :                : </span>
<span id="L5763" title="Line 5763: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5763</span>                 :                : /*</span>
<span id="L5764" title="Line 5764: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5764</span>                 :                :  * Combine function for Int128AggState for aggregates which don't require</span>
<span id="L5765" title="Line 5765: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5765</span>                 :                :  * sumX2</span>
<span id="L5766" title="Line 5766: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5766</span>                 :                :  */</span>
<span id="L5767" title="Line 5767: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5767</span>                 :                : Datum</span>
<span id="L5768" title="Line 5768: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L5781" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5768</span>                 :<span class="tlaCBC">             22 : int8_avg_combine(PG_FUNCTION_ARGS)</span></span>
<span id="L5769" title="Line 5769: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5769</span>                 :                : {</span>
<span id="L5770" title="Line 5770: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5770</span>                 :                :     Int128AggState *state1;</span>
<span id="L5771" title="Line 5771: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5771</span>                 :                :     Int128AggState *state2;</span>
<span id="L5772" title="Line 5772: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5772</span>                 :                :     MemoryContext agg_context;</span>
<span id="L5773" title="Line 5773: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5773</span>                 :                :     MemoryContext old_context;</span>
<span id="L5774" title="Line 5774: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5774</span>                 :                : </span>
<span id="L5775" title="Line 5775: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5775</span>         [<span class="tlaUBC"> <a href="#L5776" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5781" title="CBC: Branch 1 was taken 22 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             22 :     if (!AggCheckCallContext(fcinfo, &amp;agg_context))</span></span>
<span id="L5776" title="Line 5776: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5782" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L5782" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5776</span>         [<span class="tlaUBC"> <a href="#L5781" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5781" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5782" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;aggregate function called in non-aggregate context&quot;);</span></span>
<span id="L5777" title="Line 5777: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed lines [5948:5949] from baseline version">    5777</span>                 :                : </span>
<span id="L5778" title="Line 5778: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5789" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5789" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5778</span>         [<span class="tlaGNC"> <a href="#L5779" title="GNC: Branch 0 was taken 16 times" class="branchTla">+</a> </span><span class="tlaGNC"> <a href="#L5779" title="GNC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<a href="#L5789" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          22 :     state1 = PG_ARGISNULL(0) ? NULL : (Int128AggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5779" title="Line 5779: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5779</span>         [<span class="tlaGNC"> <a href="#L5883" title="GNC: Branch 0 was taken 22 times" class="branchTla">+</a> </span><span class="tlaUNC"> <a href="#L5883" title="UNC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaGNC">             22 :     state2 = PG_ARGISNULL(1) ? NULL : (Int128AggState *) PG_GETARG_POINTER(1);</span></span>
<span id="L5780" title="Line 5780: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5780</span>                 :                : </span>
<span id="L5781" title="Line 5781: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5785" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5785" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5781</span>         [<span class="tlaUBC"> <a href="#L5798" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5785" title="CBC: Branch 1 was taken 22 times" class="branchTla">+</a> </span>]:<a href="#L5785" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          22 :     if (state2 == NULL)</span></span>
<span id="L5782" title="Line 5782: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5820" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L5820" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5782</span>                 :<a href="#L5820" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         PG_RETURN_POINTER(state1);</span></span>
<span id="L5783" title="Line 5783: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5783</span>                 :                : </span>
<span id="L5784" title="Line 5784: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5784</span>                 :                :     /* manually copy all fields from state2 to state1 */</span>
<span id="L5785" title="Line 5785: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5790" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5790" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5785</span>         [<span class="tlaCBC"> <a href="#L5798" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5798" title="CBC: Branch 1 was taken 16 times" class="branchTla">+</a> </span>]:<a href="#L5790" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          22 :     if (state1 == NULL)</span></span>
<span id="L5786" title="Line 5786: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5786</span>                 :                :     {</span>
<span id="L5787" title="Line 5787: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5787</span>                 :<span class="tlaCBC">              6 :         old_context = MemoryContextSwitchTo(agg_context);</span></span>
<span id="L5788" title="Line 5788: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed line 5959 from baseline version">    5788</span>                 :                : </span>
<span id="L5789" title="Line 5789: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5801" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5801" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5789</span>                 :<a href="#L5801" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">           6 :         state1 = makeInt128AggState(fcinfo, false);</span></span>
<span id="L5790" title="Line 5790: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5803" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5803" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5790</span>                 :<a href="#L5803" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           6 :         state1-&gt;N = state2-&gt;N;</span></span>
<span id="L5791" title="Line 5791: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5791</span>                 :<span class="tlaCBC">              6 :         state1-&gt;sumX = state2-&gt;sumX;</span></span>
<span id="L5792" title="Line 5792: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5792</span>                 :                : </span>
<span id="L5793" title="Line 5793: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5793</span>                 :<span class="tlaCBC">              6 :         MemoryContextSwitchTo(old_context);</span></span>
<span id="L5794" title="Line 5794: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5794</span>                 :                : </span>
<span id="L5795" title="Line 5795: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5795</span>                 :<span class="tlaCBC">              6 :         PG_RETURN_POINTER(state1);</span></span>
<span id="L5796" title="Line 5796: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5796</span>                 :                :     }</span>
<span id="L5797" title="Line 5797: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5797</span>                 :                : </span>
<span id="L5798" title="Line 5798: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5798</span>         [<span class="tlaCBC"> <a href="#L5819" title="CBC: Branch 0 was taken 16 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L5819" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             16 :     if (state2-&gt;N &gt; 0)</span></span>
<span id="L5799" title="Line 5799: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5799</span>                 :                :     {</span>
<span id="L5800" title="Line 5800: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed line 5977 from baseline version">    5800</span>                 :<span class="tlaCBC">             16 :         state1-&gt;N += state2-&gt;N;</span></span>
<span id="L5801" title="Line 5801: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5822" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5822" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5801</span>                 :<a href="#L5822" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          16 :         int128_add_int128(&amp;state1-&gt;sumX, state2-&gt;sumX);</span></span>
<span id="L5802" title="Line 5802: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5802</span>                 :                :     }</span>
<span id="L5803" title="Line 5803: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5824" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5824" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5803</span>                 :<a href="#L5824" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          16 :     PG_RETURN_POINTER(state1);</span></span>
<span id="L5804" title="Line 5804: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5804</span>                 :                : }</span>
<span id="L5805" title="Line 5805: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5805</span>                 :                : </span>
<span id="L5806" title="Line 5806: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5806</span>                 :                : /*</span>
<span id="L5807" title="Line 5807: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5807</span>                 :                :  * int8_avg_serialize</span>
<span id="L5808" title="Line 5808: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5808</span>                 :                :  *      Serialize Int128AggState into bytea for aggregate functions which</span>
<span id="L5809" title="Line 5809: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5809</span>                 :                :  *      don't require sumX2.</span>
<span id="L5810" title="Line 5810: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5810</span>                 :                :  */</span>
<span id="L5811" title="Line 5811: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5811</span>                 :                : Datum</span>
<span id="L5812" title="Line 5812: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5812</span>                 :<span class="tlaCBC">             22 : int8_avg_serialize(PG_FUNCTION_ARGS)</span></span>
<span id="L5813" title="Line 5813: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5813</span>                 :                : {</span>
<span id="L5814" title="Line 5814: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5814</span>                 :                :     Int128AggState *state;</span>
<span id="L5815" title="Line 5815: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5815</span>                 :                :     StringInfoData buf;</span>
<span id="L5816" title="Line 5816: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5816</span>                 :                :     bytea      *result;</span>
<span id="L5817" title="Line 5817: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5817</span>                 :                : </span>
<span id="L5818" title="Line 5818: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5818</span>                 :                :     /* Ensure we disallow calling when not in aggregate context */</span>
<span id="L5819" title="Line 5819: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5819</span>         [<span class="tlaUBC"> <a href="#L5820" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5849" title="CBC: Branch 1 was taken 22 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             22 :     if (!AggCheckCallContext(fcinfo, NULL))</span></span>
<span id="L5820" title="Line 5820: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5850" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L5850" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5820</span>         [<span class="tlaUBC"> <a href="#L5849" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5849" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5850" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;aggregate function called in non-aggregate context&quot;);</span></span>
<span id="L5821" title="Line 5821: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed lines [6009:6020] from baseline version">    5821</span>                 :                : </span>
<span id="L5822" title="Line 5822: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5830" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5830" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5822</span>                 :<a href="#L5830" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          22 :     state = (Int128AggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5823" title="Line 5823: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5823</span>                 :                : </span>
<span id="L5824" title="Line 5824: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5832" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5832" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5824</span>                 :<a href="#L5832" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          22 :     pq_begintypsend(&amp;buf);</span></span>
<span id="L5825" title="Line 5825: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5825</span>                 :                : </span>
<span id="L5826" title="Line 5826: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5826</span>                 :                :     /* N */</span>
<span id="L5827" title="Line 5827: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5827</span>                 :<span class="tlaCBC">             22 :     pq_sendint64(&amp;buf, state-&gt;N);</span></span>
<span id="L5828" title="Line 5828: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5828</span>                 :                : </span>
<span id="L5829" title="Line 5829: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed lines [6029:6033] from baseline version">    5829</span>                 :                :     /* sumX */</span>
<span id="L5830" title="Line 5830: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5861" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5861" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5830</span>                 :<a href="#L5861" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          22 :     int128_serialize(&amp;buf, state-&gt;sumX);</span></span>
<span id="L5831" title="Line 5831: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5831</span>                 :                : </span>
<span id="L5832" title="Line 5832: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5852" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5864" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5832</span>                 :<a href="#L5852" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          22 :     result = pq_endtypsend(&amp;buf);</span></span>
<span id="L5833" title="Line 5833: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed line 6037 from baseline version">    5833</span>                 :                : </span>
<span id="L5834" title="Line 5834: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5834</span>                 :<span class="tlaCBC">             22 :     PG_RETURN_BYTEA_P(result);</span></span>
<span id="L5835" title="Line 5835: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5835</span>                 :                : }</span>
<span id="L5836" title="Line 5836: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5836</span>                 :                : </span>
<span id="L5837" title="Line 5837: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5837</span>                 :                : /*</span>
<span id="L5838" title="Line 5838: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5838</span>                 :                :  * int8_avg_deserialize</span>
<span id="L5839" title="Line 5839: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5839</span>                 :                :  *      Deserialize Int128AggState from bytea for aggregate functions which</span>
<span id="L5840" title="Line 5840: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5840</span>                 :                :  *      don't require sumX2.</span>
<span id="L5841" title="Line 5841: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5841</span>                 :                :  */</span>
<span id="L5842" title="Line 5842: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5842</span>                 :                : Datum</span>
<span id="L5843" title="Line 5843: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5843</span>                 :<span class="tlaCBC">             22 : int8_avg_deserialize(PG_FUNCTION_ARGS)</span></span>
<span id="L5844" title="Line 5844: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5844</span>                 :                : {</span>
<span id="L5845" title="Line 5845: commit f8ace5477ef9 on 2016-06-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5845</span>                 :                :     bytea      *sstate;</span>
<span id="L5846" title="Line 5846: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5846</span>                 :                :     Int128AggState *result;</span>
<span id="L5847" title="Line 5847: commit 4bc424b96805 on 2016-06-09 by rhaas@postgresql.org">                           <span class="lineNum">    5847</span>                 :                :     StringInfoData buf;</span>
<span id="L5848" title="Line 5848: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5848</span>                 :                : </span>
<span id="L5849" title="Line 5849: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5849</span>         [<span class="tlaUBC"> <a href="#L5850" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5886" title="CBC: Branch 1 was taken 22 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             22 :     if (!AggCheckCallContext(fcinfo, NULL))</span></span>
<span id="L5850" title="Line 5850: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5887" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L6534" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    5850</span>         [<span class="tlaUBC"> <a href="#L5886" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5886" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5887" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;aggregate function called in non-aggregate context&quot;);</span></span>
<span id="L5851" title="Line 5851: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5851</span>                 :                : </span>
<span id="L5852" title="Line 5852: commit 3a0d473192b2 on 2017-03-12 by noah@leadboat.com"> <a href="#L5864" title="next CBC in &ldquo;(360..) days&rdquo; bin">3089</a> <a href="#top" title="next CBC in &ldquo;noah@leadboat.com&rdquo; bin">noah@leadboat.com</a>    <span class="lineNum">    5852</span>                 :<a href="#L5864" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          22 :     sstate = PG_GETARG_BYTEA_PP(0);</span></span>
<span id="L5853" title="Line 5853: commit f8ace5477ef9 on 2016-06-22 by tgl@sss.pgh.pa.us">                           <span class="lineNumWithDelete" title="removed line 6059 from baseline version">    5853</span>                 :                : </span>
<span id="L5854" title="Line 5854: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5854</span>                 :                :     /*</span>
<span id="L5855" title="Line 5855: commit 0c882a298881 on 2023-10-27 by drowley@postgresql.org">                           <span class="lineNum">    5855</span>                 :                :      * Initialize a StringInfo so that we can &quot;receive&quot; it using the standard</span>
<span id="L5856" title="Line 5856: commit 0c882a298881 on 2023-10-27 by drowley@postgresql.org">                           <span class="lineNum">    5856</span>                 :                :      * recv-function infrastructure.</span>
<span id="L5857" title="Line 5857: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5857</span>                 :                :      */</span>
<span id="L5858" title="Line 5858: commit 0c882a298881 on 2023-10-27 by drowley@postgresql.org">  669 <a href="#top" title="next CBC in &ldquo;drowley@postgresql.org&rdquo; bin">drowley@postgresql.o</a> <span class="lineNum">    5858</span>         [<span class="tlaECB"> <a href="#L5859" title="ECB: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaEUB"> <a href="#L5859" title="EUB: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             22 :     initReadOnlyStringInfo(&amp;buf, VARDATA_ANY(sstate),</span></span>
<span id="L5859" title="Line 5859: commit 0c882a298881 on 2023-10-27 by drowley@postgresql.org">                           <span class="lineNum">    5859</span>   [<span class="tlaEUB"> <a href="#L6487" title="EUB: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaECB"> <a href="#L6487" title="ECB: Branch 1 was taken 21 times" class="branchTla">+</a> </span><span class="tlaEUB"> <a href="#L6487" title="EUB: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaEUB"> <a href="#L6487" title="EUB: Branch 3 was not taken" class="branchTla">-</a> </span> :<span class="tlaCBC">             22 :                            VARSIZE_ANY_EXHDR(sstate));</span></span>
                           <span class="lineNum">        </span> <span class="tlaEUB"> <a href="#L6487" title="EUB: Branch 4 was not taken" class="branchTla">-</a> </span><span class="tlaEUB"> <a href="#L6487" title="EUB: Branch 5 was not taken" class="branchTla">-</a> </span><span class="tlaEUB"> <a href="#L6487" title="EUB: Branch 6 was not taken" class="branchTla">-</a> </span><span class="tlaEUB"> <a href="#L6487" title="EUB: Branch 7 was not taken" class="branchTla">-</a> </span><span class="tlaECB"> <a href="#L6487" title="ECB: Branch 8 was taken 21 times" class="branchTla">+</a> </span> 
                           <span class="lineNum">        </span>             <span class="tlaEUB"> <a href="#L6487" title="EUB: Branch 9 was not taken" class="branchTla">-</a> </span>]
<span id="L5860" title="Line 5860: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed line 6068 from baseline version">    5860</span>                 :                : </span>
<span id="L5861" title="Line 5861: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5867" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5867" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5861</span>                 :<a href="#L5867" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          22 :     result = makeInt128AggStateCurrentContext(false);</span></span>
<span id="L5862" title="Line 5862: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5862</span>                 :                : </span>
<span id="L5863" title="Line 5863: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5863</span>                 :                :     /* N */</span>
<span id="L5864" title="Line 5864: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5869" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L5869" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5864</span>                 :<a href="#L5869" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          22 :     result-&gt;N = pq_getmsgint64(&amp;buf);</span></span>
<span id="L5865" title="Line 5865: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5865</span>                 :                : </span>
<span id="L5866" title="Line 5866: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed lines [6074:6076] from baseline version">    5866</span>                 :                :     /* sumX */</span>
<span id="L5867" title="Line 5867: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5883" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5883" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5867</span>                 :<a href="#L5883" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          22 :     result-&gt;sumX = int128_deserialize(&amp;buf);</span></span>
<span id="L5868" title="Line 5868: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5868</span>                 :                : </span>
<span id="L5869" title="Line 5869: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L5886" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L6526" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    5869</span>                 :<a href="#L5886" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          22 :     pq_getmsgend(&amp;buf);</span></span>
<span id="L5870" title="Line 5870: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNumWithDelete" title="removed line 6083 from baseline version">    5870</span>                 :                : </span>
<span id="L5871" title="Line 5871: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5871</span>                 :<span class="tlaCBC">             22 :     PG_RETURN_POINTER(result);</span></span>
<span id="L5872" title="Line 5872: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    5872</span>                 :                : }</span>
<span id="L5873" title="Line 5873: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5873</span>                 :                : </span>
<span id="L5874" title="Line 5874: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5874</span>                 :                : /*</span>
<span id="L5875" title="Line 5875: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5875</span>                 :                :  * Inverse transition functions to go with the above.</span>
<span id="L5876" title="Line 5876: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5876</span>                 :                :  */</span>
<span id="L5877" title="Line 5877: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5877</span>                 :                : </span>
<span id="L5878" title="Line 5878: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5878</span>                 :                : Datum</span>
<span id="L5879" title="Line 5879: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> 4154 <a href="#L5886" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5879</span>                 :<span class="tlaCBC">             81 : int2_accum_inv(PG_FUNCTION_ARGS)</span></span>
<span id="L5880" title="Line 5880: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5880</span>                 :                : {</span>
<span id="L5881" title="Line 5881: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5881</span>                 :                :     Int128AggState *state;</span>
<span id="L5882" title="Line 5882: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNumWithDelete" title="removed line 6097 from baseline version">    5882</span>                 :                : </span>
<span id="L5883" title="Line 5883: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5890" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5890" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5883</span>         [<span class="tlaGNC"> <a href="#L5900" title="GNC: Branch 0 was taken 81 times" class="branchTla">+</a> </span><span class="tlaUNC"> <a href="#L5900" title="UNC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<a href="#L5890" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          81 :     state = PG_ARGISNULL(0) ? NULL : (Int128AggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5884" title="Line 5884: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5884</span>                 :                : </span>
<span id="L5885" title="Line 5885: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5885</span>                 :                :     /* Should not get here with no state */</span>
<span id="L5886" title="Line 5886: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L5889" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L5889" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5886</span>         [<span class="tlaUBC"> <a href="#L5887" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5889" title="CBC: Branch 1 was taken 81 times" class="branchTla">+</a> </span>]:<a href="#L5889" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          81 :     if (state == NULL)</span></span>
<span id="L5887" title="Line 5887: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5904" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">4154</a> </span><a href="#L5904" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    5887</span>         [<span class="tlaUBC"> <a href="#L5903" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5903" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5904" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;int2_accum_inv called with NULL state&quot;);</span></span>
<span id="L5888" title="Line 5888: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5888</span>                 :                : </span>
<span id="L5889" title="Line 5889: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L5892" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L5892" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNumWithDelete" title="removed line 6106 from baseline version">    5889</span>         [<span class="tlaCBC"> <a href="#L5903" title="CBC: Branch 0 was taken 72 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5903" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<a href="#L5892" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          81 :     if (!PG_ARGISNULL(1))</span></span>
<span id="L5890" title="Line 5890: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5900" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5900" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5890</span>                 :<a href="#L5900" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          72 :         do_int128_discard(state, PG_GETARG_INT16(1));</span></span>
<span id="L5891" title="Line 5891: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5891</span>                 :                : </span>
<span id="L5892" title="Line 5892: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> <a href="#L5903" title="next CBC in &ldquo;(360..) days&rdquo; bin">4301</a> <a href="#L5903" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5892</span>                 :<a href="#L5903" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          81 :     PG_RETURN_POINTER(state);</span></span>
<span id="L5893" title="Line 5893: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    5893</span>                 :                : }</span>
<span id="L5894" title="Line 5894: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    5894</span>                 :                : </span>
<span id="L5895" title="Line 5895: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5895</span>                 :                : Datum</span>
<span id="L5896" title="Line 5896: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> 4154                      <span class="lineNum">    5896</span>                 :<span class="tlaCBC">             81 : int4_accum_inv(PG_FUNCTION_ARGS)</span></span>
<span id="L5897" title="Line 5897: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5897</span>                 :                : {</span>
<span id="L5898" title="Line 5898: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5898</span>                 :                :     Int128AggState *state;</span>
<span id="L5899" title="Line 5899: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNumWithDelete" title="removed line 6122 from baseline version">    5899</span>                 :                : </span>
<span id="L5900" title="Line 5900: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5907" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5907" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5900</span>         [<span class="tlaGNC"> <a href="#L5938" title="GNC: Branch 0 was taken 81 times" class="branchTla">+</a> </span><span class="tlaUNC"> <a href="#L5938" title="UNC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<a href="#L5907" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          81 :     state = PG_ARGISNULL(0) ? NULL : (Int128AggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5901" title="Line 5901: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5901</span>                 :                : </span>
<span id="L5902" title="Line 5902: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5902</span>                 :                :     /* Should not get here with no state */</span>
<span id="L5903" title="Line 5903: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L5906" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L5906" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5903</span>         [<span class="tlaUBC"> <a href="#L5904" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5906" title="CBC: Branch 1 was taken 81 times" class="branchTla">+</a> </span>]:<a href="#L5906" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          81 :     if (state == NULL)</span></span>
<span id="L5904" title="Line 5904: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5921" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">4154</a> </span><a href="#L5921" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    5904</span>         [<span class="tlaUBC"> <a href="#L5917" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5917" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5921" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;int4_accum_inv called with NULL state&quot;);</span></span>
<span id="L5905" title="Line 5905: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5905</span>                 :                : </span>
<span id="L5906" title="Line 5906: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L5909" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L5909" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNumWithDelete" title="removed line 6131 from baseline version">    5906</span>         [<span class="tlaCBC"> <a href="#L5917" title="CBC: Branch 0 was taken 72 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5917" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<a href="#L5909" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          81 :     if (!PG_ARGISNULL(1))</span></span>
<span id="L5907" title="Line 5907: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5938" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5938" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5907</span>                 :<a href="#L5938" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          72 :         do_int128_discard(state, PG_GETARG_INT32(1));</span></span>
<span id="L5908" title="Line 5908: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5908</span>                 :                : </span>
<span id="L5909" title="Line 5909: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L5923" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L5923" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5909</span>                 :<a href="#L5923" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          81 :     PG_RETURN_POINTER(state);</span></span>
<span id="L5910" title="Line 5910: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5910</span>                 :                : }</span>
<span id="L5911" title="Line 5911: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5911</span>                 :                : </span>
<span id="L5912" title="Line 5912: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5912</span>                 :                : Datum</span>
<span id="L5913" title="Line 5913: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5913</span>                 :<span class="tlaCBC">             81 : int8_accum_inv(PG_FUNCTION_ARGS)</span></span>
<span id="L5914" title="Line 5914: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5914</span>                 :                : {</span>
<span id="L5915" title="Line 5915: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5915</span>                 :                :     NumericAggState *state;</span>
<span id="L5916" title="Line 5916: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5916</span>                 :                : </span>
<span id="L5917" title="Line 5917: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5917</span>         [<span class="tlaCBC"> <a href="#L5920" title="CBC: Branch 0 was taken 81 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L5920" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             81 :     state = PG_ARGISNULL(0) ? NULL : (NumericAggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5918" title="Line 5918: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5918</span>                 :                : </span>
<span id="L5919" title="Line 5919: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5919</span>                 :                :     /* Should not get here with no state */</span>
<span id="L5920" title="Line 5920: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5920</span>         [<span class="tlaUBC"> <a href="#L5921" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5923" title="CBC: Branch 1 was taken 81 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             81 :     if (state == NULL)</span></span>
<span id="L5921" title="Line 5921: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5927" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">4154</a> </span><a href="#L5927" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    5921</span>         [<span class="tlaUBC"> <a href="#L5926" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5926" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5927" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;int8_accum_inv called with NULL state&quot;);</span></span>
<span id="L5922" title="Line 5922: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5922</span>                 :                : </span>
<span id="L5923" title="Line 5923: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L5930" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L5930" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5923</span>         [<span class="tlaCBC"> <a href="#L5926" title="CBC: Branch 0 was taken 72 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5926" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<a href="#L5930" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          81 :     if (!PG_ARGISNULL(1))</span></span>
<span id="L5924" title="Line 5924: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5924</span>                 :                :     {</span>
<span id="L5925" title="Line 5925: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5925</span>                 :                :         /* Should never fail, all inputs have dscale 0 */</span>
<span id="L5926" title="Line 5926: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org"> 1812 <a href="#L5992" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    5926</span>         [<span class="tlaUBC"> <a href="#L5927" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5941" title="CBC: Branch 1 was taken 72 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             72 :         if (!do_numeric_discard(state, int64_to_numeric(PG_GETARG_INT64(1))))</span></span>
<span id="L5927" title="Line 5927: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L5942" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">4154</a> </span><a href="#L6098" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    5927</span>         [<span class="tlaUBC"> <a href="#L5941" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5941" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L5942" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             elog(ERROR, &quot;do_numeric_discard failed unexpectedly&quot;);</span></span>
<span id="L5928" title="Line 5928: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5928</span>                 :                :     }</span>
<span id="L5929" title="Line 5929: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5929</span>                 :                : </span>
<span id="L5930" title="Line 5930: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L5941" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L6001" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    5930</span>                 :<a href="#L5941" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          81 :     PG_RETURN_POINTER(state);</span></span>
<span id="L5931" title="Line 5931: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    5931</span>                 :                : }</span>
<span id="L5932" title="Line 5932: commit 89a624439eb0 on 2007-02-17 by bruce@momjian.us">                           <span class="lineNum">    5932</span>                 :                : </span>
<span id="L5933" title="Line 5933: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5933</span>                 :                : Datum</span>
<span id="L5934" title="Line 5934: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> 3812 <a href="#L5941" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    5934</span>                 :<span class="tlaCBC">             18 : int8_avg_accum_inv(PG_FUNCTION_ARGS)</span></span>
<span id="L5935" title="Line 5935: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5935</span>                 :                : {</span>
<span id="L5936" title="Line 5936: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5936</span>                 :                :     Int128AggState *state;</span>
<span id="L5937" title="Line 5937: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNumWithDelete" title="removed line 6168 from baseline version">    5937</span>                 :                : </span>
<span id="L5938" title="Line 5938: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5945" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5945" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5938</span>         [<span class="tlaGNC"> <a href="#L5957" title="GNC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaUNC"> <a href="#L5982" title="UNC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<a href="#L5945" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          18 :     state = PG_ARGISNULL(0) ? NULL : (Int128AggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5939" title="Line 5939: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5939</span>                 :                : </span>
<span id="L5940" title="Line 5940: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5940</span>                 :                :     /* Should not get here with no state */</span>
<span id="L5941" title="Line 5941: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L5944" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L5944" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    5941</span>         [<span class="tlaUBC"> <a href="#L5942" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L5944" title="CBC: Branch 1 was taken 18 times" class="branchTla">+</a> </span>]:<a href="#L5944" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          18 :     if (state == NULL)</span></span>
<span id="L5942" title="Line 5942: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"><span title="andres@anarazel.de 3812 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6098" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3812</a> </span><a href="#L6320" title="next UBC in &ldquo;andres@anarazel.de&rdquo; bin" class="tlaBgUBC">andres@anarazel.de</a><span title="andres@anarazel.de 3812 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  </span> <span class="lineNum">    5942</span>         [<span class="tlaUBC"> <a href="#L5985" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L5985" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L6098" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;int8_avg_accum_inv called with NULL state&quot;);</span></span>
<span id="L5943" title="Line 5943: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5943</span>                 :                : </span>
<span id="L5944" title="Line 5944: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L5947" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L5947" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNumWithDelete" title="removed line 6177 from baseline version">    5944</span>         [<span class="tlaCBC"> <a href="#L5960" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5960" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<a href="#L5947" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          18 :     if (!PG_ARGISNULL(1))</span></span>
<span id="L5945" title="Line 5945: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5957" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5957" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5945</span>                 :<a href="#L5957" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          12 :         do_int128_discard(state, PG_GETARG_INT64(1));</span></span>
<span id="L5946" title="Line 5946: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5946</span>                 :                : </span>
<span id="L5947" title="Line 5947: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L5960" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L5960" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    5947</span>                 :<a href="#L5960" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          18 :     PG_RETURN_POINTER(state);</span></span>
<span id="L5948" title="Line 5948: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5948</span>                 :                : }</span>
<span id="L5949" title="Line 5949: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5949</span>                 :                : </span>
<span id="L5950" title="Line 5950: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5950</span>                 :                : Datum</span>
<span id="L5951" title="Line 5951: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5951</span>                 :<span class="tlaCBC">            526 : numeric_poly_sum(PG_FUNCTION_ARGS)</span></span>
<span id="L5952" title="Line 5952: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5952</span>                 :                : {</span>
<span id="L5953" title="Line 5953: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5953</span>                 :                :     Int128AggState *state;</span>
<span id="L5954" title="Line 5954: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    5954</span>                 :                :     Numeric     res;</span>
<span id="L5955" title="Line 5955: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    5955</span>                 :                :     NumericVar  result;</span>
<span id="L5956" title="Line 5956: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNumWithDelete" title="removed line 6196 from baseline version">    5956</span>                 :                : </span>
<span id="L5957" title="Line 5957: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L5982" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L5982" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5957</span>         [<span class="tlaGNC"> <a href="#L5982" title="GNC: Branch 0 was taken 523 times" class="branchTla">+</a> </span><span class="tlaGNC"> <a href="#L5982" title="GNC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<a href="#L5982" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">         526 :     state = PG_ARGISNULL(0) ? NULL : (Int128AggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5958" title="Line 5958: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5958</span>                 :                : </span>
<span id="L5959" title="Line 5959: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5959</span>                 :                :     /* If there were no non-null inputs, return NULL */</span>
<span id="L5960" title="Line 5960: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L5985" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L5985" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    5960</span>   [<span class="tlaCBC"> <a href="#L5985" title="CBC: Branch 0 was taken 523 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5985" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5985" title="CBC: Branch 2 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L5985" title="CBC: Branch 3 was taken 514 times" class="branchTla">+</a> </span>]:<a href="#L5985" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         526 :     if (state == NULL || state-&gt;N == 0)</span></span>
<span id="L5961" title="Line 5961: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5961</span>                 :<span class="tlaCBC">             12 :         PG_RETURN_NULL();</span></span>
<span id="L5962" title="Line 5962: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5962</span>                 :                : </span>
<span id="L5963" title="Line 5963: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5963</span>                 :<span class="tlaCBC">            514 :     init_var(&amp;result);</span></span>
<span id="L5964" title="Line 5964: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5964</span>                 :                : </span>
<span id="L5965" title="Line 5965: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5965</span>                 :<span class="tlaCBC">            514 :     int128_to_numericvar(state-&gt;sumX, &amp;result);</span></span>
<span id="L5966" title="Line 5966: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5966</span>                 :                : </span>
<span id="L5967" title="Line 5967: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5967</span>                 :<span class="tlaCBC">            514 :     res = make_result(&amp;result);</span></span>
<span id="L5968" title="Line 5968: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5968</span>                 :                : </span>
<span id="L5969" title="Line 5969: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5969</span>                 :<span class="tlaCBC">            514 :     free_var(&amp;result);</span></span>
<span id="L5970" title="Line 5970: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5970</span>                 :                : </span>
<span id="L5971" title="Line 5971: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5971</span>                 :<span class="tlaCBC">            514 :     PG_RETURN_NUMERIC(res);</span></span>
<span id="L5972" title="Line 5972: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5972</span>                 :                : }</span>
<span id="L5973" title="Line 5973: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5973</span>                 :                : </span>
<span id="L5974" title="Line 5974: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5974</span>                 :                : Datum</span>
<span id="L5975" title="Line 5975: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5975</span>                 :<span class="tlaCBC">             18 : numeric_poly_avg(PG_FUNCTION_ARGS)</span></span>
<span id="L5976" title="Line 5976: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5976</span>                 :                : {</span>
<span id="L5977" title="Line 5977: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    5977</span>                 :                :     Int128AggState *state;</span>
<span id="L5978" title="Line 5978: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    5978</span>                 :                :     NumericVar  result;</span>
<span id="L5979" title="Line 5979: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    5979</span>                 :                :     Datum       countd,</span>
<span id="L5980" title="Line 5980: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    5980</span>                 :                :                 sumd;</span>
<span id="L5981" title="Line 5981: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNumWithDelete" title="removed line 6225 from baseline version">    5981</span>                 :                : </span>
<span id="L5982" title="Line 5982: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L6281" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L6281" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    5982</span>         [<span class="tlaGNC"> <a href="#L6281" title="GNC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaUNC"> <a href="#L6281" title="UNC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<a href="#L6281" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          18 :     state = PG_ARGISNULL(0) ? NULL : (Int128AggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L5983" title="Line 5983: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5983</span>                 :                : </span>
<span id="L5984" title="Line 5984: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5984</span>                 :                :     /* If there were no non-null inputs, return NULL */</span>
<span id="L5985" title="Line 5985: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L6102" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L5993" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    5985</span>   [<span class="tlaCBC"> <a href="#L6008" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6008" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6008" title="CBC: Branch 2 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6008" title="CBC: Branch 3 was taken 9 times" class="branchTla">+</a> </span>]:<a href="#L6102" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          18 :     if (state == NULL || state-&gt;N == 0)</span></span>
<span id="L5986" title="Line 5986: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5986</span>                 :<span class="tlaCBC">              9 :         PG_RETURN_NULL();</span></span>
<span id="L5987" title="Line 5987: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5987</span>                 :                : </span>
<span id="L5988" title="Line 5988: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5988</span>                 :<span class="tlaCBC">              9 :     init_var(&amp;result);</span></span>
<span id="L5989" title="Line 5989: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5989</span>                 :                : </span>
<span id="L5990" title="Line 5990: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5990</span>                 :<span class="tlaCBC">              9 :     int128_to_numericvar(state-&gt;sumX, &amp;result);</span></span>
<span id="L5991" title="Line 5991: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5991</span>                 :                : </span>
<span id="L5992" title="Line 5992: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org"> 1812 <a href="#L6025" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    5992</span>                 :<span class="tlaCBC">              9 :     countd = NumericGetDatum(int64_to_numeric(state-&gt;N));</span></span>
<span id="L5993" title="Line 5993: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> 3812 <a href="#L6122" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    5993</span>                 :<span class="tlaCBC">              9 :     sumd = NumericGetDatum(make_result(&amp;result));</span></span>
<span id="L5994" title="Line 5994: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5994</span>                 :                : </span>
<span id="L5995" title="Line 5995: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5995</span>                 :<span class="tlaCBC">              9 :     free_var(&amp;result);</span></span>
<span id="L5996" title="Line 5996: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5996</span>                 :                : </span>
<span id="L5997" title="Line 5997: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5997</span>                 :<span class="tlaCBC">              9 :     PG_RETURN_DATUM(DirectFunctionCall2(numeric_div, sumd, countd));</span></span>
<span id="L5998" title="Line 5998: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5998</span>                 :                : }</span>
<span id="L5999" title="Line 5999: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    5999</span>                 :                : </span>
<span id="L6000" title="Line 6000: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6000</span>                 :                : Datum</span>
<span id="L6001" title="Line 6001: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L6015" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6001</span>                 :<span class="tlaCBC">             39 : numeric_avg(PG_FUNCTION_ARGS)</span></span>
<span id="L6002" title="Line 6002: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6002</span>                 :                : {</span>
<span id="L6003" title="Line 6003: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6003</span>                 :                :     NumericAggState *state;</span>
<span id="L6004" title="Line 6004: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6004</span>                 :                :     Datum       N_datum;</span>
<span id="L6005" title="Line 6005: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6005</span>                 :                :     Datum       sumX_datum;</span>
<span id="L6006" title="Line 6006: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6006</span>                 :                :     NumericVar  sumX_var;</span>
<span id="L6007" title="Line 6007: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6007</span>                 :                : </span>
<span id="L6008" title="Line 6008: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301                      <span class="lineNum">    6008</span>         [<span class="tlaCBC"> <a href="#L6011" title="CBC: Branch 0 was taken 39 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6011" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             39 :     state = PG_ARGISNULL(0) ? NULL : (NumericAggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L6009" title="Line 6009: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6009</span>                 :                : </span>
<span id="L6010" title="Line 6010: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6010</span>                 :                :     /* If there were no non-null inputs, return NULL */</span>
<span id="L6011" title="Line 6011: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    6011</span>   [<span class="tlaCBC"> <a href="#L6014" title="CBC: Branch 0 was taken 39 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6042" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6014" title="CBC: Branch 2 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6014" title="CBC: Branch 3 was taken 30 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             39 :     if (state == NULL || NA_TOTAL_COUNT(state) == 0)</span></span>
<span id="L6012" title="Line 6012: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301                      <span class="lineNum">    6012</span>                 :<span class="tlaCBC">              9 :         PG_RETURN_NULL();</span></span>
<span id="L6013" title="Line 6013: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6013</span>                 :                : </span>
<span id="L6014" title="Line 6014: commit 0a7832005792 on 2014-05-06 by bruce@momjian.us"> 4130 <a href="#L6048" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    6014</span>         [<span class="tlaCBC"> <a href="#L6018" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6018" title="CBC: Branch 1 was taken 27 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             30 :     if (state-&gt;NaNcount &gt; 0)  /* there was at least one NaN input */</span></span>
<span id="L6015" title="Line 6015: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301 <a href="#L6032" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6015</span>                 :<span class="tlaCBC">              3 :         PG_RETURN_NUMERIC(make_result(&amp;const_nan));</span></span>
<span id="L6016" title="Line 6016: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6016</span>                 :                : </span>
<span id="L6017" title="Line 6017: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6017</span>                 :                :     /* adding plus and minus infinities gives NaN */</span>
<span id="L6018" title="Line 6018: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    6018</span>   [<span class="tlaCBC"> <a href="#L6020" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6020" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6020" title="CBC: Branch 2 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6020" title="CBC: Branch 3 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             27 :     if (state-&gt;pInfcount &gt; 0 &amp;&amp; state-&gt;nInfcount &gt; 0)</span></span>
<span id="L6019" title="Line 6019: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6019</span>                 :<span class="tlaCBC">              3 :         PG_RETURN_NUMERIC(make_result(&amp;const_nan));</span></span>
<span id="L6020" title="Line 6020: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6020</span>         [<span class="tlaCBC"> <a href="#L6022" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6022" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             24 :     if (state-&gt;pInfcount &gt; 0)</span></span>
<span id="L6021" title="Line 6021: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6021</span>                 :<span class="tlaCBC">              9 :         PG_RETURN_NUMERIC(make_result(&amp;const_pinf));</span></span>
<span id="L6022" title="Line 6022: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6022</span>         [<span class="tlaCBC"> <a href="#L6042" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6042" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             15 :     if (state-&gt;nInfcount &gt; 0)</span></span>
<span id="L6023" title="Line 6023: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6023</span>                 :<span class="tlaCBC">              3 :         PG_RETURN_NUMERIC(make_result(&amp;const_ninf));</span></span>
<span id="L6024" title="Line 6024: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6024</span>                 :                : </span>
<span id="L6025" title="Line 6025: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org"> 1812 <a href="#L6629" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    6025</span>                 :<span class="tlaCBC">             12 :     N_datum = NumericGetDatum(int64_to_numeric(state-&gt;N));</span></span>
<span id="L6026" title="Line 6026: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6026</span>                 :                : </span>
<span id="L6027" title="Line 6027: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L6059" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    6027</span>                 :<span class="tlaCBC">             12 :     init_var(&amp;sumX_var);</span></span>
<span id="L6028" title="Line 6028: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6028</span>                 :<span class="tlaCBC">             12 :     accum_sum_final(&amp;state-&gt;sumX, &amp;sumX_var);</span></span>
<span id="L6029" title="Line 6029: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6029</span>                 :<span class="tlaCBC">             12 :     sumX_datum = NumericGetDatum(make_result(&amp;sumX_var));</span></span>
<span id="L6030" title="Line 6030: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6030</span>                 :<span class="tlaCBC">             12 :     free_var(&amp;sumX_var);</span></span>
<span id="L6031" title="Line 6031: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6031</span>                 :                : </span>
<span id="L6032" title="Line 6032: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301 <a href="#L6049" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6032</span>                 :<span class="tlaCBC">             12 :     PG_RETURN_DATUM(DirectFunctionCall2(numeric_div, sumX_datum, N_datum));</span></span>
<span id="L6033" title="Line 6033: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6033</span>                 :                : }</span>
<span id="L6034" title="Line 6034: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6034</span>                 :                : </span>
<span id="L6035" title="Line 6035: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6035</span>                 :                : Datum</span>
<span id="L6036" title="Line 6036: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6036</span>                 :<span class="tlaCBC">          85453 : numeric_sum(PG_FUNCTION_ARGS)</span></span>
<span id="L6037" title="Line 6037: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6037</span>                 :                : {</span>
<span id="L6038" title="Line 6038: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6038</span>                 :                :     NumericAggState *state;</span>
<span id="L6039" title="Line 6039: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6039</span>                 :                :     NumericVar  sumX_var;</span>
<span id="L6040" title="Line 6040: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6040</span>                 :                :     Numeric     result;</span>
<span id="L6041" title="Line 6041: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6041</span>                 :                : </span>
<span id="L6042" title="Line 6042: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6042</span>         [<span class="tlaCBC"> <a href="#L6045" title="CBC: Branch 0 was taken 85453 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6045" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">          85453 :     state = PG_ARGISNULL(0) ? NULL : (NumericAggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L6043" title="Line 6043: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6043</span>                 :                : </span>
<span id="L6044" title="Line 6044: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6044</span>                 :                :     /* If there were no non-null inputs, return NULL */</span>
<span id="L6045" title="Line 6045: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    6045</span>   [<span class="tlaCBC"> <a href="#L6048" title="CBC: Branch 0 was taken 85453 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6096" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6048" title="CBC: Branch 2 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6048" title="CBC: Branch 3 was taken 85444 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          85453 :     if (state == NULL || NA_TOTAL_COUNT(state) == 0)</span></span>
<span id="L6046" title="Line 6046: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171                      <span class="lineNum">    6046</span>                 :<span class="tlaCBC">              9 :         PG_RETURN_NULL();</span></span>
<span id="L6047" title="Line 6047: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6047</span>                 :                : </span>
<span id="L6048" title="Line 6048: commit 0a7832005792 on 2014-05-06 by bruce@momjian.us"> 4130 <a href="#L6134" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    6048</span>         [<span class="tlaCBC"> <a href="#L6052" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6052" title="CBC: Branch 1 was taken 85435 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          85444 :     if (state-&gt;NaNcount &gt; 0)  /* there was at least one NaN input */</span></span>
<span id="L6049" title="Line 6049: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301 <a href="#L6079" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6049</span>                 :<span class="tlaCBC">              9 :         PG_RETURN_NUMERIC(make_result(&amp;const_nan));</span></span>
<span id="L6050" title="Line 6050: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6050</span>                 :                : </span>
<span id="L6051" title="Line 6051: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6051</span>                 :                :     /* adding plus and minus infinities gives NaN */</span>
<span id="L6052" title="Line 6052: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    6052</span>   [<span class="tlaCBC"> <a href="#L6054" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6054" title="CBC: Branch 1 was taken 85423 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6054" title="CBC: Branch 2 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6054" title="CBC: Branch 3 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          85435 :     if (state-&gt;pInfcount &gt; 0 &amp;&amp; state-&gt;nInfcount &gt; 0)</span></span>
<span id="L6053" title="Line 6053: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6053</span>                 :<span class="tlaCBC">              3 :         PG_RETURN_NUMERIC(make_result(&amp;const_nan));</span></span>
<span id="L6054" title="Line 6054: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6054</span>         [<span class="tlaCBC"> <a href="#L6056" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6056" title="CBC: Branch 1 was taken 85423 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          85432 :     if (state-&gt;pInfcount &gt; 0)</span></span>
<span id="L6055" title="Line 6055: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6055</span>                 :<span class="tlaCBC">              9 :         PG_RETURN_NUMERIC(make_result(&amp;const_pinf));</span></span>
<span id="L6056" title="Line 6056: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6056</span>         [<span class="tlaCBC"> <a href="#L6096" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6096" title="CBC: Branch 1 was taken 85420 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          85423 :     if (state-&gt;nInfcount &gt; 0)</span></span>
<span id="L6057" title="Line 6057: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6057</span>                 :<span class="tlaCBC">              3 :         PG_RETURN_NUMERIC(make_result(&amp;const_ninf));</span></span>
<span id="L6058" title="Line 6058: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6058</span>                 :                : </span>
<span id="L6059" title="Line 6059: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L6123" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    6059</span>                 :<span class="tlaCBC">          85420 :     init_var(&amp;sumX_var);</span></span>
<span id="L6060" title="Line 6060: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6060</span>                 :<span class="tlaCBC">          85420 :     accum_sum_final(&amp;state-&gt;sumX, &amp;sumX_var);</span></span>
<span id="L6061" title="Line 6061: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6061</span>                 :<span class="tlaCBC">          85420 :     result = make_result(&amp;sumX_var);</span></span>
<span id="L6062" title="Line 6062: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6062</span>                 :<span class="tlaCBC">          85420 :     free_var(&amp;sumX_var);</span></span>
<span id="L6063" title="Line 6063: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6063</span>                 :                : </span>
<span id="L6064" title="Line 6064: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6064</span>                 :<span class="tlaCBC">          85420 :     PG_RETURN_NUMERIC(result);</span></span>
<span id="L6065" title="Line 6065: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6065</span>                 :                : }</span>
<span id="L6066" title="Line 6066: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6066</span>                 :                : </span>
<span id="L6067" title="Line 6067: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6067</span>                 :                : /*</span>
<span id="L6068" title="Line 6068: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6068</span>                 :                :  * Workhorse routine for the standard deviance and variance</span>
<span id="L6069" title="Line 6069: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6069</span>                 :                :  * aggregates. 'state' is aggregate's transition state.</span>
<span id="L6070" title="Line 6070: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6070</span>                 :                :  * 'variance' specifies whether we should calculate the</span>
<span id="L6071" title="Line 6071: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6071</span>                 :                :  * variance or the standard deviation. 'sample' indicates whether the</span>
<span id="L6072" title="Line 6072: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6072</span>                 :                :  * caller is interested in the sample or the population</span>
<span id="L6073" title="Line 6073: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6073</span>                 :                :  * variance/stddev.</span>
<span id="L6074" title="Line 6074: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6074</span>                 :                :  *</span>
<span id="L6075" title="Line 6075: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6075</span>                 :                :  * If appropriate variance statistic is undefined for the input,</span>
<span id="L6076" title="Line 6076: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6076</span>                 :                :  * *is_null is set to true and NULL is returned.</span>
<span id="L6077" title="Line 6077: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6077</span>                 :                :  */</span>
<span id="L6078" title="Line 6078: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6078</span>                 :                : static Numeric</span>
<span id="L6079" title="Line 6079: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301 <a href="#L6102" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6079</span>                 :<span class="tlaCBC">            493 : numeric_stddev_internal(NumericAggState *state,</span></span>
<span id="L6080" title="Line 6080: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6080</span>                 :                :                         bool variance, bool sample,</span>
<span id="L6081" title="Line 6081: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6081</span>                 :                :                         bool *is_null)</span>
<span id="L6082" title="Line 6082: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6082</span>                 :                : {</span>
<span id="L6083" title="Line 6083: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6083</span>                 :                :     Numeric     res;</span>
<span id="L6084" title="Line 6084: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6084</span>                 :                :     NumericVar  vN,</span>
<span id="L6085" title="Line 6085: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6085</span>                 :                :                 vsumX,</span>
<span id="L6086" title="Line 6086: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6086</span>                 :                :                 vsumX2,</span>
<span id="L6087" title="Line 6087: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6087</span>                 :                :                 vNminus1;</span>
<span id="L6088" title="Line 6088: commit 23cbeda50b94 on 2020-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6088</span>                 :                :     int64       totCount;</span>
<span id="L6089" title="Line 6089: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6089</span>                 :                :     int         rscale;</span>
<span id="L6090" title="Line 6090: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6090</span>                 :                : </span>
<span id="L6091" title="Line 6091: commit 23cbeda50b94 on 2020-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6091</span>                 :                :     /*</span>
<span id="L6092" title="Line 6092: commit 23cbeda50b94 on 2020-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6092</span>                 :                :      * Sample stddev and variance are undefined when N &lt;= 1; population stddev</span>
<span id="L6093" title="Line 6093: commit 23cbeda50b94 on 2020-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6093</span>                 :                :      * is undefined when N == 0.  Return NULL in either case (note that NaNs</span>
<span id="L6094" title="Line 6094: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6094</span>                 :                :      * and infinities count as normal inputs for this purpose).</span>
<span id="L6095" title="Line 6095: commit 23cbeda50b94 on 2020-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6095</span>                 :                :      */</span>
<span id="L6096" title="Line 6096: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    6096</span>   [<span class="tlaCBC"> <a href="#L6102" title="CBC: Branch 0 was taken 493 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6169" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L6169" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6102" title="CBC: Branch 3 was taken 493 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            493 :     if (state == NULL || (totCount = NA_TOTAL_COUNT(state)) == 0)</span></span>
<span id="L6097" title="Line 6097: commit 23cbeda50b94 on 2020-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6097</span>                 :                :     {</span>
<span id="L6098" title="Line 6098: commit 23cbeda50b94 on 2020-06-13 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1900 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6208" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1900</a> </span><a href="#L6372" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1900 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    6098</span>                 :<a href="#L6208" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         *is_null = true;</span></span>
<span id="L6099" title="Line 6099: commit 23cbeda50b94 on 2020-06-13 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1900 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    6099</span>                 :<span class="tlaUBC">              0 :         return NULL;</span></span>
<span id="L6100" title="Line 6100: commit 23cbeda50b94 on 2020-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6100</span>                 :                :     }</span>
<span id="L6101" title="Line 6101: commit 23cbeda50b94 on 2020-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6101</span>                 :                : </span>
<span id="L6102" title="Line 6102: commit 23cbeda50b94 on 2020-06-13 by tgl@sss.pgh.pa.us"> <a href="#L6149" title="next CBC in &ldquo;(360..) days&rdquo; bin">1900</a> <a href="#L6114" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6102</span>   [<span class="tlaCBC"> <a href="#L6114" title="CBC: Branch 0 was taken 322 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6114" title="CBC: Branch 1 was taken 171 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6114" title="CBC: Branch 2 was taken 66 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6114" title="CBC: Branch 3 was taken 256 times" class="branchTla">+</a> </span>]:<a href="#L6210" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         493 :     if (sample &amp;&amp; totCount &lt;= 1)</span></span>
<span id="L6103" title="Line 6103: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6103</span>                 :                :     {</span>
<span id="L6104" title="Line 6104: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301                      <span class="lineNum">    6104</span>                 :<span class="tlaCBC">             66 :         *is_null = true;</span></span>
<span id="L6105" title="Line 6105: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6105</span>                 :<span class="tlaCBC">             66 :         return NULL;</span></span>
<span id="L6106" title="Line 6106: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6106</span>                 :                :     }</span>
<span id="L6107" title="Line 6107: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6107</span>                 :                : </span>
<span id="L6108" title="Line 6108: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com"> 7109 <a href="#L6115" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    6108</span>                 :<span class="tlaCBC">            427 :     *is_null = false;</span></span>
<span id="L6109" title="Line 6109: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6109</span>                 :                : </span>
<span id="L6110" title="Line 6110: commit 23cbeda50b94 on 2020-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6110</span>                 :                :     /*</span>
<span id="L6111" title="Line 6111: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6111</span>                 :                :      * Deal with NaN and infinity cases.  By analogy to the behavior of the</span>
<span id="L6112" title="Line 6112: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6112</span>                 :                :      * float8 functions, any infinity input produces NaN output.</span>
<span id="L6113" title="Line 6113: commit 23cbeda50b94 on 2020-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6113</span>                 :                :      */</span>
<span id="L6114" title="Line 6114: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L6118" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6114</span>   [<span class="tlaCBC"> <a href="#L6136" title="CBC: Branch 0 was taken 421 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6136" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6136" title="CBC: Branch 2 was taken 403 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6136" title="CBC: Branch 3 was taken 18 times" class="branchTla">+</a> </span> :<span class="tlaCBC">            427 :     if (state-&gt;NaNcount &gt; 0 || state-&gt;pInfcount &gt; 0 || state-&gt;nInfcount &gt; 0)</span></span>
                           <span class="lineNum">        </span>          <span class="tlaCBC"> <a href="#L6136" title="CBC: Branch 4 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6136" title="CBC: Branch 5 was taken 400 times" class="branchTla">+</a> </span>]
<span id="L6115" title="Line 6115: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com"> 7109 <a href="#L6149" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    6115</span>                 :<span class="tlaCBC">             27 :         return make_result(&amp;const_nan);</span></span>
<span id="L6116" title="Line 6116: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6116</span>                 :                : </span>
<span id="L6117" title="Line 6117: commit 23cbeda50b94 on 2020-06-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6117</span>                 :                :     /* OK, normal calculation applies */</span>
<span id="L6118" title="Line 6118: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301 <a href="#L6126" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6118</span>                 :<span class="tlaCBC">            400 :     init_var(&amp;vN);</span></span>
<span id="L6119" title="Line 6119: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6119</span>                 :<span class="tlaCBC">            400 :     init_var(&amp;vsumX);</span></span>
<span id="L6120" title="Line 6120: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6120</span>                 :<span class="tlaCBC">            400 :     init_var(&amp;vsumX2);</span></span>
<span id="L6121" title="Line 6121: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6121</span>                 :                : </span>
<span id="L6122" title="Line 6122: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> 3812 <a href="#L6231" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    6122</span>                 :<span class="tlaCBC">            400 :     int64_to_numericvar(state-&gt;N, &amp;vN);</span></span>
<span id="L6123" title="Line 6123: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L6239" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    6123</span>                 :<span class="tlaCBC">            400 :     accum_sum_final(&amp;(state-&gt;sumX), &amp;vsumX);</span></span>
<span id="L6124" title="Line 6124: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6124</span>                 :<span class="tlaCBC">            400 :     accum_sum_final(&amp;(state-&gt;sumX2), &amp;vsumX2);</span></span>
<span id="L6125" title="Line 6125: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6125</span>                 :                : </span>
<span id="L6126" title="Line 6126: commit 1dc3a62ec7c9 on 2003-04-21 by tgl@sss.pgh.pa.us"> 8163 <a href="#L6136" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6126</span>                 :<span class="tlaCBC">            400 :     init_var(&amp;vNminus1);</span></span>
<span id="L6127" title="Line 6127: commit 1dc3a62ec7c9 on 2003-04-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6127</span>                 :<span class="tlaCBC">            400 :     sub_var(&amp;vN, &amp;const_one, &amp;vNminus1);</span></span>
<span id="L6128" title="Line 6128: commit 1dc3a62ec7c9 on 2003-04-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6128</span>                 :                : </span>
<span id="L6129" title="Line 6129: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6129</span>                 :                :     /* compute rscale for mul_var calls */</span>
<span id="L6130" title="Line 6130: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">    6130</span>                 :<span class="tlaCBC">            400 :     rscale = vsumX.dscale * 2;</span></span>
<span id="L6131" title="Line 6131: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6131</span>                 :                : </span>
<span id="L6132" title="Line 6132: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6132</span>                 :<span class="tlaCBC">            400 :     mul_var(&amp;vsumX, &amp;vsumX, &amp;vsumX, rscale);    /* vsumX = sumX * sumX */</span></span>
<span id="L6133" title="Line 6133: commit c7b8998ebbf3 on 2017-06-21 by tgl@sss.pgh.pa.us"> 2988                      <span class="lineNum">    6133</span>                 :<span class="tlaCBC">            400 :     mul_var(&amp;vN, &amp;vsumX2, &amp;vsumX2, rscale); /* vsumX2 = N * sumX2 */</span></span>
<span id="L6134" title="Line 6134: commit f99a569a2ee3 on 2006-10-04 by bruce@momjian.us"> 6901 <a href="#L6146" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    6134</span>                 :<span class="tlaCBC">            400 :     sub_var(&amp;vsumX2, &amp;vsumX, &amp;vsumX2);  /* N * sumX2 - sumX * sumX */</span></span>
<span id="L6135" title="Line 6135: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6135</span>                 :                : </span>
<span id="L6136" title="Line 6136: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us"> 8659 <a href="#L6147" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6136</span>         [<span class="tlaCBC"> <a href="#L6143" title="CBC: Branch 0 was taken 40 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6143" title="CBC: Branch 1 was taken 360 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            400 :     if (cmp_var(&amp;vsumX2, &amp;const_zero) &lt;= 0)</span></span>
<span id="L6137" title="Line 6137: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6137</span>                 :                :     {</span>
<span id="L6138" title="Line 6138: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6138</span>                 :                :         /* Watch out for roundoff error producing a negative numerator */</span>
<span id="L6139" title="Line 6139: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6139</span>                 :<span class="tlaCBC">             40 :         res = make_result(&amp;const_zero);</span></span>
<span id="L6140" title="Line 6140: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6140</span>                 :                :     }</span>
<span id="L6141" title="Line 6141: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6141</span>                 :                :     else</span>
<span id="L6142" title="Line 6142: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6142</span>                 :                :     {</span>
<span id="L6143" title="Line 6143: commit 6244c2dfff6f on 2007-07-09 by tgl@sss.pgh.pa.us"> 6623                      <span class="lineNum">    6143</span>         [<span class="tlaCBC"> <a href="#L6149" title="CBC: Branch 0 was taken 246 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6149" title="CBC: Branch 1 was taken 114 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            360 :         if (sample)</span></span>
<span id="L6144" title="Line 6144: commit c7b8998ebbf3 on 2017-06-21 by tgl@sss.pgh.pa.us"> 2988                      <span class="lineNum">    6144</span>                 :<span class="tlaCBC">            246 :             mul_var(&amp;vN, &amp;vNminus1, &amp;vNminus1, 0);  /* N * (N - 1) */</span></span>
<span id="L6145" title="Line 6145: commit 6244c2dfff6f on 2007-07-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6145</span>                 :                :         else</span>
<span id="L6146" title="Line 6146: commit fdf5a5efb7b2 on 2007-11-15 by bruce@momjian.us"> 6494 <a href="#L6150" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    6146</span>                 :<span class="tlaCBC">            114 :             mul_var(&amp;vN, &amp;vN, &amp;vNminus1, 0);    /* N * N */</span></span>
<span id="L6147" title="Line 6147: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L6152" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6147</span>                 :<span class="tlaCBC">            360 :         rscale = select_div_scale(&amp;vsumX2, &amp;vNminus1);</span></span>
<span id="L6148" title="Line 6148: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L7506" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L6890" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    6148</span>                 :<span class="tlaCBC">            360 :         div_var(&amp;vsumX2, &amp;vNminus1, &amp;vsumX, rscale, true, true);    /* variance */</span></span>
<span id="L6149" title="Line 6149: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com"> <a href="#L6210" title="next CBC in &ldquo;(360..) days&rdquo; bin">7109</a> <a href="#L6159" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    6149</span>         [<span class="tlaCBC"> <a href="#L6169" title="CBC: Branch 0 was taken 189 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6169" title="CBC: Branch 1 was taken 171 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            360 :         if (!variance)</span></span>
<span id="L6150" title="Line 6150: commit f99a569a2ee3 on 2006-10-04 by bruce@momjian.us"> 6901 <a href="#L6770" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    6150</span>                 :<span class="tlaCBC">            189 :             sqrt_var(&amp;vsumX, &amp;vsumX, rscale);   /* stddev */</span></span>
<span id="L6151" title="Line 6151: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6151</span>                 :                : </span>
<span id="L6152" title="Line 6152: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us"> 8659 <a href="#L6169" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6152</span>                 :<span class="tlaCBC">            360 :         res = make_result(&amp;vsumX);</span></span>
<span id="L6153" title="Line 6153: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6153</span>                 :                :     }</span>
<span id="L6154" title="Line 6154: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6154</span>                 :                : </span>
<span id="L6155" title="Line 6155: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171                      <span class="lineNum">    6155</span>                 :<span class="tlaCBC">            400 :     free_var(&amp;vNminus1);</span></span>
<span id="L6156" title="Line 6156: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6156</span>                 :<span class="tlaCBC">            400 :     free_var(&amp;vsumX);</span></span>
<span id="L6157" title="Line 6157: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6157</span>                 :<span class="tlaCBC">            400 :     free_var(&amp;vsumX2);</span></span>
<span id="L6158" title="Line 6158: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6158</span>                 :                : </span>
<span id="L6159" title="Line 6159: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com"> 7109 <a href="#L6173" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    6159</span>                 :<span class="tlaCBC">            400 :     return res;</span></span>
<span id="L6160" title="Line 6160: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6160</span>                 :                : }</span>
<span id="L6161" title="Line 6161: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6161</span>                 :                : </span>
<span id="L6162" title="Line 6162: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6162</span>                 :                : Datum</span>
<span id="L6163" title="Line 6163: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6163</span>                 :<span class="tlaCBC">             90 : numeric_var_samp(PG_FUNCTION_ARGS)</span></span>
<span id="L6164" title="Line 6164: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6164</span>                 :                : {</span>
<span id="L6165" title="Line 6165: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6165</span>                 :                :     NumericAggState *state;</span>
<span id="L6166" title="Line 6166: commit f99a569a2ee3 on 2006-10-04 by bruce@momjian.us">                           <span class="lineNum">    6166</span>                 :                :     Numeric     res;</span>
<span id="L6167" title="Line 6167: commit f99a569a2ee3 on 2006-10-04 by bruce@momjian.us">                           <span class="lineNum">    6167</span>                 :                :     bool        is_null;</span>
<span id="L6168" title="Line 6168: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6168</span>                 :                : </span>
<span id="L6169" title="Line 6169: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301 <a href="#L6174" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6169</span>         [<span class="tlaCBC"> <a href="#L6173" title="CBC: Branch 0 was taken 90 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6186" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             90 :     state = PG_ARGISNULL(0) ? NULL : (NumericAggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L6170" title="Line 6170: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6170</span>                 :                : </span>
<span id="L6171" title="Line 6171: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6171</span>                 :<span class="tlaCBC">             90 :     res = numeric_stddev_internal(state, true, true, &amp;is_null);</span></span>
<span id="L6172" title="Line 6172: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6172</span>                 :                : </span>
<span id="L6173" title="Line 6173: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com"> 7109 <a href="#L6176" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    6173</span>         [<span class="tlaCBC"> <a href="#L6186" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6186" title="CBC: Branch 1 was taken 69 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             90 :     if (is_null)</span></span>
<span id="L6174" title="Line 6174: commit 1dc3a62ec7c9 on 2003-04-21 by tgl@sss.pgh.pa.us"> 8163 <a href="#L6186" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6174</span>                 :<span class="tlaCBC">             21 :         PG_RETURN_NULL();</span></span>
<span id="L6175" title="Line 6175: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6175</span>                 :                :     else</span>
<span id="L6176" title="Line 6176: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com"> 7109 <a href="#L6190" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    6176</span>                 :<span class="tlaCBC">             69 :         PG_RETURN_NUMERIC(res);</span></span>
<span id="L6177" title="Line 6177: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6177</span>                 :                : }</span>
<span id="L6178" title="Line 6178: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6178</span>                 :                : </span>
<span id="L6179" title="Line 6179: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6179</span>                 :                : Datum</span>
<span id="L6180" title="Line 6180: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6180</span>                 :<span class="tlaCBC">             87 : numeric_stddev_samp(PG_FUNCTION_ARGS)</span></span>
<span id="L6181" title="Line 6181: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6181</span>                 :                : {</span>
<span id="L6182" title="Line 6182: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6182</span>                 :                :     NumericAggState *state;</span>
<span id="L6183" title="Line 6183: commit f99a569a2ee3 on 2006-10-04 by bruce@momjian.us">                           <span class="lineNum">    6183</span>                 :                :     Numeric     res;</span>
<span id="L6184" title="Line 6184: commit f99a569a2ee3 on 2006-10-04 by bruce@momjian.us">                           <span class="lineNum">    6184</span>                 :                :     bool        is_null;</span>
<span id="L6185" title="Line 6185: commit 1dc3a62ec7c9 on 2003-04-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6185</span>                 :                : </span>
<span id="L6186" title="Line 6186: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301 <a href="#L6203" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6186</span>         [<span class="tlaCBC"> <a href="#L6190" title="CBC: Branch 0 was taken 87 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6203" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             87 :     state = PG_ARGISNULL(0) ? NULL : (NumericAggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L6187" title="Line 6187: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6187</span>                 :                : </span>
<span id="L6188" title="Line 6188: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6188</span>                 :<span class="tlaCBC">             87 :     res = numeric_stddev_internal(state, false, true, &amp;is_null);</span></span>
<span id="L6189" title="Line 6189: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6189</span>                 :                : </span>
<span id="L6190" title="Line 6190: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com"> 7109 <a href="#L6207" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    6190</span>         [<span class="tlaCBC"> <a href="#L6203" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6203" title="CBC: Branch 1 was taken 66 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             87 :     if (is_null)</span></span>
<span id="L6191" title="Line 6191: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6191</span>                 :<span class="tlaCBC">             21 :         PG_RETURN_NULL();</span></span>
<span id="L6192" title="Line 6192: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6192</span>                 :                :     else</span>
<span id="L6193" title="Line 6193: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6193</span>                 :<span class="tlaCBC">             66 :         PG_RETURN_NUMERIC(res);</span></span>
<span id="L6194" title="Line 6194: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6194</span>                 :                : }</span>
<span id="L6195" title="Line 6195: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6195</span>                 :                : </span>
<span id="L6196" title="Line 6196: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6196</span>                 :                : Datum</span>
<span id="L6197" title="Line 6197: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6197</span>                 :<span class="tlaCBC">             57 : numeric_var_pop(PG_FUNCTION_ARGS)</span></span>
<span id="L6198" title="Line 6198: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6198</span>                 :                : {</span>
<span id="L6199" title="Line 6199: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6199</span>                 :                :     NumericAggState *state;</span>
<span id="L6200" title="Line 6200: commit f99a569a2ee3 on 2006-10-04 by bruce@momjian.us">                           <span class="lineNum">    6200</span>                 :                :     Numeric     res;</span>
<span id="L6201" title="Line 6201: commit f99a569a2ee3 on 2006-10-04 by bruce@momjian.us">                           <span class="lineNum">    6201</span>                 :                :     bool        is_null;</span>
<span id="L6202" title="Line 6202: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6202</span>                 :                : </span>
<span id="L6203" title="Line 6203: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301 <a href="#L6220" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6203</span>         [<span class="tlaCBC"> <a href="#L6207" title="CBC: Branch 0 was taken 57 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6207" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             57 :     state = PG_ARGISNULL(0) ? NULL : (NumericAggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L6204" title="Line 6204: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6204</span>                 :                : </span>
<span id="L6205" title="Line 6205: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6205</span>                 :<span class="tlaCBC">             57 :     res = numeric_stddev_internal(state, true, false, &amp;is_null);</span></span>
<span id="L6206" title="Line 6206: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6206</span>                 :                : </span>
<span id="L6207" title="Line 6207: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com"> 7109 <a href="#L6210" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    6207</span>         [<span class="tlaUBC"> <a href="#L6220" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6220" title="CBC: Branch 1 was taken 57 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             57 :     if (is_null)</span></span>
<span id="L6208" title="Line 6208: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com"><span title="neilc@samurai.com 7109 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6225" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">7109</a> </span><a href="#L6225" title="next UBC in &ldquo;neilc@samurai.com&rdquo; bin" class="tlaBgUBC">neilc@samurai.com</a><span title="neilc@samurai.com 7109 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    6208</span>                 :<a href="#L6225" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         PG_RETURN_NULL();</span></span>
<span id="L6209" title="Line 6209: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6209</span>                 :                :     else</span>
<span id="L6210" title="Line 6210: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com"> <a href="#L6227" title="next CBC in &ldquo;(360..) days&rdquo; bin">7109</a> <a href="#L6224" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    6210</span>                 :<a href="#L6227" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          57 :         PG_RETURN_NUMERIC(res);</span></span>
<span id="L6211" title="Line 6211: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6211</span>                 :                : }</span>
<span id="L6212" title="Line 6212: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6212</span>                 :                : </span>
<span id="L6213" title="Line 6213: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6213</span>                 :                : Datum</span>
<span id="L6214" title="Line 6214: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6214</span>                 :<span class="tlaCBC">             48 : numeric_stddev_pop(PG_FUNCTION_ARGS)</span></span>
<span id="L6215" title="Line 6215: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6215</span>                 :                : {</span>
<span id="L6216" title="Line 6216: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6216</span>                 :                :     NumericAggState *state;</span>
<span id="L6217" title="Line 6217: commit f99a569a2ee3 on 2006-10-04 by bruce@momjian.us">                           <span class="lineNum">    6217</span>                 :                :     Numeric     res;</span>
<span id="L6218" title="Line 6218: commit f99a569a2ee3 on 2006-10-04 by bruce@momjian.us">                           <span class="lineNum">    6218</span>                 :                :     bool        is_null;</span>
<span id="L6219" title="Line 6219: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6219</span>                 :                : </span>
<span id="L6220" title="Line 6220: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us"> 4301 <a href="#L6363" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6220</span>         [<span class="tlaCBC"> <a href="#L6224" title="CBC: Branch 0 was taken 48 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6224" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             48 :     state = PG_ARGISNULL(0) ? NULL : (NumericAggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L6221" title="Line 6221: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6221</span>                 :                : </span>
<span id="L6222" title="Line 6222: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6222</span>                 :<span class="tlaCBC">             48 :     res = numeric_stddev_internal(state, false, false, &amp;is_null);</span></span>
<span id="L6223" title="Line 6223: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6223</span>                 :                : </span>
<span id="L6224" title="Line 6224: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com"> 7109 <a href="#L6227" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    6224</span>         [<span class="tlaUBC"> <a href="#L6241" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6241" title="CBC: Branch 1 was taken 48 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             48 :     if (is_null)</span></span>
<span id="L6225" title="Line 6225: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com"><span title="neilc@samurai.com 7109 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6320" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">7109</a> </span><a href="#L6484" title="next UBC in &ldquo;neilc@samurai.com&rdquo; bin" class="tlaBgUBC">neilc@samurai.com</a><span title="neilc@samurai.com 7109 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    6225</span>                 :<a href="#L6320" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         PG_RETURN_NULL();</span></span>
<span id="L6226" title="Line 6226: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com">                           <span class="lineNum">    6226</span>                 :                :     else</span>
<span id="L6227" title="Line 6227: commit 0ebf1cc83465 on 2006-03-10 by neilc@samurai.com"> <a href="#L6283" title="next CBC in &ldquo;(360..) days&rdquo; bin">7109</a> <a href="#L6482" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    6227</span>                 :<a href="#L6283" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          48 :         PG_RETURN_NUMERIC(res);</span></span>
<span id="L6228" title="Line 6228: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6228</span>                 :                : }</span>
<span id="L6229" title="Line 6229: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6229</span>                 :                : </span>
<span id="L6230" title="Line 6230: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6230</span>                 :                : static Numeric</span>
<span id="L6231" title="Line 6231: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> 3812 <a href="#L6241" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    6231</span>                 :<span class="tlaCBC">            211 : numeric_poly_stddev_internal(Int128AggState *state,</span></span>
<span id="L6232" title="Line 6232: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    6232</span>                 :                :                              bool variance, bool sample,</span>
<span id="L6233" title="Line 6233: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    6233</span>                 :                :                              bool *is_null)</span>
<span id="L6234" title="Line 6234: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6234</span>                 :                : {</span>
<span id="L6235" title="Line 6235: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6235</span>                 :                :     NumericAggState numstate;</span>
<span id="L6236" title="Line 6236: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6236</span>                 :                :     Numeric     res;</span>
<span id="L6237" title="Line 6237: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6237</span>                 :                : </span>
<span id="L6238" title="Line 6238: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6238</span>                 :                :     /* Initialize an empty agg state */</span>
<span id="L6239" title="Line 6239: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L6247" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    6239</span>                 :<span class="tlaCBC">            211 :     memset(&amp;numstate, 0, sizeof(NumericAggState));</span></span>
<span id="L6240" title="Line 6240: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6240</span>                 :                : </span>
<span id="L6241" title="Line 6241: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> 3812 <a href="#L6258" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    6241</span>         [<span class="tlaCBC"> <a href="#L6260" title="CBC: Branch 0 was taken 211 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6260" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            211 :     if (state)</span></span>
<span id="L6242" title="Line 6242: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6242</span>                 :                :     {</span>
<span id="L6243" title="Line 6243: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6243</span>                 :                :         NumericVar  tmp_var;</span>
<span id="L6244" title="Line 6244: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6244</span>                 :                : </span>
<span id="L6245" title="Line 6245: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6245</span>                 :<span class="tlaCBC">            211 :         numstate.N = state-&gt;N;</span></span>
<span id="L6246" title="Line 6246: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6246</span>                 :                : </span>
<span id="L6247" title="Line 6247: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L6260" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    6247</span>                 :<span class="tlaCBC">            211 :         init_var(&amp;tmp_var);</span></span>
<span id="L6248" title="Line 6248: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6248</span>                 :                : </span>
<span id="L6249" title="Line 6249: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6249</span>                 :<span class="tlaCBC">            211 :         int128_to_numericvar(state-&gt;sumX, &amp;tmp_var);</span></span>
<span id="L6250" title="Line 6250: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6250</span>                 :<span class="tlaCBC">            211 :         accum_sum_add(&amp;numstate.sumX, &amp;tmp_var);</span></span>
<span id="L6251" title="Line 6251: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6251</span>                 :                : </span>
<span id="L6252" title="Line 6252: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6252</span>                 :<span class="tlaCBC">            211 :         int128_to_numericvar(state-&gt;sumX2, &amp;tmp_var);</span></span>
<span id="L6253" title="Line 6253: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6253</span>                 :<span class="tlaCBC">            211 :         accum_sum_add(&amp;numstate.sumX2, &amp;tmp_var);</span></span>
<span id="L6254" title="Line 6254: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6254</span>                 :                : </span>
<span id="L6255" title="Line 6255: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6255</span>                 :<span class="tlaCBC">            211 :         free_var(&amp;tmp_var);</span></span>
<span id="L6256" title="Line 6256: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6256</span>                 :                :     }</span>
<span id="L6257" title="Line 6257: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6257</span>                 :                : </span>
<span id="L6258" title="Line 6258: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> 3812 <a href="#L6271" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    6258</span>                 :<span class="tlaCBC">            211 :     res = numeric_stddev_internal(&amp;numstate, variance, sample, is_null);</span></span>
<span id="L6259" title="Line 6259: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6259</span>                 :                : </span>
<span id="L6260" title="Line 6260: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L7264" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    6260</span>         [<span class="tlaCBC"> <a href="#L6265" title="CBC: Branch 0 was taken 211 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6265" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            211 :     if (numstate.sumX.ndigits &gt; 0)</span></span>
<span id="L6261" title="Line 6261: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6261</span>                 :                :     {</span>
<span id="L6262" title="Line 6262: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6262</span>                 :<span class="tlaCBC">            211 :         pfree(numstate.sumX.pos_digits);</span></span>
<span id="L6263" title="Line 6263: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6263</span>                 :<span class="tlaCBC">            211 :         pfree(numstate.sumX.neg_digits);</span></span>
<span id="L6264" title="Line 6264: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6264</span>                 :                :     }</span>
<span id="L6265" title="Line 6265: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6265</span>         [<span class="tlaCBC"> <a href="#L6285" title="CBC: Branch 0 was taken 211 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6319" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            211 :     if (numstate.sumX2.ndigits &gt; 0)</span></span>
<span id="L6266" title="Line 6266: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6266</span>                 :                :     {</span>
<span id="L6267" title="Line 6267: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6267</span>                 :<span class="tlaCBC">            211 :         pfree(numstate.sumX2.pos_digits);</span></span>
<span id="L6268" title="Line 6268: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6268</span>                 :<span class="tlaCBC">            211 :         pfree(numstate.sumX2.neg_digits);</span></span>
<span id="L6269" title="Line 6269: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    6269</span>                 :                :     }</span>
<span id="L6270" title="Line 6270: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6270</span>                 :                : </span>
<span id="L6271" title="Line 6271: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> 3812 <a href="#L6283" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    6271</span>                 :<span class="tlaCBC">            211 :     return res;</span></span>
<span id="L6272" title="Line 6272: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6272</span>                 :                : }</span>
<span id="L6273" title="Line 6273: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6273</span>                 :                : </span>
<span id="L6274" title="Line 6274: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6274</span>                 :                : Datum</span>
<span id="L6275" title="Line 6275: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6275</span>                 :<span class="tlaCBC">             63 : numeric_poly_var_samp(PG_FUNCTION_ARGS)</span></span>
<span id="L6276" title="Line 6276: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6276</span>                 :                : {</span>
<span id="L6277" title="Line 6277: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6277</span>                 :                :     Int128AggState *state;</span>
<span id="L6278" title="Line 6278: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    6278</span>                 :                :     Numeric     res;</span>
<span id="L6279" title="Line 6279: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    6279</span>                 :                :     bool        is_null;</span>
<span id="L6280" title="Line 6280: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNumWithDelete" title="removed line 6530 from baseline version">    6280</span>                 :                : </span>
<span id="L6281" title="Line 6281: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L6298" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L6298" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    6281</span>         [<span class="tlaGNC"> <a href="#L6298" title="GNC: Branch 0 was taken 63 times" class="branchTla">+</a> </span><span class="tlaUNC"> <a href="#L6298" title="UNC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<a href="#L6298" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          63 :     state = PG_ARGISNULL(0) ? NULL : (Int128AggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L6282" title="Line 6282: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6282</span>                 :                : </span>
<span id="L6283" title="Line 6283: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L6300" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L6300" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    6283</span>                 :<a href="#L6300" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          63 :     res = numeric_poly_stddev_internal(state, true, true, &amp;is_null);</span></span>
<span id="L6284" title="Line 6284: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6284</span>                 :                : </span>
<span id="L6285" title="Line 6285: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6285</span>         [<span class="tlaCBC"> <a href="#L6302" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6302" title="CBC: Branch 1 was taken 51 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             63 :     if (is_null)</span></span>
<span id="L6286" title="Line 6286: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6286</span>                 :<span class="tlaCBC">             12 :         PG_RETURN_NULL();</span></span>
<span id="L6287" title="Line 6287: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6287</span>                 :                :     else</span>
<span id="L6288" title="Line 6288: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6288</span>                 :<span class="tlaCBC">             51 :         PG_RETURN_NUMERIC(res);</span></span>
<span id="L6289" title="Line 6289: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6289</span>                 :                : }</span>
<span id="L6290" title="Line 6290: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6290</span>                 :                : </span>
<span id="L6291" title="Line 6291: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6291</span>                 :                : Datum</span>
<span id="L6292" title="Line 6292: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6292</span>                 :<span class="tlaCBC">             82 : numeric_poly_stddev_samp(PG_FUNCTION_ARGS)</span></span>
<span id="L6293" title="Line 6293: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6293</span>                 :                : {</span>
<span id="L6294" title="Line 6294: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6294</span>                 :                :     Int128AggState *state;</span>
<span id="L6295" title="Line 6295: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    6295</span>                 :                :     Numeric     res;</span>
<span id="L6296" title="Line 6296: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    6296</span>                 :                :     bool        is_null;</span>
<span id="L6297" title="Line 6297: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNumWithDelete" title="removed line 6551 from baseline version">    6297</span>                 :                : </span>
<span id="L6298" title="Line 6298: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L6315" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L6315" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    6298</span>         [<span class="tlaGNC"> <a href="#L6315" title="GNC: Branch 0 was taken 82 times" class="branchTla">+</a> </span><span class="tlaUNC"> <a href="#L6315" title="UNC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<a href="#L6315" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          82 :     state = PG_ARGISNULL(0) ? NULL : (Int128AggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L6299" title="Line 6299: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6299</span>                 :                : </span>
<span id="L6300" title="Line 6300: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L6317" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L6317" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    6300</span>                 :<a href="#L6317" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          82 :     res = numeric_poly_stddev_internal(state, false, true, &amp;is_null);</span></span>
<span id="L6301" title="Line 6301: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6301</span>                 :                : </span>
<span id="L6302" title="Line 6302: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6302</span>         [<span class="tlaCBC"> <a href="#L6319" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6319" title="CBC: Branch 1 was taken 70 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             82 :     if (is_null)</span></span>
<span id="L6303" title="Line 6303: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6303</span>                 :<span class="tlaCBC">             12 :         PG_RETURN_NULL();</span></span>
<span id="L6304" title="Line 6304: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6304</span>                 :                :     else</span>
<span id="L6305" title="Line 6305: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6305</span>                 :<span class="tlaCBC">             70 :         PG_RETURN_NUMERIC(res);</span></span>
<span id="L6306" title="Line 6306: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6306</span>                 :                : }</span>
<span id="L6307" title="Line 6307: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6307</span>                 :                : </span>
<span id="L6308" title="Line 6308: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6308</span>                 :                : Datum</span>
<span id="L6309" title="Line 6309: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6309</span>                 :<span class="tlaCBC">             30 : numeric_poly_var_pop(PG_FUNCTION_ARGS)</span></span>
<span id="L6310" title="Line 6310: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6310</span>                 :                : {</span>
<span id="L6311" title="Line 6311: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6311</span>                 :                :     Int128AggState *state;</span>
<span id="L6312" title="Line 6312: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    6312</span>                 :                :     Numeric     res;</span>
<span id="L6313" title="Line 6313: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    6313</span>                 :                :     bool        is_null;</span>
<span id="L6314" title="Line 6314: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNumWithDelete" title="removed line 6572 from baseline version">    6314</span>                 :                : </span>
<span id="L6315" title="Line 6315: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L6332" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L6332" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    6315</span>         [<span class="tlaGNC"> <a href="#L6332" title="GNC: Branch 0 was taken 30 times" class="branchTla">+</a> </span><span class="tlaUNC"> <a href="#L6332" title="UNC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<a href="#L6332" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          30 :     state = PG_ARGISNULL(0) ? NULL : (Int128AggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L6316" title="Line 6316: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6316</span>                 :                : </span>
<span id="L6317" title="Line 6317: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L6322" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L6322" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    6317</span>                 :<a href="#L6322" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          30 :     res = numeric_poly_stddev_internal(state, true, false, &amp;is_null);</span></span>
<span id="L6318" title="Line 6318: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6318</span>                 :                : </span>
<span id="L6319" title="Line 6319: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6319</span>         [<span class="tlaUBC"> <a href="#L6336" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6336" title="CBC: Branch 1 was taken 30 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             30 :     if (is_null)</span></span>
<span id="L6320" title="Line 6320: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"><span title="andres@anarazel.de 3812 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6337" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3812</a> </span><a href="#L6337" title="next UBC in &ldquo;andres@anarazel.de&rdquo; bin" class="tlaBgUBC">andres@anarazel.de</a><span title="andres@anarazel.de 3812 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  </span> <span class="lineNum">    6320</span>                 :<a href="#L6337" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         PG_RETURN_NULL();</span></span>
<span id="L6321" title="Line 6321: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6321</span>                 :                :     else</span>
<span id="L6322" title="Line 6322: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L6334" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L6334" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    6322</span>                 :<a href="#L6334" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          30 :         PG_RETURN_NUMERIC(res);</span></span>
<span id="L6323" title="Line 6323: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6323</span>                 :                : }</span>
<span id="L6324" title="Line 6324: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6324</span>                 :                : </span>
<span id="L6325" title="Line 6325: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6325</span>                 :                : Datum</span>
<span id="L6326" title="Line 6326: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6326</span>                 :<span class="tlaCBC">             36 : numeric_poly_stddev_pop(PG_FUNCTION_ARGS)</span></span>
<span id="L6327" title="Line 6327: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6327</span>                 :                : {</span>
<span id="L6328" title="Line 6328: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6328</span>                 :                :     Int128AggState *state;</span>
<span id="L6329" title="Line 6329: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    6329</span>                 :                :     Numeric     res;</span>
<span id="L6330" title="Line 6330: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    6330</span>                 :                :     bool        is_null;</span>
<span id="L6331" title="Line 6331: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNumWithDelete" title="removed line 6593 from baseline version">    6331</span>                 :                : </span>
<span id="L6332" title="Line 6332: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L6378" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L8034" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    6332</span>         [<span class="tlaGNC"> <a href="#L6381" title="GNC: Branch 0 was taken 36 times" class="branchTla">+</a> </span><span class="tlaUNC"> <a href="#L6381" title="UNC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<a href="#L6378" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">          36 :     state = PG_ARGISNULL(0) ? NULL : (Int128AggState *) PG_GETARG_POINTER(0);</span></span>
<span id="L6333" title="Line 6333: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6333</span>                 :                : </span>
<span id="L6334" title="Line 6334: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L6339" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L6339" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    6334</span>                 :<a href="#L6339" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          36 :     res = numeric_poly_stddev_internal(state, false, false, &amp;is_null);</span></span>
<span id="L6335" title="Line 6335: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6335</span>                 :                : </span>
<span id="L6336" title="Line 6336: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6336</span>         [<span class="tlaUBC"> <a href="#L6371" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6368" title="CBC: Branch 1 was taken 36 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             36 :     if (is_null)</span></span>
<span id="L6337" title="Line 6337: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"><span title="andres@anarazel.de 3812 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6372" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3812</a> </span><a href="#top" title="next UBC in &ldquo;andres@anarazel.de&rdquo; bin" class="tlaBgUBC">andres@anarazel.de</a><span title="andres@anarazel.de 3812 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  </span> <span class="lineNum">    6337</span>                 :<a href="#L6372" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         PG_RETURN_NULL();</span></span>
<span id="L6338" title="Line 6338: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6338</span>                 :                :     else</span>
<span id="L6339" title="Line 6339: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L6374" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L7281" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    6339</span>                 :<a href="#L6374" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          36 :         PG_RETURN_NUMERIC(res);</span></span>
<span id="L6340" title="Line 6340: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6340</span>                 :                : }</span>
<span id="L6341" title="Line 6341: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    6341</span>                 :                : </span>
<span id="L6342" title="Line 6342: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6342</span>                 :                : /*</span>
<span id="L6343" title="Line 6343: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6343</span>                 :                :  * SUM transition functions for integer datatypes.</span>
<span id="L6344" title="Line 6344: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6344</span>                 :                :  *</span>
<span id="L6345" title="Line 6345: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6345</span>                 :                :  * To avoid overflow, we use accumulators wider than the input datatype.</span>
<span id="L6346" title="Line 6346: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6346</span>                 :                :  * A Numeric accumulator is needed for int8 input; for int4 and int2</span>
<span id="L6347" title="Line 6347: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6347</span>                 :                :  * inputs, we use int8 accumulators which should be sufficient for practical</span>
<span id="L6348" title="Line 6348: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6348</span>                 :                :  * purposes.  (The latter two therefore don't really belong in this file,</span>
<span id="L6349" title="Line 6349: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6349</span>                 :                :  * but we keep them here anyway.)</span>
<span id="L6350" title="Line 6350: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6350</span>                 :                :  *</span>
<span id="L6351" title="Line 6351: commit cc26ea9fe2e4 on 2013-04-20 by peter_e@gmx.net">                           <span class="lineNum">    6351</span>                 :                :  * Because SQL defines the SUM() of no values to be NULL, not zero,</span>
<span id="L6352" title="Line 6352: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6352</span>                 :                :  * the initial condition of the transition data value needs to be NULL. This</span>
<span id="L6353" title="Line 6353: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6353</span>                 :                :  * means we can't rely on ExecAgg to automatically insert the first non-null</span>
<span id="L6354" title="Line 6354: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6354</span>                 :                :  * data value into the transition data: it doesn't know how to do the type</span>
<span id="L6355" title="Line 6355: commit 0a7832005792 on 2014-05-06 by bruce@momjian.us">                           <span class="lineNum">    6355</span>                 :                :  * conversion.  The upshot is that these routines have to be marked non-strict</span>
<span id="L6356" title="Line 6356: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6356</span>                 :                :  * and handle substitution of the first non-null input themselves.</span>
<span id="L6357" title="Line 6357: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6357</span>                 :                :  *</span>
<span id="L6358" title="Line 6358: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6358</span>                 :                :  * Note: these functions are used only in plain aggregation mode.</span>
<span id="L6359" title="Line 6359: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6359</span>                 :                :  * In moving-aggregate mode, we use intX_avg_accum and intX_avg_accum_inv.</span>
<span id="L6360" title="Line 6360: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6360</span>                 :                :  */</span>
<span id="L6361" title="Line 6361: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6361</span>                 :                : </span>
<span id="L6362" title="Line 6362: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6362</span>                 :                : Datum</span>
<span id="L6363" title="Line 6363: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L6374" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6363</span>                 :<span class="tlaCBC">             12 : int2_sum(PG_FUNCTION_ARGS)</span></span>
<span id="L6364" title="Line 6364: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6364</span>                 :                : {</span>
<span id="L6365" title="Line 6365: commit ee54046601de on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6365</span>                 :                :     int64       oldsum;</span>
<span id="L6366" title="Line 6366: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6366</span>                 :                :     int64       newval;</span>
<span id="L6367" title="Line 6367: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6367</span>                 :                : </span>
<span id="L6368" title="Line 6368: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6368</span>         [<span class="tlaCBC"> <a href="#L6371" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6371" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             12 :     if (PG_ARGISNULL(0))</span></span>
<span id="L6369" title="Line 6369: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6369</span>                 :                :     {</span>
<span id="L6370" title="Line 6370: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6370</span>                 :                :         /* No non-null input seen so far... */</span>
<span id="L6371" title="Line 6371: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6371</span>         [<span class="tlaUBC"> <a href="#L6426" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6396" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              3 :         if (PG_ARGISNULL(1))</span></span>
<span id="L6372" title="Line 6372: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 9171 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6422" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">9171</a> </span><a href="#L6422" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 9171 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    6372</span>                 :<a href="#L6422" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             PG_RETURN_NULL();   /* still no non-null */</span></span>
<span id="L6373" title="Line 6373: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6373</span>                 :                :         /* This is the first non-null input. */</span>
<span id="L6374" title="Line 6374: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us"> <a href="#L6391" title="next CBC in &ldquo;(360..) days&rdquo; bin">8778</a> <a href="#L6391" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6374</span>                 :<a href="#L6391" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           3 :         newval = (int64) PG_GETARG_INT16(1);</span></span>
<span id="L6375" title="Line 6375: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6375</span>                 :<span class="tlaCBC">              3 :         PG_RETURN_INT64(newval);</span></span>
<span id="L6376" title="Line 6376: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6376</span>                 :                :     }</span>
<span id="L6377" title="Line 6377: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6377</span>                 :                : </span>
<span id="L6378" title="Line 6378: commit ee54046601de on 2025-08-13 by tgl@sss.pgh.pa.us">   <a href="#L6385" title="next GNC in &ldquo;(7,30] days&rdquo; bin">13</a> <a href="#L6385" title="next GNC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6378</span>                 :<a href="#L6385" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">           9 :     oldsum = PG_GETARG_INT64(0);</span></span>
<span id="L6379" title="Line 6379: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6379</span>                 :                : </span>
<span id="L6380" title="Line 6380: commit ee54046601de on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6380</span>                 :                :     /* Leave sum unchanged if new input is null. */</span>
<span id="L6381" title="Line 6381: commit ee54046601de on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6381</span>         [<span class="tlaUNC"> <a href="#top" title="UNC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaGNC"> <a href="#L6409" title="GNC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaGNC">              9 :     if (PG_ARGISNULL(1))</span></span>
<span id="L6382" title="Line 6382: commit ee54046601de on 2025-08-13 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 13 days ago (bin 2: (7,30] days)" class="tlaUNC tlaBgUNC">   <a href="#top" title="next UNC in &ldquo;(7,30] days&rdquo; bin" class="tlaBgUNC">13</a> </span><a href="#top" title="next UNC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUNC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 13 days ago (bin 2: (7,30] days)" class="tlaUNC tlaBgUNC">   </span> <span class="lineNum">    6382</span>                 :<a href="#top" class="tlaBgUNC"  title="Next UNC group">UNC</a><span class="tlaUNC tlaBgUNC">           0 :         PG_RETURN_INT64(oldsum);</span></span>
<span id="L6383" title="Line 6383: commit be2f825d5117 on 2005-04-06 by neilc@samurai.com">                           <span class="lineNumWithDelete" title="removed line 6662 from baseline version">    6383</span>                 :                : </span>
<span id="L6384" title="Line 6384: commit ee54046601de on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6384</span>                 :                :     /* OK to do the addition. */</span>
<span id="L6385" title="Line 6385: commit ee54046601de on 2025-08-13 by tgl@sss.pgh.pa.us">   <a href="#L6406" title="next GNC in &ldquo;(7,30] days&rdquo; bin">13</a> <a href="#L6406" title="next GNC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6385</span>                 :<a href="#L6406" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">           9 :     newval = oldsum + (int64) PG_GETARG_INT16(1);</span></span>
<span id="L6386" title="Line 6386: commit be2f825d5117 on 2005-04-06 by neilc@samurai.com">                           <span class="lineNumWithDelete" title="removed lines [6665:6671] from baseline version">    6386</span>                 :                : </span>
<span id="L6387" title="Line 6387: commit ee54046601de on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6387</span>                 :<span class="tlaGNC">              9 :     PG_RETURN_INT64(newval);</span></span>
<span id="L6388" title="Line 6388: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6388</span>                 :                : }</span>
<span id="L6389" title="Line 6389: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6389</span>                 :                : </span>
<span id="L6390" title="Line 6390: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6390</span>                 :                : Datum</span>
<span id="L6391" title="Line 6391: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> <a href="#L6470" title="next CBC in &ldquo;(360..) days&rdquo; bin">9171</a> <a href="#L6470" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6391</span>                 :<a href="#L6470" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">     1849078 : int4_sum(PG_FUNCTION_ARGS)</span></span>
<span id="L6392" title="Line 6392: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6392</span>                 :                : {</span>
<span id="L6393" title="Line 6393: commit ee54046601de on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6393</span>                 :                :     int64       oldsum;</span>
<span id="L6394" title="Line 6394: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6394</span>                 :                :     int64       newval;</span>
<span id="L6395" title="Line 6395: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6395</span>                 :                : </span>
<span id="L6396" title="Line 6396: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6396</span>         [<span class="tlaCBC"> <a href="#L6399" title="CBC: Branch 0 was taken 103775 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6399" title="CBC: Branch 1 was taken 1745303 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1849078 :     if (PG_ARGISNULL(0))</span></span>
<span id="L6397" title="Line 6397: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6397</span>                 :                :     {</span>
<span id="L6398" title="Line 6398: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6398</span>                 :                :         /* No non-null input seen so far... */</span>
<span id="L6399" title="Line 6399: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6399</span>         [<span class="tlaCBC"> <a href="#L6481" title="CBC: Branch 0 was taken 493 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6481" title="CBC: Branch 1 was taken 103282 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         103775 :         if (PG_ARGISNULL(1))</span></span>
<span id="L6400" title="Line 6400: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6400</span>                 :<span class="tlaCBC">            493 :             PG_RETURN_NULL();   /* still no non-null */</span></span>
<span id="L6401" title="Line 6401: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6401</span>                 :                :         /* This is the first non-null input. */</span>
<span id="L6402" title="Line 6402: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us"> 8778                      <span class="lineNum">    6402</span>                 :<span class="tlaCBC">         103282 :         newval = (int64) PG_GETARG_INT32(1);</span></span>
<span id="L6403" title="Line 6403: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6403</span>                 :<span class="tlaCBC">         103282 :         PG_RETURN_INT64(newval);</span></span>
<span id="L6404" title="Line 6404: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6404</span>                 :                :     }</span>
<span id="L6405" title="Line 6405: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6405</span>                 :                : </span>
<span id="L6406" title="Line 6406: commit ee54046601de on 2025-08-13 by tgl@sss.pgh.pa.us">   <a href="#L8034" title="next GNC in &ldquo;(7,30] days&rdquo; bin">13</a> <a href="#top" title="next GNC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6406</span>                 :<a href="#L8034" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">     1745303 :     oldsum = PG_GETARG_INT64(0);</span></span>
<span id="L6407" title="Line 6407: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6407</span>                 :                : </span>
<span id="L6408" title="Line 6408: commit ee54046601de on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6408</span>                 :                :     /* Leave sum unchanged if new input is null. */</span>
<span id="L6409" title="Line 6409: commit ee54046601de on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6409</span>         [<span class="tlaGNC"> <a href="#L8046" title="GNC: Branch 0 was taken 15437 times" class="branchTla">+</a> </span><span class="tlaGNC"> <a href="#L8046" title="GNC: Branch 1 was taken 1729866 times" class="branchTla">+</a> </span>]:<span class="tlaGNC">        1745303 :     if (PG_ARGISNULL(1))</span></span>
<span id="L6410" title="Line 6410: commit ee54046601de on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6410</span>                 :<span class="tlaGNC">          15437 :         PG_RETURN_INT64(oldsum);</span></span>
<span id="L6411" title="Line 6411: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNumWithDelete" title="removed line 6711 from baseline version">    6411</span>                 :                : </span>
<span id="L6412" title="Line 6412: commit ee54046601de on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6412</span>                 :                :     /* OK to do the addition. */</span>
<span id="L6413" title="Line 6413: commit ee54046601de on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6413</span>                 :<span class="tlaGNC">        1729866 :     newval = oldsum + (int64) PG_GETARG_INT32(1);</span></span>
<span id="L6414" title="Line 6414: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNumWithDelete" title="removed lines [6714:6720] from baseline version">    6414</span>                 :                : </span>
<span id="L6415" title="Line 6415: commit ee54046601de on 2025-08-13 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6415</span>                 :<span class="tlaGNC">        1729866 :     PG_RETURN_INT64(newval);</span></span>
<span id="L6416" title="Line 6416: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6416</span>                 :                : }</span>
<span id="L6417" title="Line 6417: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6417</span>                 :                : </span>
<span id="L6418" title="Line 6418: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6418</span>                 :                : /*</span>
<span id="L6419" title="Line 6419: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6419</span>                 :                :  * Note: this function is obsolete, it's no longer used for SUM(int8).</span>
<span id="L6420" title="Line 6420: commit 69c8fbac2016 on 2013-11-16 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6420</span>                 :                :  */</span>
<span id="L6421" title="Line 6421: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6421</span>                 :                : Datum</span>
<span id="L6422" title="Line 6422: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 9171 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6484" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">9171</a> </span><a href="#L6441" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 9171 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    6422</span>                 :<a href="#L6484" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 : int8_sum(PG_FUNCTION_ARGS)</span></span>
<span id="L6423" title="Line 6423: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6423</span>                 :                : {</span>
<span id="L6424" title="Line 6424: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6424</span>                 :                :     Numeric     oldsum;</span>
<span id="L6425" title="Line 6425: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6425</span>                 :                : </span>
<span id="L6426" title="Line 6426: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 9171 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    6426</span>         [<span class="tlaUBC"> <a href="#L6429" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L6429" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :     if (PG_ARGISNULL(0))</span></span>
<span id="L6427" title="Line 6427: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6427</span>                 :                :     {</span>
<span id="L6428" title="Line 6428: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6428</span>                 :                :         /* No non-null input seen so far... */</span>
<span id="L6429" title="Line 6429: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 9171 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    6429</span>         [<span class="tlaUBC"> <a href="#L6444" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L6444" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :         if (PG_ARGISNULL(1))</span></span>
<span id="L6430" title="Line 6430: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 9171 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    6430</span>                 :<span class="tlaUBC">              0 :             PG_RETURN_NULL();   /* still no non-null */</span></span>
<span id="L6431" title="Line 6431: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6431</span>                 :                :         /* This is the first non-null input. */</span>
<span id="L6432" title="Line 6432: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org"><span title="peter@eisentraut.org 1812 days ago (bin 4: (360..) days)" class="tlaUBC"> 1812 <a href="#top" title="next UBC in &ldquo;peter@eisentraut.org&rdquo; bin" class="tlaBgUBC">peter@eisentraut.org</a></span> <span class="lineNum">    6432</span>                 :<span class="tlaUBC">              0 :         PG_RETURN_NUMERIC(int64_to_numeric(PG_GETARG_INT64(1)));</span></span>
<span id="L6433" title="Line 6433: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6433</span>                 :                :     }</span>
<span id="L6434" title="Line 6434: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6434</span>                 :                : </span>
<span id="L6435" title="Line 6435: commit be2f825d5117 on 2005-04-06 by neilc@samurai.com">                           <span class="lineNum">    6435</span>                 :                :     /*</span>
<span id="L6436" title="Line 6436: commit d5768dce1057 on 2010-02-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6436</span>                 :                :      * Note that we cannot special-case the aggregate case here, as we do for</span>
<span id="L6437" title="Line 6437: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    6437</span>                 :                :      * int2_sum and int4_sum: numeric is of variable size, so we cannot modify</span>
<span id="L6438" title="Line 6438: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    6438</span>                 :                :      * our first parameter in-place.</span>
<span id="L6439" title="Line 6439: commit be2f825d5117 on 2005-04-06 by neilc@samurai.com">                           <span class="lineNum">    6439</span>                 :                :      */</span>
<span id="L6440" title="Line 6440: commit be2f825d5117 on 2005-04-06 by neilc@samurai.com">                           <span class="lineNum">    6440</span>                 :                : </span>
<span id="L6441" title="Line 6441: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 9171 days ago (bin 4: (360..) days)" class="tlaUBC"> 9171 </span><a href="#L6488" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 9171 days ago (bin 4: (360..) days)" class="tlaUBC">   </span> <span class="lineNum">    6441</span>                 :<span class="tlaUBC">              0 :     oldsum = PG_GETARG_NUMERIC(0);</span></span>
<span id="L6442" title="Line 6442: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6442</span>                 :                : </span>
<span id="L6443" title="Line 6443: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6443</span>                 :                :     /* Leave sum unchanged if new input is null. */</span>
<span id="L6444" title="Line 6444: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 9171 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    6444</span>         [<span class="tlaUBC"> <a href="#L6481" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L6481" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :     if (PG_ARGISNULL(1))</span></span>
<span id="L6445" title="Line 6445: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 9171 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    6445</span>                 :<span class="tlaUBC">              0 :         PG_RETURN_NUMERIC(oldsum);</span></span>
<span id="L6446" title="Line 6446: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6446</span>                 :                : </span>
<span id="L6447" title="Line 6447: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6447</span>                 :                :     /* OK to do the addition. */</span>
<span id="L6448" title="Line 6448: commit 1ebe1da29641 on 2000-07-29 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 9159 days ago (bin 4: (360..) days)" class="tlaUBC"> 9159                     </span> <span class="lineNum">    6448</span>                 :<span class="tlaUBC">              0 :     PG_RETURN_DATUM(DirectFunctionCall2(numeric_add,</span></span>
<span id="L6449" title="Line 6449: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org">                           <span class="lineNum">    6449</span>                 :                :                                         NumericGetDatum(oldsum),</span>
<span id="L6450" title="Line 6450: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org">                           <span class="lineNum">    6450</span>                 :                :                                         NumericGetDatum(int64_to_numeric(PG_GETARG_INT64(1)))));</span>
<span id="L6451" title="Line 6451: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6451</span>                 :                : }</span>
<span id="L6452" title="Line 6452: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6452</span>                 :                : </span>
<span id="L6453" title="Line 6453: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6453</span>                 :                : </span>
<span id="L6454" title="Line 6454: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6454</span>                 :                : /*</span>
<span id="L6455" title="Line 6455: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6455</span>                 :                :  * Routines for avg(int2) and avg(int4).  The transition datatype</span>
<span id="L6456" title="Line 6456: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6456</span>                 :                :  * is a two-element int8 array, holding count and sum.</span>
<span id="L6457" title="Line 6457: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6457</span>                 :                :  *</span>
<span id="L6458" title="Line 6458: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6458</span>                 :                :  * These functions are also used for sum(int2) and sum(int4) when</span>
<span id="L6459" title="Line 6459: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6459</span>                 :                :  * operating in moving-aggregate mode, since for correct inverse transitions</span>
<span id="L6460" title="Line 6460: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6460</span>                 :                :  * we need to count the inputs.</span>
<span id="L6461" title="Line 6461: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6461</span>                 :                :  */</span>
<span id="L6462" title="Line 6462: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6462</span>                 :                : </span>
<span id="L6463" title="Line 6463: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6463</span>                 :                : typedef struct Int8TransTypeData</span>
<span id="L6464" title="Line 6464: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6464</span>                 :                : {</span>
<span id="L6465" title="Line 6465: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6465</span>                 :                :     int64       count;</span>
<span id="L6466" title="Line 6466: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6466</span>                 :                :     int64       sum;</span>
<span id="L6467" title="Line 6467: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6467</span>                 :                : } Int8TransTypeData;</span>
<span id="L6468" title="Line 6468: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6468</span>                 :                : </span>
<span id="L6469" title="Line 6469: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6469</span>                 :                : Datum</span>
<span id="L6470" title="Line 6470: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us"> <a href="#L6486" title="next CBC in &ldquo;(360..) days&rdquo; bin">8778</a> <a href="#L6486" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6470</span>                 :<a href="#L6486" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          21 : int2_avg_accum(PG_FUNCTION_ARGS)</span></span>
<span id="L6471" title="Line 6471: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6471</span>                 :                : {</span>
<span id="L6472" title="Line 6472: commit 51b2f8ba5593 on 2005-04-04 by neilc@samurai.com">                           <span class="lineNum">    6472</span>                 :                :     ArrayType  *transarray;</span>
<span id="L6473" title="Line 6473: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6473</span>                 :<span class="tlaCBC">             21 :     int16       newval = PG_GETARG_INT16(1);</span></span>
<span id="L6474" title="Line 6474: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6474</span>                 :                :     Int8TransTypeData *transdata;</span>
<span id="L6475" title="Line 6475: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6475</span>                 :                : </span>
<span id="L6476" title="Line 6476: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6476</span>                 :                :     /*</span>
<span id="L6477" title="Line 6477: commit d5768dce1057 on 2010-02-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6477</span>                 :                :      * If we're invoked as an aggregate, we can cheat and modify our first</span>
<span id="L6478" title="Line 6478: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    6478</span>                 :                :      * parameter in-place to reduce palloc overhead. Otherwise we need to make</span>
<span id="L6479" title="Line 6479: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    6479</span>                 :                :      * a copy of it before scribbling on it.</span>
<span id="L6480" title="Line 6480: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6480</span>                 :                :      */</span>
<span id="L6481" title="Line 6481: commit d5768dce1057 on 2010-02-08 by tgl@sss.pgh.pa.us"> 5678                      <span class="lineNum">    6481</span>         [<span class="tlaCBC"> <a href="#L6486" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6486" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             21 :     if (AggCheckCallContext(fcinfo, NULL))</span></span>
<span id="L6482" title="Line 6482: commit 51b2f8ba5593 on 2005-04-04 by neilc@samurai.com"> 7449 <a href="#L6490" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    6482</span>                 :<span class="tlaCBC">             21 :         transarray = PG_GETARG_ARRAYTYPE_P(0);</span></span>
<span id="L6483" title="Line 6483: commit 51b2f8ba5593 on 2005-04-04 by neilc@samurai.com">                           <span class="lineNum">    6483</span>                 :                :     else</span>
<span id="L6484" title="Line 6484: commit 51b2f8ba5593 on 2005-04-04 by neilc@samurai.com"><span title="neilc@samurai.com 7449 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6488" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">7449</a> </span><a href="#L6512" title="next UBC in &ldquo;neilc@samurai.com&rdquo; bin" class="tlaBgUBC">neilc@samurai.com</a><span title="neilc@samurai.com 7449 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    6484</span>                 :<a href="#L6488" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         transarray = PG_GETARG_ARRAYTYPE_P_COPY(0);</span></span>
<span id="L6485" title="Line 6485: commit 51b2f8ba5593 on 2005-04-04 by neilc@samurai.com">                           <span class="lineNum">    6485</span>                 :                : </span>
<span id="L6486" title="Line 6486: commit cecb6075594a on 2005-11-17 by tgl@sss.pgh.pa.us"> <a href="#L6490" title="next CBC in &ldquo;(360..) days&rdquo; bin">7222</a> <a href="#L6491" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6486</span>   [<span class="tlaCBC"> <a href="#L6490" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6488" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUIC"> <a href="#L6514" title="UIC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaGIC"> <a href="#L6514" title="GIC: Branch 3 was taken 21 times" class="branchTla">+</a> </span>]:<a href="#L6490" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          42 :     if (ARR_HASNULL(transarray) ||</span></span>
<span id="L6487" title="Line 6487: commit cecb6075594a on 2005-11-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6487</span>         [<span class="tlaEUB"> <a href="#L6515" title="EUB: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaECB"> <a href="#L6515" title="ECB: Branch 1 was taken 21 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             21 :         ARR_SIZE(transarray) != ARR_OVERHEAD_NONULLS(1) + sizeof(Int8TransTypeData))</span></span>
<span id="L6488" title="Line 6488: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 8066 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6512" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">8066</a> </span><a href="#L6516" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 8066 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    6488</span>         [<span class="tlaUBC"> <a href="#L6490" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L6490" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L6512" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;expected 2-element int8 array&quot;);</span></span>
<span id="L6489" title="Line 6489: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6489</span>                 :                : </span>
<span id="L6490" title="Line 6490: commit 51b2f8ba5593 on 2005-04-04 by neilc@samurai.com"> <a href="#L6514" title="next CBC in &ldquo;(360..) days&rdquo; bin">7449</a> <a href="#L6510" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    6490</span>         [<span class="tlaUBC"> <a href="#L6509" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6509" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span>]:<a href="#L6514" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          21 :     transdata = (Int8TransTypeData *) ARR_DATA_PTR(transarray);</span></span>
<span id="L6491" title="Line 6491: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us"> 8778 <a href="#L6514" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6491</span>                 :<span class="tlaCBC">             21 :     transdata-&gt;count++;</span></span>
<span id="L6492" title="Line 6492: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6492</span>                 :<span class="tlaCBC">             21 :     transdata-&gt;sum += newval;</span></span>
<span id="L6493" title="Line 6493: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6493</span>                 :                : </span>
<span id="L6494" title="Line 6494: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6494</span>                 :<span class="tlaCBC">             21 :     PG_RETURN_ARRAYTYPE_P(transarray);</span></span>
<span id="L6495" title="Line 6495: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6495</span>                 :                : }</span>
<span id="L6496" title="Line 6496: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6496</span>                 :                : </span>
<span id="L6497" title="Line 6497: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6497</span>                 :                : Datum</span>
<span id="L6498" title="Line 6498: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6498</span>                 :<span class="tlaCBC">        1310151 : int4_avg_accum(PG_FUNCTION_ARGS)</span></span>
<span id="L6499" title="Line 6499: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6499</span>                 :                : {</span>
<span id="L6500" title="Line 6500: commit 51b2f8ba5593 on 2005-04-04 by neilc@samurai.com">                           <span class="lineNum">    6500</span>                 :                :     ArrayType  *transarray;</span>
<span id="L6501" title="Line 6501: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6501</span>                 :<span class="tlaCBC">        1310151 :     int32       newval = PG_GETARG_INT32(1);</span></span>
<span id="L6502" title="Line 6502: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6502</span>                 :                :     Int8TransTypeData *transdata;</span>
<span id="L6503" title="Line 6503: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6503</span>                 :                : </span>
<span id="L6504" title="Line 6504: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6504</span>                 :                :     /*</span>
<span id="L6505" title="Line 6505: commit d5768dce1057 on 2010-02-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6505</span>                 :                :      * If we're invoked as an aggregate, we can cheat and modify our first</span>
<span id="L6506" title="Line 6506: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    6506</span>                 :                :      * parameter in-place to reduce palloc overhead. Otherwise we need to make</span>
<span id="L6507" title="Line 6507: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    6507</span>                 :                :      * a copy of it before scribbling on it.</span>
<span id="L6508" title="Line 6508: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6508</span>                 :                :      */</span>
<span id="L6509" title="Line 6509: commit d5768dce1057 on 2010-02-08 by tgl@sss.pgh.pa.us"> 5678                      <span class="lineNum">    6509</span>         [<span class="tlaCBC"> <a href="#L6514" title="CBC: Branch 0 was taken 1310151 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6514" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">        1310151 :     if (AggCheckCallContext(fcinfo, NULL))</span></span>
<span id="L6510" title="Line 6510: commit 51b2f8ba5593 on 2005-04-04 by neilc@samurai.com"> 7449 <a href="#L6518" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    6510</span>                 :<span class="tlaCBC">        1310151 :         transarray = PG_GETARG_ARRAYTYPE_P(0);</span></span>
<span id="L6511" title="Line 6511: commit 51b2f8ba5593 on 2005-04-04 by neilc@samurai.com">                           <span class="lineNum">    6511</span>                 :                :     else</span>
<span id="L6512" title="Line 6512: commit 51b2f8ba5593 on 2005-04-04 by neilc@samurai.com"><span title="neilc@samurai.com 7449 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6516" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">7449</a> </span><a href="#top" title="next UBC in &ldquo;neilc@samurai.com&rdquo; bin" class="tlaBgUBC">neilc@samurai.com</a><span title="neilc@samurai.com 7449 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    6512</span>                 :<a href="#L6516" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         transarray = PG_GETARG_ARRAYTYPE_P_COPY(0);</span></span>
<span id="L6513" title="Line 6513: commit 51b2f8ba5593 on 2005-04-04 by neilc@samurai.com">                           <span class="lineNum">    6513</span>                 :                : </span>
<span id="L6514" title="Line 6514: commit cecb6075594a on 2005-11-17 by tgl@sss.pgh.pa.us"> <a href="#L6518" title="next CBC in &ldquo;(360..) days&rdquo; bin">7222</a> <a href="#L6519" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6514</span>   [<span class="tlaCBC"> <a href="#L6518" title="CBC: Branch 0 was taken 1310151 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6516" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUIC"> <a href="#L6539" title="UIC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaGIC"> <a href="#L6539" title="GIC: Branch 3 was taken 1310151 times" class="branchTla">+</a> </span>]:<a href="#L6518" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">     2620302 :     if (ARR_HASNULL(transarray) ||</span></span>
<span id="L6515" title="Line 6515: commit cecb6075594a on 2005-11-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6515</span>         [<span class="tlaEUB"> <a href="#L6540" title="EUB: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaECB"> <a href="#L6540" title="ECB: Branch 1 was taken 1310151 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1310151 :         ARR_SIZE(transarray) != ARR_OVERHEAD_NONULLS(1) + sizeof(Int8TransTypeData))</span></span>
<span id="L6516" title="Line 6516: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 8066 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6534" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">8066</a> </span><a href="#L6571" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 8066 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    6516</span>         [<span class="tlaUBC"> <a href="#L6518" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L6518" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L6534" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;expected 2-element int8 array&quot;);</span></span>
<span id="L6517" title="Line 6517: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6517</span>                 :                : </span>
<span id="L6518" title="Line 6518: commit 51b2f8ba5593 on 2005-04-04 by neilc@samurai.com"> <a href="#L6536" title="next CBC in &ldquo;(360..) days&rdquo; bin">7449</a> <a href="#L7293" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    6518</span>         [<span class="tlaUBC"> <a href="#L6533" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6533" title="CBC: Branch 1 was taken 1310151 times" class="branchTla">+</a> </span>]:<a href="#L6536" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">     1310151 :     transdata = (Int8TransTypeData *) ARR_DATA_PTR(transarray);</span></span>
<span id="L6519" title="Line 6519: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us"> 8778 <a href="#L6557" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6519</span>                 :<span class="tlaCBC">        1310151 :     transdata-&gt;count++;</span></span>
<span id="L6520" title="Line 6520: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6520</span>                 :<span class="tlaCBC">        1310151 :     transdata-&gt;sum += newval;</span></span>
<span id="L6521" title="Line 6521: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6521</span>                 :                : </span>
<span id="L6522" title="Line 6522: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6522</span>                 :<span class="tlaCBC">        1310151 :     PG_RETURN_ARRAYTYPE_P(transarray);</span></span>
<span id="L6523" title="Line 6523: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6523</span>                 :                : }</span>
<span id="L6524" title="Line 6524: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6524</span>                 :                : </span>
<span id="L6525" title="Line 6525: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6525</span>                 :                : Datum</span>
<span id="L6526" title="Line 6526: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> 3430 <a href="#L6536" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    6526</span>                 :<span class="tlaCBC">           2227 : int4_avg_combine(PG_FUNCTION_ARGS)</span></span>
<span id="L6527" title="Line 6527: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6527</span>                 :                : {</span>
<span id="L6528" title="Line 6528: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6528</span>                 :                :     ArrayType  *transarray1;</span>
<span id="L6529" title="Line 6529: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6529</span>                 :                :     ArrayType  *transarray2;</span>
<span id="L6530" title="Line 6530: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6530</span>                 :                :     Int8TransTypeData *state1;</span>
<span id="L6531" title="Line 6531: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6531</span>                 :                :     Int8TransTypeData *state2;</span>
<span id="L6532" title="Line 6532: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6532</span>                 :                : </span>
<span id="L6533" title="Line 6533: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6533</span>         [<span class="tlaUBC"> <a href="#L6534" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6539" title="CBC: Branch 1 was taken 2227 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2227 :     if (!AggCheckCallContext(fcinfo, NULL))</span></span>
<span id="L6534" title="Line 6534: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6541" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L6541" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    6534</span>         [<span class="tlaUBC"> <a href="#L6539" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L6539" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L6541" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;aggregate function called in non-aggregate context&quot;);</span></span>
<span id="L6535" title="Line 6535: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6535</span>                 :                : </span>
<span id="L6536" title="Line 6536: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L6543" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L6543" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    6536</span>                 :<a href="#L6543" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        2227 :     transarray1 = PG_GETARG_ARRAYTYPE_P(0);</span></span>
<span id="L6537" title="Line 6537: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6537</span>                 :<span class="tlaCBC">           2227 :     transarray2 = PG_GETARG_ARRAYTYPE_P(1);</span></span>
<span id="L6538" title="Line 6538: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6538</span>                 :                : </span>
<span id="L6539" title="Line 6539: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6539</span>   [<span class="tlaCBC"> <a href="#L6543" title="CBC: Branch 0 was taken 2227 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6541" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUIC"> <a href="#L6543" title="UIC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaGIC"> <a href="#L6543" title="GIC: Branch 3 was taken 2227 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           4454 :     if (ARR_HASNULL(transarray1) ||</span></span>
<span id="L6540" title="Line 6540: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6540</span>         [<span class="tlaEUB"> <a href="#L6544" title="EUB: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaECB"> <a href="#L6544" title="ECB: Branch 1 was taken 2206 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2227 :         ARR_SIZE(transarray1) != ARR_OVERHEAD_NONULLS(1) + sizeof(Int8TransTypeData))</span></span>
<span id="L6541" title="Line 6541: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6545" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#L6545" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    6541</span>         [<span class="tlaUBC"> <a href="#L6543" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L6543" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L6545" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;expected 2-element int8 array&quot;);</span></span>
<span id="L6542" title="Line 6542: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6542</span>                 :                : </span>
<span id="L6543" title="Line 6543: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L6547" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L6547" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    6543</span>   [<span class="tlaCBC"> <a href="#L6547" title="CBC: Branch 0 was taken 2227 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6545" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUIC"> <a href="#L6573" title="UIC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaGIC"> <a href="#L6573" title="GIC: Branch 3 was taken 2227 times" class="branchTla">+</a> </span>]:<a href="#L6547" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        4454 :     if (ARR_HASNULL(transarray2) ||</span></span>
<span id="L6544" title="Line 6544: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6544</span>         [<span class="tlaEUB"> <a href="#L6574" title="EUB: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaECB"> <a href="#L6574" title="ECB: Branch 1 was taken 2206 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2227 :         ARR_SIZE(transarray2) != ARR_OVERHEAD_NONULLS(1) + sizeof(Int8TransTypeData))</span></span>
<span id="L6545" title="Line 6545: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"><span title="rhaas@postgresql.org 3430 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6571" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3430</a> <a href="#top" title="next UBC in &ldquo;rhaas@postgresql.org&rdquo; bin" class="tlaBgUBC">rhaas@postgresql.org</a></span> <span class="lineNum">    6545</span>         [<span class="tlaUBC"> <a href="#L6547" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L6547" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L6571" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;expected 2-element int8 array&quot;);</span></span>
<span id="L6546" title="Line 6546: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6546</span>                 :                : </span>
<span id="L6547" title="Line 6547: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org"> <a href="#L6573" title="next CBC in &ldquo;(360..) days&rdquo; bin">3430</a> <a href="#L7241" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    6547</span>         [<span class="tlaUBC"> <a href="#L6548" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6548" title="CBC: Branch 1 was taken 2227 times" class="branchTla">+</a> </span>]:<a href="#L6573" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        2227 :     state1 = (Int8TransTypeData *) ARR_DATA_PTR(transarray1);</span></span>
<span id="L6548" title="Line 6548: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6548</span>         [<span class="tlaUBC"> <a href="#L6568" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6568" title="CBC: Branch 1 was taken 2227 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2227 :     state2 = (Int8TransTypeData *) ARR_DATA_PTR(transarray2);</span></span>
<span id="L6549" title="Line 6549: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6549</span>                 :                : </span>
<span id="L6550" title="Line 6550: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6550</span>                 :<span class="tlaCBC">           2227 :     state1-&gt;count += state2-&gt;count;</span></span>
<span id="L6551" title="Line 6551: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6551</span>                 :<span class="tlaCBC">           2227 :     state1-&gt;sum += state2-&gt;sum;</span></span>
<span id="L6552" title="Line 6552: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6552</span>                 :                : </span>
<span id="L6553" title="Line 6553: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6553</span>                 :<span class="tlaCBC">           2227 :     PG_RETURN_ARRAYTYPE_P(transarray1);</span></span>
<span id="L6554" title="Line 6554: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6554</span>                 :                : }</span>
<span id="L6555" title="Line 6555: commit 11c8669c0cc7 on 2016-04-05 by rhaas@postgresql.org">                           <span class="lineNum">    6555</span>                 :                : </span>
<span id="L6556" title="Line 6556: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6556</span>                 :                : Datum</span>
<span id="L6557" title="Line 6557: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> 4154 <a href="#L6573" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6557</span>                 :<span class="tlaCBC">              6 : int2_avg_accum_inv(PG_FUNCTION_ARGS)</span></span>
<span id="L6558" title="Line 6558: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6558</span>                 :                : {</span>
<span id="L6559" title="Line 6559: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6559</span>                 :                :     ArrayType  *transarray;</span>
<span id="L6560" title="Line 6560: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6560</span>                 :<span class="tlaCBC">              6 :     int16       newval = PG_GETARG_INT16(1);</span></span>
<span id="L6561" title="Line 6561: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6561</span>                 :                :     Int8TransTypeData *transdata;</span>
<span id="L6562" title="Line 6562: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6562</span>                 :                : </span>
<span id="L6563" title="Line 6563: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6563</span>                 :                :     /*</span>
<span id="L6564" title="Line 6564: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6564</span>                 :                :      * If we're invoked as an aggregate, we can cheat and modify our first</span>
<span id="L6565" title="Line 6565: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6565</span>                 :                :      * parameter in-place to reduce palloc overhead. Otherwise we need to make</span>
<span id="L6566" title="Line 6566: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6566</span>                 :                :      * a copy of it before scribbling on it.</span>
<span id="L6567" title="Line 6567: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6567</span>                 :                :      */</span>
<span id="L6568" title="Line 6568: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6568</span>         [<span class="tlaCBC"> <a href="#L6573" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6573" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              6 :     if (AggCheckCallContext(fcinfo, NULL))</span></span>
<span id="L6569" title="Line 6569: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6569</span>                 :<span class="tlaCBC">              6 :         transarray = PG_GETARG_ARRAYTYPE_P(0);</span></span>
<span id="L6570" title="Line 6570: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6570</span>                 :                :     else</span>
<span id="L6571" title="Line 6571: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6575" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">4154</a> </span><a href="#L6575" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    6571</span>                 :<a href="#L6575" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         transarray = PG_GETARG_ARRAYTYPE_P_COPY(0);</span></span>
<span id="L6572" title="Line 6572: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6572</span>                 :                : </span>
<span id="L6573" title="Line 6573: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L6577" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L6577" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6573</span>   [<span class="tlaCBC"> <a href="#L6577" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6575" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUIC"> <a href="#L6601" title="UIC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaGIC"> <a href="#L6601" title="GIC: Branch 3 was taken 6 times" class="branchTla">+</a> </span>]:<a href="#L6577" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          12 :     if (ARR_HASNULL(transarray) ||</span></span>
<span id="L6574" title="Line 6574: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6574</span>         [<span class="tlaEUB"> <a href="#L6602" title="EUB: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaECB"> <a href="#L6602" title="ECB: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              6 :         ARR_SIZE(transarray) != ARR_OVERHEAD_NONULLS(1) + sizeof(Int8TransTypeData))</span></span>
<span id="L6575" title="Line 6575: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6599" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">4154</a> </span><a href="#L6599" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    6575</span>         [<span class="tlaUBC"> <a href="#L6577" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L6577" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L6599" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;expected 2-element int8 array&quot;);</span></span>
<span id="L6576" title="Line 6576: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6576</span>                 :                : </span>
<span id="L6577" title="Line 6577: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L6601" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L6601" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6577</span>         [<span class="tlaUBC"> <a href="#L6596" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6596" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<a href="#L6601" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           6 :     transdata = (Int8TransTypeData *) ARR_DATA_PTR(transarray);</span></span>
<span id="L6578" title="Line 6578: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6578</span>                 :<span class="tlaCBC">              6 :     transdata-&gt;count--;</span></span>
<span id="L6579" title="Line 6579: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6579</span>                 :<span class="tlaCBC">              6 :     transdata-&gt;sum -= newval;</span></span>
<span id="L6580" title="Line 6580: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6580</span>                 :                : </span>
<span id="L6581" title="Line 6581: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6581</span>                 :<span class="tlaCBC">              6 :     PG_RETURN_ARRAYTYPE_P(transarray);</span></span>
<span id="L6582" title="Line 6582: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6582</span>                 :                : }</span>
<span id="L6583" title="Line 6583: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6583</span>                 :                : </span>
<span id="L6584" title="Line 6584: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6584</span>                 :                : Datum</span>
<span id="L6585" title="Line 6585: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6585</span>                 :<span class="tlaCBC">            726 : int4_avg_accum_inv(PG_FUNCTION_ARGS)</span></span>
<span id="L6586" title="Line 6586: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6586</span>                 :                : {</span>
<span id="L6587" title="Line 6587: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6587</span>                 :                :     ArrayType  *transarray;</span>
<span id="L6588" title="Line 6588: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6588</span>                 :<span class="tlaCBC">            726 :     int32       newval = PG_GETARG_INT32(1);</span></span>
<span id="L6589" title="Line 6589: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6589</span>                 :                :     Int8TransTypeData *transdata;</span>
<span id="L6590" title="Line 6590: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6590</span>                 :                : </span>
<span id="L6591" title="Line 6591: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6591</span>                 :                :     /*</span>
<span id="L6592" title="Line 6592: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6592</span>                 :                :      * If we're invoked as an aggregate, we can cheat and modify our first</span>
<span id="L6593" title="Line 6593: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6593</span>                 :                :      * parameter in-place to reduce palloc overhead. Otherwise we need to make</span>
<span id="L6594" title="Line 6594: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6594</span>                 :                :      * a copy of it before scribbling on it.</span>
<span id="L6595" title="Line 6595: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6595</span>                 :                :      */</span>
<span id="L6596" title="Line 6596: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6596</span>         [<span class="tlaCBC"> <a href="#L6601" title="CBC: Branch 0 was taken 726 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6601" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            726 :     if (AggCheckCallContext(fcinfo, NULL))</span></span>
<span id="L6597" title="Line 6597: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6597</span>                 :<span class="tlaCBC">            726 :         transarray = PG_GETARG_ARRAYTYPE_P(0);</span></span>
<span id="L6598" title="Line 6598: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6598</span>                 :                :     else</span>
<span id="L6599" title="Line 6599: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6603" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">4154</a> </span><a href="#L6603" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    6599</span>                 :<a href="#L6603" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         transarray = PG_GETARG_ARRAYTYPE_P_COPY(0);</span></span>
<span id="L6600" title="Line 6600: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6600</span>                 :                : </span>
<span id="L6601" title="Line 6601: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L6605" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L6605" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6601</span>   [<span class="tlaCBC"> <a href="#L6605" title="CBC: Branch 0 was taken 726 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6603" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUIC"> <a href="#L6620" title="UIC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaGIC"> <a href="#L6620" title="GIC: Branch 3 was taken 726 times" class="branchTla">+</a> </span>]:<a href="#L6605" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        1452 :     if (ARR_HASNULL(transarray) ||</span></span>
<span id="L6602" title="Line 6602: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6602</span>         [<span class="tlaEUB"> <a href="#L6621" title="EUB: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaECB"> <a href="#L6621" title="ECB: Branch 1 was taken 726 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            726 :         ARR_SIZE(transarray) != ARR_OVERHEAD_NONULLS(1) + sizeof(Int8TransTypeData))</span></span>
<span id="L6603" title="Line 6603: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6622" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">4154</a> </span><a href="#L6622" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    6603</span>         [<span class="tlaUBC"> <a href="#L6605" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L6605" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L6622" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;expected 2-element int8 array&quot;);</span></span>
<span id="L6604" title="Line 6604: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6604</span>                 :                : </span>
<span id="L6605" title="Line 6605: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L6623" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L6623" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6605</span>         [<span class="tlaUBC"> <a href="#L6620" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6620" title="CBC: Branch 1 was taken 726 times" class="branchTla">+</a> </span>]:<a href="#L6623" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         726 :     transdata = (Int8TransTypeData *) ARR_DATA_PTR(transarray);</span></span>
<span id="L6606" title="Line 6606: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6606</span>                 :<span class="tlaCBC">            726 :     transdata-&gt;count--;</span></span>
<span id="L6607" title="Line 6607: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6607</span>                 :<span class="tlaCBC">            726 :     transdata-&gt;sum -= newval;</span></span>
<span id="L6608" title="Line 6608: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6608</span>                 :                : </span>
<span id="L6609" title="Line 6609: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6609</span>                 :<span class="tlaCBC">            726 :     PG_RETURN_ARRAYTYPE_P(transarray);</span></span>
<span id="L6610" title="Line 6610: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6610</span>                 :                : }</span>
<span id="L6611" title="Line 6611: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6611</span>                 :                : </span>
<span id="L6612" title="Line 6612: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6612</span>                 :                : Datum</span>
<span id="L6613" title="Line 6613: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us"> 8778                      <span class="lineNum">    6613</span>                 :<span class="tlaCBC">           5387 : int8_avg(PG_FUNCTION_ARGS)</span></span>
<span id="L6614" title="Line 6614: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6614</span>                 :                : {</span>
<span id="L6615" title="Line 6615: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6615</span>                 :<span class="tlaCBC">           5387 :     ArrayType  *transarray = PG_GETARG_ARRAYTYPE_P(0);</span></span>
<span id="L6616" title="Line 6616: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6616</span>                 :                :     Int8TransTypeData *transdata;</span>
<span id="L6617" title="Line 6617: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6617</span>                 :                :     Datum       countd,</span>
<span id="L6618" title="Line 6618: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6618</span>                 :                :                 sumd;</span>
<span id="L6619" title="Line 6619: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6619</span>                 :                : </span>
<span id="L6620" title="Line 6620: commit cecb6075594a on 2005-11-17 by tgl@sss.pgh.pa.us"> 7222                      <span class="lineNum">    6620</span>   [<span class="tlaCBC"> <a href="#L6623" title="CBC: Branch 0 was taken 5387 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6622" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUIC"> <a href="#L6645" title="UIC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaGIC"> <a href="#L6645" title="GIC: Branch 3 was taken 5387 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          10774 :     if (ARR_HASNULL(transarray) ||</span></span>
<span id="L6621" title="Line 6621: commit cecb6075594a on 2005-11-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6621</span>         [<span class="tlaEUB"> <a href="#L6646" title="EUB: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaECB"> <a href="#L6646" title="ECB: Branch 1 was taken 5387 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           5387 :         ARR_SIZE(transarray) != ARR_OVERHEAD_NONULLS(1) + sizeof(Int8TransTypeData))</span></span>
<span id="L6622" title="Line 6622: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 8066 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6647" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">8066</a> </span><a href="#L6647" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 8066 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    6622</span>         [<span class="tlaUBC"> <a href="#L6623" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L6623" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L6647" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;expected 2-element int8 array&quot;);</span></span>
<span id="L6623" title="Line 6623: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us"> <a href="#L6648" title="next CBC in &ldquo;(360..) days&rdquo; bin">8778</a> <a href="#L6632" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6623</span>         [<span class="tlaUBC"> <a href="#L6645" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6626" title="CBC: Branch 1 was taken 5387 times" class="branchTla">+</a> </span>]:<a href="#L6648" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        5387 :     transdata = (Int8TransTypeData *) ARR_DATA_PTR(transarray);</span></span>
<span id="L6624" title="Line 6624: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6624</span>                 :                : </span>
<span id="L6625" title="Line 6625: commit cc26ea9fe2e4 on 2013-04-20 by peter_e@gmx.net">                           <span class="lineNum">    6625</span>                 :                :     /* SQL defines AVG of no values to be NULL */</span>
<span id="L6626" title="Line 6626: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6626</span>         [<span class="tlaCBC"> <a href="#L6645" title="CBC: Branch 0 was taken 59 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6645" title="CBC: Branch 1 was taken 5328 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           5387 :     if (transdata-&gt;count == 0)</span></span>
<span id="L6627" title="Line 6627: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6627</span>                 :<span class="tlaCBC">             59 :         PG_RETURN_NULL();</span></span>
<span id="L6628" title="Line 6628: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6628</span>                 :                : </span>
<span id="L6629" title="Line 6629: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org"> 1812 <a href="#L9576" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    6629</span>                 :<span class="tlaCBC">           5328 :     countd = NumericGetDatum(int64_to_numeric(transdata-&gt;count));</span></span>
<span id="L6630" title="Line 6630: commit 0aa8f764088e on 2020-09-09 by peter@eisentraut.org">                           <span class="lineNum">    6630</span>                 :<span class="tlaCBC">           5328 :     sumd = NumericGetDatum(int64_to_numeric(transdata-&gt;sum));</span></span>
<span id="L6631" title="Line 6631: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6631</span>                 :                : </span>
<span id="L6632" title="Line 6632: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us"> 8778 <a href="#L6648" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6632</span>                 :<span class="tlaCBC">           5328 :     PG_RETURN_DATUM(DirectFunctionCall2(numeric_div, sumd, countd));</span></span>
<span id="L6633" title="Line 6633: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6633</span>                 :                : }</span>
<span id="L6634" title="Line 6634: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6634</span>                 :                : </span>
<span id="L6635" title="Line 6635: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6635</span>                 :                : /*</span>
<span id="L6636" title="Line 6636: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6636</span>                 :                :  * SUM(int2) and SUM(int4) both return int8, so we can use this</span>
<span id="L6637" title="Line 6637: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6637</span>                 :                :  * final function for both.</span>
<span id="L6638" title="Line 6638: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6638</span>                 :                :  */</span>
<span id="L6639" title="Line 6639: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6639</span>                 :                : Datum</span>
<span id="L6640" title="Line 6640: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> 4154                      <span class="lineNum">    6640</span>                 :<span class="tlaCBC">           1917 : int2int4_sum(PG_FUNCTION_ARGS)</span></span>
<span id="L6641" title="Line 6641: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6641</span>                 :                : {</span>
<span id="L6642" title="Line 6642: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6642</span>                 :<span class="tlaCBC">           1917 :     ArrayType  *transarray = PG_GETARG_ARRAYTYPE_P(0);</span></span>
<span id="L6643" title="Line 6643: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6643</span>                 :                :     Int8TransTypeData *transdata;</span>
<span id="L6644" title="Line 6644: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6644</span>                 :                : </span>
<span id="L6645" title="Line 6645: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6645</span>   [<span class="tlaCBC"> <a href="#L6648" title="CBC: Branch 0 was taken 1917 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L6647" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUIC"> <a href="#top" title="UIC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaGIC"> <a href="#top" title="GIC: Branch 3 was taken 1917 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3834 :     if (ARR_HASNULL(transarray) ||</span></span>
<span id="L6646" title="Line 6646: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6646</span>         [<span class="tlaEUB"> <a href="#top" title="EUB: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaECB"> <a href="#top" title="ECB: Branch 1 was taken 1917 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1917 :         ARR_SIZE(transarray) != ARR_OVERHEAD_NONULLS(1) + sizeof(Int8TransTypeData))</span></span>
<span id="L6647" title="Line 6647: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6847" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">4154</a> </span><a href="#L6848" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 4154 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    6647</span>         [<span class="tlaUBC"> <a href="#L6648" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L6648" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L6847" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         elog(ERROR, &quot;expected 2-element int8 array&quot;);</span></span>
<span id="L6648" title="Line 6648: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us"> <a href="#L6852" title="next CBC in &ldquo;(360..) days&rdquo; bin">4154</a> <a href="#L6771" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6648</span>         [<span class="tlaUBC"> <a href="#L6845" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6651" title="CBC: Branch 1 was taken 1917 times" class="branchTla">+</a> </span>]:<a href="#L6852" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        1917 :     transdata = (Int8TransTypeData *) ARR_DATA_PTR(transarray);</span></span>
<span id="L6649" title="Line 6649: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6649</span>                 :                : </span>
<span id="L6650" title="Line 6650: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6650</span>                 :                :     /* SQL defines SUM of no values to be NULL */</span>
<span id="L6651" title="Line 6651: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6651</span>         [<span class="tlaCBC"> <a href="#L6768" title="CBC: Branch 0 was taken 240 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6768" title="CBC: Branch 1 was taken 1677 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1917 :     if (transdata-&gt;count == 0)</span></span>
<span id="L6652" title="Line 6652: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6652</span>                 :<span class="tlaCBC">            240 :         PG_RETURN_NULL();</span></span>
<span id="L6653" title="Line 6653: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6653</span>                 :                : </span>
<span id="L6654" title="Line 6654: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6654</span>                 :<span class="tlaCBC">           1677 :     PG_RETURN_DATUM(Int64GetDatumFast(transdata-&gt;sum));</span></span>
<span id="L6655" title="Line 6655: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6655</span>                 :                : }</span>
<span id="L6656" title="Line 6656: commit 9d229f399e87 on 2014-04-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6656</span>                 :                : </span>
<span id="L6657" title="Line 6657: commit 5f7c2bdb537b on 2001-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6657</span>                 :                : </span>
<span id="L6658" title="Line 6658: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6658</span>                 :                : /* ----------------------------------------------------------------------</span>
<span id="L6659" title="Line 6659: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6659</span>                 :                :  *</span>
<span id="L6660" title="Line 6660: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6660</span>                 :                :  * Debug support</span>
<span id="L6661" title="Line 6661: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6661</span>                 :                :  *</span>
<span id="L6662" title="Line 6662: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6662</span>                 :                :  * ----------------------------------------------------------------------</span>
<span id="L6663" title="Line 6663: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6663</span>                 :                :  */</span>
<span id="L6664" title="Line 6664: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6664</span>                 :                : </span>
<span id="L6665" title="Line 6665: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6665</span>                 :                : #ifdef NUMERIC_DEBUG</span>
<span id="L6666" title="Line 6666: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6666</span>                 :                : </span>
<span id="L6667" title="Line 6667: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6667</span>                 :                : /*</span>
<span id="L6668" title="Line 6668: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6668</span>                 :                :  * dump_numeric() - Dump a value in the db storage format for debugging</span>
<span id="L6669" title="Line 6669: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6669</span>                 :                :  */</span>
<span id="L6670" title="Line 6670: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6670</span>                 :                : static void</span>
<span id="L6671" title="Line 6671: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6671</span>                 :                : dump_numeric(const char *str, Numeric num)</span>
<span id="L6672" title="Line 6672: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6672</span>                 :                : {</span>
<span id="L6673" title="Line 6673: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    6673</span>                 :                :     NumericDigit *digits = NUMERIC_DIGITS(num);</span>
<span id="L6674" title="Line 6674: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6674</span>                 :                :     int         ndigits;</span>
<span id="L6675" title="Line 6675: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6675</span>                 :                :     int         i;</span>
<span id="L6676" title="Line 6676: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6676</span>                 :                : </span>
<span id="L6677" title="Line 6677: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    6677</span>                 :                :     ndigits = NUMERIC_NDIGITS(num);</span>
<span id="L6678" title="Line 6678: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6678</span>                 :                : </span>
<span id="L6679" title="Line 6679: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    6679</span>                 :                :     printf(&quot;%s: NUMERIC w=%d d=%d &quot;, str,</span>
<span id="L6680" title="Line 6680: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    6680</span>                 :                :            NUMERIC_WEIGHT(num), NUMERIC_DSCALE(num));</span>
<span id="L6681" title="Line 6681: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6681</span>                 :                :     switch (NUMERIC_SIGN(num))</span>
<span id="L6682" title="Line 6682: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6682</span>                 :                :     {</span>
<span id="L6683" title="Line 6683: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6683</span>                 :                :         case NUMERIC_POS:</span>
<span id="L6684" title="Line 6684: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6684</span>                 :                :             printf(&quot;POS&quot;);</span>
<span id="L6685" title="Line 6685: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6685</span>                 :                :             break;</span>
<span id="L6686" title="Line 6686: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6686</span>                 :                :         case NUMERIC_NEG:</span>
<span id="L6687" title="Line 6687: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6687</span>                 :                :             printf(&quot;NEG&quot;);</span>
<span id="L6688" title="Line 6688: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6688</span>                 :                :             break;</span>
<span id="L6689" title="Line 6689: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6689</span>                 :                :         case NUMERIC_NAN:</span>
<span id="L6690" title="Line 6690: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6690</span>                 :                :             printf(&quot;NaN&quot;);</span>
<span id="L6691" title="Line 6691: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6691</span>                 :                :             break;</span>
<span id="L6692" title="Line 6692: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6692</span>                 :                :         case NUMERIC_PINF:</span>
<span id="L6693" title="Line 6693: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6693</span>                 :                :             printf(&quot;Infinity&quot;);</span>
<span id="L6694" title="Line 6694: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6694</span>                 :                :             break;</span>
<span id="L6695" title="Line 6695: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6695</span>                 :                :         case NUMERIC_NINF:</span>
<span id="L6696" title="Line 6696: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6696</span>                 :                :             printf(&quot;-Infinity&quot;);</span>
<span id="L6697" title="Line 6697: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6697</span>                 :                :             break;</span>
<span id="L6698" title="Line 6698: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6698</span>                 :                :         default:</span>
<span id="L6699" title="Line 6699: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6699</span>                 :                :             printf(&quot;SIGN=0x%x&quot;, NUMERIC_SIGN(num));</span>
<span id="L6700" title="Line 6700: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6700</span>                 :                :             break;</span>
<span id="L6701" title="Line 6701: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6701</span>                 :                :     }</span>
<span id="L6702" title="Line 6702: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6702</span>                 :                : </span>
<span id="L6703" title="Line 6703: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6703</span>                 :                :     for (i = 0; i &lt; ndigits; i++)</span>
<span id="L6704" title="Line 6704: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6704</span>                 :                :         printf(&quot; %0*d&quot;, DEC_DIGITS, digits[i]);</span>
<span id="L6705" title="Line 6705: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6705</span>                 :                :     printf(&quot;\n&quot;);</span>
<span id="L6706" title="Line 6706: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6706</span>                 :                : }</span>
<span id="L6707" title="Line 6707: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6707</span>                 :                : </span>
<span id="L6708" title="Line 6708: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6708</span>                 :                : </span>
<span id="L6709" title="Line 6709: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6709</span>                 :                : /*</span>
<span id="L6710" title="Line 6710: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6710</span>                 :                :  * dump_var() - Dump a value in the variable format for debugging</span>
<span id="L6711" title="Line 6711: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6711</span>                 :                :  */</span>
<span id="L6712" title="Line 6712: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6712</span>                 :                : static void</span>
<span id="L6713" title="Line 6713: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6713</span>                 :                : dump_var(const char *str, NumericVar *var)</span>
<span id="L6714" title="Line 6714: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6714</span>                 :                : {</span>
<span id="L6715" title="Line 6715: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6715</span>                 :                :     int         i;</span>
<span id="L6716" title="Line 6716: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6716</span>                 :                : </span>
<span id="L6717" title="Line 6717: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6717</span>                 :                :     printf(&quot;%s: VAR w=%d d=%d &quot;, str, var-&gt;weight, var-&gt;dscale);</span>
<span id="L6718" title="Line 6718: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6718</span>                 :                :     switch (var-&gt;sign)</span>
<span id="L6719" title="Line 6719: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6719</span>                 :                :     {</span>
<span id="L6720" title="Line 6720: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6720</span>                 :                :         case NUMERIC_POS:</span>
<span id="L6721" title="Line 6721: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6721</span>                 :                :             printf(&quot;POS&quot;);</span>
<span id="L6722" title="Line 6722: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6722</span>                 :                :             break;</span>
<span id="L6723" title="Line 6723: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6723</span>                 :                :         case NUMERIC_NEG:</span>
<span id="L6724" title="Line 6724: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6724</span>                 :                :             printf(&quot;NEG&quot;);</span>
<span id="L6725" title="Line 6725: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6725</span>                 :                :             break;</span>
<span id="L6726" title="Line 6726: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6726</span>                 :                :         case NUMERIC_NAN:</span>
<span id="L6727" title="Line 6727: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6727</span>                 :                :             printf(&quot;NaN&quot;);</span>
<span id="L6728" title="Line 6728: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6728</span>                 :                :             break;</span>
<span id="L6729" title="Line 6729: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6729</span>                 :                :         case NUMERIC_PINF:</span>
<span id="L6730" title="Line 6730: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6730</span>                 :                :             printf(&quot;Infinity&quot;);</span>
<span id="L6731" title="Line 6731: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6731</span>                 :                :             break;</span>
<span id="L6732" title="Line 6732: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6732</span>                 :                :         case NUMERIC_NINF:</span>
<span id="L6733" title="Line 6733: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6733</span>                 :                :             printf(&quot;-Infinity&quot;);</span>
<span id="L6734" title="Line 6734: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6734</span>                 :                :             break;</span>
<span id="L6735" title="Line 6735: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6735</span>                 :                :         default:</span>
<span id="L6736" title="Line 6736: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6736</span>                 :                :             printf(&quot;SIGN=0x%x&quot;, var-&gt;sign);</span>
<span id="L6737" title="Line 6737: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6737</span>                 :                :             break;</span>
<span id="L6738" title="Line 6738: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6738</span>                 :                :     }</span>
<span id="L6739" title="Line 6739: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6739</span>                 :                : </span>
<span id="L6740" title="Line 6740: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6740</span>                 :                :     for (i = 0; i &lt; var-&gt;ndigits; i++)</span>
<span id="L6741" title="Line 6741: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6741</span>                 :                :         printf(&quot; %0*d&quot;, DEC_DIGITS, var-&gt;digits[i]);</span>
<span id="L6742" title="Line 6742: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6742</span>                 :                : </span>
<span id="L6743" title="Line 6743: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6743</span>                 :                :     printf(&quot;\n&quot;);</span>
<span id="L6744" title="Line 6744: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6744</span>                 :                : }</span>
<span id="L6745" title="Line 6745: commit c7b8998ebbf3 on 2017-06-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6745</span>                 :                : #endif                          /* NUMERIC_DEBUG */</span>
<span id="L6746" title="Line 6746: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6746</span>                 :                : </span>
<span id="L6747" title="Line 6747: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6747</span>                 :                : </span>
<span id="L6748" title="Line 6748: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6748</span>                 :                : /* ----------------------------------------------------------------------</span>
<span id="L6749" title="Line 6749: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6749</span>                 :                :  *</span>
<span id="L6750" title="Line 6750: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6750</span>                 :                :  * Local functions follow</span>
<span id="L6751" title="Line 6751: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6751</span>                 :                :  *</span>
<span id="L6752" title="Line 6752: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6752</span>                 :                :  * In general, these do not support &quot;special&quot; (NaN or infinity) inputs;</span>
<span id="L6753" title="Line 6753: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6753</span>                 :                :  * callers should handle those possibilities first.</span>
<span id="L6754" title="Line 6754: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6754</span>                 :                :  * (There are one or two exceptions, noted in their header comments.)</span>
<span id="L6755" title="Line 6755: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6755</span>                 :                :  *</span>
<span id="L6756" title="Line 6756: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6756</span>                 :                :  * ----------------------------------------------------------------------</span>
<span id="L6757" title="Line 6757: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6757</span>                 :                :  */</span>
<span id="L6758" title="Line 6758: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6758</span>                 :                : </span>
<span id="L6759" title="Line 6759: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6759</span>                 :                : </span>
<span id="L6760" title="Line 6760: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6760</span>                 :                : /*</span>
<span id="L6761" title="Line 6761: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6761</span>                 :                :  * alloc_var() -</span>
<span id="L6762" title="Line 6762: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6762</span>                 :                :  *</span>
<span id="L6763" title="Line 6763: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6763</span>                 :                :  *  Allocate a digit buffer of ndigits digits (plus a spare digit for rounding)</span>
<span id="L6764" title="Line 6764: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6764</span>                 :                :  */</span>
<span id="L6765" title="Line 6765: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6765</span>                 :                : static void</span>
<span id="L6766" title="Line 6766: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352                      <span class="lineNum">    6766</span>                 :<span class="tlaCBC">        1088537 : alloc_var(NumericVar *var, int ndigits)</span></span>
<span id="L6767" title="Line 6767: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6767</span>                 :                : {</span>
<span id="L6768" title="Line 6768: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6768</span>         [<span class="tlaCBC"> <a href="#L6784" title="CBC: Branch 0 was taken 14380 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6784" title="CBC: Branch 1 was taken 1074157 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1088537 :     digitbuf_free(var-&gt;buf);</span></span>
<span id="L6769" title="Line 6769: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6769</span>                 :<span class="tlaCBC">        1088537 :     var-&gt;buf = digitbuf_alloc(ndigits + 1);</span></span>
<span id="L6770" title="Line 6770: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> 8058 <a href="#L6782" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    6770</span>                 :<span class="tlaCBC">        1088537 :     var-&gt;buf[0] = 0;         /* spare digit for rounding */</span></span>
<span id="L6771" title="Line 6771: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352 <a href="#L6784" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6771</span>                 :<span class="tlaCBC">        1088537 :     var-&gt;digits = var-&gt;buf + 1;</span></span>
<span id="L6772" title="Line 6772: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6772</span>                 :<span class="tlaCBC">        1088537 :     var-&gt;ndigits = ndigits;</span></span>
<span id="L6773" title="Line 6773: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L6787" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    6773</span>                 :<span class="tlaCBC">        1088537 : }</span></span>
<span id="L6774" title="Line 6774: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6774</span>                 :                : </span>
<span id="L6775" title="Line 6775: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6775</span>                 :                : </span>
<span id="L6776" title="Line 6776: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6776</span>                 :                : /*</span>
<span id="L6777" title="Line 6777: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6777</span>                 :                :  * free_var() -</span>
<span id="L6778" title="Line 6778: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6778</span>                 :                :  *</span>
<span id="L6779" title="Line 6779: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6779</span>                 :                :  *  Return the digit buffer of a variable to the free pool</span>
<span id="L6780" title="Line 6780: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6780</span>                 :                :  */</span>
<span id="L6781" title="Line 6781: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6781</span>                 :                : static void</span>
<span id="L6782" title="Line 6782: commit fcff1cdf4ead on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L6852" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    6782</span>                 :<span class="tlaCBC">        2094200 : free_var(NumericVar *var)</span></span>
<span id="L6783" title="Line 6783: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6783</span>                 :                : {</span>
<span id="L6784" title="Line 6784: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352 <a href="#L6798" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6784</span>         [<span class="tlaCBC"> <a href="#L6800" title="CBC: Branch 0 was taken 2059834 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6800" title="CBC: Branch 1 was taken 34366 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        2094200 :     digitbuf_free(var-&gt;buf);</span></span>
<span id="L6785" title="Line 6785: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6785</span>                 :<span class="tlaCBC">        2094200 :     var-&gt;buf = NULL;</span></span>
<span id="L6786" title="Line 6786: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6786</span>                 :<span class="tlaCBC">        2094200 :     var-&gt;digits = NULL;</span></span>
<span id="L6787" title="Line 6787: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L6806" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    6787</span>                 :<span class="tlaCBC">        2094200 :     var-&gt;sign = NUMERIC_NAN;</span></span>
<span id="L6788" title="Line 6788: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6788</span>                 :<span class="tlaCBC">        2094200 : }</span></span>
<span id="L6789" title="Line 6789: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6789</span>                 :                : </span>
<span id="L6790" title="Line 6790: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6790</span>                 :                : </span>
<span id="L6791" title="Line 6791: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6791</span>                 :                : /*</span>
<span id="L6792" title="Line 6792: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6792</span>                 :                :  * zero_var() -</span>
<span id="L6793" title="Line 6793: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6793</span>                 :                :  *</span>
<span id="L6794" title="Line 6794: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6794</span>                 :                :  *  Set a variable to ZERO.</span>
<span id="L6795" title="Line 6795: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6795</span>                 :                :  *  Note: its dscale is not touched.</span>
<span id="L6796" title="Line 6796: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6796</span>                 :                :  */</span>
<span id="L6797" title="Line 6797: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6797</span>                 :                : static void</span>
<span id="L6798" title="Line 6798: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352 <a href="#L6825" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6798</span>                 :<span class="tlaCBC">          30913 : zero_var(NumericVar *var)</span></span>
<span id="L6799" title="Line 6799: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6799</span>                 :                : {</span>
<span id="L6800" title="Line 6800: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6800</span>         [<span class="tlaCBC"> <a href="#L6845" title="CBC: Branch 0 was taken 2268 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6845" title="CBC: Branch 1 was taken 28645 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          30913 :     digitbuf_free(var-&gt;buf);</span></span>
<span id="L6801" title="Line 6801: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6801</span>                 :<span class="tlaCBC">          30913 :     var-&gt;buf = NULL;</span></span>
<span id="L6802" title="Line 6802: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6802</span>                 :<span class="tlaCBC">          30913 :     var-&gt;digits = NULL;</span></span>
<span id="L6803" title="Line 6803: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6803</span>                 :<span class="tlaCBC">          30913 :     var-&gt;ndigits = 0;</span></span>
<span id="L6804" title="Line 6804: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6804</span>                 :<span class="tlaCBC">          30913 :     var-&gt;weight = 0;         /* by convention; doesn't really matter */</span></span>
<span id="L6805" title="Line 6805: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6805</span>                 :<span class="tlaCBC">          30913 :     var-&gt;sign = NUMERIC_POS; /* anything but NAN... */</span></span>
<span id="L6806" title="Line 6806: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L6845" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    6806</span>                 :<span class="tlaCBC">          30913 : }</span></span>
<span id="L6807" title="Line 6807: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6807</span>                 :                : </span>
<span id="L6808" title="Line 6808: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6808</span>                 :                : </span>
<span id="L6809" title="Line 6809: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6809</span>                 :                : /*</span>
<span id="L6810" title="Line 6810: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6810</span>                 :                :  * set_var_from_str()</span>
<span id="L6811" title="Line 6811: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6811</span>                 :                :  *</span>
<span id="L6812" title="Line 6812: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6812</span>                 :                :  *  Parse a string and put the number into a variable</span>
<span id="L6813" title="Line 6813: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6813</span>                 :                :  *</span>
<span id="L6814" title="Line 6814: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6814</span>                 :                :  * This function does not handle leading or trailing spaces.  It returns</span>
<span id="L6815" title="Line 6815: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6815</span>                 :                :  * the end+1 position parsed into *endptr, so that caller can check for</span>
<span id="L6816" title="Line 6816: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6816</span>                 :                :  * trailing spaces/garbage if deemed necessary.</span>
<span id="L6817" title="Line 6817: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6817</span>                 :                :  *</span>
<span id="L6818" title="Line 6818: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6818</span>                 :                :  * cp is the place to actually start parsing; str is what to use in error</span>
<span id="L6819" title="Line 6819: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6819</span>                 :                :  * reports.  (Typically cp would be the same except advanced over spaces.)</span>
<span id="L6820" title="Line 6820: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6820</span>                 :                :  *</span>
<span id="L6821" title="Line 6821: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6821</span>                 :                :  * Returns true on success, false on failure (if escontext points to an</span>
<span id="L6822" title="Line 6822: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6822</span>                 :                :  * ErrorSaveContext; otherwise errors are thrown).</span>
<span id="L6823" title="Line 6823: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6823</span>                 :                :  */</span>
<span id="L6824" title="Line 6824: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6824</span>                 :                : static bool</span>
<span id="L6825" title="Line 6825: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">  991 <a href="#L6832" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6825</span>                 :<span class="tlaCBC">          92726 : set_var_from_str(const char *str, const char *cp,</span></span>
<span id="L6826" title="Line 6826: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6826</span>                 :                :                  NumericVar *dest, const char **endptr,</span>
<span id="L6827" title="Line 6827: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6827</span>                 :                :                  Node *escontext)</span>
<span id="L6828" title="Line 6828: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6828</span>                 :                : {</span>
<span id="L6829" title="Line 6829: commit 2eb4a831e5fb on 2017-08-16 by peter_e@gmx.net"> 2932 <a href="#L6860" title="next CBC in &ldquo;peter_e@gmx.net&rdquo; bin">peter_e@gmx.net</a>      <span class="lineNum">    6829</span>                 :<span class="tlaCBC">          92726 :     bool        have_dp = false;</span></span>
<span id="L6830" title="Line 6830: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6830</span>                 :                :     int         i;</span>
<span id="L6831" title="Line 6831: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6831</span>                 :                :     unsigned char *decdigits;</span>
<span id="L6832" title="Line 6832: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L6853" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6832</span>                 :<span class="tlaCBC">          92726 :     int         sign = NUMERIC_POS;</span></span>
<span id="L6833" title="Line 6833: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6833</span>                 :<span class="tlaCBC">          92726 :     int         dweight = -1;</span></span>
<span id="L6834" title="Line 6834: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6834</span>                 :                :     int         ddigits;</span>
<span id="L6835" title="Line 6835: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6835</span>                 :<span class="tlaCBC">          92726 :     int         dscale = 0;</span></span>
<span id="L6836" title="Line 6836: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6836</span>                 :                :     int         weight;</span>
<span id="L6837" title="Line 6837: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6837</span>                 :                :     int         ndigits;</span>
<span id="L6838" title="Line 6838: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6838</span>                 :                :     int         offset;</span>
<span id="L6839" title="Line 6839: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6839</span>                 :                :     NumericDigit *digits;</span>
<span id="L6840" title="Line 6840: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6840</span>                 :                : </span>
<span id="L6841" title="Line 6841: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6841</span>                 :                :     /*</span>
<span id="L6842" title="Line 6842: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    6842</span>                 :                :      * We first parse the string to extract decimal digits and determine the</span>
<span id="L6843" title="Line 6843: commit 0a7832005792 on 2014-05-06 by bruce@momjian.us">                           <span class="lineNum">    6843</span>                 :                :      * correct decimal weight.  Then convert to NBASE representation.</span>
<span id="L6844" title="Line 6844: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6844</span>                 :                :      */</span>
<span id="L6845" title="Line 6845: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L6858" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    6845</span>      [<span class="tlaUBC"> <a href="#L6864" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6858" title="CBC: Branch 1 was taken 150 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6858" title="CBC: Branch 2 was taken 92576 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          92726 :     switch (*cp)</span></span>
<span id="L6846" title="Line 6846: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6846</span>                 :                :     {</span>
<span id="L6847" title="Line 6847: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"><span title="bruce@momjian.us 9590 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L6865" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">9590</a> </span><a href="#L6849" title="next UBC in &ldquo;bruce@momjian.us&rdquo; bin" class="tlaBgUBC">bruce@momjian.us</a><span title="bruce@momjian.us 9590 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">    </span> <span class="lineNum">    6847</span>                 :<a href="#L6865" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         case '+':</span></span>
<span id="L6848" title="Line 6848: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 8194 days ago (bin 4: (360..) days)" class="tlaUBC"> 8194 </span><a href="#L7469" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 8194 days ago (bin 4: (360..) days)" class="tlaUBC">   </span> <span class="lineNum">    6848</span>                 :<span class="tlaUBC">              0 :             sign = NUMERIC_POS;</span></span>
<span id="L6849" title="Line 6849: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"><span title="bruce@momjian.us 9590 days ago (bin 4: (360..) days)" class="tlaUBC"> 9590 </span><a href="#L11500" title="next UBC in &ldquo;bruce@momjian.us&rdquo; bin" class="tlaBgUBC">bruce@momjian.us</a><span title="bruce@momjian.us 9590 days ago (bin 4: (360..) days)" class="tlaUBC">    </span> <span class="lineNum">    6849</span>                 :<span class="tlaUBC">              0 :             cp++;</span></span>
<span id="L6850" title="Line 6850: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"><span title="bruce@momjian.us 9590 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    6850</span>                 :<span class="tlaUBC">              0 :             break;</span></span>
<span id="L6851" title="Line 6851: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6851</span>                 :                : </span>
<span id="L6852" title="Line 6852: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> <a href="#L6867" title="next CBC in &ldquo;(360..) days&rdquo; bin">9590</a> <a href="#L6854" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    6852</span>                 :<a href="#L6867" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         150 :         case '-':</span></span>
<span id="L6853" title="Line 6853: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L6864" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6853</span>                 :<span class="tlaCBC">            150 :             sign = NUMERIC_NEG;</span></span>
<span id="L6854" title="Line 6854: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L6867" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    6854</span>                 :<span class="tlaCBC">            150 :             cp++;</span></span>
<span id="L6855" title="Line 6855: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    6855</span>                 :<span class="tlaCBC">            150 :             break;</span></span>
<span id="L6856" title="Line 6856: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6856</span>                 :                :     }</span>
<span id="L6857" title="Line 6857: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6857</span>                 :                : </span>
<span id="L6858" title="Line 6858: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L6861" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    6858</span>         [<span class="tlaCBC"> <a href="#L6864" title="CBC: Branch 0 was taken 191 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6864" title="CBC: Branch 1 was taken 92535 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          92726 :     if (*cp == '.')</span></span>
<span id="L6859" title="Line 6859: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6859</span>                 :                :     {</span>
<span id="L6860" title="Line 6860: commit 2eb4a831e5fb on 2017-08-16 by peter_e@gmx.net"> 2932 <a href="#L6887" title="next CBC in &ldquo;peter_e@gmx.net&rdquo; bin">peter_e@gmx.net</a>      <span class="lineNum">    6860</span>                 :<span class="tlaCBC">            191 :         have_dp = true;</span></span>
<span id="L6861" title="Line 6861: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L6873" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    6861</span>                 :<span class="tlaCBC">            191 :         cp++;</span></span>
<span id="L6862" title="Line 6862: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6862</span>                 :                :     }</span>
<span id="L6863" title="Line 6863: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6863</span>                 :                : </span>
<span id="L6864" title="Line 6864: commit a27b691e2903 on 2000-12-03 by tgl@sss.pgh.pa.us"> 9032 <a href="#L6870" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6864</span>         [<span class="tlaUBC"> <a href="#L6885" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6873" title="CBC: Branch 1 was taken 92726 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          92726 :     if (!isdigit((unsigned char) *cp))</span></span>
<span id="L6865" title="Line 6865: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 934 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L6886" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">934</a> <a href="#L6886" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    6865</span>                 :<a href="#L6886" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         goto invalid_syntax;</span></span>
<span id="L6866" title="Line 6866: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6866</span>                 :                : </span>
<span id="L6867" title="Line 6867: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> <a href="#L6887" title="next CBC in &ldquo;(360..) days&rdquo; bin">8058</a> <a href="#L6906" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    6867</span>                 :<a href="#L6887" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">       92726 :     decdigits = (unsigned char *) palloc(strlen(cp) + DEC_DIGITS * 2);</span></span>
<span id="L6868" title="Line 6868: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6868</span>                 :                : </span>
<span id="L6869" title="Line 6869: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6869</span>                 :                :     /* leading padding for digit alignment later */</span>
<span id="L6870" title="Line 6870: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L6875" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6870</span>                 :<span class="tlaCBC">          92726 :     memset(decdigits, 0, DEC_DIGITS);</span></span>
<span id="L6871" title="Line 6871: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6871</span>                 :<span class="tlaCBC">          92726 :     i = DEC_DIGITS;</span></span>
<span id="L6872" title="Line 6872: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6872</span>                 :                : </span>
<span id="L6873" title="Line 6873: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L6909" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    6873</span>         [<span class="tlaCBC"> <a href="#L6875" title="CBC: Branch 0 was taken 314647 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6875" title="CBC: Branch 1 was taken 92044 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         406691 :     while (*cp)</span></span>
<span id="L6874" title="Line 6874: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6874</span>                 :                :     {</span>
<span id="L6875" title="Line 6875: commit a27b691e2903 on 2000-12-03 by tgl@sss.pgh.pa.us"> 9032 <a href="#L6888" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6875</span>         [<span class="tlaCBC"> <a href="#L6878" title="CBC: Branch 0 was taken 304780 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6878" title="CBC: Branch 1 was taken 9867 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         314647 :         if (isdigit((unsigned char) *cp))</span></span>
<span id="L6876" title="Line 6876: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6876</span>                 :                :         {</span>
<span id="L6877" title="Line 6877: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">    6877</span>                 :<span class="tlaCBC">         304780 :             decdigits[i++] = *cp++ - '0';</span></span>
<span id="L6878" title="Line 6878: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352                      <span class="lineNum">    6878</span>         [<span class="tlaCBC"> <a href="#L6883" title="CBC: Branch 0 was taken 256444 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6883" title="CBC: Branch 1 was taken 48336 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         304780 :             if (!have_dp)</span></span>
<span id="L6879" title="Line 6879: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">    6879</span>                 :<span class="tlaCBC">         256444 :                 dweight++;</span></span>
<span id="L6880" title="Line 6880: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6880</span>                 :                :             else</span>
<span id="L6881" title="Line 6881: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6881</span>                 :<span class="tlaCBC">          48336 :                 dscale++;</span></span>
<span id="L6882" title="Line 6882: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6882</span>                 :                :         }</span>
<span id="L6883" title="Line 6883: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352                      <span class="lineNum">    6883</span>         [<span class="tlaCBC"> <a href="#L6885" title="CBC: Branch 0 was taken 9104 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6885" title="CBC: Branch 1 was taken 763 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           9867 :         else if (*cp == '.')</span></span>
<span id="L6884" title="Line 6884: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6884</span>                 :                :         {</span>
<span id="L6885" title="Line 6885: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6885</span>         [<span class="tlaUBC"> <a href="#L6945" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L6890" title="CBC: Branch 1 was taken 9104 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           9104 :             if (have_dp)</span></span>
<span id="L6886" title="Line 6886: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 934 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L6953" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">934</a> <a href="#L6953" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    6886</span>                 :<a href="#L6953" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                 goto invalid_syntax;</span></span>
<span id="L6887" title="Line 6887: commit 2eb4a831e5fb on 2017-08-16 by peter_e@gmx.net"> <a href="#L6956" title="next CBC in &ldquo;(360..) days&rdquo; bin">2932</a> <a href="#L7655" title="next CBC in &ldquo;peter_e@gmx.net&rdquo; bin">peter_e@gmx.net</a>      <span class="lineNum">    6887</span>                 :<a href="#L6956" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        9104 :             have_dp = true;</span></span>
<span id="L6888" title="Line 6888: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352 <a href="#L6901" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6888</span>                 :<span class="tlaCBC">           9104 :             cp++;</span></span>
<span id="L6889" title="Line 6889: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6889</span>                 :                :             /* decimal point must not be followed by underscore */</span>
<span id="L6890" title="Line 6890: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">  934 <a href="#L6911" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    6890</span>         [<span class="tlaCBC"> <a href="#L6893" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6893" title="CBC: Branch 1 was taken 9101 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           9104 :             if (*cp == '_')</span></span>
<span id="L6891" title="Line 6891: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6891</span>                 :<span class="tlaCBC">              3 :                 goto invalid_syntax;</span></span>
<span id="L6892" title="Line 6892: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6892</span>                 :                :         }</span>
<span id="L6893" title="Line 6893: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6893</span>         [<span class="tlaCBC"> <a href="#L6897" title="CBC: Branch 0 was taken 93 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6897" title="CBC: Branch 1 was taken 670 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            763 :         else if (*cp == '_')</span></span>
<span id="L6894" title="Line 6894: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6894</span>                 :                :         {</span>
<span id="L6895" title="Line 6895: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6895</span>                 :                :             /* underscore must be followed by more digits */</span>
<span id="L6896" title="Line 6896: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6896</span>                 :<span class="tlaCBC">             93 :             cp++;</span></span>
<span id="L6897" title="Line 6897: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6897</span>         [<span class="tlaCBC"> <a href="#L6909" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6909" title="CBC: Branch 1 was taken 84 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             93 :             if (!isdigit((unsigned char) *cp))</span></span>
<span id="L6898" title="Line 6898: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6898</span>                 :<span class="tlaCBC">              9 :                 goto invalid_syntax;</span></span>
<span id="L6899" title="Line 6899: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6899</span>                 :                :         }</span>
<span id="L6900" title="Line 6900: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6900</span>                 :                :         else</span>
<span id="L6901" title="Line 6901: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352 <a href="#L6959" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6901</span>                 :<span class="tlaCBC">            670 :             break;</span></span>
<span id="L6902" title="Line 6902: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6902</span>                 :                :     }</span>
<span id="L6903" title="Line 6903: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6903</span>                 :                : </span>
<span id="L6904" title="Line 6904: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">    6904</span>                 :<span class="tlaCBC">          92714 :     ddigits = i - DEC_DIGITS;</span></span>
<span id="L6905" title="Line 6905: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6905</span>                 :                :     /* trailing padding for digit alignment later */</span>
<span id="L6906" title="Line 6906: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> 8058 <a href="#L6972" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    6906</span>                 :<span class="tlaCBC">          92714 :     memset(decdigits + i, 0, DEC_DIGITS - 1);</span></span>
<span id="L6907" title="Line 6907: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6907</span>                 :                : </span>
<span id="L6908" title="Line 6908: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6908</span>                 :                :     /* Handle exponent, if any */</span>
<span id="L6909" title="Line 6909: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L7246" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    6909</span>   [<span class="tlaCBC"> <a href="#L6925" title="CBC: Branch 0 was taken 92096 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6925" title="CBC: Branch 1 was taken 618 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6925" title="CBC: Branch 2 was taken 28 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6925" title="CBC: Branch 3 was taken 92068 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          92714 :     if (*cp == 'e' || *cp == 'E')</span></span>
<span id="L6910" title="Line 6910: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6910</span>                 :                :     {</span>
<span id="L6911" title="Line 6911: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">  934 <a href="#L6956" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    6911</span>                 :<span class="tlaCBC">            646 :         int64       exponent = 0;</span></span>
<span id="L6912" title="Line 6912: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6912</span>                 :<span class="tlaCBC">            646 :         bool        neg = false;</span></span>
<span id="L6913" title="Line 6913: commit 9389fbd03857 on 2016-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6913</span>                 :                : </span>
<span id="L6914" title="Line 6914: commit 9389fbd03857 on 2016-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6914</span>                 :                :         /*</span>
<span id="L6915" title="Line 6915: commit 9389fbd03857 on 2016-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6915</span>                 :                :          * At this point, dweight and dscale can't be more than about</span>
<span id="L6916" title="Line 6916: commit 9389fbd03857 on 2016-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6916</span>                 :                :          * INT_MAX/2 due to the MaxAllocSize limit on string length, so</span>
<span id="L6917" title="Line 6917: commit 9389fbd03857 on 2016-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6917</span>                 :                :          * constraining the exponent similarly should be enough to prevent</span>
<span id="L6918" title="Line 6918: commit 9389fbd03857 on 2016-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6918</span>                 :                :          * integer overflow in this function.  If the value is too large to</span>
<span id="L6919" title="Line 6919: commit 9389fbd03857 on 2016-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6919</span>                 :                :          * fit in storage format, make_result() will complain about it later;</span>
<span id="L6920" title="Line 6920: commit 9389fbd03857 on 2016-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6920</span>                 :                :          * for consistency use the same ereport errcode/text as make_result().</span>
<span id="L6921" title="Line 6921: commit 9389fbd03857 on 2016-08-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6921</span>                 :                :          */</span>
<span id="L6922" title="Line 6922: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6922</span>                 :                : </span>
<span id="L6923" title="Line 6923: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6923</span>                 :                :         /* exponent sign */</span>
<span id="L6924" title="Line 6924: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6924</span>                 :<span class="tlaCBC">            646 :         cp++;</span></span>
<span id="L6925" title="Line 6925: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6925</span>         [<span class="tlaCBC"> <a href="#L6927" title="CBC: Branch 0 was taken 77 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6927" title="CBC: Branch 1 was taken 569 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            646 :         if (*cp == '+')</span></span>
<span id="L6926" title="Line 6926: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6926</span>                 :<span class="tlaCBC">             77 :             cp++;</span></span>
<span id="L6927" title="Line 6927: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6927</span>         [<span class="tlaCBC"> <a href="#L6934" title="CBC: Branch 0 was taken 245 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6934" title="CBC: Branch 1 was taken 324 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            569 :         else if (*cp == '-')</span></span>
<span id="L6928" title="Line 6928: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6928</span>                 :                :         {</span>
<span id="L6929" title="Line 6929: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6929</span>                 :<span class="tlaCBC">            245 :             neg = true;</span></span>
<span id="L6930" title="Line 6930: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6930</span>                 :<span class="tlaCBC">            245 :             cp++;</span></span>
<span id="L6931" title="Line 6931: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6931</span>                 :                :         }</span>
<span id="L6932" title="Line 6932: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6932</span>                 :                : </span>
<span id="L6933" title="Line 6933: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6933</span>                 :                :         /* exponent digits */</span>
<span id="L6934" title="Line 6934: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6934</span>         [<span class="tlaCBC"> <a href="#L6937" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6937" title="CBC: Branch 1 was taken 643 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            646 :         if (!isdigit((unsigned char) *cp))</span></span>
<span id="L6935" title="Line 6935: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6935</span>                 :<span class="tlaCBC">              3 :             goto invalid_syntax;</span></span>
<span id="L6936" title="Line 6936: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6936</span>                 :                : </span>
<span id="L6937" title="Line 6937: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6937</span>         [<span class="tlaCBC"> <a href="#L6939" title="CBC: Branch 0 was taken 1638 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6939" title="CBC: Branch 1 was taken 634 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2272 :         while (*cp)</span></span>
<span id="L6938" title="Line 6938: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6938</span>                 :                :         {</span>
<span id="L6939" title="Line 6939: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6939</span>         [<span class="tlaCBC"> <a href="#L6942" title="CBC: Branch 0 was taken 1617 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6942" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1638 :             if (isdigit((unsigned char) *cp))</span></span>
<span id="L6940" title="Line 6940: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6940</span>                 :                :             {</span>
<span id="L6941" title="Line 6941: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6941</span>                 :<span class="tlaCBC">           1617 :                 exponent = exponent * 10 + (*cp++ - '0');</span></span>
<span id="L6942" title="Line 6942: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6942</span>         [<span class="tlaCBC"> <a href="#L6945" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6945" title="CBC: Branch 1 was taken 1614 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1617 :                 if (exponent &gt; PG_INT32_MAX / 2)</span></span>
<span id="L6943" title="Line 6943: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6943</span>                 :<span class="tlaCBC">              3 :                     goto out_of_range;</span></span>
<span id="L6944" title="Line 6944: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6944</span>                 :                :             }</span>
<span id="L6945" title="Line 6945: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6945</span>         [<span class="tlaCBC"> <a href="#L6949" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7012" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             21 :             else if (*cp == '_')</span></span>
<span id="L6946" title="Line 6946: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6946</span>                 :                :             {</span>
<span id="L6947" title="Line 6947: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6947</span>                 :                :                 /* underscore must be followed by more digits */</span>
<span id="L6948" title="Line 6948: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6948</span>                 :<span class="tlaCBC">             21 :                 cp++;</span></span>
<span id="L6949" title="Line 6949: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6949</span>         [<span class="tlaCBC"> <a href="#L6956" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6956" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             21 :                 if (!isdigit((unsigned char) *cp))</span></span>
<span id="L6950" title="Line 6950: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6950</span>                 :<span class="tlaCBC">              6 :                     goto invalid_syntax;</span></span>
<span id="L6951" title="Line 6951: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6951</span>                 :                :             }</span>
<span id="L6952" title="Line 6952: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6952</span>                 :                :             else</span>
<span id="L6953" title="Line 6953: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 934 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L7093" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">934</a> <a href="#L7093" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    6953</span>                 :<a href="#L7093" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                 break;</span></span>
<span id="L6954" title="Line 6954: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6954</span>                 :                :         }</span>
<span id="L6955" title="Line 6955: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6955</span>                 :                : </span>
<span id="L6956" title="Line 6956: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">  <a href="#L7096" title="next CBC in &ldquo;(360..) days&rdquo; bin">934</a> <a href="#L7011" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    6956</span>         [<span class="tlaCBC"> <a href="#L6961" title="CBC: Branch 0 was taken 245 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6961" title="CBC: Branch 1 was taken 389 times" class="branchTla">+</a> </span>]:<a href="#L7096" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         634 :         if (neg)</span></span>
<span id="L6957" title="Line 6957: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6957</span>                 :<span class="tlaCBC">            245 :             exponent = -exponent;</span></span>
<span id="L6958" title="Line 6958: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    6958</span>                 :                : </span>
<span id="L6959" title="Line 6959: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L6975" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6959</span>                 :<span class="tlaCBC">            634 :         dweight += (int) exponent;</span></span>
<span id="L6960" title="Line 6960: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6960</span>                 :<span class="tlaCBC">            634 :         dscale -= (int) exponent;</span></span>
<span id="L6961" title="Line 6961: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6961</span>         [<span class="tlaCBC"> <a href="#L6971" title="CBC: Branch 0 was taken 287 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6971" title="CBC: Branch 1 was taken 347 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            634 :         if (dscale &lt; 0)</span></span>
<span id="L6962" title="Line 6962: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6962</span>                 :<span class="tlaCBC">            287 :             dscale = 0;</span></span>
<span id="L6963" title="Line 6963: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6963</span>                 :                :     }</span>
<span id="L6964" title="Line 6964: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6964</span>                 :                : </span>
<span id="L6965" title="Line 6965: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6965</span>                 :                :     /*</span>
<span id="L6966" title="Line 6966: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    6966</span>                 :                :      * Okay, convert pure-decimal representation to base NBASE.  First we need</span>
<span id="L6967" title="Line 6967: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    6967</span>                 :                :      * to determine the converted weight and ndigits.  offset is the number of</span>
<span id="L6968" title="Line 6968: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    6968</span>                 :                :      * decimal zeroes to insert before the first given digit to have a</span>
<span id="L6969" title="Line 6969: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    6969</span>                 :                :      * correctly aligned first NBASE digit.</span>
<span id="L6970" title="Line 6970: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6970</span>                 :                :      */</span>
<span id="L6971" title="Line 6971: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6971</span>         [<span class="tlaCBC"> <a href="#L6986" title="CBC: Branch 0 was taken 92317 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L6986" title="CBC: Branch 1 was taken 385 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          92702 :     if (dweight &gt;= 0)</span></span>
<span id="L6972" title="Line 6972: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> 8058 <a href="#L6976" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    6972</span>                 :<span class="tlaCBC">          92317 :         weight = (dweight + 1 + DEC_DIGITS - 1) / DEC_DIGITS - 1;</span></span>
<span id="L6973" title="Line 6973: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6973</span>                 :                :     else</span>
<span id="L6974" title="Line 6974: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">    6974</span>                 :<span class="tlaCBC">            385 :         weight = -((-dweight - 1) / DEC_DIGITS + 1);</span></span>
<span id="L6975" title="Line 6975: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L6978" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6975</span>                 :<span class="tlaCBC">          92702 :     offset = (weight + 1) * DEC_DIGITS - (dweight + 1);</span></span>
<span id="L6976" title="Line 6976: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> 8058 <a href="#L6989" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    6976</span>                 :<span class="tlaCBC">          92702 :     ndigits = (ddigits + offset + DEC_DIGITS - 1) / DEC_DIGITS;</span></span>
<span id="L6977" title="Line 6977: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6977</span>                 :                : </span>
<span id="L6978" title="Line 6978: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L6998" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6978</span>                 :<span class="tlaCBC">          92702 :     alloc_var(dest, ndigits);</span></span>
<span id="L6979" title="Line 6979: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6979</span>                 :<span class="tlaCBC">          92702 :     dest-&gt;sign = sign;</span></span>
<span id="L6980" title="Line 6980: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6980</span>                 :<span class="tlaCBC">          92702 :     dest-&gt;weight = weight;</span></span>
<span id="L6981" title="Line 6981: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6981</span>                 :<span class="tlaCBC">          92702 :     dest-&gt;dscale = dscale;</span></span>
<span id="L6982" title="Line 6982: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6982</span>                 :                : </span>
<span id="L6983" title="Line 6983: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6983</span>                 :<span class="tlaCBC">          92702 :     i = DEC_DIGITS - offset;</span></span>
<span id="L6984" title="Line 6984: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6984</span>                 :<span class="tlaCBC">          92702 :     digits = dest-&gt;digits;</span></span>
<span id="L6985" title="Line 6985: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6985</span>                 :                : </span>
<span id="L6986" title="Line 6986: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6986</span>         [<span class="tlaCBC"> <a href="#L7012" title="CBC: Branch 0 was taken 131820 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7012" title="CBC: Branch 1 was taken 92702 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         224522 :     while (ndigits-- &gt; 0)</span></span>
<span id="L6987" title="Line 6987: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6987</span>                 :                :     {</span>
<span id="L6988" title="Line 6988: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6988</span>                 :                : #if DEC_DIGITS == 4</span>
<span id="L6989" title="Line 6989: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> 8058 <a href="#L7233" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    6989</span>                 :<span class="tlaCBC">         131820 :         *digits++ = ((decdigits[i] * 10 + decdigits[i + 1]) * 10 +</span></span>
<span id="L6990" title="Line 6990: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">    6990</span>                 :<span class="tlaCBC">         131820 :                      decdigits[i + 2]) * 10 + decdigits[i + 3];</span></span>
<span id="L6991" title="Line 6991: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6991</span>                 :                : #elif DEC_DIGITS == 2</span>
<span id="L6992" title="Line 6992: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">    6992</span>                 :                :         *digits++ = decdigits[i] * 10 + decdigits[i + 1];</span>
<span id="L6993" title="Line 6993: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6993</span>                 :                : #elif DEC_DIGITS == 1</span>
<span id="L6994" title="Line 6994: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6994</span>                 :                :         *digits++ = decdigits[i];</span>
<span id="L6995" title="Line 6995: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6995</span>                 :                : #else</span>
<span id="L6996" title="Line 6996: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6996</span>                 :                : #error unsupported NBASE</span>
<span id="L6997" title="Line 6997: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    6997</span>                 :                : #endif</span>
<span id="L6998" title="Line 6998: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L7239" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    6998</span>                 :<span class="tlaCBC">         131820 :         i += DEC_DIGITS;</span></span>
<span id="L6999" title="Line 6999: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    6999</span>                 :                :     }</span>
<span id="L7000" title="Line 7000: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7000</span>                 :                : </span>
<span id="L7001" title="Line 7001: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7001</span>                 :<span class="tlaCBC">          92702 :     pfree(decdigits);</span></span>
<span id="L7002" title="Line 7002: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7002</span>                 :                : </span>
<span id="L7003" title="Line 7003: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7003</span>                 :                :     /* Strip any leading/trailing zeroes, and normalize weight if zero */</span>
<span id="L7004" title="Line 7004: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7004</span>                 :<span class="tlaCBC">          92702 :     strip_var(dest);</span></span>
<span id="L7005" title="Line 7005: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7005</span>                 :                : </span>
<span id="L7006" title="Line 7006: commit e0daf7fc3cc6 on 2009-04-08 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7006</span>                 :                :     /* Return end+1 position for caller */</span>
<span id="L7007" title="Line 7007: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">  991                      <span class="lineNum">    7007</span>                 :<span class="tlaCBC">          92702 :     *endptr = cp;</span></span>
<span id="L7008" title="Line 7008: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7008</span>                 :                : </span>
<span id="L7009" title="Line 7009: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7009</span>                 :<span class="tlaCBC">          92702 :     return true;</span></span>
<span id="L7010" title="Line 7010: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7010</span>                 :                : </span>
<span id="L7011" title="Line 7011: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">  934 <a href="#L7096" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    7011</span>                 :<span class="tlaCBC">              3 : out_of_range:</span></span>
<span id="L7012" title="Line 7012: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7012</span>         [<span class="tlaCBC"> <a href="#L7017" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7017" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :     ereturn(escontext, false,</span></span>
<span id="L7013" title="Line 7013: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7013</span>                 :                :             (errcode(ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE),</span>
<span id="L7014" title="Line 7014: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7014</span>                 :                :              errmsg(&quot;value overflows numeric format&quot;)));</span>
<span id="L7015" title="Line 7015: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7015</span>                 :                : </span>
<span id="L7016" title="Line 7016: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7016</span>                 :<span class="tlaCBC">             21 : invalid_syntax:</span></span>
<span id="L7017" title="Line 7017: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7017</span>         [<span class="tlaCBC"> <a href="#L7030" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7030" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             21 :     ereturn(escontext, false,</span></span>
<span id="L7018" title="Line 7018: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7018</span>                 :                :             (errcode(ERRCODE_INVALID_TEXT_REPRESENTATION),</span>
<span id="L7019" title="Line 7019: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7019</span>                 :                :              errmsg(&quot;invalid input syntax for type %s: \&quot;%s\&quot;&quot;,</span>
<span id="L7020" title="Line 7020: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7020</span>                 :                :                     &quot;numeric&quot;, str)));</span>
<span id="L7021" title="Line 7021: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7021</span>                 :                : }</span>
<span id="L7022" title="Line 7022: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7022</span>                 :                : </span>
<span id="L7023" title="Line 7023: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7023</span>                 :                : </span>
<span id="L7024" title="Line 7024: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7024</span>                 :                : /*</span>
<span id="L7025" title="Line 7025: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7025</span>                 :                :  * Return the numeric value of a single hex digit.</span>
<span id="L7026" title="Line 7026: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7026</span>                 :                :  */</span>
<span id="L7027" title="Line 7027: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7027</span>                 :                : static inline int</span>
<span id="L7028" title="Line 7028: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">  946                      <span class="lineNum">    7028</span>                 :<span class="tlaCBC">            354 : xdigit_value(char dig)</span></span>
<span id="L7029" title="Line 7029: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7029</span>                 :                : {</span>
<span id="L7030" title="Line 7030: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7030</span>   [<span class="tlaCBC"> <a href="#L7031" title="CBC: Branch 0 was taken 354 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7031" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L7031" title="CBC: Branch 2 was taken 261 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7031" title="CBC: Branch 3 was taken 93 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            447 :     return dig &gt;= '0' &amp;&amp; dig &lt;= '9' ? dig - '0' :</span></span>
<span id="L7031" title="Line 7031: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7031</span>   [<span class="tlaCBC"> <a href="#L7032" title="CBC: Branch 0 was taken 39 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7032" title="CBC: Branch 1 was taken 54 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7032" title="CBC: Branch 2 was taken 39 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7032" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            147 :         dig &gt;= 'a' &amp;&amp; dig &lt;= 'f' ? dig - 'a' + 10 :</span></span>
<span id="L7032" title="Line 7032: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7032</span>   [<span class="tlaCBC"> <a href="#L7077" title="CBC: Branch 0 was taken 54 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7092" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L7077" title="CBC: Branch 2 was taken 54 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7092" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             54 :         dig &gt;= 'A' &amp;&amp; dig &lt;= 'F' ? dig - 'A' + 10 : -1;</span></span>
<span id="L7033" title="Line 7033: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7033</span>                 :                : }</span>
<span id="L7034" title="Line 7034: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7034</span>                 :                : </span>
<span id="L7035" title="Line 7035: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7035</span>                 :                : /*</span>
<span id="L7036" title="Line 7036: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7036</span>                 :                :  * set_var_from_non_decimal_integer_str()</span>
<span id="L7037" title="Line 7037: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7037</span>                 :                :  *</span>
<span id="L7038" title="Line 7038: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7038</span>                 :                :  *  Parse a string containing a non-decimal integer</span>
<span id="L7039" title="Line 7039: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7039</span>                 :                :  *</span>
<span id="L7040" title="Line 7040: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7040</span>                 :                :  * This function does not handle leading or trailing spaces.  It returns</span>
<span id="L7041" title="Line 7041: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7041</span>                 :                :  * the end+1 position parsed into *endptr, so that caller can check for</span>
<span id="L7042" title="Line 7042: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7042</span>                 :                :  * trailing spaces/garbage if deemed necessary.</span>
<span id="L7043" title="Line 7043: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7043</span>                 :                :  *</span>
<span id="L7044" title="Line 7044: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7044</span>                 :                :  * cp is the place to actually start parsing; str is what to use in error</span>
<span id="L7045" title="Line 7045: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7045</span>                 :                :  * reports.  The number's sign and base prefix indicator (e.g., &quot;0x&quot;) are</span>
<span id="L7046" title="Line 7046: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7046</span>                 :                :  * assumed to have already been parsed, so cp should point to the number's</span>
<span id="L7047" title="Line 7047: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7047</span>                 :                :  * first digit in the base specified.</span>
<span id="L7048" title="Line 7048: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7048</span>                 :                :  *</span>
<span id="L7049" title="Line 7049: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7049</span>                 :                :  * base is expected to be 2, 8 or 16.</span>
<span id="L7050" title="Line 7050: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7050</span>                 :                :  *</span>
<span id="L7051" title="Line 7051: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7051</span>                 :                :  * Returns true on success, false on failure (if escontext points to an</span>
<span id="L7052" title="Line 7052: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7052</span>                 :                :  * ErrorSaveContext; otherwise errors are thrown).</span>
<span id="L7053" title="Line 7053: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7053</span>                 :                :  */</span>
<span id="L7054" title="Line 7054: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7054</span>                 :                : static bool</span>
<span id="L7055" title="Line 7055: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7055</span>                 :<span class="tlaCBC">             78 : set_var_from_non_decimal_integer_str(const char *str, const char *cp, int sign,</span></span>
<span id="L7056" title="Line 7056: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7056</span>                 :                :                                      int base, NumericVar *dest,</span>
<span id="L7057" title="Line 7057: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7057</span>                 :                :                                      const char **endptr, Node *escontext)</span>
<span id="L7058" title="Line 7058: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7058</span>                 :                : {</span>
<span id="L7059" title="Line 7059: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7059</span>                 :<span class="tlaCBC">             78 :     const char *firstdigit = cp;</span></span>
<span id="L7060" title="Line 7060: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7060</span>                 :                :     int64       tmp;</span>
<span id="L7061" title="Line 7061: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7061</span>                 :                :     int64       mul;</span>
<span id="L7062" title="Line 7062: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7062</span>                 :                :     NumericVar  tmp_var;</span>
<span id="L7063" title="Line 7063: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7063</span>                 :                : </span>
<span id="L7064" title="Line 7064: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7064</span>                 :<span class="tlaCBC">             78 :     init_var(&amp;tmp_var);</span></span>
<span id="L7065" title="Line 7065: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7065</span>                 :                : </span>
<span id="L7066" title="Line 7066: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7066</span>                 :<span class="tlaCBC">             78 :     zero_var(dest);</span></span>
<span id="L7067" title="Line 7067: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7067</span>                 :                : </span>
<span id="L7068" title="Line 7068: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7068</span>                 :                :     /*</span>
<span id="L7069" title="Line 7069: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7069</span>                 :                :      * Process input digits in groups that fit in int64.  Here &quot;tmp&quot; is the</span>
<span id="L7070" title="Line 7070: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7070</span>                 :                :      * value of the digits in the group, and &quot;mul&quot; is base^n, where n is the</span>
<span id="L7071" title="Line 7071: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7071</span>                 :                :      * number of digits in the group.  Thus tmp &lt; mul, and we must start a new</span>
<span id="L7072" title="Line 7072: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7072</span>                 :                :      * group when mul * base threatens to overflow PG_INT64_MAX.</span>
<span id="L7073" title="Line 7073: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7073</span>                 :                :      */</span>
<span id="L7074" title="Line 7074: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7074</span>                 :<span class="tlaCBC">             78 :     tmp = 0;</span></span>
<span id="L7075" title="Line 7075: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7075</span>                 :<span class="tlaCBC">             78 :     mul = 1;</span></span>
<span id="L7076" title="Line 7076: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7076</span>                 :                : </span>
<span id="L7077" title="Line 7077: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7077</span>         [<span class="tlaCBC"> <a href="#L7079" title="CBC: Branch 0 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7079" title="CBC: Branch 1 was taken 42 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             78 :     if (base == 16)</span></span>
<span id="L7078" title="Line 7078: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7078</span>                 :                :     {</span>
<span id="L7079" title="Line 7079: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7079</span>         [<span class="tlaCBC"> <a href="#L7081" title="CBC: Branch 0 was taken 399 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7081" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            414 :         while (*cp)</span></span>
<span id="L7080" title="Line 7080: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7080</span>                 :                :         {</span>
<span id="L7081" title="Line 7081: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7081</span>         [<span class="tlaCBC"> <a href="#L7083" title="CBC: Branch 0 was taken 354 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7083" title="CBC: Branch 1 was taken 45 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            399 :             if (isxdigit((unsigned char) *cp))</span></span>
<span id="L7082" title="Line 7082: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7082</span>                 :                :             {</span>
<span id="L7083" title="Line 7083: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7083</span>         [<span class="tlaCBC"> <a href="#L7092" title="CBC: Branch 0 was taken 15 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7092" title="CBC: Branch 1 was taken 339 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            354 :                 if (mul &gt; PG_INT64_MAX / 16)</span></span>
<span id="L7084" title="Line 7084: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7084</span>                 :                :                 {</span>
<span id="L7085" title="Line 7085: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7085</span>                 :                :                     /* Add the contribution from this group of digits */</span>
<span id="L7086" title="Line 7086: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7086</span>                 :<span class="tlaCBC">             15 :                     int64_to_numericvar(mul, &amp;tmp_var);</span></span>
<span id="L7087" title="Line 7087: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7087</span>                 :<span class="tlaCBC">             15 :                     mul_var(dest, &amp;tmp_var, dest, 0);</span></span>
<span id="L7088" title="Line 7088: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7088</span>                 :<span class="tlaCBC">             15 :                     int64_to_numericvar(tmp, &amp;tmp_var);</span></span>
<span id="L7089" title="Line 7089: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7089</span>                 :<span class="tlaCBC">             15 :                     add_var(dest, &amp;tmp_var, dest);</span></span>
<span id="L7090" title="Line 7090: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7090</span>                 :                : </span>
<span id="L7091" title="Line 7091: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7091</span>                 :                :                     /* Result will overflow if weight overflows int16 */</span>
<span id="L7092" title="Line 7092: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">  414                      <span class="lineNum">    7092</span>         [<span class="tlaUBC"> <a href="#L7129" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L7103" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             15 :                     if (dest-&gt;weight &gt; NUMERIC_WEIGHT_MAX)</span></span>
<span id="L7093" title="Line 7093: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 946 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L7130" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">946</a> <a href="#L7130" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    7093</span>                 :<a href="#L7130" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                         goto out_of_range;</span></span>
<span id="L7094" title="Line 7094: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7094</span>                 :                : </span>
<span id="L7095" title="Line 7095: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7095</span>                 :                :                     /* Begin a new group */</span>
<span id="L7096" title="Line 7096: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">  <a href="#L7133" title="next CBC in &ldquo;(360..) days&rdquo; bin">946</a> <a href="#L7133" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    7096</span>                 :<a href="#L7133" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          15 :                     tmp = 0;</span></span>
<span id="L7097" title="Line 7097: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7097</span>                 :<span class="tlaCBC">             15 :                     mul = 1;</span></span>
<span id="L7098" title="Line 7098: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7098</span>                 :                :                 }</span>
<span id="L7099" title="Line 7099: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7099</span>                 :                : </span>
<span id="L7100" title="Line 7100: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7100</span>                 :<span class="tlaCBC">            354 :                 tmp = tmp * 16 + xdigit_value(*cp++);</span></span>
<span id="L7101" title="Line 7101: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7101</span>                 :<span class="tlaCBC">            354 :                 mul = mul * 16;</span></span>
<span id="L7102" title="Line 7102: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7102</span>                 :                :             }</span>
<span id="L7103" title="Line 7103: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">  934                      <span class="lineNum">    7103</span>         [<span class="tlaCBC"> <a href="#L7107" title="CBC: Branch 0 was taken 33 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7107" title="CBC: Branch 1 was taken 12 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             45 :             else if (*cp == '_')</span></span>
<span id="L7104" title="Line 7104: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7104</span>                 :                :             {</span>
<span id="L7105" title="Line 7105: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7105</span>                 :                :                 /* Underscore must be followed by more digits */</span>
<span id="L7106" title="Line 7106: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7106</span>                 :<span class="tlaCBC">             33 :                 cp++;</span></span>
<span id="L7107" title="Line 7107: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7107</span>         [<span class="tlaCBC"> <a href="#L7114" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7114" title="CBC: Branch 1 was taken 24 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             33 :                 if (!isxdigit((unsigned char) *cp))</span></span>
<span id="L7108" title="Line 7108: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7108</span>                 :<span class="tlaCBC">              9 :                     goto invalid_syntax;</span></span>
<span id="L7109" title="Line 7109: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7109</span>                 :                :             }</span>
<span id="L7110" title="Line 7110: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7110</span>                 :                :             else</span>
<span id="L7111" title="Line 7111: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">  946                      <span class="lineNum">    7111</span>                 :<span class="tlaCBC">             12 :                 break;</span></span>
<span id="L7112" title="Line 7112: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7112</span>                 :                :         }</span>
<span id="L7113" title="Line 7113: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7113</span>                 :                :     }</span>
<span id="L7114" title="Line 7114: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7114</span>         [<span class="tlaCBC"> <a href="#L7116" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7116" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             42 :     else if (base == 8)</span></span>
<span id="L7115" title="Line 7115: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7115</span>                 :                :     {</span>
<span id="L7116" title="Line 7116: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7116</span>         [<span class="tlaCBC"> <a href="#L7118" title="CBC: Branch 0 was taken 303 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7118" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            318 :         while (*cp)</span></span>
<span id="L7117" title="Line 7117: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7117</span>                 :                :         {</span>
<span id="L7118" title="Line 7118: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7118</span>   [<span class="tlaCBC"> <a href="#L7120" title="CBC: Branch 0 was taken 300 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7120" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7120" title="CBC: Branch 2 was taken 279 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7120" title="CBC: Branch 3 was taken 21 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            303 :             if (*cp &gt;= '0' &amp;&amp; *cp &lt;= '7')</span></span>
<span id="L7119" title="Line 7119: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7119</span>                 :                :             {</span>
<span id="L7120" title="Line 7120: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7120</span>         [<span class="tlaCBC"> <a href="#L7129" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7129" title="CBC: Branch 1 was taken 270 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            279 :                 if (mul &gt; PG_INT64_MAX / 8)</span></span>
<span id="L7121" title="Line 7121: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7121</span>                 :                :                 {</span>
<span id="L7122" title="Line 7122: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7122</span>                 :                :                     /* Add the contribution from this group of digits */</span>
<span id="L7123" title="Line 7123: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7123</span>                 :<span class="tlaCBC">              9 :                     int64_to_numericvar(mul, &amp;tmp_var);</span></span>
<span id="L7124" title="Line 7124: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7124</span>                 :<span class="tlaCBC">              9 :                     mul_var(dest, &amp;tmp_var, dest, 0);</span></span>
<span id="L7125" title="Line 7125: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7125</span>                 :<span class="tlaCBC">              9 :                     int64_to_numericvar(tmp, &amp;tmp_var);</span></span>
<span id="L7126" title="Line 7126: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7126</span>                 :<span class="tlaCBC">              9 :                     add_var(dest, &amp;tmp_var, dest);</span></span>
<span id="L7127" title="Line 7127: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7127</span>                 :                : </span>
<span id="L7128" title="Line 7128: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7128</span>                 :                :                     /* Result will overflow if weight overflows int16 */</span>
<span id="L7129" title="Line 7129: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">  414                      <span class="lineNum">    7129</span>         [<span class="tlaUBC"> <a href="#L7144" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L7140" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :                     if (dest-&gt;weight &gt; NUMERIC_WEIGHT_MAX)</span></span>
<span id="L7130" title="Line 7130: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 946 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L7145" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">946</a> <a href="#L7145" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    7130</span>                 :<a href="#L7145" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                         goto out_of_range;</span></span>
<span id="L7131" title="Line 7131: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7131</span>                 :                : </span>
<span id="L7132" title="Line 7132: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7132</span>                 :                :                     /* Begin a new group */</span>
<span id="L7133" title="Line 7133: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">  <a href="#L7148" title="next CBC in &ldquo;(360..) days&rdquo; bin">946</a> <a href="#L7148" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    7133</span>                 :<a href="#L7148" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           9 :                     tmp = 0;</span></span>
<span id="L7134" title="Line 7134: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7134</span>                 :<span class="tlaCBC">              9 :                     mul = 1;</span></span>
<span id="L7135" title="Line 7135: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7135</span>                 :                :                 }</span>
<span id="L7136" title="Line 7136: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7136</span>                 :                : </span>
<span id="L7137" title="Line 7137: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7137</span>                 :<span class="tlaCBC">            279 :                 tmp = tmp * 8 + (*cp++ - '0');</span></span>
<span id="L7138" title="Line 7138: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7138</span>                 :<span class="tlaCBC">            279 :                 mul = mul * 8;</span></span>
<span id="L7139" title="Line 7139: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7139</span>                 :                :             }</span>
<span id="L7140" title="Line 7140: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">  934                      <span class="lineNum">    7140</span>         [<span class="tlaCBC"> <a href="#L7144" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7144" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             24 :             else if (*cp == '_')</span></span>
<span id="L7141" title="Line 7141: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7141</span>                 :                :             {</span>
<span id="L7142" title="Line 7142: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7142</span>                 :                :                 /* Underscore must be followed by more digits */</span>
<span id="L7143" title="Line 7143: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7143</span>                 :<span class="tlaCBC">             18 :                 cp++;</span></span>
<span id="L7144" title="Line 7144: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7144</span>   [<span class="tlaCBC"> <a href="#L7151" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7151" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L7151" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L7151" title="CBC: Branch 3 was taken 18 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :                 if (*cp &lt; '0' || *cp &gt; '7')</span></span>
<span id="L7145" title="Line 7145: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 934 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L7167" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">934</a> <a href="#L7167" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    7145</span>                 :<a href="#L7167" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                     goto invalid_syntax;</span></span>
<span id="L7146" title="Line 7146: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7146</span>                 :                :             }</span>
<span id="L7147" title="Line 7147: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7147</span>                 :                :             else</span>
<span id="L7148" title="Line 7148: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">  <a href="#L7170" title="next CBC in &ldquo;(360..) days&rdquo; bin">946</a> <a href="#L7170" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    7148</span>                 :<a href="#L7170" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           6 :                 break;</span></span>
<span id="L7149" title="Line 7149: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7149</span>                 :                :         }</span>
<span id="L7150" title="Line 7150: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7150</span>                 :                :     }</span>
<span id="L7151" title="Line 7151: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7151</span>         [<span class="tlaCBC"> <a href="#L7153" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7166" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             21 :     else if (base == 2)</span></span>
<span id="L7152" title="Line 7152: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7152</span>                 :                :     {</span>
<span id="L7153" title="Line 7153: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7153</span>         [<span class="tlaCBC"> <a href="#L7155" title="CBC: Branch 0 was taken 765 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7155" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            780 :         while (*cp)</span></span>
<span id="L7154" title="Line 7154: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7154</span>                 :                :         {</span>
<span id="L7155" title="Line 7155: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7155</span>   [<span class="tlaCBC"> <a href="#L7157" title="CBC: Branch 0 was taken 762 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7157" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7157" title="CBC: Branch 2 was taken 708 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7157" title="CBC: Branch 3 was taken 54 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            765 :             if (*cp &gt;= '0' &amp;&amp; *cp &lt;= '1')</span></span>
<span id="L7156" title="Line 7156: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7156</span>                 :                :             {</span>
<span id="L7157" title="Line 7157: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7157</span>         [<span class="tlaCBC"> <a href="#L7166" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7166" title="CBC: Branch 1 was taken 699 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            708 :                 if (mul &gt; PG_INT64_MAX / 2)</span></span>
<span id="L7158" title="Line 7158: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7158</span>                 :                :                 {</span>
<span id="L7159" title="Line 7159: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7159</span>                 :                :                     /* Add the contribution from this group of digits */</span>
<span id="L7160" title="Line 7160: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7160</span>                 :<span class="tlaCBC">              9 :                     int64_to_numericvar(mul, &amp;tmp_var);</span></span>
<span id="L7161" title="Line 7161: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7161</span>                 :<span class="tlaCBC">              9 :                     mul_var(dest, &amp;tmp_var, dest, 0);</span></span>
<span id="L7162" title="Line 7162: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7162</span>                 :<span class="tlaCBC">              9 :                     int64_to_numericvar(tmp, &amp;tmp_var);</span></span>
<span id="L7163" title="Line 7163: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7163</span>                 :<span class="tlaCBC">              9 :                     add_var(dest, &amp;tmp_var, dest);</span></span>
<span id="L7164" title="Line 7164: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7164</span>                 :                : </span>
<span id="L7165" title="Line 7165: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7165</span>                 :                :                     /* Result will overflow if weight overflows int16 */</span>
<span id="L7166" title="Line 7166: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">  414                      <span class="lineNum">    7166</span>         [<span class="tlaUBC"> <a href="#L7181" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L7177" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :                     if (dest-&gt;weight &gt; NUMERIC_WEIGHT_MAX)</span></span>
<span id="L7167" title="Line 7167: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 946 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L7182" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">946</a> <a href="#L7182" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    7167</span>                 :<a href="#L7182" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                         goto out_of_range;</span></span>
<span id="L7168" title="Line 7168: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7168</span>                 :                : </span>
<span id="L7169" title="Line 7169: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7169</span>                 :                :                     /* Begin a new group */</span>
<span id="L7170" title="Line 7170: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">  <a href="#L7185" title="next CBC in &ldquo;(360..) days&rdquo; bin">946</a> <a href="#L7185" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    7170</span>                 :<a href="#L7185" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           9 :                     tmp = 0;</span></span>
<span id="L7171" title="Line 7171: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7171</span>                 :<span class="tlaCBC">              9 :                     mul = 1;</span></span>
<span id="L7172" title="Line 7172: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7172</span>                 :                :                 }</span>
<span id="L7173" title="Line 7173: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7173</span>                 :                : </span>
<span id="L7174" title="Line 7174: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7174</span>                 :<span class="tlaCBC">            708 :                 tmp = tmp * 2 + (*cp++ - '0');</span></span>
<span id="L7175" title="Line 7175: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7175</span>                 :<span class="tlaCBC">            708 :                 mul = mul * 2;</span></span>
<span id="L7176" title="Line 7176: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7176</span>                 :                :             }</span>
<span id="L7177" title="Line 7177: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">  934                      <span class="lineNum">    7177</span>         [<span class="tlaCBC"> <a href="#L7181" title="CBC: Branch 0 was taken 51 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7181" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             57 :             else if (*cp == '_')</span></span>
<span id="L7178" title="Line 7178: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7178</span>                 :                :             {</span>
<span id="L7179" title="Line 7179: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7179</span>                 :                :                 /* Underscore must be followed by more digits */</span>
<span id="L7180" title="Line 7180: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7180</span>                 :<span class="tlaCBC">             51 :                 cp++;</span></span>
<span id="L7181" title="Line 7181: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7181</span>   [<span class="tlaCBC"> <a href="#L7193" title="CBC: Branch 0 was taken 51 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7193" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L7193" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L7193" title="CBC: Branch 3 was taken 51 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             51 :                 if (*cp &lt; '0' || *cp &gt; '1')</span></span>
<span id="L7182" title="Line 7182: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 934 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L7190" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">934</a> <a href="#L7190" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    7182</span>                 :<a href="#L7190" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                     goto invalid_syntax;</span></span>
<span id="L7183" title="Line 7183: commit faff8f8e47f1 on 2023-02-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7183</span>                 :                :             }</span>
<span id="L7184" title="Line 7184: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7184</span>                 :                :             else</span>
<span id="L7185" title="Line 7185: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">  <a href="#L7193" title="next CBC in &ldquo;(360..) days&rdquo; bin">946</a> <a href="#L7193" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    7185</span>                 :<a href="#L7193" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           6 :                 break;</span></span>
<span id="L7186" title="Line 7186: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7186</span>                 :                :         }</span>
<span id="L7187" title="Line 7187: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7187</span>                 :                :     }</span>
<span id="L7188" title="Line 7188: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7188</span>                 :                :     else</span>
<span id="L7189" title="Line 7189: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7189</span>                 :                :         /* Should never happen; treat as invalid input */</span>
<span id="L7190" title="Line 7190: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 946 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L7194" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">946</a> <a href="#L7194" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    7190</span>                 :<a href="#L7194" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         goto invalid_syntax;</span></span>
<span id="L7191" title="Line 7191: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7191</span>                 :                : </span>
<span id="L7192" title="Line 7192: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7192</span>                 :                :     /* Check that we got at least one digit */</span>
<span id="L7193" title="Line 7193: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">  <a href="#L7197" title="next CBC in &ldquo;(360..) days&rdquo; bin">946</a> <a href="#L7197" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    7193</span>         [<span class="tlaUBC"> <a href="#L7202" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L7202" title="CBC: Branch 1 was taken 69 times" class="branchTla">+</a> </span>]:<a href="#L7197" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          69 :     if (unlikely(cp == firstdigit))</span></span>
<span id="L7194" title="Line 7194: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 946 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L7203" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">946</a> <a href="#L7203" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    7194</span>                 :<a href="#L7203" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         goto invalid_syntax;</span></span>
<span id="L7195" title="Line 7195: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7195</span>                 :                : </span>
<span id="L7196" title="Line 7196: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7196</span>                 :                :     /* Add the contribution from the final group of digits */</span>
<span id="L7197" title="Line 7197: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">  <a href="#L7205" title="next CBC in &ldquo;(360..) days&rdquo; bin">946</a> <a href="#L7205" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    7197</span>                 :<a href="#L7205" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          69 :     int64_to_numericvar(mul, &amp;tmp_var);</span></span>
<span id="L7198" title="Line 7198: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7198</span>                 :<span class="tlaCBC">             69 :     mul_var(dest, &amp;tmp_var, dest, 0);</span></span>
<span id="L7199" title="Line 7199: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7199</span>                 :<span class="tlaCBC">             69 :     int64_to_numericvar(tmp, &amp;tmp_var);</span></span>
<span id="L7200" title="Line 7200: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7200</span>                 :<span class="tlaCBC">             69 :     add_var(dest, &amp;tmp_var, dest);</span></span>
<span id="L7201" title="Line 7201: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7201</span>                 :                : </span>
<span id="L7202" title="Line 7202: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">  414                      <span class="lineNum">    7202</span>         [<span class="tlaUBC"> <a href="#L7215" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L7220" title="CBC: Branch 1 was taken 69 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             69 :     if (dest-&gt;weight &gt; NUMERIC_WEIGHT_MAX)</span></span>
<span id="L7203" title="Line 7203: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 946 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L7214" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">946</a> <a href="#L7214" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    7203</span>                 :<a href="#L7214" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         goto out_of_range;</span></span>
<span id="L7204" title="Line 7204: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7204</span>                 :                : </span>
<span id="L7205" title="Line 7205: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">  <a href="#L7219" title="next CBC in &ldquo;(360..) days&rdquo; bin">946</a> <a href="#L7219" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    7205</span>                 :<a href="#L7219" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          69 :     dest-&gt;sign = sign;</span></span>
<span id="L7206" title="Line 7206: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7206</span>                 :                : </span>
<span id="L7207" title="Line 7207: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7207</span>                 :<span class="tlaCBC">             69 :     free_var(&amp;tmp_var);</span></span>
<span id="L7208" title="Line 7208: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7208</span>                 :                : </span>
<span id="L7209" title="Line 7209: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7209</span>                 :                :     /* Return end+1 position for caller */</span>
<span id="L7210" title="Line 7210: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7210</span>                 :<span class="tlaCBC">             69 :     *endptr = cp;</span></span>
<span id="L7211" title="Line 7211: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7211</span>                 :                : </span>
<span id="L7212" title="Line 7212: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7212</span>                 :<span class="tlaCBC">             69 :     return true;</span></span>
<span id="L7213" title="Line 7213: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7213</span>                 :                : </span>
<span id="L7214" title="Line 7214: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 946 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L7469" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">946</a> <a href="#L9252" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    7214</span>                 :<a href="#L7469" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 : out_of_range:</span></span>
<span id="L7215" title="Line 7215: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 946 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    7215</span>         [<span class="tlaUBC"> <a href="#L7220" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L7220" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :     ereturn(escontext, false,</span></span>
<span id="L7216" title="Line 7216: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7216</span>                 :                :             (errcode(ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE),</span>
<span id="L7217" title="Line 7217: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7217</span>                 :                :              errmsg(&quot;value overflows numeric format&quot;)));</span>
<span id="L7218" title="Line 7218: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7218</span>                 :                : </span>
<span id="L7219" title="Line 7219: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">  <a href="#L7477" title="next CBC in &ldquo;(360..) days&rdquo; bin">946</a> <a href="#L7503" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    7219</span>                 :<a href="#L7477" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           9 : invalid_syntax:</span></span>
<span id="L7220" title="Line 7220: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7220</span>         [<span class="tlaCBC"> <a href="#L7237" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7242" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              9 :     ereturn(escontext, false,</span></span>
<span id="L7221" title="Line 7221: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7221</span>                 :                :             (errcode(ERRCODE_INVALID_TEXT_REPRESENTATION),</span>
<span id="L7222" title="Line 7222: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7222</span>                 :                :              errmsg(&quot;invalid input syntax for type %s: \&quot;%s\&quot;&quot;,</span>
<span id="L7223" title="Line 7223: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7223</span>                 :                :                     &quot;numeric&quot;, str)));</span>
<span id="L7224" title="Line 7224: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7224</span>                 :                : }</span>
<span id="L7225" title="Line 7225: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7225</span>                 :                : </span>
<span id="L7226" title="Line 7226: commit 6dfacbf72b53 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7226</span>                 :                : </span>
<span id="L7227" title="Line 7227: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7227</span>                 :                : /*</span>
<span id="L7228" title="Line 7228: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7228</span>                 :                :  * set_var_from_num() -</span>
<span id="L7229" title="Line 7229: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7229</span>                 :                :  *</span>
<span id="L7230" title="Line 7230: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7230</span>                 :                :  *  Convert the packed db format into a variable</span>
<span id="L7231" title="Line 7231: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7231</span>                 :                :  */</span>
<span id="L7232" title="Line 7232: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7232</span>                 :                : static void</span>
<span id="L7233" title="Line 7233: commit fcff1cdf4ead on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L7242" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    7233</span>                 :<span class="tlaCBC">           6464 : set_var_from_num(Numeric num, NumericVar *dest)</span></span>
<span id="L7234" title="Line 7234: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7234</span>                 :                : {</span>
<span id="L7235" title="Line 7235: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7235</span>                 :                :     int         ndigits;</span>
<span id="L7236" title="Line 7236: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7236</span>                 :                : </span>
<span id="L7237" title="Line 7237: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us"> 7140                      <span class="lineNum">    7237</span>         [<span class="tlaCBC"> <a href="#L7241" title="CBC: Branch 0 was taken 6140 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7241" title="CBC: Branch 1 was taken 324 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           6464 :     ndigits = NUMERIC_NDIGITS(num);</span></span>
<span id="L7238" title="Line 7238: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7238</span>                 :                : </span>
<span id="L7239" title="Line 7239: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L7243" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7239</span>                 :<span class="tlaCBC">           6464 :     alloc_var(dest, ndigits);</span></span>
<span id="L7240" title="Line 7240: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7240</span>                 :                : </span>
<span id="L7241" title="Line 7241: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"> 5502 <a href="#L7245" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    7241</span>   [<span class="tlaCBC"> <a href="#L7242" title="CBC: Branch 0 was taken 6140 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7242" title="CBC: Branch 1 was taken 324 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7242" title="CBC: Branch 2 was taken 568 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7242" title="CBC: Branch 3 was taken 5572 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           6464 :     dest-&gt;weight = NUMERIC_WEIGHT(num);</span></span>
<span id="L7242" title="Line 7242: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L7271" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    7242</span>   [<span class="tlaCBC"> <a href="#L7243" title="CBC: Branch 0 was taken 6140 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7243" title="CBC: Branch 1 was taken 324 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7268" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L7243" title="CBC: Branch 3 was taken 324 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           6464 :     dest-&gt;sign = NUMERIC_SIGN(num);</span></span>
<span id="L7243" title="Line 7243: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L7285" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7243</span>         [<span class="tlaCBC"> <a href="#L7245" title="CBC: Branch 0 was taken 6140 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7245" title="CBC: Branch 1 was taken 324 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           6464 :     dest-&gt;dscale = NUMERIC_DSCALE(num);</span></span>
<span id="L7244" title="Line 7244: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7244</span>                 :                : </span>
<span id="L7245" title="Line 7245: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"> 5502 <a href="#L7619" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    7245</span>         [<span class="tlaCBC"> <a href="#L7266" title="CBC: Branch 0 was taken 6140 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7266" title="CBC: Branch 1 was taken 324 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           6464 :     memcpy(dest-&gt;digits, NUMERIC_DIGITS(num), ndigits * sizeof(NumericDigit));</span></span>
<span id="L7246" title="Line 7246: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L7291" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    7246</span>                 :<span class="tlaCBC">           6464 : }</span></span>
<span id="L7247" title="Line 7247: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7247</span>                 :                : </span>
<span id="L7248" title="Line 7248: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7248</span>                 :                : </span>
<span id="L7249" title="Line 7249: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7249</span>                 :                : /*</span>
<span id="L7250" title="Line 7250: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7250</span>                 :                :  * init_var_from_num() -</span>
<span id="L7251" title="Line 7251: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7251</span>                 :                :  *</span>
<span id="L7252" title="Line 7252: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7252</span>                 :                :  *  Initialize a variable from packed db format. The digits array is not</span>
<span id="L7253" title="Line 7253: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7253</span>                 :                :  *  copied, which saves some cycles when the resulting var is not modified.</span>
<span id="L7254" title="Line 7254: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7254</span>                 :                :  *  Also, there's no need to call free_var(), as long as you don't assign any</span>
<span id="L7255" title="Line 7255: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7255</span>                 :                :  *  other value to it (with set_var_* functions, or by using the var as the</span>
<span id="L7256" title="Line 7256: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7256</span>                 :                :  *  destination of a function like add_var())</span>
<span id="L7257" title="Line 7257: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7257</span>                 :                :  *</span>
<span id="L7258" title="Line 7258: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7258</span>                 :                :  *  CAUTION: Do not modify the digits buffer of a var initialized with this</span>
<span id="L7259" title="Line 7259: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7259</span>                 :                :  *  function, e.g by calling round_var() or trunc_var(), as the changes will</span>
<span id="L7260" title="Line 7260: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7260</span>                 :                :  *  propagate to the original Numeric! It's OK to use it as the destination</span>
<span id="L7261" title="Line 7261: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7261</span>                 :                :  *  argument of one of the calculational functions, though.</span>
<span id="L7262" title="Line 7262: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7262</span>                 :                :  */</span>
<span id="L7263" title="Line 7263: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7263</span>                 :                : static void</span>
<span id="L7264" title="Line 7264: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L7272" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    7264</span>                 :<span class="tlaCBC">        2932672 : init_var_from_num(Numeric num, NumericVar *dest)</span></span>
<span id="L7265" title="Line 7265: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7265</span>                 :                : {</span>
<span id="L7266" title="Line 7266: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7266</span>         [<span class="tlaCBC"> <a href="#L7267" title="CBC: Branch 0 was taken 2932232 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7267" title="CBC: Branch 1 was taken 440 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        2932672 :     dest-&gt;ndigits = NUMERIC_NDIGITS(num);</span></span>
<span id="L7267" title="Line 7267: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7267</span>   [<span class="tlaCBC"> <a href="#L7268" title="CBC: Branch 0 was taken 2932232 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7268" title="CBC: Branch 1 was taken 440 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7268" title="CBC: Branch 2 was taken 354836 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7268" title="CBC: Branch 3 was taken 2577396 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        2932672 :     dest-&gt;weight = NUMERIC_WEIGHT(num);</span></span>
<span id="L7268" title="Line 7268: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7268</span>   [<span class="tlaCBC"> <a href="#L7269" title="CBC: Branch 0 was taken 2932232 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7269" title="CBC: Branch 1 was taken 440 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7468" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L7269" title="CBC: Branch 3 was taken 440 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        2932672 :     dest-&gt;sign = NUMERIC_SIGN(num);</span></span>
<span id="L7269" title="Line 7269: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7269</span>         [<span class="tlaCBC"> <a href="#L7270" title="CBC: Branch 0 was taken 2932232 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7270" title="CBC: Branch 1 was taken 440 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        2932672 :     dest-&gt;dscale = NUMERIC_DSCALE(num);</span></span>
<span id="L7270" title="Line 7270: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7270</span>         [<span class="tlaCBC"> <a href="#L7287" title="CBC: Branch 0 was taken 2932232 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7287" title="CBC: Branch 1 was taken 440 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        2932672 :     dest-&gt;digits = NUMERIC_DIGITS(num);</span></span>
<span id="L7271" title="Line 7271: commit 9af4159fce66 on 2013-05-29 by bruce@momjian.us"> 4472 <a href="#L7294" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    7271</span>                 :<span class="tlaCBC">        2932672 :     dest-&gt;buf = NULL;            /* digits array is not palloc'd */</span></span>
<span id="L7272" title="Line 7272: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L7321" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    7272</span>                 :<span class="tlaCBC">        2932672 : }</span></span>
<span id="L7273" title="Line 7273: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7273</span>                 :                : </span>
<span id="L7274" title="Line 7274: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7274</span>                 :                : </span>
<span id="L7275" title="Line 7275: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7275</span>                 :                : /*</span>
<span id="L7276" title="Line 7276: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7276</span>                 :                :  * set_var_from_var() -</span>
<span id="L7277" title="Line 7277: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7277</span>                 :                :  *</span>
<span id="L7278" title="Line 7278: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7278</span>                 :                :  *  Copy one variable into another</span>
<span id="L7279" title="Line 7279: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7279</span>                 :                :  */</span>
<span id="L7280" title="Line 7280: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7280</span>                 :                : static void</span>
<span id="L7281" title="Line 7281: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L7307" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    7281</span>                 :<span class="tlaCBC">          17589 : set_var_from_var(const NumericVar *value, NumericVar *dest)</span></span>
<span id="L7282" title="Line 7282: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7282</span>                 :                : {</span>
<span id="L7283" title="Line 7283: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7283</span>                 :                :     NumericDigit *newbuf;</span>
<span id="L7284" title="Line 7284: commit 3cb8c8da68c0 on 2000-01-15 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7284</span>                 :                : </span>
<span id="L7285" title="Line 7285: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352 <a href="#L7295" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7285</span>                 :<span class="tlaCBC">          17589 :     newbuf = digitbuf_alloc(value-&gt;ndigits + 1);</span></span>
<span id="L7286" title="Line 7286: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7286</span>                 :<span class="tlaCBC">          17589 :     newbuf[0] = 0;              /* spare digit for rounding */</span></span>
<span id="L7287" title="Line 7287: commit 13bba02271dc on 2015-08-02 by tgl@sss.pgh.pa.us"> 3677                      <span class="lineNum">    7287</span>         [<span class="tlaCBC"> <a href="#L7291" title="CBC: Branch 0 was taken 17116 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7291" title="CBC: Branch 1 was taken 473 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          17589 :     if (value-&gt;ndigits &gt; 0)       /* else value-&gt;digits might be null */</span></span>
<span id="L7288" title="Line 7288: commit 13bba02271dc on 2015-08-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7288</span>                 :<span class="tlaCBC">          17116 :         memcpy(newbuf + 1, value-&gt;digits,</span></span>
<span id="L7289" title="Line 7289: commit 13bba02271dc on 2015-08-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7289</span>                 :<span class="tlaCBC">          17116 :                value-&gt;ndigits * sizeof(NumericDigit));</span></span>
<span id="L7290" title="Line 7290: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7290</span>                 :                : </span>
<span id="L7291" title="Line 7291: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L7626" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    7291</span>         [<span class="tlaCBC"> <a href="#L7332" title="CBC: Branch 0 was taken 7884 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7332" title="CBC: Branch 1 was taken 9705 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          17589 :     digitbuf_free(dest-&gt;buf);</span></span>
<span id="L7292" title="Line 7292: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7292</span>                 :                : </span>
<span id="L7293" title="Line 7293: commit e66fcce67272 on 2004-02-04 by neilc@samurai.com"> 7874 <a href="#L10732" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">    7293</span>                 :<span class="tlaCBC">          17589 :     memmove(dest, value, sizeof(NumericVar));</span></span>
<span id="L7294" title="Line 7294: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L7360" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    7294</span>                 :<span class="tlaCBC">          17589 :     dest-&gt;buf = newbuf;</span></span>
<span id="L7295" title="Line 7295: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352 <a href="#L7331" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7295</span>                 :<span class="tlaCBC">          17589 :     dest-&gt;digits = newbuf + 1;</span></span>
<span id="L7296" title="Line 7296: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7296</span>                 :<span class="tlaCBC">          17589 : }</span></span>
<span id="L7297" title="Line 7297: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7297</span>                 :                : </span>
<span id="L7298" title="Line 7298: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7298</span>                 :                : </span>
<span id="L7299" title="Line 7299: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7299</span>                 :                : /*</span>
<span id="L7300" title="Line 7300: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7300</span>                 :                :  * get_str_from_var() -</span>
<span id="L7301" title="Line 7301: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7301</span>                 :                :  *</span>
<span id="L7302" title="Line 7302: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7302</span>                 :                :  *  Convert a var to text representation (guts of numeric_out).</span>
<span id="L7303" title="Line 7303: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7303</span>                 :                :  *  The var is displayed to the number of digits indicated by its dscale.</span>
<span id="L7304" title="Line 7304: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7304</span>                 :                :  *  Returns a palloc'd string.</span>
<span id="L7305" title="Line 7305: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7305</span>                 :                :  */</span>
<span id="L7306" title="Line 7306: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7306</span>                 :                : static char *</span>
<span id="L7307" title="Line 7307: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L7460" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    7307</span>                 :<span class="tlaCBC">         444065 : get_str_from_var(const NumericVar *var)</span></span>
<span id="L7308" title="Line 7308: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7308</span>                 :                : {</span>
<span id="L7309" title="Line 7309: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7309</span>                 :                :     int         dscale;</span>
<span id="L7310" title="Line 7310: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7310</span>                 :                :     char       *str;</span>
<span id="L7311" title="Line 7311: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7311</span>                 :                :     char       *cp;</span>
<span id="L7312" title="Line 7312: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7312</span>                 :                :     char       *endcp;</span>
<span id="L7313" title="Line 7313: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7313</span>                 :                :     int         i;</span>
<span id="L7314" title="Line 7314: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7314</span>                 :                :     int         d;</span>
<span id="L7315" title="Line 7315: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">    7315</span>                 :                :     NumericDigit dig;</span>
<span id="L7316" title="Line 7316: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">    7316</span>                 :                : </span>
<span id="L7317" title="Line 7317: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7317</span>                 :                : #if DEC_DIGITS &gt; 1</span>
<span id="L7318" title="Line 7318: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">    7318</span>                 :                :     NumericDigit d1;</span>
<span id="L7319" title="Line 7319: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7319</span>                 :                : #endif</span>
<span id="L7320" title="Line 7320: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7320</span>                 :                : </span>
<span id="L7321" title="Line 7321: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L7853" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    7321</span>                 :<span class="tlaCBC">         444065 :     dscale = var-&gt;dscale;</span></span>
<span id="L7322" title="Line 7322: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7322</span>                 :                : </span>
<span id="L7323" title="Line 7323: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    7323</span>                 :                :     /*</span>
<span id="L7324" title="Line 7324: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7324</span>                 :                :      * Allocate space for the result.</span>
<span id="L7325" title="Line 7325: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7325</span>                 :                :      *</span>
<span id="L7326" title="Line 7326: commit f291ccd43e06 on 2012-05-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7326</span>                 :                :      * i is set to the # of decimal digits before decimal point. dscale is the</span>
<span id="L7327" title="Line 7327: commit 436a2956d80d on 2005-11-22 by bruce@momjian.us">                           <span class="lineNum">    7327</span>                 :                :      * # of decimal digits we will print after decimal point. We may generate</span>
<span id="L7328" title="Line 7328: commit 436a2956d80d on 2005-11-22 by bruce@momjian.us">                           <span class="lineNum">    7328</span>                 :                :      * as many as DEC_DIGITS-1 excess digits at the end, and in addition we</span>
<span id="L7329" title="Line 7329: commit 436a2956d80d on 2005-11-22 by bruce@momjian.us">                           <span class="lineNum">    7329</span>                 :                :      * need room for sign, decimal point, null terminator.</span>
<span id="L7330" title="Line 7330: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7330</span>                 :                :      */</span>
<span id="L7331" title="Line 7331: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L7362" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7331</span>                 :<span class="tlaCBC">         444065 :     i = (var-&gt;weight + 1) * DEC_DIGITS;</span></span>
<span id="L7332" title="Line 7332: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7332</span>         [<span class="tlaCBC"> <a href="#L7341" title="CBC: Branch 0 was taken 68829 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7341" title="CBC: Branch 1 was taken 375236 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         444065 :     if (i &lt;= 0)</span></span>
<span id="L7333" title="Line 7333: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7333</span>                 :<span class="tlaCBC">          68829 :         i = 1;</span></span>
<span id="L7334" title="Line 7334: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7334</span>                 :                : </span>
<span id="L7335" title="Line 7335: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7335</span>                 :<span class="tlaCBC">         444065 :     str = palloc(i + dscale + DEC_DIGITS + 2);</span></span>
<span id="L7336" title="Line 7336: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352                      <span class="lineNum">    7336</span>                 :<span class="tlaCBC">         444065 :     cp = str;</span></span>
<span id="L7337" title="Line 7337: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7337</span>                 :                : </span>
<span id="L7338" title="Line 7338: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    7338</span>                 :                :     /*</span>
<span id="L7339" title="Line 7339: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7339</span>                 :                :      * Output a dash for negative values</span>
<span id="L7340" title="Line 7340: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7340</span>                 :                :      */</span>
<span id="L7341" title="Line 7341: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7341</span>         [<span class="tlaCBC"> <a href="#L7347" title="CBC: Branch 0 was taken 3379 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7347" title="CBC: Branch 1 was taken 440686 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         444065 :     if (var-&gt;sign == NUMERIC_NEG)</span></span>
<span id="L7342" title="Line 7342: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7342</span>                 :<span class="tlaCBC">           3379 :         *cp++ = '-';</span></span>
<span id="L7343" title="Line 7343: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7343</span>                 :                : </span>
<span id="L7344" title="Line 7344: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    7344</span>                 :                :     /*</span>
<span id="L7345" title="Line 7345: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7345</span>                 :                :      * Output all digits before the decimal point</span>
<span id="L7346" title="Line 7346: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7346</span>                 :                :      */</span>
<span id="L7347" title="Line 7347: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">    7347</span>         [<span class="tlaCBC"> <a href="#L7354" title="CBC: Branch 0 was taken 68829 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7354" title="CBC: Branch 1 was taken 375236 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         444065 :     if (var-&gt;weight &lt; 0)</span></span>
<span id="L7348" title="Line 7348: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7348</span>                 :                :     {</span>
<span id="L7349" title="Line 7349: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7349</span>                 :<span class="tlaCBC">          68829 :         d = var-&gt;weight + 1;</span></span>
<span id="L7350" title="Line 7350: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7350</span>                 :<span class="tlaCBC">          68829 :         *cp++ = '0';</span></span>
<span id="L7351" title="Line 7351: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7351</span>                 :                :     }</span>
<span id="L7352" title="Line 7352: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7352</span>                 :                :     else</span>
<span id="L7353" title="Line 7353: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7353</span>                 :                :     {</span>
<span id="L7354" title="Line 7354: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7354</span>         [<span class="tlaCBC"> <a href="#L7356" title="CBC: Branch 0 was taken 429174 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7356" title="CBC: Branch 1 was taken 375236 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         804410 :         for (d = 0; d &lt;= var-&gt;weight; d++)</span></span>
<span id="L7355" title="Line 7355: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7355</span>                 :                :         {</span>
<span id="L7356" title="Line 7356: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7356</span>         [<span class="tlaCBC"> <a href="#L7365" title="CBC: Branch 0 was taken 370822 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7365" title="CBC: Branch 1 was taken 58352 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         429174 :             dig = (d &lt; var-&gt;ndigits) ? var-&gt;digits[d] : 0;</span></span>
<span id="L7357" title="Line 7357: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7357</span>                 :                :             /* In the first digit, suppress extra leading decimal zeroes */</span>
<span id="L7358" title="Line 7358: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7358</span>                 :                : #if DEC_DIGITS == 4</span>
<span id="L7359" title="Line 7359: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7359</span>                 :                :             {</span>
<span id="L7360" title="Line 7360: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> 8058 <a href="#L7599" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    7360</span>                 :<span class="tlaCBC">         429174 :                 bool        putit = (d &gt; 0);</span></span>
<span id="L7361" title="Line 7361: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7361</span>                 :                : </span>
<span id="L7362" title="Line 7362: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L7468" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7362</span>                 :<span class="tlaCBC">         429174 :                 d1 = dig / 1000;</span></span>
<span id="L7363" title="Line 7363: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7363</span>                 :<span class="tlaCBC">         429174 :                 dig -= d1 * 1000;</span></span>
<span id="L7364" title="Line 7364: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7364</span>                 :<span class="tlaCBC">         429174 :                 putit |= (d1 &gt; 0);</span></span>
<span id="L7365" title="Line 7365: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7365</span>         [<span class="tlaCBC"> <a href="#L7370" title="CBC: Branch 0 was taken 84922 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7370" title="CBC: Branch 1 was taken 344252 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         429174 :                 if (putit)</span></span>
<span id="L7366" title="Line 7366: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7366</span>                 :<span class="tlaCBC">          84922 :                     *cp++ = d1 + '0';</span></span>
<span id="L7367" title="Line 7367: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7367</span>                 :<span class="tlaCBC">         429174 :                 d1 = dig / 100;</span></span>
<span id="L7368" title="Line 7368: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7368</span>                 :<span class="tlaCBC">         429174 :                 dig -= d1 * 100;</span></span>
<span id="L7369" title="Line 7369: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7369</span>                 :<span class="tlaCBC">         429174 :                 putit |= (d1 &gt; 0);</span></span>
<span id="L7370" title="Line 7370: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7370</span>         [<span class="tlaCBC"> <a href="#L7375" title="CBC: Branch 0 was taken 290380 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7375" title="CBC: Branch 1 was taken 138794 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         429174 :                 if (putit)</span></span>
<span id="L7371" title="Line 7371: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7371</span>                 :<span class="tlaCBC">         290380 :                     *cp++ = d1 + '0';</span></span>
<span id="L7372" title="Line 7372: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7372</span>                 :<span class="tlaCBC">         429174 :                 d1 = dig / 10;</span></span>
<span id="L7373" title="Line 7373: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7373</span>                 :<span class="tlaCBC">         429174 :                 dig -= d1 * 10;</span></span>
<span id="L7374" title="Line 7374: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7374</span>                 :<span class="tlaCBC">         429174 :                 putit |= (d1 &gt; 0);</span></span>
<span id="L7375" title="Line 7375: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7375</span>         [<span class="tlaCBC"> <a href="#L7398" title="CBC: Branch 0 was taken 356781 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7398" title="CBC: Branch 1 was taken 72393 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         429174 :                 if (putit)</span></span>
<span id="L7376" title="Line 7376: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7376</span>                 :<span class="tlaCBC">         356781 :                     *cp++ = d1 + '0';</span></span>
<span id="L7377" title="Line 7377: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7377</span>                 :<span class="tlaCBC">         429174 :                 *cp++ = dig + '0';</span></span>
<span id="L7378" title="Line 7378: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7378</span>                 :                :             }</span>
<span id="L7379" title="Line 7379: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7379</span>                 :                : #elif DEC_DIGITS == 2</span>
<span id="L7380" title="Line 7380: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7380</span>                 :                :             d1 = dig / 10;</span>
<span id="L7381" title="Line 7381: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7381</span>                 :                :             dig -= d1 * 10;</span>
<span id="L7382" title="Line 7382: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7382</span>                 :                :             if (d1 &gt; 0 || d &gt; 0)</span>
<span id="L7383" title="Line 7383: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7383</span>                 :                :                 *cp++ = d1 + '0';</span>
<span id="L7384" title="Line 7384: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7384</span>                 :                :             *cp++ = dig + '0';</span>
<span id="L7385" title="Line 7385: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7385</span>                 :                : #elif DEC_DIGITS == 1</span>
<span id="L7386" title="Line 7386: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7386</span>                 :                :             *cp++ = dig + '0';</span>
<span id="L7387" title="Line 7387: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7387</span>                 :                : #else</span>
<span id="L7388" title="Line 7388: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7388</span>                 :                : #error unsupported NBASE</span>
<span id="L7389" title="Line 7389: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7389</span>                 :                : #endif</span>
<span id="L7390" title="Line 7390: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7390</span>                 :                :         }</span>
<span id="L7391" title="Line 7391: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7391</span>                 :                :     }</span>
<span id="L7392" title="Line 7392: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7392</span>                 :                : </span>
<span id="L7393" title="Line 7393: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    7393</span>                 :                :     /*</span>
<span id="L7394" title="Line 7394: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    7394</span>                 :                :      * If requested, output a decimal point and all the digits that follow it.</span>
<span id="L7395" title="Line 7395: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    7395</span>                 :                :      * We initially put out a multiple of DEC_DIGITS digits, then truncate if</span>
<span id="L7396" title="Line 7396: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    7396</span>                 :                :      * needed.</span>
<span id="L7397" title="Line 7397: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7397</span>                 :                :      */</span>
<span id="L7398" title="Line 7398: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352                      <span class="lineNum">    7398</span>         [<span class="tlaCBC"> <a href="#L7402" title="CBC: Branch 0 was taken 322522 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7402" title="CBC: Branch 1 was taken 121543 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         444065 :     if (dscale &gt; 0)</span></span>
<span id="L7399" title="Line 7399: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7399</span>                 :                :     {</span>
<span id="L7400" title="Line 7400: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7400</span>                 :<span class="tlaCBC">         322522 :         *cp++ = '.';</span></span>
<span id="L7401" title="Line 7401: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">    7401</span>                 :<span class="tlaCBC">         322522 :         endcp = cp + dscale;</span></span>
<span id="L7402" title="Line 7402: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7402</span>         [<span class="tlaCBC"> <a href="#L7404" title="CBC: Branch 0 was taken 629965 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7404" title="CBC: Branch 1 was taken 322522 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         952487 :         for (i = 0; i &lt; dscale; d++, i += DEC_DIGITS)</span></span>
<span id="L7403" title="Line 7403: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7403</span>                 :                :         {</span>
<span id="L7404" title="Line 7404: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7404</span>   [<span class="tlaCBC"> <a href="#L7468" title="CBC: Branch 0 was taken 627990 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7468" title="CBC: Branch 1 was taken 1975 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7468" title="CBC: Branch 2 was taken 326748 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7468" title="CBC: Branch 3 was taken 301242 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         629965 :             dig = (d &gt;= 0 &amp;&amp; d &lt; var-&gt;ndigits) ? var-&gt;digits[d] : 0;</span></span>
<span id="L7405" title="Line 7405: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7405</span>                 :                : #if DEC_DIGITS == 4</span>
<span id="L7406" title="Line 7406: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7406</span>                 :<span class="tlaCBC">         629965 :             d1 = dig / 1000;</span></span>
<span id="L7407" title="Line 7407: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7407</span>                 :<span class="tlaCBC">         629965 :             dig -= d1 * 1000;</span></span>
<span id="L7408" title="Line 7408: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7408</span>                 :<span class="tlaCBC">         629965 :             *cp++ = d1 + '0';</span></span>
<span id="L7409" title="Line 7409: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7409</span>                 :<span class="tlaCBC">         629965 :             d1 = dig / 100;</span></span>
<span id="L7410" title="Line 7410: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7410</span>                 :<span class="tlaCBC">         629965 :             dig -= d1 * 100;</span></span>
<span id="L7411" title="Line 7411: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7411</span>                 :<span class="tlaCBC">         629965 :             *cp++ = d1 + '0';</span></span>
<span id="L7412" title="Line 7412: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7412</span>                 :<span class="tlaCBC">         629965 :             d1 = dig / 10;</span></span>
<span id="L7413" title="Line 7413: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7413</span>                 :<span class="tlaCBC">         629965 :             dig -= d1 * 10;</span></span>
<span id="L7414" title="Line 7414: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7414</span>                 :<span class="tlaCBC">         629965 :             *cp++ = d1 + '0';</span></span>
<span id="L7415" title="Line 7415: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7415</span>                 :<span class="tlaCBC">         629965 :             *cp++ = dig + '0';</span></span>
<span id="L7416" title="Line 7416: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7416</span>                 :                : #elif DEC_DIGITS == 2</span>
<span id="L7417" title="Line 7417: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7417</span>                 :                :             d1 = dig / 10;</span>
<span id="L7418" title="Line 7418: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7418</span>                 :                :             dig -= d1 * 10;</span>
<span id="L7419" title="Line 7419: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7419</span>                 :                :             *cp++ = d1 + '0';</span>
<span id="L7420" title="Line 7420: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7420</span>                 :                :             *cp++ = dig + '0';</span>
<span id="L7421" title="Line 7421: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7421</span>                 :                : #elif DEC_DIGITS == 1</span>
<span id="L7422" title="Line 7422: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7422</span>                 :                :             *cp++ = dig + '0';</span>
<span id="L7423" title="Line 7423: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7423</span>                 :                : #else</span>
<span id="L7424" title="Line 7424: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7424</span>                 :                : #error unsupported NBASE</span>
<span id="L7425" title="Line 7425: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7425</span>                 :                : #endif</span>
<span id="L7426" title="Line 7426: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7426</span>                 :                :         }</span>
<span id="L7427" title="Line 7427: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7427</span>                 :<span class="tlaCBC">         322522 :         cp = endcp;</span></span>
<span id="L7428" title="Line 7428: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7428</span>                 :                :     }</span>
<span id="L7429" title="Line 7429: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7429</span>                 :                : </span>
<span id="L7430" title="Line 7430: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    7430</span>                 :                :     /*</span>
<span id="L7431" title="Line 7431: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7431</span>                 :                :      * terminate the string and return it</span>
<span id="L7432" title="Line 7432: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7432</span>                 :                :      */</span>
<span id="L7433" title="Line 7433: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352                      <span class="lineNum">    7433</span>                 :<span class="tlaCBC">         444065 :     *cp = '\0';</span></span>
<span id="L7434" title="Line 7434: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7434</span>                 :<span class="tlaCBC">         444065 :     return str;</span></span>
<span id="L7435" title="Line 7435: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7435</span>                 :                : }</span>
<span id="L7436" title="Line 7436: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7436</span>                 :                : </span>
<span id="L7437" title="Line 7437: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7437</span>                 :                : /*</span>
<span id="L7438" title="Line 7438: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7438</span>                 :                :  * get_str_from_var_sci() -</span>
<span id="L7439" title="Line 7439: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7439</span>                 :                :  *</span>
<span id="L7440" title="Line 7440: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7440</span>                 :                :  *  Convert a var to a normalised scientific notation text representation.</span>
<span id="L7441" title="Line 7441: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7441</span>                 :                :  *  This function does the heavy lifting for numeric_out_sci().</span>
<span id="L7442" title="Line 7442: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7442</span>                 :                :  *</span>
<span id="L7443" title="Line 7443: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7443</span>                 :                :  *  This notation has the general form a * 10^b, where a is known as the</span>
<span id="L7444" title="Line 7444: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7444</span>                 :                :  *  &quot;significand&quot; and b is known as the &quot;exponent&quot;.</span>
<span id="L7445" title="Line 7445: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7445</span>                 :                :  *</span>
<span id="L7446" title="Line 7446: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7446</span>                 :                :  *  Because we can't do superscript in ASCII (and because we want to copy</span>
<span id="L7447" title="Line 7447: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7447</span>                 :                :  *  printf's behaviour) we display the exponent using E notation, with a</span>
<span id="L7448" title="Line 7448: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7448</span>                 :                :  *  minimum of two exponent digits.</span>
<span id="L7449" title="Line 7449: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7449</span>                 :                :  *</span>
<span id="L7450" title="Line 7450: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7450</span>                 :                :  *  For example, the value 1234 could be output as 1.2e+03.</span>
<span id="L7451" title="Line 7451: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7451</span>                 :                :  *</span>
<span id="L7452" title="Line 7452: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7452</span>                 :                :  *  We assume that the exponent can fit into an int32.</span>
<span id="L7453" title="Line 7453: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7453</span>                 :                :  *</span>
<span id="L7454" title="Line 7454: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7454</span>                 :                :  *  rscale is the number of decimal digits desired after the decimal point in</span>
<span id="L7455" title="Line 7455: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7455</span>                 :                :  *  the output, negative values will be treated as meaning zero.</span>
<span id="L7456" title="Line 7456: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7456</span>                 :                :  *</span>
<span id="L7457" title="Line 7457: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7457</span>                 :                :  *  Returns a palloc'd string.</span>
<span id="L7458" title="Line 7458: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7458</span>                 :                :  */</span>
<span id="L7459" title="Line 7459: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7459</span>                 :                : static char *</span>
<span id="L7460" title="Line 7460: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L7842" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    7460</span>                 :<span class="tlaCBC">            114 : get_str_from_var_sci(const NumericVar *var, int rscale)</span></span>
<span id="L7461" title="Line 7461: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7461</span>                 :                : {</span>
<span id="L7462" title="Line 7462: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7462</span>                 :                :     int32       exponent;</span>
<span id="L7463" title="Line 7463: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7463</span>                 :                :     NumericVar  tmp_var;</span>
<span id="L7464" title="Line 7464: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7464</span>                 :                :     size_t      len;</span>
<span id="L7465" title="Line 7465: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7465</span>                 :                :     char       *str;</span>
<span id="L7466" title="Line 7466: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7466</span>                 :                :     char       *sig_out;</span>
<span id="L7467" title="Line 7467: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7467</span>                 :                : </span>
<span id="L7468" title="Line 7468: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us"> 5860 <a href="#L7477" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7468</span>         [<span class="tlaUBC"> <a href="#L7614" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L7477" title="CBC: Branch 1 was taken 114 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            114 :     if (rscale &lt; 0)</span></span>
<span id="L7469" title="Line 7469: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 5860 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L7617" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">5860</a> </span><a href="#L7617" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 5860 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    7469</span>                 :<a href="#L7617" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         rscale = 0;</span></span>
<span id="L7470" title="Line 7470: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7470</span>                 :                : </span>
<span id="L7471" title="Line 7471: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7471</span>                 :                :     /*</span>
<span id="L7472" title="Line 7472: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7472</span>                 :                :      * Determine the exponent of this number in normalised form.</span>
<span id="L7473" title="Line 7473: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7473</span>                 :                :      *</span>
<span id="L7474" title="Line 7474: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7474</span>                 :                :      * This is the exponent required to represent the number with only one</span>
<span id="L7475" title="Line 7475: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7475</span>                 :                :      * significant digit before the decimal place.</span>
<span id="L7476" title="Line 7476: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7476</span>                 :                :      */</span>
<span id="L7477" title="Line 7477: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us"> <a href="#L7507" title="next CBC in &ldquo;(360..) days&rdquo; bin">5860</a> <a href="#L7518" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7477</span>         [<span class="tlaCBC"> <a href="#L7545" title="CBC: Branch 0 was taken 105 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7545" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<a href="#L7619" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         114 :     if (var-&gt;ndigits &gt; 0)</span></span>
<span id="L7478" title="Line 7478: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7478</span>                 :                :     {</span>
<span id="L7479" title="Line 7479: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7479</span>                 :<span class="tlaCBC">            105 :         exponent = (var-&gt;weight + 1) * DEC_DIGITS;</span></span>
<span id="L7480" title="Line 7480: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7480</span>                 :                : </span>
<span id="L7481" title="Line 7481: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7481</span>                 :                :         /*</span>
<span id="L7482" title="Line 7482: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7482</span>                 :                :          * Compensate for leading decimal zeroes in the first numeric digit by</span>
<span id="L7483" title="Line 7483: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7483</span>                 :                :          * decrementing the exponent.</span>
<span id="L7484" title="Line 7484: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7484</span>                 :                :          */</span>
<span id="L7485" title="Line 7485: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7485</span>                 :<span class="tlaCBC">            105 :         exponent -= DEC_DIGITS - (int) log10(var-&gt;digits[0]);</span></span>
<span id="L7486" title="Line 7486: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7486</span>                 :                :     }</span>
<span id="L7487" title="Line 7487: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7487</span>                 :                :     else</span>
<span id="L7488" title="Line 7488: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7488</span>                 :                :     {</span>
<span id="L7489" title="Line 7489: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7489</span>                 :                :         /*</span>
<span id="L7490" title="Line 7490: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7490</span>                 :                :          * If var has no digits, then it must be zero.</span>
<span id="L7491" title="Line 7491: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7491</span>                 :                :          *</span>
<span id="L7492" title="Line 7492: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7492</span>                 :                :          * Zero doesn't technically have a meaningful exponent in normalised</span>
<span id="L7493" title="Line 7493: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7493</span>                 :                :          * notation, but we just display the exponent as zero for consistency</span>
<span id="L7494" title="Line 7494: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7494</span>                 :                :          * of output.</span>
<span id="L7495" title="Line 7495: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7495</span>                 :                :          */</span>
<span id="L7496" title="Line 7496: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7496</span>                 :<span class="tlaCBC">              9 :         exponent = 0;</span></span>
<span id="L7497" title="Line 7497: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7497</span>                 :                :     }</span>
<span id="L7498" title="Line 7498: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7498</span>                 :                : </span>
<span id="L7499" title="Line 7499: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7499</span>                 :                :     /*</span>
<span id="L7500" title="Line 7500: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7500</span>                 :                :      * Divide var by 10^exponent to get the significand, rounding to rscale</span>
<span id="L7501" title="Line 7501: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7501</span>                 :                :      * decimal digits in the process.</span>
<span id="L7502" title="Line 7502: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7502</span>                 :                :      */</span>
<span id="L7503" title="Line 7503: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com"> 1482 <a href="#L7537" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    7503</span>                 :<span class="tlaCBC">            114 :     init_var(&amp;tmp_var);</span></span>
<span id="L7504" title="Line 7504: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7504</span>                 :                : </span>
<span id="L7505" title="Line 7505: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7505</span>                 :<span class="tlaCBC">            114 :     power_ten_int(exponent, &amp;tmp_var);</span></span>
<span id="L7506" title="Line 7506: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L8979" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a>                      <span class="lineNum">    7506</span>                 :<span class="tlaCBC">            114 :     div_var(var, &amp;tmp_var, &amp;tmp_var, rscale, true, true);</span></span>
<span id="L7507" title="Line 7507: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com"> <a href="#L7619" title="next CBC in &ldquo;(360..) days&rdquo; bin">1482</a>                      <span class="lineNum">    7507</span>                 :<span class="tlaCBC">            114 :     sig_out = get_str_from_var(&amp;tmp_var);</span></span>
<span id="L7508" title="Line 7508: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7508</span>                 :                : </span>
<span id="L7509" title="Line 7509: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7509</span>                 :<span class="tlaCBC">            114 :     free_var(&amp;tmp_var);</span></span>
<span id="L7510" title="Line 7510: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7510</span>                 :                : </span>
<span id="L7511" title="Line 7511: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7511</span>                 :                :     /*</span>
<span id="L7512" title="Line 7512: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7512</span>                 :                :      * Allocate space for the result.</span>
<span id="L7513" title="Line 7513: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7513</span>                 :                :      *</span>
<span id="L7514" title="Line 7514: commit 65e806cba1f0 on 2010-02-26 by bruce@momjian.us">                           <span class="lineNum">    7514</span>                 :                :      * In addition to the significand, we need room for the exponent</span>
<span id="L7515" title="Line 7515: commit 65e806cba1f0 on 2010-02-26 by bruce@momjian.us">                           <span class="lineNum">    7515</span>                 :                :      * decoration (&quot;e&quot;), the sign of the exponent, up to 10 digits for the</span>
<span id="L7516" title="Line 7516: commit 65e806cba1f0 on 2010-02-26 by bruce@momjian.us">                           <span class="lineNum">    7516</span>                 :                :      * exponent itself, and of course the null terminator.</span>
<span id="L7517" title="Line 7517: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7517</span>                 :                :      */</span>
<span id="L7518" title="Line 7518: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us"> 5860 <a href="#L7576" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7518</span>                 :<span class="tlaCBC">            114 :     len = strlen(sig_out) + 13;</span></span>
<span id="L7519" title="Line 7519: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7519</span>                 :<span class="tlaCBC">            114 :     str = palloc(len);</span></span>
<span id="L7520" title="Line 7520: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7520</span>                 :<span class="tlaCBC">            114 :     snprintf(str, len, &quot;%se%+03d&quot;, sig_out, exponent);</span></span>
<span id="L7521" title="Line 7521: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7521</span>                 :                : </span>
<span id="L7522" title="Line 7522: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7522</span>                 :<span class="tlaCBC">            114 :     pfree(sig_out);</span></span>
<span id="L7523" title="Line 7523: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7523</span>                 :                : </span>
<span id="L7524" title="Line 7524: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7524</span>                 :<span class="tlaCBC">            114 :     return str;</span></span>
<span id="L7525" title="Line 7525: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7525</span>                 :                : }</span>
<span id="L7526" title="Line 7526: commit e61fd4ac7414 on 2009-08-10 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7526</span>                 :                : </span>
<span id="L7527" title="Line 7527: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7527</span>                 :                : </span>
<span id="L7528" title="Line 7528: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7528</span>                 :                : /*</span>
<span id="L7529" title="Line 7529: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7529</span>                 :                :  * numericvar_serialize - serialize NumericVar to binary format</span>
<span id="L7530" title="Line 7530: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7530</span>                 :                :  *</span>
<span id="L7531" title="Line 7531: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7531</span>                 :                :  * At variable level, no checks are performed on the weight or dscale, allowing</span>
<span id="L7532" title="Line 7532: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7532</span>                 :                :  * us to pass around intermediate values with higher precision than supported</span>
<span id="L7533" title="Line 7533: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7533</span>                 :                :  * by the numeric type.  Note: this is incompatible with numeric_send/recv(),</span>
<span id="L7534" title="Line 7534: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7534</span>                 :                :  * which use 16-bit integers for these fields.</span>
<span id="L7535" title="Line 7535: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7535</span>                 :                :  */</span>
<span id="L7536" title="Line 7536: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7536</span>                 :                : static void</span>
<span id="L7537" title="Line 7537: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com"> 1513 <a href="#L7729" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    7537</span>                 :<span class="tlaCBC">             48 : numericvar_serialize(StringInfo buf, const NumericVar *var)</span></span>
<span id="L7538" title="Line 7538: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7538</span>                 :                : {</span>
<span id="L7539" title="Line 7539: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7539</span>                 :                :     int         i;</span>
<span id="L7540" title="Line 7540: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7540</span>                 :                : </span>
<span id="L7541" title="Line 7541: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7541</span>                 :<span class="tlaCBC">             48 :     pq_sendint32(buf, var-&gt;ndigits);</span></span>
<span id="L7542" title="Line 7542: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7542</span>                 :<span class="tlaCBC">             48 :     pq_sendint32(buf, var-&gt;weight);</span></span>
<span id="L7543" title="Line 7543: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7543</span>                 :<span class="tlaCBC">             48 :     pq_sendint32(buf, var-&gt;sign);</span></span>
<span id="L7544" title="Line 7544: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7544</span>                 :<span class="tlaCBC">             48 :     pq_sendint32(buf, var-&gt;dscale);</span></span>
<span id="L7545" title="Line 7545: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7545</span>         [<span class="tlaCBC"> <a href="#L7565" title="CBC: Branch 0 was taken 318831 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7565" title="CBC: Branch 1 was taken 48 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         318879 :     for (i = 0; i &lt; var-&gt;ndigits; i++)</span></span>
<span id="L7546" title="Line 7546: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7546</span>                 :<span class="tlaCBC">         318831 :         pq_sendint16(buf, var-&gt;digits[i]);</span></span>
<span id="L7547" title="Line 7547: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7547</span>                 :<span class="tlaCBC">             48 : }</span></span>
<span id="L7548" title="Line 7548: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7548</span>                 :                : </span>
<span id="L7549" title="Line 7549: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7549</span>                 :                : /*</span>
<span id="L7550" title="Line 7550: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7550</span>                 :                :  * numericvar_deserialize - deserialize binary format to NumericVar</span>
<span id="L7551" title="Line 7551: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7551</span>                 :                :  */</span>
<span id="L7552" title="Line 7552: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7552</span>                 :                : static void</span>
<span id="L7553" title="Line 7553: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7553</span>                 :<span class="tlaCBC">             48 : numericvar_deserialize(StringInfo buf, NumericVar *var)</span></span>
<span id="L7554" title="Line 7554: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7554</span>                 :                : {</span>
<span id="L7555" title="Line 7555: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7555</span>                 :                :     int         len,</span>
<span id="L7556" title="Line 7556: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7556</span>                 :                :                 i;</span>
<span id="L7557" title="Line 7557: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7557</span>                 :                : </span>
<span id="L7558" title="Line 7558: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7558</span>                 :<span class="tlaCBC">             48 :     len = pq_getmsgint(buf, sizeof(int32));</span></span>
<span id="L7559" title="Line 7559: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7559</span>                 :                : </span>
<span id="L7560" title="Line 7560: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7560</span>                 :<span class="tlaCBC">             48 :     alloc_var(var, len);        /* sets var-&gt;ndigits */</span></span>
<span id="L7561" title="Line 7561: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7561</span>                 :                : </span>
<span id="L7562" title="Line 7562: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7562</span>                 :<span class="tlaCBC">             48 :     var-&gt;weight = pq_getmsgint(buf, sizeof(int32));</span></span>
<span id="L7563" title="Line 7563: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7563</span>                 :<span class="tlaCBC">             48 :     var-&gt;sign = pq_getmsgint(buf, sizeof(int32));</span></span>
<span id="L7564" title="Line 7564: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7564</span>                 :<span class="tlaCBC">             48 :     var-&gt;dscale = pq_getmsgint(buf, sizeof(int32));</span></span>
<span id="L7565" title="Line 7565: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7565</span>         [<span class="tlaCBC"> <a href="#L7604" title="CBC: Branch 0 was taken 318831 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7604" title="CBC: Branch 1 was taken 48 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         318879 :     for (i = 0; i &lt; len; i++)</span></span>
<span id="L7566" title="Line 7566: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7566</span>                 :<span class="tlaCBC">         318831 :         var-&gt;digits[i] = pq_getmsgint(buf, sizeof(int16));</span></span>
<span id="L7567" title="Line 7567: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7567</span>                 :<span class="tlaCBC">             48 : }</span></span>
<span id="L7568" title="Line 7568: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7568</span>                 :                : </span>
<span id="L7569" title="Line 7569: commit f025f2390e13 on 2021-07-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7569</span>                 :                : </span>
<span id="L7570" title="Line 7570: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7570</span>                 :                : /*</span>
<span id="L7571" title="Line 7571: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7571</span>                 :                :  * duplicate_numeric() - copy a packed-format Numeric</span>
<span id="L7572" title="Line 7572: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7572</span>                 :                :  *</span>
<span id="L7573" title="Line 7573: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7573</span>                 :                :  * This will handle NaN and Infinity cases.</span>
<span id="L7574" title="Line 7574: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7574</span>                 :                :  */</span>
<span id="L7575" title="Line 7575: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7575</span>                 :                : static Numeric</span>
<span id="L7576" title="Line 7576: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L7598" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7576</span>                 :<span class="tlaCBC">          14246 : duplicate_numeric(Numeric num)</span></span>
<span id="L7577" title="Line 7577: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7577</span>                 :                : {</span>
<span id="L7578" title="Line 7578: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7578</span>                 :                :     Numeric     res;</span>
<span id="L7579" title="Line 7579: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7579</span>                 :                : </span>
<span id="L7580" title="Line 7580: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7580</span>                 :<span class="tlaCBC">          14246 :     res = (Numeric) palloc(VARSIZE(num));</span></span>
<span id="L7581" title="Line 7581: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7581</span>                 :<span class="tlaCBC">          14246 :     memcpy(res, num, VARSIZE(num));</span></span>
<span id="L7582" title="Line 7582: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7582</span>                 :<span class="tlaCBC">          14246 :     return res;</span></span>
<span id="L7583" title="Line 7583: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7583</span>                 :                : }</span>
<span id="L7584" title="Line 7584: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7584</span>                 :                : </span>
<span id="L7585" title="Line 7585: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7585</span>                 :                : /*</span>
<span id="L7586" title="Line 7586: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7586</span>                 :                :  * make_result_opt_error() -</span>
<span id="L7587" title="Line 7587: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7587</span>                 :                :  *</span>
<span id="L7588" title="Line 7588: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7588</span>                 :                :  *  Create the packed db numeric format in palloc()'d memory from</span>
<span id="L7589" title="Line 7589: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7589</span>                 :                :  *  a variable.  This will handle NaN and Infinity cases.</span>
<span id="L7590" title="Line 7590: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7590</span>                 :                :  *</span>
<span id="L7591" title="Line 7591: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7591</span>                 :                :  *  If &quot;have_error&quot; isn't NULL, on overflow *have_error is set to true and</span>
<span id="L7592" title="Line 7592: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7592</span>                 :                :  *  NULL is returned.  This is helpful when caller needs to handle errors.</span>
<span id="L7593" title="Line 7593: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7593</span>                 :                :  */</span>
<span id="L7594" title="Line 7594: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7594</span>                 :                : static Numeric</span>
<span id="L7595" title="Line 7595: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L7680" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    7595</span>                 :<span class="tlaCBC">        1904661 : make_result_opt_error(const NumericVar *var, bool *have_error)</span></span>
<span id="L7596" title="Line 7596: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7596</span>                 :                : {</span>
<span id="L7597" title="Line 7597: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    7597</span>                 :                :     Numeric     result;</span>
<span id="L7598" title="Line 7598: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L7607" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7598</span>                 :<span class="tlaCBC">        1904661 :     NumericDigit *digits = var-&gt;digits;</span></span>
<span id="L7599" title="Line 7599: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L7646" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    7599</span>                 :<span class="tlaCBC">        1904661 :     int         weight = var-&gt;weight;</span></span>
<span id="L7600" title="Line 7600: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    7600</span>                 :<span class="tlaCBC">        1904661 :     int         sign = var-&gt;sign;</span></span>
<span id="L7601" title="Line 7601: commit 3cb8c8da68c0 on 2000-01-15 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7601</span>                 :                :     int         n;</span>
<span id="L7602" title="Line 7602: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7602</span>                 :                :     Size        len;</span>
<span id="L7603" title="Line 7603: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7603</span>                 :                : </span>
<span id="L7604" title="Line 7604: commit a76cfba663ce on 2019-08-05 by michael@paquier.xyz"> 2213 <a href="#top" title="next CBC in &ldquo;michael@paquier.xyz&rdquo; bin">michael@paquier.xyz</a>  <span class="lineNum">    7604</span>         [<span class="tlaCBC"> <a href="#L7607" title="CBC: Branch 0 was taken 81223 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7607" title="CBC: Branch 1 was taken 1823438 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1904661 :     if (have_error)</span></span>
<span id="L7605" title="Line 7605: commit a76cfba663ce on 2019-08-05 by michael@paquier.xyz">                           <span class="lineNum">    7605</span>                 :<span class="tlaCBC">          81223 :         *have_error = false;</span></span>
<span id="L7606" title="Line 7606: commit a76cfba663ce on 2019-08-05 by michael@paquier.xyz">                           <span class="lineNum">    7606</span>                 :                : </span>
<span id="L7607" title="Line 7607: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L7622" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7607</span>         [<span class="tlaCBC"> <a href="#L7614" title="CBC: Branch 0 was taken 1637 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7614" title="CBC: Branch 1 was taken 1903024 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1904661 :     if ((sign &amp; NUMERIC_SIGN_MASK) == NUMERIC_SPECIAL)</span></span>
<span id="L7608" title="Line 7608: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7608</span>                 :                :     {</span>
<span id="L7609" title="Line 7609: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7609</span>                 :                :         /*</span>
<span id="L7610" title="Line 7610: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7610</span>                 :                :          * Verify valid special value.  This could be just an Assert, perhaps,</span>
<span id="L7611" title="Line 7611: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7611</span>                 :                :          * but it seems worthwhile to expend a few cycles to ensure that we</span>
<span id="L7612" title="Line 7612: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7612</span>                 :                :          * never write any nonzero reserved bits to disk.</span>
<span id="L7613" title="Line 7613: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7613</span>                 :                :          */</span>
<span id="L7614" title="Line 7614: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7614</span>   [<span class="tlaCBC"> <a href="#L7632" title="CBC: Branch 0 was taken 810 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7632" title="CBC: Branch 1 was taken 827 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7632" title="CBC: Branch 2 was taken 336 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7632" title="CBC: Branch 3 was taken 474 times" class="branchTla">+</a> </span> :<span class="tlaCBC">           1637 :         if (!(sign == NUMERIC_NAN ||</span></span>
                           <span class="lineNum">        </span>          <span class="tlaUBC"> <a href="#L7617" title="UBC: Branch 4 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L7632" title="CBC: Branch 5 was taken 336 times" class="branchTla">+</a> </span>]
<span id="L7615" title="Line 7615: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7615</span>                 :                :               sign == NUMERIC_PINF ||</span>
<span id="L7616" title="Line 7616: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7616</span>                 :                :               sign == NUMERIC_NINF))</span>
<span id="L7617" title="Line 7617: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L7788" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1861</a> </span><a href="#L7788" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 1861 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    7617</span>         [<span class="tlaUBC"> <a href="#L7650" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L7650" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L7788" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             elog(ERROR, &quot;invalid numeric sign value 0x%x&quot;, sign);</span></span>
<span id="L7618" title="Line 7618: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7618</span>                 :                : </span>
<span id="L7619" title="Line 7619: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"> <a href="#L7792" title="next CBC in &ldquo;(360..) days&rdquo; bin">5502</a> <a href="#L7650" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    7619</span>                 :<a href="#L7792" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        1637 :         result = (Numeric) palloc(NUMERIC_HDRSZ_SHORT);</span></span>
<span id="L7620" title="Line 7620: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7620</span>                 :                : </span>
<span id="L7621" title="Line 7621: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7621</span>                 :<span class="tlaCBC">           1637 :         SET_VARSIZE(result, NUMERIC_HDRSZ_SHORT);</span></span>
<span id="L7622" title="Line 7622: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861 <a href="#L7629" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7622</span>                 :<span class="tlaCBC">           1637 :         result-&gt;choice.n_header = sign;</span></span>
<span id="L7623" title="Line 7623: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7623</span>                 :                :         /* the header word is all we need */</span>
<span id="L7624" title="Line 7624: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7624</span>                 :                : </span>
<span id="L7625" title="Line 7625: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7625</span>                 :                :         dump_numeric(&quot;make_result()&quot;, result);</span>
<span id="L7626" title="Line 7626: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L7635" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    7626</span>                 :<span class="tlaCBC">           1637 :         return result;</span></span>
<span id="L7627" title="Line 7627: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7627</span>                 :                :     }</span>
<span id="L7628" title="Line 7628: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7628</span>                 :                : </span>
<span id="L7629" title="Line 7629: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L7639" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7629</span>                 :<span class="tlaCBC">        1903024 :     n = var-&gt;ndigits;</span></span>
<span id="L7630" title="Line 7630: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7630</span>                 :                : </span>
<span id="L7631" title="Line 7631: commit 3cb8c8da68c0 on 2000-01-15 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7631</span>                 :                :     /* truncate leading zeroes */</span>
<span id="L7632" title="Line 7632: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7632</span>   [<span class="tlaCBC"> <a href="#L7639" title="CBC: Branch 0 was taken 1836674 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7639" title="CBC: Branch 1 was taken 66368 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7639" title="CBC: Branch 2 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7639" title="CBC: Branch 3 was taken 1836656 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1903042 :     while (n &gt; 0 &amp;&amp; *digits == 0)</span></span>
<span id="L7633" title="Line 7633: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7633</span>                 :                :     {</span>
<span id="L7634" title="Line 7634: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7634</span>                 :<span class="tlaCBC">             18 :         digits++;</span></span>
<span id="L7635" title="Line 7635: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L7640" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    7635</span>                 :<span class="tlaCBC">             18 :         weight--;</span></span>
<span id="L7636" title="Line 7636: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7636</span>                 :<span class="tlaCBC">             18 :         n--;</span></span>
<span id="L7637" title="Line 7637: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7637</span>                 :                :     }</span>
<span id="L7638" title="Line 7638: commit 3cb8c8da68c0 on 2000-01-15 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7638</span>                 :                :     /* truncate trailing zeroes */</span>
<span id="L7639" title="Line 7639: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L7673" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7639</span>   [<span class="tlaCBC"> <a href="#L7643" title="CBC: Branch 0 was taken 1879324 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7643" title="CBC: Branch 1 was taken 66368 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7643" title="CBC: Branch 2 was taken 42668 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7643" title="CBC: Branch 3 was taken 1836656 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1945692 :     while (n &gt; 0 &amp;&amp; digits[n - 1] == 0)</span></span>
<span id="L7640" title="Line 7640: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L7694" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    7640</span>                 :<span class="tlaCBC">          42668 :         n--;</span></span>
<span id="L7641" title="Line 7641: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7641</span>                 :                : </span>
<span id="L7642" title="Line 7642: commit 3cb8c8da68c0 on 2000-01-15 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7642</span>                 :                :     /* If zero result, force to weight=0 and positive sign */</span>
<span id="L7643" title="Line 7643: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7643</span>         [<span class="tlaCBC"> <a href="#L7650" title="CBC: Branch 0 was taken 66368 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7650" title="CBC: Branch 1 was taken 1836656 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1903024 :     if (n == 0)</span></span>
<span id="L7644" title="Line 7644: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7644</span>                 :                :     {</span>
<span id="L7645" title="Line 7645: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7645</span>                 :<span class="tlaCBC">          66368 :         weight = 0;</span></span>
<span id="L7646" title="Line 7646: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L7872" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    7646</span>                 :<span class="tlaCBC">          66368 :         sign = NUMERIC_POS;</span></span>
<span id="L7647" title="Line 7647: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7647</span>                 :                :     }</span>
<span id="L7648" title="Line 7648: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7648</span>                 :                : </span>
<span id="L7649" title="Line 7649: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7649</span>                 :                :     /* Build the result */</span>
<span id="L7650" title="Line 7650: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"> 5502 <a href="#L7658" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    7650</span>   [<span class="tlaCBC"> <a href="#L7658" title="CBC: Branch 0 was taken 1902277 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7658" title="CBC: Branch 1 was taken 747 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7658" title="CBC: Branch 2 was taken 1902057 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7658" title="CBC: Branch 3 was taken 220 times" class="branchTla">+</a> </span> :<span class="tlaCBC">        1903024 :     if (NUMERIC_CAN_BE_SHORT(var-&gt;dscale, weight))</span></span>
                           <span class="lineNum">        </span>          <span class="tlaCBC"> <a href="#L7658" title="CBC: Branch 4 was taken 1902057 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7672" title="UBC: Branch 5 was not taken" class="branchTla">-</a> </span>]
<span id="L7651" title="Line 7651: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7651</span>                 :                :     {</span>
<span id="L7652" title="Line 7652: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7652</span>                 :<span class="tlaCBC">        1902057 :         len = NUMERIC_HDRSZ_SHORT + n * sizeof(NumericDigit);</span></span>
<span id="L7653" title="Line 7653: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7653</span>                 :<span class="tlaCBC">        1902057 :         result = (Numeric) palloc(len);</span></span>
<span id="L7654" title="Line 7654: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7654</span>                 :<span class="tlaCBC">        1902057 :         SET_VARSIZE(result, len);</span></span>
<span id="L7655" title="Line 7655: commit fc946c39aeac on 2010-11-23 by peter_e@gmx.net"> 5390 <a href="#top" title="next CBC in &ldquo;peter_e@gmx.net&rdquo; bin">peter_e@gmx.net</a>      <span class="lineNum">    7655</span>                 :<span class="tlaCBC">        1902057 :         result-&gt;choice.n_short.n_header =</span></span>
<span id="L7656" title="Line 7656: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7656</span>                 :                :             (sign == NUMERIC_NEG ? (NUMERIC_SHORT | NUMERIC_SHORT_SIGN_MASK)</span>
<span id="L7657" title="Line 7657: commit bf50caf105a9 on 2011-04-10 by bruce@momjian.us">                           <span class="lineNum">    7657</span>                 :                :              : NUMERIC_SHORT)</span>
<span id="L7658" title="Line 7658: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"> 5502 <a href="#L7677" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    7658</span>         [<span class="tlaCBC"> <a href="#L7672" title="CBC: Branch 0 was taken 18502 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7672" title="CBC: Branch 1 was taken 1883555 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1902057 :             | (var-&gt;dscale &lt;&lt; NUMERIC_SHORT_DSCALE_SHIFT)</span></span>
<span id="L7659" title="Line 7659: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7659</span>                 :<span class="tlaCBC">        1902057 :             | (weight &lt; 0 ? NUMERIC_SHORT_WEIGHT_SIGN_MASK : 0)</span></span>
<span id="L7660" title="Line 7660: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7660</span>                 :<span class="tlaCBC">        1902057 :             | (weight &amp; NUMERIC_SHORT_WEIGHT_MASK);</span></span>
<span id="L7661" title="Line 7661: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7661</span>                 :                :     }</span>
<span id="L7662" title="Line 7662: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7662</span>                 :                :     else</span>
<span id="L7663" title="Line 7663: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7663</span>                 :                :     {</span>
<span id="L7664" title="Line 7664: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7664</span>                 :<span class="tlaCBC">            967 :         len = NUMERIC_HDRSZ + n * sizeof(NumericDigit);</span></span>
<span id="L7665" title="Line 7665: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7665</span>                 :<span class="tlaCBC">            967 :         result = (Numeric) palloc(len);</span></span>
<span id="L7666" title="Line 7666: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7666</span>                 :<span class="tlaCBC">            967 :         SET_VARSIZE(result, len);</span></span>
<span id="L7667" title="Line 7667: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7667</span>                 :<span class="tlaCBC">            967 :         result-&gt;choice.n_long.n_sign_dscale =</span></span>
<span id="L7668" title="Line 7668: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7668</span>                 :<span class="tlaCBC">            967 :             sign | (var-&gt;dscale &amp; NUMERIC_DSCALE_MASK);</span></span>
<span id="L7669" title="Line 7669: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7669</span>                 :<span class="tlaCBC">            967 :         result-&gt;choice.n_long.n_weight = weight;</span></span>
<span id="L7670" title="Line 7670: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7670</span>                 :                :     }</span>
<span id="L7671" title="Line 7671: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7671</span>                 :                : </span>
<span id="L7672" title="Line 7672: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org">                           <span class="lineNum">    7672</span>   [<span class="tlaCBC"> <a href="#L7673" title="CBC: Branch 0 was taken 1902057 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7673" title="CBC: Branch 1 was taken 967 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7678" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L7673" title="CBC: Branch 3 was taken 1903024 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1903024 :     Assert(NUMERIC_NDIGITS(result) == n);</span></span>
<span id="L7673" title="Line 7673: commit 13bba02271dc on 2015-08-02 by tgl@sss.pgh.pa.us"> 3677 <a href="#L7678" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7673</span>         [<span class="tlaCBC"> <a href="#L7674" title="CBC: Branch 0 was taken 1836656 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7674" title="CBC: Branch 1 was taken 66368 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1903024 :     if (n &gt; 0)</span></span>
<span id="L7674" title="Line 7674: commit 13bba02271dc on 2015-08-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7674</span>         [<span class="tlaCBC"> <a href="#L7677" title="CBC: Branch 0 was taken 1835809 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7677" title="CBC: Branch 1 was taken 847 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1836656 :         memcpy(NUMERIC_DIGITS(result), digits, n * sizeof(NumericDigit));</span></span>
<span id="L7675" title="Line 7675: commit 52f77df613ce on 2000-04-12 by bruce@momjian.us">                           <span class="lineNum">    7675</span>                 :                : </span>
<span id="L7676" title="Line 7676: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7676</span>                 :                :     /* Check for overflow of int16 fields */</span>
<span id="L7677" title="Line 7677: commit 145343534c15 on 2010-08-03 by rhaas@postgresql.org"> 5502 <a href="#top" title="next CBC in &ldquo;rhaas@postgresql.org&rdquo; bin">rhaas@postgresql.org</a> <span class="lineNum">    7677</span>   [<span class="tlaCBC"> <a href="#L7678" title="CBC: Branch 0 was taken 1902057 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7678" title="CBC: Branch 1 was taken 967 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7678" title="CBC: Branch 2 was taken 93388 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7678" title="CBC: Branch 3 was taken 1808669 times" class="branchTla">+</a> </span> :<span class="tlaCBC">        1903024 :     if (NUMERIC_WEIGHT(result) != weight ||</span></span>
                           <span class="lineNum">        </span>          <span class="tlaCBC"> <a href="#L7678" title="CBC: Branch 4 was taken 1903009 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7678" title="CBC: Branch 5 was taken 15 times" class="branchTla">+</a> </span>]
<span id="L7678" title="Line 7678: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L7720" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7678</span>   [<span class="tlaCBC"> <a href="#L7680" title="CBC: Branch 0 was taken 1902057 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7680" title="CBC: Branch 1 was taken 952 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7687" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L7680" title="CBC: Branch 3 was taken 1903009 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1903009 :         NUMERIC_DSCALE(result) != var-&gt;dscale)</span></span>
<span id="L7679" title="Line 7679: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7679</span>                 :                :     {</span>
<span id="L7680" title="Line 7680: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#L7704" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    7680</span>         [<span class="tlaCBC"> <a href="#L7687" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7687" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             15 :         if (have_error)</span></span>
<span id="L7681" title="Line 7681: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7681</span>                 :                :         {</span>
<span id="L7682" title="Line 7682: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7682</span>                 :<span class="tlaCBC">              9 :             *have_error = true;</span></span>
<span id="L7683" title="Line 7683: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7683</span>                 :<span class="tlaCBC">              9 :             return NULL;</span></span>
<span id="L7684" title="Line 7684: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7684</span>                 :                :         }</span>
<span id="L7685" title="Line 7685: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7685</span>                 :                :         else</span>
<span id="L7686" title="Line 7686: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7686</span>                 :                :         {</span>
<span id="L7687" title="Line 7687: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7687</span>         [<span class="tlaCBC"> <a href="#L7729" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7758" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              6 :             ereport(ERROR,</span></span>
<span id="L7688" title="Line 7688: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7688</span>                 :                :                     (errcode(ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE),</span>
<span id="L7689" title="Line 7689: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7689</span>                 :                :                      errmsg(&quot;value overflows numeric format&quot;)));</span>
<span id="L7690" title="Line 7690: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7690</span>                 :                :         }</span>
<span id="L7691" title="Line 7691: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7691</span>                 :                :     }</span>
<span id="L7692" title="Line 7692: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7692</span>                 :                : </span>
<span id="L7693" title="Line 7693: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7693</span>                 :                :     dump_numeric(&quot;make_result()&quot;, result);</span>
<span id="L7694" title="Line 7694: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L8125" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    7694</span>                 :<span class="tlaCBC">        1903009 :     return result;</span></span>
<span id="L7695" title="Line 7695: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7695</span>                 :                : }</span>
<span id="L7696" title="Line 7696: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7696</span>                 :                : </span>
<span id="L7697" title="Line 7697: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7697</span>                 :                : </span>
<span id="L7698" title="Line 7698: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7698</span>                 :                : /*</span>
<span id="L7699" title="Line 7699: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7699</span>                 :                :  * make_result() -</span>
<span id="L7700" title="Line 7700: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7700</span>                 :                :  *</span>
<span id="L7701" title="Line 7701: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7701</span>                 :                :  *  An interface to make_result_opt_error() without &quot;have_error&quot; argument.</span>
<span id="L7702" title="Line 7702: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7702</span>                 :                :  */</span>
<span id="L7703" title="Line 7703: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7703</span>                 :                : static Numeric</span>
<span id="L7704" title="Line 7704: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org"> 2355 <a href="#top" title="next CBC in &ldquo;akorotkov@postgresql.org&rdquo; bin">akorotkov@postgresql</a> <span class="lineNum">    7704</span>                 :<span class="tlaCBC">        1133714 : make_result(const NumericVar *var)</span></span>
<span id="L7705" title="Line 7705: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7705</span>                 :                : {</span>
<span id="L7706" title="Line 7706: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7706</span>                 :<span class="tlaCBC">        1133714 :     return make_result_opt_error(var, NULL);</span></span>
<span id="L7707" title="Line 7707: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7707</span>                 :                : }</span>
<span id="L7708" title="Line 7708: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7708</span>                 :                : </span>
<span id="L7709" title="Line 7709: commit 16d489b0fe05 on 2019-03-16 by akorotkov@postgresql.org">                           <span class="lineNum">    7709</span>                 :                : </span>
<span id="L7710" title="Line 7710: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7710</span>                 :                : /*</span>
<span id="L7711" title="Line 7711: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7711</span>                 :                :  * apply_typmod() -</span>
<span id="L7712" title="Line 7712: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7712</span>                 :                :  *</span>
<span id="L7713" title="Line 7713: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7713</span>                 :                :  *  Do bounds checking and rounding according to the specified typmod.</span>
<span id="L7714" title="Line 7714: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7714</span>                 :                :  *  Note that this is only applied to normal finite values.</span>
<span id="L7715" title="Line 7715: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7715</span>                 :                :  *</span>
<span id="L7716" title="Line 7716: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7716</span>                 :                :  * Returns true on success, false on failure (if escontext points to an</span>
<span id="L7717" title="Line 7717: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7717</span>                 :                :  * ErrorSaveContext; otherwise errors are thrown).</span>
<span id="L7718" title="Line 7718: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7718</span>                 :                :  */</span>
<span id="L7719" title="Line 7719: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7719</span>                 :                : static bool</span>
<span id="L7720" title="Line 7720: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">  991 <a href="#L7730" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7720</span>                 :<span class="tlaCBC">          83263 : apply_typmod(NumericVar *var, int32 typmod, Node *escontext)</span></span>
<span id="L7721" title="Line 7721: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7721</span>                 :                : {</span>
<span id="L7722" title="Line 7722: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7722</span>                 :                :     int         precision;</span>
<span id="L7723" title="Line 7723: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7723</span>                 :                :     int         scale;</span>
<span id="L7724" title="Line 7724: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7724</span>                 :                :     int         maxdigits;</span>
<span id="L7725" title="Line 7725: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7725</span>                 :                :     int         ddigits;</span>
<span id="L7726" title="Line 7726: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7726</span>                 :                :     int         i;</span>
<span id="L7727" title="Line 7727: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7727</span>                 :                : </span>
<span id="L7728" title="Line 7728: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7728</span>                 :                :     /* Do nothing if we have an invalid typmod */</span>
<span id="L7729" title="Line 7729: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> 1492 <a href="#L7732" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    7729</span>         [<span class="tlaCBC"> <a href="#L7740" title="CBC: Branch 0 was taken 68690 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7740" title="CBC: Branch 1 was taken 14573 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          83263 :     if (!is_valid_numeric_typmod(typmod))</span></span>
<span id="L7730" title="Line 7730: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">  991 <a href="#L7734" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7730</span>                 :<span class="tlaCBC">          68690 :         return true;</span></span>
<span id="L7731" title="Line 7731: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7731</span>                 :                : </span>
<span id="L7732" title="Line 7732: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> 1492 <a href="#L7740" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    7732</span>                 :<span class="tlaCBC">          14573 :     precision = numeric_typmod_precision(typmod);</span></span>
<span id="L7733" title="Line 7733: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7733</span>                 :<span class="tlaCBC">          14573 :     scale = numeric_typmod_scale(typmod);</span></span>
<span id="L7734" title="Line 7734: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L7750" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7734</span>                 :<span class="tlaCBC">          14573 :     maxdigits = precision - scale;</span></span>
<span id="L7735" title="Line 7735: commit 3cb8c8da68c0 on 2000-01-15 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7735</span>                 :                : </span>
<span id="L7736" title="Line 7736: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7736</span>                 :                :     /* Round to target scale (and set var-&gt;dscale) */</span>
<span id="L7737" title="Line 7737: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7737</span>                 :<span class="tlaCBC">          14573 :     round_var(var, scale);</span></span>
<span id="L7738" title="Line 7738: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7738</span>                 :                : </span>
<span id="L7739" title="Line 7739: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7739</span>                 :                :     /* but don't allow var-&gt;dscale to be negative */</span>
<span id="L7740" title="Line 7740: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> 1492 <a href="#L7822" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    7740</span>         [<span class="tlaCBC"> <a href="#L7751" title="CBC: Branch 0 was taken 63 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7751" title="CBC: Branch 1 was taken 14510 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          14573 :     if (var-&gt;dscale &lt; 0)</span></span>
<span id="L7741" title="Line 7741: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7741</span>                 :<span class="tlaCBC">             63 :         var-&gt;dscale = 0;</span></span>
<span id="L7742" title="Line 7742: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7742</span>                 :                : </span>
<span id="L7743" title="Line 7743: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    7743</span>                 :                :     /*</span>
<span id="L7744" title="Line 7744: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    7744</span>                 :                :      * Check for overflow - note we can't do this before rounding, because</span>
<span id="L7745" title="Line 7745: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    7745</span>                 :                :      * rounding could raise the weight.  Also note that the var's weight could</span>
<span id="L7746" title="Line 7746: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    7746</span>                 :                :      * be inflated by leading zeroes, which will be stripped before storage</span>
<span id="L7747" title="Line 7747: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    7747</span>                 :                :      * but perhaps might not have been yet. In any case, we must recognize a</span>
<span id="L7748" title="Line 7748: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    7748</span>                 :                :      * true zero, whose weight doesn't mean anything.</span>
<span id="L7749" title="Line 7749: commit bb885dd1a1bc on 1999-05-10 by JanWieck@Yahoo.com">                           <span class="lineNum">    7749</span>                 :                :      */</span>
<span id="L7750" title="Line 7750: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L7792" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7750</span>                 :<span class="tlaCBC">          14573 :     ddigits = (var-&gt;weight + 1) * DEC_DIGITS;</span></span>
<span id="L7751" title="Line 7751: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7751</span>         [<span class="tlaCBC"> <a href="#L7754" title="CBC: Branch 0 was taken 3200 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7754" title="CBC: Branch 1 was taken 11373 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          14573 :     if (ddigits &gt; maxdigits)</span></span>
<span id="L7752" title="Line 7752: commit bb885dd1a1bc on 1999-05-10 by JanWieck@Yahoo.com">                           <span class="lineNum">    7752</span>                 :                :     {</span>
<span id="L7753" title="Line 7753: commit 3cb8c8da68c0 on 2000-01-15 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7753</span>                 :                :         /* Determine true weight; and check for all-zero result */</span>
<span id="L7754" title="Line 7754: commit 3cb8c8da68c0 on 2000-01-15 by tgl@sss.pgh.pa.us"> 9355                      <span class="lineNum">    7754</span>         [<span class="tlaCBC"> <a href="#L7758" title="CBC: Branch 0 was taken 3193 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7758" title="CBC: Branch 1 was taken 7 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3200 :         for (i = 0; i &lt; var-&gt;ndigits; i++)</span></span>
<span id="L7755" title="Line 7755: commit 3cb8c8da68c0 on 2000-01-15 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7755</span>                 :                :         {</span>
<span id="L7756" title="Line 7756: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">    7756</span>                 :<span class="tlaCBC">           3193 :             NumericDigit dig = var-&gt;digits[i];</span></span>
<span id="L7757" title="Line 7757: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7757</span>                 :                : </span>
<span id="L7758" title="Line 7758: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7758</span>         [<span class="tlaCBC"> <a href="#L7762" title="CBC: Branch 0 was taken 3193 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7810" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">           3193 :             if (dig)</span></span>
<span id="L7759" title="Line 7759: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7759</span>                 :                :             {</span>
<span id="L7760" title="Line 7760: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7760</span>                 :                :                 /* Adjust for any high-order decimal zero digits */</span>
<span id="L7761" title="Line 7761: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7761</span>                 :                : #if DEC_DIGITS == 4</span>
<span id="L7762" title="Line 7762: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7762</span>         [<span class="tlaCBC"> <a href="#L7764" title="CBC: Branch 0 was taken 144 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7764" title="CBC: Branch 1 was taken 3049 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3193 :                 if (dig &lt; 10)</span></span>
<span id="L7763" title="Line 7763: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7763</span>                 :<span class="tlaCBC">            144 :                     ddigits -= 3;</span></span>
<span id="L7764" title="Line 7764: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7764</span>         [<span class="tlaCBC"> <a href="#L7766" title="CBC: Branch 0 was taken 312 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7766" title="CBC: Branch 1 was taken 2737 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3049 :                 else if (dig &lt; 100)</span></span>
<span id="L7765" title="Line 7765: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7765</span>                 :<span class="tlaCBC">            312 :                     ddigits -= 2;</span></span>
<span id="L7766" title="Line 7766: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7766</span>         [<span class="tlaCBC"> <a href="#L7776" title="CBC: Branch 0 was taken 2728 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7776" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2737 :                 else if (dig &lt; 1000)</span></span>
<span id="L7767" title="Line 7767: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7767</span>                 :<span class="tlaCBC">           2728 :                     ddigits -= 1;</span></span>
<span id="L7768" title="Line 7768: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7768</span>                 :                : #elif DEC_DIGITS == 2</span>
<span id="L7769" title="Line 7769: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7769</span>                 :                :                 if (dig &lt; 10)</span>
<span id="L7770" title="Line 7770: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7770</span>                 :                :                     ddigits -= 1;</span>
<span id="L7771" title="Line 7771: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7771</span>                 :                : #elif DEC_DIGITS == 1</span>
<span id="L7772" title="Line 7772: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7772</span>                 :                :                 /* no adjustment */</span>
<span id="L7773" title="Line 7773: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7773</span>                 :                : #else</span>
<span id="L7774" title="Line 7774: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7774</span>                 :                : #error unsupported NBASE</span>
<span id="L7775" title="Line 7775: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7775</span>                 :                : #endif</span>
<span id="L7776" title="Line 7776: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7776</span>         [<span class="tlaCBC"> <a href="#L7777" title="CBC: Branch 0 was taken 42 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7777" title="CBC: Branch 1 was taken 3151 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3193 :                 if (ddigits &gt; maxdigits)</span></span>
<span id="L7777" title="Line 7777: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">  991                      <span class="lineNum">    7777</span>   [<span class="tlaCBC"> <a href="#L7810" title="CBC: Branch 0 was taken 33 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7810" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7810" title="CBC: Branch 2 was taken 24 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7810" title="CBC: Branch 3 was taken 9 times" class="branchTla">+</a> </span> :<span class="tlaCBC">             42 :                     ereturn(escontext, false,</span></span>
                           <span class="lineNum">        </span>          <span class="tlaCBC"> <a href="#L7810" title="CBC: Branch 4 was taken 24 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7810" title="CBC: Branch 5 was taken 9 times" class="branchTla">+</a> </span>]
<span id="L7778" title="Line 7778: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7778</span>                 :                :                             (errcode(ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE),</span>
<span id="L7779" title="Line 7779: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7779</span>                 :                :                              errmsg(&quot;numeric field overflow&quot;),</span>
<span id="L7780" title="Line 7780: commit 0a42adcc320b on 2006-10-03 by bruce@momjian.us">                           <span class="lineNum">    7780</span>                 :                :                              errdetail(&quot;A field with precision %d, scale %d must round to an absolute value less than %s%d.&quot;,</span>
<span id="L7781" title="Line 7781: commit 514d0f4db63a on 2006-01-25 by bruce@momjian.us">                           <span class="lineNum">    7781</span>                 :                :                                        precision, scale,</span>
<span id="L7782" title="Line 7782: commit f99a569a2ee3 on 2006-10-04 by bruce@momjian.us">                           <span class="lineNum">    7782</span>                 :                :                     /* Display 10^0 as 1 */</span>
<span id="L7783" title="Line 7783: commit 514d0f4db63a on 2006-01-25 by bruce@momjian.us">                           <span class="lineNum">    7783</span>                 :                :                                        maxdigits ? &quot;10^&quot; : &quot;&quot;,</span>
<span id="L7784" title="Line 7784: commit 0a42adcc320b on 2006-10-03 by bruce@momjian.us">                           <span class="lineNum">    7784</span>                 :                :                                        maxdigits ? maxdigits : 1</span>
<span id="L7785" title="Line 7785: commit 0a42adcc320b on 2006-10-03 by bruce@momjian.us">                           <span class="lineNum">    7785</span>                 :                :                                        )));</span>
<span id="L7786" title="Line 7786: commit 3cb8c8da68c0 on 2000-01-15 by tgl@sss.pgh.pa.us"> 9355                      <span class="lineNum">    7786</span>                 :<span class="tlaCBC">           3151 :                 break;</span></span>
<span id="L7787" title="Line 7787: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7787</span>                 :                :             }</span>
<span id="L7788" title="Line 7788: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 8194 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L8009" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">8194</a> </span><a href="#L8083" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 8194 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    7788</span>                 :<a href="#L8009" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             ddigits -= DEC_DIGITS;</span></span>
<span id="L7789" title="Line 7789: commit 3cb8c8da68c0 on 2000-01-15 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7789</span>                 :                :         }</span>
<span id="L7790" title="Line 7790: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7790</span>                 :                :     }</span>
<span id="L7791" title="Line 7791: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7791</span>                 :                : </span>
<span id="L7792" title="Line 7792: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">  <a href="#L8013" title="next CBC in &ldquo;(360..) days&rdquo; bin">991</a> <a href="#L7823" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7792</span>                 :<a href="#L8013" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">       14531 :     return true;</span></span>
<span id="L7793" title="Line 7793: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7793</span>                 :                : }</span>
<span id="L7794" title="Line 7794: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7794</span>                 :                : </span>
<span id="L7795" title="Line 7795: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7795</span>                 :                : /*</span>
<span id="L7796" title="Line 7796: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7796</span>                 :                :  * apply_typmod_special() -</span>
<span id="L7797" title="Line 7797: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7797</span>                 :                :  *</span>
<span id="L7798" title="Line 7798: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7798</span>                 :                :  *  Do bounds checking according to the specified typmod, for an Inf or NaN.</span>
<span id="L7799" title="Line 7799: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7799</span>                 :                :  *  For convenience of most callers, the value is presented in packed form.</span>
<span id="L7800" title="Line 7800: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7800</span>                 :                :  *</span>
<span id="L7801" title="Line 7801: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7801</span>                 :                :  * Returns true on success, false on failure (if escontext points to an</span>
<span id="L7802" title="Line 7802: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7802</span>                 :                :  * ErrorSaveContext; otherwise errors are thrown).</span>
<span id="L7803" title="Line 7803: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7803</span>                 :                :  */</span>
<span id="L7804" title="Line 7804: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7804</span>                 :                : static bool</span>
<span id="L7805" title="Line 7805: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7805</span>                 :<span class="tlaCBC">            944 : apply_typmod_special(Numeric num, int32 typmod, Node *escontext)</span></span>
<span id="L7806" title="Line 7806: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7806</span>                 :                : {</span>
<span id="L7807" title="Line 7807: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7807</span>                 :                :     int         precision;</span>
<span id="L7808" title="Line 7808: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7808</span>                 :                :     int         scale;</span>
<span id="L7809" title="Line 7809: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7809</span>                 :                : </span>
<span id="L7810" title="Line 7810: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us"> 1861                      <span class="lineNum">    7810</span>         [<span class="tlaUBC"> <a href="#L7828" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L7818" title="CBC: Branch 1 was taken 944 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            944 :     Assert(NUMERIC_IS_SPECIAL(num));    /* caller error if not */</span></span>
<span id="L7811" title="Line 7811: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7811</span>                 :                : </span>
<span id="L7812" title="Line 7812: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7812</span>                 :                :     /*</span>
<span id="L7813" title="Line 7813: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7813</span>                 :                :      * NaN is allowed regardless of the typmod; that's rather dubious perhaps,</span>
<span id="L7814" title="Line 7814: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7814</span>                 :                :      * but it's a longstanding behavior.  Inf is rejected if we have any</span>
<span id="L7815" title="Line 7815: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7815</span>                 :                :      * typmod restriction, since an infinity shouldn't be claimed to fit in</span>
<span id="L7816" title="Line 7816: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7816</span>                 :                :      * any finite number of digits.</span>
<span id="L7817" title="Line 7817: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7817</span>                 :                :      */</span>
<span id="L7818" title="Line 7818: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7818</span>         [<span class="tlaCBC"> <a href="#L7822" title="CBC: Branch 0 was taken 395 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7822" title="CBC: Branch 1 was taken 549 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            944 :     if (NUMERIC_IS_NAN(num))</span></span>
<span id="L7819" title="Line 7819: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">  991                      <span class="lineNum">    7819</span>                 :<span class="tlaCBC">            395 :         return true;</span></span>
<span id="L7820" title="Line 7820: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7820</span>                 :                : </span>
<span id="L7821" title="Line 7821: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7821</span>                 :                :     /* Do nothing if we have a default typmod (-1) */</span>
<span id="L7822" title="Line 7822: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> 1492 <a href="#L7825" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    7822</span>         [<span class="tlaCBC"> <a href="#L7828" title="CBC: Branch 0 was taken 540 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7828" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            549 :     if (!is_valid_numeric_typmod(typmod))</span></span>
<span id="L7823" title="Line 7823: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">  991 <a href="#L7828" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7823</span>                 :<span class="tlaCBC">            540 :         return true;</span></span>
<span id="L7824" title="Line 7824: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7824</span>                 :                : </span>
<span id="L7825" title="Line 7825: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com"> 1492 <a href="#L8448" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    7825</span>                 :<span class="tlaCBC">              9 :     precision = numeric_typmod_precision(typmod);</span></span>
<span id="L7826" title="Line 7826: commit 085f931f5249 on 2021-07-26 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    7826</span>                 :<span class="tlaCBC">              9 :     scale = numeric_typmod_scale(typmod);</span></span>
<span id="L7827" title="Line 7827: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7827</span>                 :                : </span>
<span id="L7828" title="Line 7828: commit ccff2d20ed96 on 2022-12-09 by tgl@sss.pgh.pa.us">  991 <a href="#L7860" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7828</span>         [<span class="tlaCBC"> <a href="#L7860" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L7872" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              9 :     ereturn(escontext, false,</span></span>
<span id="L7829" title="Line 7829: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7829</span>                 :                :             (errcode(ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE),</span>
<span id="L7830" title="Line 7830: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7830</span>                 :                :              errmsg(&quot;numeric field overflow&quot;),</span>
<span id="L7831" title="Line 7831: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7831</span>                 :                :              errdetail(&quot;A field with precision %d, scale %d cannot hold an infinite value.&quot;,</span>
<span id="L7832" title="Line 7832: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7832</span>                 :                :                        precision, scale)));</span>
<span id="L7833" title="Line 7833: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7833</span>                 :                : }</span>
<span id="L7834" title="Line 7834: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7834</span>                 :                : </span>
<span id="L7835" title="Line 7835: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7835</span>                 :                : </span>
<span id="L7836" title="Line 7836: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7836</span>                 :                : /*</span>
<span id="L7837" title="Line 7837: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7837</span>                 :                :  * Convert numeric to int8, rounding if needed.</span>
<span id="L7838" title="Line 7838: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7838</span>                 :                :  *</span>
<span id="L7839" title="Line 7839: commit 2eb4a831e5fb on 2017-08-16 by peter_e@gmx.net">                           <span class="lineNum">    7839</span>                 :                :  * If overflow, return false (no error is raised).  Return true if okay.</span>
<span id="L7840" title="Line 7840: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7840</span>                 :                :  */</span>
<span id="L7841" title="Line 7841: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7841</span>                 :                : static bool</span>
<span id="L7842" title="Line 7842: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L7881" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    7842</span>                 :<span class="tlaCBC">           5151 : numericvar_to_int64(const NumericVar *var, int64 *result)</span></span>
<span id="L7843" title="Line 7843: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7843</span>                 :                : {</span>
<span id="L7844" title="Line 7844: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7844</span>                 :                :     NumericDigit *digits;</span>
<span id="L7845" title="Line 7845: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7845</span>                 :                :     int         ndigits;</span>
<span id="L7846" title="Line 7846: commit cdb8a844e62c on 2003-07-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7846</span>                 :                :     int         weight;</span>
<span id="L7847" title="Line 7847: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7847</span>                 :                :     int         i;</span>
<span id="L7848" title="Line 7848: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7848</span>                 :                :     int64       val;</span>
<span id="L7849" title="Line 7849: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7849</span>                 :                :     bool        neg;</span>
<span id="L7850" title="Line 7850: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7850</span>                 :                :     NumericVar  rounded;</span>
<span id="L7851" title="Line 7851: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7851</span>                 :                : </span>
<span id="L7852" title="Line 7852: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7852</span>                 :                :     /* Round to nearest integer */</span>
<span id="L7853" title="Line 7853: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L7863" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    7853</span>                 :<span class="tlaCBC">           5151 :     init_var(&amp;rounded);</span></span>
<span id="L7854" title="Line 7854: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7854</span>                 :<span class="tlaCBC">           5151 :     set_var_from_var(var, &amp;rounded);</span></span>
<span id="L7855" title="Line 7855: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7855</span>                 :<span class="tlaCBC">           5151 :     round_var(&amp;rounded, 0);</span></span>
<span id="L7856" title="Line 7856: commit 52f77df613ce on 2000-04-12 by bruce@momjian.us">                           <span class="lineNum">    7856</span>                 :                : </span>
<span id="L7857" title="Line 7857: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7857</span>                 :                :     /* Check for zero input */</span>
<span id="L7858" title="Line 7858: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7858</span>                 :<span class="tlaCBC">           5151 :     strip_var(&amp;rounded);</span></span>
<span id="L7859" title="Line 7859: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7859</span>                 :<span class="tlaCBC">           5151 :     ndigits = rounded.ndigits;</span></span>
<span id="L7860" title="Line 7860: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L7864" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7860</span>         [<span class="tlaCBC"> <a href="#L7872" title="CBC: Branch 0 was taken 239 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7872" title="CBC: Branch 1 was taken 4912 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           5151 :     if (ndigits == 0)</span></span>
<span id="L7861" title="Line 7861: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7861</span>                 :                :     {</span>
<span id="L7862" title="Line 7862: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7862</span>                 :<span class="tlaCBC">            239 :         *result = 0;</span></span>
<span id="L7863" title="Line 7863: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L7871" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    7863</span>                 :<span class="tlaCBC">            239 :         free_var(&amp;rounded);</span></span>
<span id="L7864" title="Line 7864: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L7882" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7864</span>                 :<span class="tlaCBC">            239 :         return true;</span></span>
<span id="L7865" title="Line 7865: commit bb885dd1a1bc on 1999-05-10 by JanWieck@Yahoo.com">                           <span class="lineNum">    7865</span>                 :                :     }</span>
<span id="L7866" title="Line 7866: commit bb885dd1a1bc on 1999-05-10 by JanWieck@Yahoo.com">                           <span class="lineNum">    7866</span>                 :                : </span>
<span id="L7867" title="Line 7867: commit cdb8a844e62c on 2003-07-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7867</span>                 :                :     /*</span>
<span id="L7868" title="Line 7868: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    7868</span>                 :                :      * For input like 10000000000, we must treat stripped digits as real. So</span>
<span id="L7869" title="Line 7869: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    7869</span>                 :                :      * the loop assumes there are weight+1 digits before the decimal point.</span>
<span id="L7870" title="Line 7870: commit cdb8a844e62c on 2003-07-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7870</span>                 :                :      */</span>
<span id="L7871" title="Line 7871: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L7879" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    7871</span>                 :<span class="tlaCBC">           4912 :     weight = rounded.weight;</span></span>
<span id="L7872" title="Line 7872: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> 8058 <a href="#L7925" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    7872</span>   [<span class="tlaCBC"> <a href="#L7882" title="CBC: Branch 0 was taken 4912 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L8000" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L8000" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L7882" title="CBC: Branch 3 was taken 4912 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           4912 :     Assert(weight &gt;= 0 &amp;&amp; ndigits &lt;= weight + 1);</span></span>
<span id="L7873" title="Line 7873: commit cdb8a844e62c on 2003-07-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7873</span>                 :                : </span>
<span id="L7874" title="Line 7874: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7874</span>                 :                :     /*</span>
<span id="L7875" title="Line 7875: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7875</span>                 :                :      * Construct the result. To avoid issues with converting a value</span>
<span id="L7876" title="Line 7876: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7876</span>                 :                :      * corresponding to INT64_MIN (which can't be represented as a positive 64</span>
<span id="L7877" title="Line 7877: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7877</span>                 :                :      * bit two's complement integer), accumulate value as a negative number.</span>
<span id="L7878" title="Line 7878: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7878</span>                 :                :      */</span>
<span id="L7879" title="Line 7879: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L7894" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    7879</span>                 :<span class="tlaCBC">           4912 :     digits = rounded.digits;</span></span>
<span id="L7880" title="Line 7880: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7880</span>                 :<span class="tlaCBC">           4912 :     neg = (rounded.sign == NUMERIC_NEG);</span></span>
<span id="L7881" title="Line 7881: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de"> 2814 <a href="#L7884" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    7881</span>                 :<span class="tlaCBC">           4912 :     val = -digits[0];</span></span>
<span id="L7882" title="Line 7882: commit cdb8a844e62c on 2003-07-03 by tgl@sss.pgh.pa.us"> 8090 <a href="#L7895" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7882</span>         [<span class="tlaCBC"> <a href="#L7884" title="CBC: Branch 0 was taken 2082 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7884" title="CBC: Branch 1 was taken 4888 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           6970 :     for (i = 1; i &lt;= weight; i++)</span></span>
<span id="L7883" title="Line 7883: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7883</span>                 :                :     {</span>
<span id="L7884" title="Line 7884: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de"> 2814 <a href="#L7902" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    7884</span>         [<span class="tlaCBC"> <a href="#L7890" title="CBC: Branch 0 was taken 15 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7890" title="CBC: Branch 1 was taken 2067 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2082 :         if (unlikely(pg_mul_s64_overflow(val, NBASE, &amp;val)))</span></span>
<span id="L7885" title="Line 7885: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7885</span>                 :                :         {</span>
<span id="L7886" title="Line 7886: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7886</span>                 :<span class="tlaCBC">             15 :             free_var(&amp;rounded);</span></span>
<span id="L7887" title="Line 7887: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7887</span>                 :<span class="tlaCBC">             15 :             return false;</span></span>
<span id="L7888" title="Line 7888: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7888</span>                 :                :         }</span>
<span id="L7889" title="Line 7889: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">    7889</span>                 :                : </span>
<span id="L7890" title="Line 7890: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7890</span>         [<span class="tlaCBC"> <a href="#L7892" title="CBC: Branch 0 was taken 1929 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7892" title="CBC: Branch 1 was taken 138 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2067 :         if (i &lt; ndigits)</span></span>
<span id="L7891" title="Line 7891: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7891</span>                 :                :         {</span>
<span id="L7892" title="Line 7892: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7892</span>         [<span class="tlaCBC"> <a href="#L7902" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7902" title="CBC: Branch 1 was taken 1920 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1929 :             if (unlikely(pg_sub_s64_overflow(val, digits[i], &amp;val)))</span></span>
<span id="L7893" title="Line 7893: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7893</span>                 :                :             {</span>
<span id="L7894" title="Line 7894: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L7900" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    7894</span>                 :<span class="tlaCBC">              9 :                 free_var(&amp;rounded);</span></span>
<span id="L7895" title="Line 7895: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L7910" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7895</span>                 :<span class="tlaCBC">              9 :                 return false;</span></span>
<span id="L7896" title="Line 7896: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7896</span>                 :                :             }</span>
<span id="L7897" title="Line 7897: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7897</span>                 :                :         }</span>
<span id="L7898" title="Line 7898: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7898</span>                 :                :     }</span>
<span id="L7899" title="Line 7899: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7899</span>                 :                : </span>
<span id="L7900" title="Line 7900: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L8076" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    7900</span>                 :<span class="tlaCBC">           4888 :     free_var(&amp;rounded);</span></span>
<span id="L7901" title="Line 7901: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi">                           <span class="lineNum">    7901</span>                 :                : </span>
<span id="L7902" title="Line 7902: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de"> 2814 <a href="#L7917" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    7902</span>         [<span class="tlaCBC"> <a href="#L7904" title="CBC: Branch 0 was taken 4492 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7904" title="CBC: Branch 1 was taken 396 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           4888 :     if (!neg)</span></span>
<span id="L7903" title="Line 7903: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7903</span>                 :                :     {</span>
<span id="L7904" title="Line 7904: commit f512a6e1323e on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7904</span>         [<span class="tlaCBC"> <a href="#L7926" title="CBC: Branch 0 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7926" title="CBC: Branch 1 was taken 4480 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           4492 :         if (unlikely(val == PG_INT64_MIN))</span></span>
<span id="L7905" title="Line 7905: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7905</span>                 :<span class="tlaCBC">             12 :             return false;</span></span>
<span id="L7906" title="Line 7906: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7906</span>                 :<span class="tlaCBC">           4480 :         val = -val;</span></span>
<span id="L7907" title="Line 7907: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7907</span>                 :                :     }</span>
<span id="L7908" title="Line 7908: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7908</span>                 :<span class="tlaCBC">           4876 :     *result = val;</span></span>
<span id="L7909" title="Line 7909: commit 101c7ee3ee84 on 2017-12-12 by andres@anarazel.de">                           <span class="lineNum">    7909</span>                 :                : </span>
<span id="L7910" title="Line 7910: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L7926" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7910</span>                 :<span class="tlaCBC">           4876 :     return true;</span></span>
<span id="L7911" title="Line 7911: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7911</span>                 :                : }</span>
<span id="L7912" title="Line 7912: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    7912</span>                 :                : </span>
<span id="L7913" title="Line 7913: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7913</span>                 :                : /*</span>
<span id="L7914" title="Line 7914: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7914</span>                 :                :  * Convert int8 value to numeric.</span>
<span id="L7915" title="Line 7915: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7915</span>                 :                :  */</span>
<span id="L7916" title="Line 7916: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7916</span>                 :                : static void</span>
<span id="L7917" title="Line 7917: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> 3812 <a href="#L8042" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    7917</span>                 :<span class="tlaCBC">         949699 : int64_to_numericvar(int64 val, NumericVar *var)</span></span>
<span id="L7918" title="Line 7918: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7918</span>                 :                : {</span>
<span id="L7919" title="Line 7919: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7919</span>                 :                :     uint64      uval,</span>
<span id="L7920" title="Line 7920: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7920</span>                 :                :                 newuval;</span>
<span id="L7921" title="Line 7921: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7921</span>                 :                :     NumericDigit *ptr;</span>
<span id="L7922" title="Line 7922: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7922</span>                 :                :     int         ndigits;</span>
<span id="L7923" title="Line 7923: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7923</span>                 :                : </span>
<span id="L7924" title="Line 7924: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    7924</span>                 :                :     /* int64 can require at most 19 decimal digits; add one for safety */</span>
<span id="L7925" title="Line 7925: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> 8058 <a href="#L8104" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    7925</span>                 :<span class="tlaCBC">         949699 :     alloc_var(var, 20 / DEC_DIGITS);</span></span>
<span id="L7926" title="Line 7926: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L7933" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7926</span>         [<span class="tlaCBC"> <a href="#L7937" title="CBC: Branch 0 was taken 904 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7937" title="CBC: Branch 1 was taken 948795 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         949699 :     if (val &lt; 0)</span></span>
<span id="L7927" title="Line 7927: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7927</span>                 :                :     {</span>
<span id="L7928" title="Line 7928: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7928</span>                 :<span class="tlaCBC">            904 :         var-&gt;sign = NUMERIC_NEG;</span></span>
<span id="L7929" title="Line 7929: commit 9e9a2b7031f6 on 2024-08-15 by nathan@postgresql.org">  376 <a href="#L11194" title="next CBC in &ldquo;nathan@postgresql.org&rdquo; bin">nathan@postgresql.or</a> <span class="lineNum">    7929</span>                 :<span class="tlaCBC">            904 :         uval = pg_abs_s64(val);</span></span>
<span id="L7930" title="Line 7930: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7930</span>                 :                :     }</span>
<span id="L7931" title="Line 7931: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7931</span>                 :                :     else</span>
<span id="L7932" title="Line 7932: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7932</span>                 :                :     {</span>
<span id="L7933" title="Line 7933: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L8079" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    7933</span>                 :<span class="tlaCBC">         948795 :         var-&gt;sign = NUMERIC_POS;</span></span>
<span id="L7934" title="Line 7934: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7934</span>                 :<span class="tlaCBC">         948795 :         uval = val;</span></span>
<span id="L7935" title="Line 7935: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7935</span>                 :                :     }</span>
<span id="L7936" title="Line 7936: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7936</span>                 :<span class="tlaCBC">         949699 :     var-&gt;dscale = 0;</span></span>
<span id="L7937" title="Line 7937: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7937</span>         [<span class="tlaCBC"> <a href="#L7952" title="CBC: Branch 0 was taken 15338 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7952" title="CBC: Branch 1 was taken 934361 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         949699 :     if (val == 0)</span></span>
<span id="L7938" title="Line 7938: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7938</span>                 :                :     {</span>
<span id="L7939" title="Line 7939: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7939</span>                 :<span class="tlaCBC">          15338 :         var-&gt;ndigits = 0;</span></span>
<span id="L7940" title="Line 7940: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7940</span>                 :<span class="tlaCBC">          15338 :         var-&gt;weight = 0;</span></span>
<span id="L7941" title="Line 7941: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7941</span>                 :<span class="tlaCBC">          15338 :         return;</span></span>
<span id="L7942" title="Line 7942: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7942</span>                 :                :     }</span>
<span id="L7943" title="Line 7943: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7943</span>                 :<span class="tlaCBC">         934361 :     ptr = var-&gt;digits + var-&gt;ndigits;</span></span>
<span id="L7944" title="Line 7944: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7944</span>                 :<span class="tlaCBC">         934361 :     ndigits = 0;</span></span>
<span id="L7945" title="Line 7945: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">    7945</span>                 :                :     do</span>
<span id="L7946" title="Line 7946: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">    7946</span>                 :                :     {</span>
<span id="L7947" title="Line 7947: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7947</span>                 :<span class="tlaCBC">        1096055 :         ptr--;</span></span>
<span id="L7948" title="Line 7948: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7948</span>                 :<span class="tlaCBC">        1096055 :         ndigits++;</span></span>
<span id="L7949" title="Line 7949: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7949</span>                 :<span class="tlaCBC">        1096055 :         newuval = uval / NBASE;</span></span>
<span id="L7950" title="Line 7950: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7950</span>                 :<span class="tlaCBC">        1096055 :         *ptr = uval - newuval * NBASE;</span></span>
<span id="L7951" title="Line 7951: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7951</span>                 :<span class="tlaCBC">        1096055 :         uval = newuval;</span></span>
<span id="L7952" title="Line 7952: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7952</span>         [<span class="tlaCBC"> <a href="#L7981" title="CBC: Branch 0 was taken 161694 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7981" title="CBC: Branch 1 was taken 934361 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1096055 :     } while (uval);</span></span>
<span id="L7953" title="Line 7953: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7953</span>                 :<span class="tlaCBC">         934361 :     var-&gt;digits = ptr;</span></span>
<span id="L7954" title="Line 7954: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7954</span>                 :<span class="tlaCBC">         934361 :     var-&gt;ndigits = ndigits;</span></span>
<span id="L7955" title="Line 7955: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7955</span>                 :<span class="tlaCBC">         934361 :     var-&gt;weight = ndigits - 1;</span></span>
<span id="L7956" title="Line 7956: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7956</span>                 :                : }</span>
<span id="L7957" title="Line 7957: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    7957</span>                 :                : </span>
<span id="L7958" title="Line 7958: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7958</span>                 :                : /*</span>
<span id="L7959" title="Line 7959: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7959</span>                 :                :  * Convert numeric to uint64, rounding if needed.</span>
<span id="L7960" title="Line 7960: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7960</span>                 :                :  *</span>
<span id="L7961" title="Line 7961: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7961</span>                 :                :  * If overflow, return false (no error is raised).  Return true if okay.</span>
<span id="L7962" title="Line 7962: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7962</span>                 :                :  */</span>
<span id="L7963" title="Line 7963: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7963</span>                 :                : static bool</span>
<span id="L7964" title="Line 7964: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org"> 1883 <a href="#L8013" title="next CBC in &ldquo;fujii@postgresql.org&rdquo; bin">fujii@postgresql.org</a> <span class="lineNum">    7964</span>                 :<span class="tlaCBC">             57 : numericvar_to_uint64(const NumericVar *var, uint64 *result)</span></span>
<span id="L7965" title="Line 7965: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7965</span>                 :                : {</span>
<span id="L7966" title="Line 7966: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7966</span>                 :                :     NumericDigit *digits;</span>
<span id="L7967" title="Line 7967: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7967</span>                 :                :     int         ndigits;</span>
<span id="L7968" title="Line 7968: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7968</span>                 :                :     int         weight;</span>
<span id="L7969" title="Line 7969: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7969</span>                 :                :     int         i;</span>
<span id="L7970" title="Line 7970: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7970</span>                 :                :     uint64      val;</span>
<span id="L7971" title="Line 7971: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7971</span>                 :                :     NumericVar  rounded;</span>
<span id="L7972" title="Line 7972: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7972</span>                 :                : </span>
<span id="L7973" title="Line 7973: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7973</span>                 :                :     /* Round to nearest integer */</span>
<span id="L7974" title="Line 7974: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7974</span>                 :<span class="tlaCBC">             57 :     init_var(&amp;rounded);</span></span>
<span id="L7975" title="Line 7975: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7975</span>                 :<span class="tlaCBC">             57 :     set_var_from_var(var, &amp;rounded);</span></span>
<span id="L7976" title="Line 7976: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7976</span>                 :<span class="tlaCBC">             57 :     round_var(&amp;rounded, 0);</span></span>
<span id="L7977" title="Line 7977: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7977</span>                 :                : </span>
<span id="L7978" title="Line 7978: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7978</span>                 :                :     /* Check for zero input */</span>
<span id="L7979" title="Line 7979: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7979</span>                 :<span class="tlaCBC">             57 :     strip_var(&amp;rounded);</span></span>
<span id="L7980" title="Line 7980: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7980</span>                 :<span class="tlaCBC">             57 :     ndigits = rounded.ndigits;</span></span>
<span id="L7981" title="Line 7981: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7981</span>         [<span class="tlaCBC"> <a href="#L7989" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L7989" title="CBC: Branch 1 was taken 48 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             57 :     if (ndigits == 0)</span></span>
<span id="L7982" title="Line 7982: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7982</span>                 :                :     {</span>
<span id="L7983" title="Line 7983: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7983</span>                 :<span class="tlaCBC">              9 :         *result = 0;</span></span>
<span id="L7984" title="Line 7984: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7984</span>                 :<span class="tlaCBC">              9 :         free_var(&amp;rounded);</span></span>
<span id="L7985" title="Line 7985: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7985</span>                 :<span class="tlaCBC">              9 :         return true;</span></span>
<span id="L7986" title="Line 7986: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7986</span>                 :                :     }</span>
<span id="L7987" title="Line 7987: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7987</span>                 :                : </span>
<span id="L7988" title="Line 7988: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7988</span>                 :                :     /* Check for negative input */</span>
<span id="L7989" title="Line 7989: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7989</span>         [<span class="tlaCBC"> <a href="#L8000" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8000" title="CBC: Branch 1 was taken 42 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             48 :     if (rounded.sign == NUMERIC_NEG)</span></span>
<span id="L7990" title="Line 7990: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7990</span>                 :                :     {</span>
<span id="L7991" title="Line 7991: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7991</span>                 :<span class="tlaCBC">              6 :         free_var(&amp;rounded);</span></span>
<span id="L7992" title="Line 7992: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7992</span>                 :<span class="tlaCBC">              6 :         return false;</span></span>
<span id="L7993" title="Line 7993: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7993</span>                 :                :     }</span>
<span id="L7994" title="Line 7994: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7994</span>                 :                : </span>
<span id="L7995" title="Line 7995: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7995</span>                 :                :     /*</span>
<span id="L7996" title="Line 7996: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7996</span>                 :                :      * For input like 10000000000, we must treat stripped digits as real. So</span>
<span id="L7997" title="Line 7997: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7997</span>                 :                :      * the loop assumes there are weight+1 digits before the decimal point.</span>
<span id="L7998" title="Line 7998: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7998</span>                 :                :      */</span>
<span id="L7999" title="Line 7999: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    7999</span>                 :<span class="tlaCBC">             42 :     weight = rounded.weight;</span></span>
<span id="L8000" title="Line 8000: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8000</span>   [<span class="tlaCBC"> <a href="#L8005" title="CBC: Branch 0 was taken 42 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L8007" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L8007" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L8005" title="CBC: Branch 3 was taken 42 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             42 :     Assert(weight &gt;= 0 &amp;&amp; ndigits &lt;= weight + 1);</span></span>
<span id="L8001" title="Line 8001: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8001</span>                 :                : </span>
<span id="L8002" title="Line 8002: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8002</span>                 :                :     /* Construct the result */</span>
<span id="L8003" title="Line 8003: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8003</span>                 :<span class="tlaCBC">             42 :     digits = rounded.digits;</span></span>
<span id="L8004" title="Line 8004: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8004</span>                 :<span class="tlaCBC">             42 :     val = digits[0];</span></span>
<span id="L8005" title="Line 8005: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8005</span>         [<span class="tlaCBC"> <a href="#L8007" title="CBC: Branch 0 was taken 87 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8007" title="CBC: Branch 1 was taken 36 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            123 :     for (i = 1; i &lt;= weight; i++)</span></span>
<span id="L8006" title="Line 8006: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8006</span>                 :                :     {</span>
<span id="L8007" title="Line 8007: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8007</span>         [<span class="tlaUBC"> <a href="#L8013" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L8013" title="CBC: Branch 1 was taken 87 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             87 :         if (unlikely(pg_mul_u64_overflow(val, NBASE, &amp;val)))</span></span>
<span id="L8008" title="Line 8008: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8008</span>                 :                :         {</span>
<span id="L8009" title="Line 8009: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org"><span title="fujii@postgresql.org 1883 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L8083" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1883</a> <a href="#top" title="next UBC in &ldquo;fujii@postgresql.org&rdquo; bin" class="tlaBgUBC">fujii@postgresql.org</a></span> <span class="lineNum">    8009</span>                 :<a href="#L8083" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             free_var(&amp;rounded);</span></span>
<span id="L8010" title="Line 8010: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org"><span title="fujii@postgresql.org 1883 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    8010</span>                 :<span class="tlaUBC">              0 :             return false;</span></span>
<span id="L8011" title="Line 8011: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8011</span>                 :                :         }</span>
<span id="L8012" title="Line 8012: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8012</span>                 :                : </span>
<span id="L8013" title="Line 8013: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org"> <a href="#L8042" title="next CBC in &ldquo;(360..) days&rdquo; bin">1883</a> <a href="#top" title="next CBC in &ldquo;fujii@postgresql.org&rdquo; bin">fujii@postgresql.org</a> <span class="lineNum">    8013</span>         [<span class="tlaCBC"> <a href="#L8015" title="CBC: Branch 0 was taken 87 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L8080" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<a href="#L8042" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          87 :         if (i &lt; ndigits)</span></span>
<span id="L8014" title="Line 8014: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8014</span>                 :                :         {</span>
<span id="L8015" title="Line 8015: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8015</span>         [<span class="tlaCBC"> <a href="#L8080" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8080" title="CBC: Branch 1 was taken 81 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             87 :             if (unlikely(pg_add_u64_overflow(val, digits[i], &amp;val)))</span></span>
<span id="L8016" title="Line 8016: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8016</span>                 :                :             {</span>
<span id="L8017" title="Line 8017: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8017</span>                 :<span class="tlaCBC">              6 :                 free_var(&amp;rounded);</span></span>
<span id="L8018" title="Line 8018: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8018</span>                 :<span class="tlaCBC">              6 :                 return false;</span></span>
<span id="L8019" title="Line 8019: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8019</span>                 :                :             }</span>
<span id="L8020" title="Line 8020: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8020</span>                 :                :         }</span>
<span id="L8021" title="Line 8021: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8021</span>                 :                :     }</span>
<span id="L8022" title="Line 8022: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8022</span>                 :                : </span>
<span id="L8023" title="Line 8023: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8023</span>                 :<span class="tlaCBC">             36 :     free_var(&amp;rounded);</span></span>
<span id="L8024" title="Line 8024: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8024</span>                 :                : </span>
<span id="L8025" title="Line 8025: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8025</span>                 :<span class="tlaCBC">             36 :     *result = val;</span></span>
<span id="L8026" title="Line 8026: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8026</span>                 :                : </span>
<span id="L8027" title="Line 8027: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8027</span>                 :<span class="tlaCBC">             36 :     return true;</span></span>
<span id="L8028" title="Line 8028: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNum">    8028</span>                 :                : }</span>
<span id="L8029" title="Line 8029: commit 9bae7e4cde7c on 2020-06-30 by fujii@postgresql.org">                           <span class="lineNumWithDelete" title="removed lines [8343:8407] from baseline version">    8029</span>                 :                : </span>
<span id="L8030" title="Line 8030: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8030</span>                 :                : /*</span>
<span id="L8031" title="Line 8031: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8031</span>                 :                :  * Convert 128 bit integer to numeric.</span>
<span id="L8032" title="Line 8032: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8032</span>                 :                :  */</span>
<span id="L8033" title="Line 8033: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNumWithDelete" title="removed line 8414 from baseline version">    8033</span>                 :                : static void</span>
<span id="L8034" title="Line 8034: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L8043" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L8043" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8034</span>                 :<a href="#L8043" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">        4398 : int128_to_numericvar(INT128 val, NumericVar *var)</span></span>
<span id="L8035" title="Line 8035: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8035</span>                 :                : {</span>
<span id="L8036" title="Line 8036: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8036</span>                 :                :     int         sign;</span>
<span id="L8037" title="Line 8037: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    8037</span>                 :                :     NumericDigit *ptr;</span>
<span id="L8038" title="Line 8038: commit 807b9e0dff66 on 2015-05-23 by bruce@momjian.us">                           <span class="lineNum">    8038</span>                 :                :     int         ndigits;</span>
<span id="L8039" title="Line 8039: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8039</span>                 :                :     int32       dig;</span>
<span id="L8040" title="Line 8040: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8040</span>                 :                : </span>
<span id="L8041" title="Line 8041: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8041</span>                 :                :     /* int128 can require at most 39 decimal digits; add one for safety */</span>
<span id="L8042" title="Line 8042: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L8045" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L8045" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNumWithDelete" title="removed lines [8423:8431] from baseline version">    8042</span>                 :<a href="#L8045" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        4398 :     alloc_var(var, 40 / DEC_DIGITS);</span></span>
<span id="L8043" title="Line 8043: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L8046" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L8046" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8043</span>                 :<a href="#L8046" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">        4398 :     sign = int128_sign(val);</span></span>
<span id="L8044" title="Line 8044: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8044</span>                 :<span class="tlaGNC">           4398 :     var-&gt;sign = sign &lt; 0 ? NUMERIC_NEG : NUMERIC_POS;</span></span>
<span id="L8045" title="Line 8045: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L8048" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L8048" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNumWithDelete" title="removed line 8434 from baseline version">    8045</span>                 :<a href="#L8048" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        4398 :     var-&gt;dscale = 0;</span></span>
<span id="L8046" title="Line 8046: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#L8058" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#L8058" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8046</span>         [<span class="tlaGNC"> <a href="#L8060" title="GNC: Branch 0 was taken 113 times" class="branchTla">+</a> </span><span class="tlaGNC"> <a href="#L8060" title="GNC: Branch 1 was taken 4285 times" class="branchTla">+</a> </span>]:<a href="#L8058" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">        4398 :     if (sign == 0)</span></span>
<span id="L8047" title="Line 8047: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8047</span>                 :                :     {</span>
<span id="L8048" title="Line 8048: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L8061" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L8061" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    8048</span>                 :<a href="#L8061" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         113 :         var-&gt;ndigits = 0;</span></span>
<span id="L8049" title="Line 8049: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8049</span>                 :<span class="tlaCBC">            113 :         var-&gt;weight = 0;</span></span>
<span id="L8050" title="Line 8050: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8050</span>                 :<span class="tlaCBC">            113 :         return;</span></span>
<span id="L8051" title="Line 8051: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8051</span>                 :                :     }</span>
<span id="L8052" title="Line 8052: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8052</span>                 :<span class="tlaCBC">           4285 :     ptr = var-&gt;digits + var-&gt;ndigits;</span></span>
<span id="L8053" title="Line 8053: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8053</span>                 :<span class="tlaCBC">           4285 :     ndigits = 0;</span></span>
<span id="L8054" title="Line 8054: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8054</span>                 :                :     do</span>
<span id="L8055" title="Line 8055: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8055</span>                 :                :     {</span>
<span id="L8056" title="Line 8056: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8056</span>                 :<span class="tlaCBC">          22613 :         ptr--;</span></span>
<span id="L8057" title="Line 8057: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNumWithDelete" title="removed lines [8446:8449] from baseline version">    8057</span>                 :<span class="tlaCBC">          22613 :         ndigits++;</span></span>
<span id="L8058" title="Line 8058: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">   <a href="#top" title="next GNC in &ldquo;(7,30] days&rdquo; bin">19</a> <a href="#top" title="next GNC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8058</span>                 :<a href="#top" class="tlaBgGNC"  title="Next GNC group">GNC</a><span class="tlaGNC tlaBgGNC">       22613 :         int128_div_mod_int32(&amp;val, NBASE, &amp;dig);</span></span>
<span id="L8059" title="Line 8059: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8059</span>                 :<span class="tlaGNC">          22613 :         *ptr = (NumericDigit) abs(dig);</span></span>
<span id="L8060" title="Line 8060: commit d699687b329e on 2025-08-07 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8060</span>         [<span class="tlaGNC"> <a href="#top" title="GNC: Branch 0 was taken 18328 times" class="branchTla">+</a> </span><span class="tlaGNC"> <a href="#top" title="GNC: Branch 1 was taken 4285 times" class="branchTla">+</a> </span>]:<span class="tlaGNC">          22613 :     } while (!int128_is_zero(val));</span></span>
<span id="L8061" title="Line 8061: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> <a href="#L8089" title="next CBC in &ldquo;(360..) days&rdquo; bin">3812</a> <a href="#L8102" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    8061</span>                 :<a href="#L8089" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        4285 :     var-&gt;digits = ptr;</span></span>
<span id="L8062" title="Line 8062: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8062</span>                 :<span class="tlaCBC">           4285 :     var-&gt;ndigits = ndigits;</span></span>
<span id="L8063" title="Line 8063: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8063</span>                 :<span class="tlaCBC">           4285 :     var-&gt;weight = ndigits - 1;</span></span>
<span id="L8064" title="Line 8064: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8064</span>                 :                : }</span>
<span id="L8065" title="Line 8065: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de">                           <span class="lineNum">    8065</span>                 :                : </span>
<span id="L8066" title="Line 8066: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8066</span>                 :                : /*</span>
<span id="L8067" title="Line 8067: commit a57d312a7706 on 2020-07-22 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8067</span>                 :                :  * Convert a NumericVar to float8; if out of range, return +/- HUGE_VAL</span>
<span id="L8068" title="Line 8068: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8068</span>                 :                :  */</span>
<span id="L8069" title="Line 8069: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8069</span>                 :                : static double</span>
<span id="L8070" title="Line 8070: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907                      <span class="lineNum">    8070</span>                 :<span class="tlaCBC">            236 : numericvar_to_double_no_overflow(const NumericVar *var)</span></span>
<span id="L8071" title="Line 8071: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8071</span>                 :                : {</span>
<span id="L8072" title="Line 8072: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8072</span>                 :                :     char       *tmp;</span>
<span id="L8073" title="Line 8073: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8073</span>                 :                :     double      val;</span>
<span id="L8074" title="Line 8074: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8074</span>                 :                :     char       *endptr;</span>
<span id="L8075" title="Line 8075: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8075</span>                 :                : </span>
<span id="L8076" title="Line 8076: commit 5cb0e335976b on 2012-11-21 by heikki.linnakangas@iki.fi"> 4661 <a href="#L11928" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">    8076</span>                 :<span class="tlaCBC">            236 :     tmp = get_str_from_var(var);</span></span>
<span id="L8077" title="Line 8077: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8077</span>                 :                : </span>
<span id="L8078" title="Line 8078: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8078</span>                 :                :     /* unlike float8in, we ignore ERANGE from strtod */</span>
<span id="L8079" title="Line 8079: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us"> 8364 <a href="#L8089" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8079</span>                 :<span class="tlaCBC">            236 :     val = strtod(tmp, &amp;endptr);</span></span>
<span id="L8080" title="Line 8080: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8080</span>         [<span class="tlaUBC"> <a href="#L8083" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L8122" title="CBC: Branch 1 was taken 236 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            236 :     if (*endptr != '\0')</span></span>
<span id="L8081" title="Line 8081: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8081</span>                 :                :     {</span>
<span id="L8082" title="Line 8082: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8082</span>                 :                :         /* shouldn't happen ... */</span>
<span id="L8083" title="Line 8083: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 8066 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L9258" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">8066</a> </span><a href="#L9258" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 8066 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">    8083</span>         [<span class="tlaUBC"> <a href="#L8180" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L8180" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L9252" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         ereport(ERROR,</span></span>
<span id="L8084" title="Line 8084: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8084</span>                 :                :                 (errcode(ERRCODE_INVALID_TEXT_REPRESENTATION),</span>
<span id="L8085" title="Line 8085: commit 9a34123bc315 on 2017-01-18 by alvherre@alvh.no-ip.org">                           <span class="lineNum">    8085</span>                 :                :                  errmsg(&quot;invalid input syntax for type %s: \&quot;%s\&quot;&quot;,</span>
<span id="L8086" title="Line 8086: commit 9a34123bc315 on 2017-01-18 by alvherre@alvh.no-ip.org">                           <span class="lineNum">    8086</span>                 :                :                         &quot;double precision&quot;, tmp)));</span>
<span id="L8087" title="Line 8087: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8087</span>                 :                :     }</span>
<span id="L8088" title="Line 8088: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8088</span>                 :                : </span>
<span id="L8089" title="Line 8089: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us"> <a href="#L9007" title="next CBC in &ldquo;(360..) days&rdquo; bin">8364</a> <a href="#L8182" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8089</span>                 :<a href="#L9259" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         236 :     pfree(tmp);</span></span>
<span id="L8090" title="Line 8090: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8090</span>                 :                : </span>
<span id="L8091" title="Line 8091: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8091</span>                 :<span class="tlaCBC">            236 :     return val;</span></span>
<span id="L8092" title="Line 8092: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8092</span>                 :                : }</span>
<span id="L8093" title="Line 8093: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8093</span>                 :                : </span>
<span id="L8094" title="Line 8094: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8094</span>                 :                : </span>
<span id="L8095" title="Line 8095: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8095</span>                 :                : /*</span>
<span id="L8096" title="Line 8096: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8096</span>                 :                :  * cmp_var() -</span>
<span id="L8097" title="Line 8097: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8097</span>                 :                :  *</span>
<span id="L8098" title="Line 8098: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8098</span>                 :                :  *  Compare two values on variable level.  We assume zeroes have been</span>
<span id="L8099" title="Line 8099: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8099</span>                 :                :  *  truncated to no digits.</span>
<span id="L8100" title="Line 8100: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8100</span>                 :                :  */</span>
<span id="L8101" title="Line 8101: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8101</span>                 :                : static int</span>
<span id="L8102" title="Line 8102: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L8160" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    8102</span>                 :<span class="tlaCBC">          85114 : cmp_var(const NumericVar *var1, const NumericVar *var2)</span></span>
<span id="L8103" title="Line 8103: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8103</span>                 :                : {</span>
<span id="L8104" title="Line 8104: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us"> 7140 <a href="#L8126" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8104</span>                 :<span class="tlaCBC">         170228 :     return cmp_var_common(var1-&gt;digits, var1-&gt;ndigits,</span></span>
<span id="L8105" title="Line 8105: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8105</span>                 :<span class="tlaCBC">          85114 :                           var1-&gt;weight, var1-&gt;sign,</span></span>
<span id="L8106" title="Line 8106: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8106</span>                 :<span class="tlaCBC">          85114 :                           var2-&gt;digits, var2-&gt;ndigits,</span></span>
<span id="L8107" title="Line 8107: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8107</span>                 :<span class="tlaCBC">          85114 :                           var2-&gt;weight, var2-&gt;sign);</span></span>
<span id="L8108" title="Line 8108: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8108</span>                 :                : }</span>
<span id="L8109" title="Line 8109: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8109</span>                 :                : </span>
<span id="L8110" title="Line 8110: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8110</span>                 :                : /*</span>
<span id="L8111" title="Line 8111: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8111</span>                 :                :  * cmp_var_common() -</span>
<span id="L8112" title="Line 8112: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8112</span>                 :                :  *</span>
<span id="L8113" title="Line 8113: commit f99a569a2ee3 on 2006-10-04 by bruce@momjian.us">                           <span class="lineNum">    8113</span>                 :                :  *  Main routine of cmp_var(). This function can be used by both</span>
<span id="L8114" title="Line 8114: commit f99a569a2ee3 on 2006-10-04 by bruce@momjian.us">                           <span class="lineNum">    8114</span>                 :                :  *  NumericVar and Numeric.</span>
<span id="L8115" title="Line 8115: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8115</span>                 :                :  */</span>
<span id="L8116" title="Line 8116: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8116</span>                 :                : static int</span>
<span id="L8117" title="Line 8117: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8117</span>                 :<span class="tlaCBC">        9977981 : cmp_var_common(const NumericDigit *var1digits, int var1ndigits,</span></span>
<span id="L8118" title="Line 8118: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8118</span>                 :                :                int var1weight, int var1sign,</span>
<span id="L8119" title="Line 8119: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8119</span>                 :                :                const NumericDigit *var2digits, int var2ndigits,</span>
<span id="L8120" title="Line 8120: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8120</span>                 :                :                int var2weight, int var2sign)</span>
<span id="L8121" title="Line 8121: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8121</span>                 :                : {</span>
<span id="L8122" title="Line 8122: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8122</span>         [<span class="tlaCBC"> <a href="#L8124" title="CBC: Branch 0 was taken 271968 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8124" title="CBC: Branch 1 was taken 9706013 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        9977981 :     if (var1ndigits == 0)</span></span>
<span id="L8123" title="Line 8123: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8123</span>                 :                :     {</span>
<span id="L8124" title="Line 8124: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8124</span>         [<span class="tlaCBC"> <a href="#L8126" title="CBC: Branch 0 was taken 222849 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8126" title="CBC: Branch 1 was taken 49119 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         271968 :         if (var2ndigits == 0)</span></span>
<span id="L8125" title="Line 8125: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L8127" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    8125</span>                 :<span class="tlaCBC">         222849 :             return 0;</span></span>
<span id="L8126" title="Line 8126: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us"> 7140 <a href="#L8130" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8126</span>         [<span class="tlaCBC"> <a href="#L8130" title="CBC: Branch 0 was taken 2217 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8130" title="CBC: Branch 1 was taken 46902 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          49119 :         if (var2sign == NUMERIC_NEG)</span></span>
<span id="L8127" title="Line 8127: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L8133" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    8127</span>                 :<span class="tlaCBC">           2217 :             return 1;</span></span>
<span id="L8128" title="Line 8128: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8128</span>                 :<span class="tlaCBC">          46902 :         return -1;</span></span>
<span id="L8129" title="Line 8129: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8129</span>                 :                :     }</span>
<span id="L8130" title="Line 8130: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us"> 7140 <a href="#L8137" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8130</span>         [<span class="tlaCBC"> <a href="#L8132" title="CBC: Branch 0 was taken 37007 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8132" title="CBC: Branch 1 was taken 9669006 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        9706013 :     if (var2ndigits == 0)</span></span>
<span id="L8131" title="Line 8131: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8131</span>                 :                :     {</span>
<span id="L8132" title="Line 8132: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8132</span>         [<span class="tlaCBC"> <a href="#L8137" title="CBC: Branch 0 was taken 33221 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8137" title="CBC: Branch 1 was taken 3786 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          37007 :         if (var1sign == NUMERIC_POS)</span></span>
<span id="L8133" title="Line 8133: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L8140" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    8133</span>                 :<span class="tlaCBC">          33221 :             return 1;</span></span>
<span id="L8134" title="Line 8134: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8134</span>                 :<span class="tlaCBC">           3786 :         return -1;</span></span>
<span id="L8135" title="Line 8135: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8135</span>                 :                :     }</span>
<span id="L8136" title="Line 8136: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8136</span>                 :                : </span>
<span id="L8137" title="Line 8137: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us"> 7140 <a href="#L8141" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8137</span>         [<span class="tlaCBC"> <a href="#L8139" title="CBC: Branch 0 was taken 9625509 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8139" title="CBC: Branch 1 was taken 43497 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        9669006 :     if (var1sign == NUMERIC_POS)</span></span>
<span id="L8138" title="Line 8138: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8138</span>                 :                :     {</span>
<span id="L8139" title="Line 8139: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8139</span>         [<span class="tlaCBC"> <a href="#L8145" title="CBC: Branch 0 was taken 11686 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8145" title="CBC: Branch 1 was taken 9613823 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        9625509 :         if (var2sign == NUMERIC_NEG)</span></span>
<span id="L8140" title="Line 8140: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L8146" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    8140</span>                 :<span class="tlaCBC">          11686 :             return 1;</span></span>
<span id="L8141" title="Line 8141: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us"> 7140 <a href="#L8148" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8141</span>                 :<span class="tlaCBC">        9613823 :         return cmp_abs_common(var1digits, var1ndigits, var1weight,</span></span>
<span id="L8142" title="Line 8142: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8142</span>                 :                :                               var2digits, var2ndigits, var2weight);</span>
<span id="L8143" title="Line 8143: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8143</span>                 :                :     }</span>
<span id="L8144" title="Line 8144: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8144</span>                 :                : </span>
<span id="L8145" title="Line 8145: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8145</span>         [<span class="tlaCBC"> <a href="#L8165" title="CBC: Branch 0 was taken 11796 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8165" title="CBC: Branch 1 was taken 31701 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          43497 :     if (var2sign == NUMERIC_POS)</span></span>
<span id="L8146" title="Line 8146: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L8165" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    8146</span>                 :<span class="tlaCBC">          11796 :         return -1;</span></span>
<span id="L8147" title="Line 8147: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8147</span>                 :                : </span>
<span id="L8148" title="Line 8148: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us"> 7140 <a href="#L8189" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8148</span>                 :<span class="tlaCBC">          31701 :     return cmp_abs_common(var2digits, var2ndigits, var2weight,</span></span>
<span id="L8149" title="Line 8149: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">    8149</span>                 :                :                           var1digits, var1ndigits, var1weight);</span>
<span id="L8150" title="Line 8150: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8150</span>                 :                : }</span>
<span id="L8151" title="Line 8151: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8151</span>                 :                : </span>
<span id="L8152" title="Line 8152: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8152</span>                 :                : </span>
<span id="L8153" title="Line 8153: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8153</span>                 :                : /*</span>
<span id="L8154" title="Line 8154: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8154</span>                 :                :  * add_var() -</span>
<span id="L8155" title="Line 8155: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8155</span>                 :                :  *</span>
<span id="L8156" title="Line 8156: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8156</span>                 :                :  *  Full version of add functionality on variable level (handling signs).</span>
<span id="L8157" title="Line 8157: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8157</span>                 :                :  *  result might point to one of the operands too without danger.</span>
<span id="L8158" title="Line 8158: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8158</span>                 :                :  */</span>
<span id="L8159" title="Line 8159: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8159</span>                 :                : static void</span>
<span id="L8160" title="Line 8160: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L8277" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    8160</span>                 :<span class="tlaCBC">         309056 : add_var(const NumericVar *var1, const NumericVar *var2, NumericVar *result)</span></span>
<span id="L8161" title="Line 8161: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8161</span>                 :                : {</span>
<span id="L8162" title="Line 8162: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    8162</span>                 :                :     /*</span>
<span id="L8163" title="Line 8163: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8163</span>                 :                :      * Decide on the signs of the two variables what to do</span>
<span id="L8164" title="Line 8164: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8164</span>                 :                :      */</span>
<span id="L8165" title="Line 8165: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L8216" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    8165</span>         [<span class="tlaCBC"> <a href="#L8167" title="CBC: Branch 0 was taken 308273 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8167" title="CBC: Branch 1 was taken 783 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         309056 :     if (var1-&gt;sign == NUMERIC_POS)</span></span>
<span id="L8166" title="Line 8166: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8166</span>                 :                :     {</span>
<span id="L8167" title="Line 8167: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8167</span>         [<span class="tlaCBC"> <a href="#L8180" title="CBC: Branch 0 was taken 208085 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8180" title="CBC: Branch 1 was taken 100188 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         308273 :         if (var2-&gt;sign == NUMERIC_POS)</span></span>
<span id="L8168" title="Line 8168: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8168</span>                 :                :         {</span>
<span id="L8169" title="Line 8169: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    8169</span>                 :                :             /*</span>
<span id="L8170" title="Line 8170: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    8170</span>                 :                :              * Both are positive result = +(ABS(var1) + ABS(var2))</span>
<span id="L8171" title="Line 8171: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8171</span>                 :                :              */</span>
<span id="L8172" title="Line 8172: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8172</span>                 :<span class="tlaCBC">         208085 :             add_abs(var1, var2, result);</span></span>
<span id="L8173" title="Line 8173: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8173</span>                 :<span class="tlaCBC">         208085 :             result-&gt;sign = NUMERIC_POS;</span></span>
<span id="L8174" title="Line 8174: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8174</span>                 :                :         }</span>
<span id="L8175" title="Line 8175: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8175</span>                 :                :         else</span>
<span id="L8176" title="Line 8176: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8176</span>                 :                :         {</span>
<span id="L8177" title="Line 8177: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    8177</span>                 :                :             /*</span>
<span id="L8178" title="Line 8178: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    8178</span>                 :                :              * var1 is positive, var2 is negative Must compare absolute values</span>
<span id="L8179" title="Line 8179: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8179</span>                 :                :              */</span>
<span id="L8180" title="Line 8180: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8180</span>   [<span class="tlaCBC"> <a href="#L8216" title="CBC: Branch 0 was taken 89 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8216" title="CBC: Branch 1 was taken 93138 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8216" title="CBC: Branch 2 was taken 6961 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L8223" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">         100188 :             switch (cmp_abs(var1, var2))</span></span>
<span id="L8181" title="Line 8181: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8181</span>                 :                :             {</span>
<span id="L8182" title="Line 8182: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L8192" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8182</span>                 :<span class="tlaCBC">             89 :                 case 0:</span></span>
<span id="L8183" title="Line 8183: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8183</span>                 :                :                     /* ----------</span>
<span id="L8184" title="Line 8184: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8184</span>                 :                :                      * ABS(var1) == ABS(var2)</span>
<span id="L8185" title="Line 8185: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8185</span>                 :                :                      * result = ZERO</span>
<span id="L8186" title="Line 8186: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8186</span>                 :                :                      * ----------</span>
<span id="L8187" title="Line 8187: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8187</span>                 :                :                      */</span>
<span id="L8188" title="Line 8188: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352                      <span class="lineNum">    8188</span>                 :<span class="tlaCBC">             89 :                     zero_var(result);</span></span>
<span id="L8189" title="Line 8189: commit b4a5fa451879 on 2002-02-18 by bruce@momjian.us"> 8590 <a href="#L8198" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8189</span>                 :<span class="tlaCBC">             89 :                     result-&gt;dscale = Max(var1-&gt;dscale, var2-&gt;dscale);</span></span>
<span id="L8190" title="Line 8190: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590                      <span class="lineNum">    8190</span>                 :<span class="tlaCBC">             89 :                     break;</span></span>
<span id="L8191" title="Line 8191: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8191</span>                 :                : </span>
<span id="L8192" title="Line 8192: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L8202" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8192</span>                 :<span class="tlaCBC">          93138 :                 case 1:</span></span>
<span id="L8193" title="Line 8193: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8193</span>                 :                :                     /* ----------</span>
<span id="L8194" title="Line 8194: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8194</span>                 :                :                      * ABS(var1) &gt; ABS(var2)</span>
<span id="L8195" title="Line 8195: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8195</span>                 :                :                      * result = +(ABS(var1) - ABS(var2))</span>
<span id="L8196" title="Line 8196: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8196</span>                 :                :                      * ----------</span>
<span id="L8197" title="Line 8197: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8197</span>                 :                :                      */</span>
<span id="L8198" title="Line 8198: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L8208" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8198</span>                 :<span class="tlaCBC">          93138 :                     sub_abs(var1, var2, result);</span></span>
<span id="L8199" title="Line 8199: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8199</span>                 :<span class="tlaCBC">          93138 :                     result-&gt;sign = NUMERIC_POS;</span></span>
<span id="L8200" title="Line 8200: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8200</span>                 :<span class="tlaCBC">          93138 :                     break;</span></span>
<span id="L8201" title="Line 8201: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8201</span>                 :                : </span>
<span id="L8202" title="Line 8202: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L8225" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8202</span>                 :<span class="tlaCBC">           6961 :                 case -1:</span></span>
<span id="L8203" title="Line 8203: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8203</span>                 :                :                     /* ----------</span>
<span id="L8204" title="Line 8204: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8204</span>                 :                :                      * ABS(var1) &lt; ABS(var2)</span>
<span id="L8205" title="Line 8205: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8205</span>                 :                :                      * result = -(ABS(var2) - ABS(var1))</span>
<span id="L8206" title="Line 8206: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8206</span>                 :                :                      * ----------</span>
<span id="L8207" title="Line 8207: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8207</span>                 :                :                      */</span>
<span id="L8208" title="Line 8208: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L8232" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8208</span>                 :<span class="tlaCBC">           6961 :                     sub_abs(var2, var1, result);</span></span>
<span id="L8209" title="Line 8209: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8209</span>                 :<span class="tlaCBC">           6961 :                     result-&gt;sign = NUMERIC_NEG;</span></span>
<span id="L8210" title="Line 8210: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8210</span>                 :<span class="tlaCBC">           6961 :                     break;</span></span>
<span id="L8211" title="Line 8211: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8211</span>                 :                :             }</span>
<span id="L8212" title="Line 8212: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8212</span>                 :                :         }</span>
<span id="L8213" title="Line 8213: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8213</span>                 :                :     }</span>
<span id="L8214" title="Line 8214: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8214</span>                 :                :     else</span>
<span id="L8215" title="Line 8215: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8215</span>                 :                :     {</span>
<span id="L8216" title="Line 8216: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L8263" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    8216</span>         [<span class="tlaCBC"> <a href="#L8223" title="CBC: Branch 0 was taken 234 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8223" title="CBC: Branch 1 was taken 549 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            783 :         if (var2-&gt;sign == NUMERIC_POS)</span></span>
<span id="L8217" title="Line 8217: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8217</span>                 :                :         {</span>
<span id="L8218" title="Line 8218: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8218</span>                 :                :             /* ----------</span>
<span id="L8219" title="Line 8219: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8219</span>                 :                :              * var1 is negative, var2 is positive</span>
<span id="L8220" title="Line 8220: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8220</span>                 :                :              * Must compare absolute values</span>
<span id="L8221" title="Line 8221: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8221</span>                 :                :              * ----------</span>
<span id="L8222" title="Line 8222: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8222</span>                 :                :              */</span>
<span id="L8223" title="Line 8223: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8223</span>   [<span class="tlaCBC"> <a href="#L8282" title="CBC: Branch 0 was taken 15 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8282" title="CBC: Branch 1 was taken 147 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8282" title="CBC: Branch 2 was taken 72 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L8301" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            234 :             switch (cmp_abs(var1, var2))</span></span>
<span id="L8224" title="Line 8224: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8224</span>                 :                :             {</span>
<span id="L8225" title="Line 8225: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L8235" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8225</span>                 :<span class="tlaCBC">             15 :                 case 0:</span></span>
<span id="L8226" title="Line 8226: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8226</span>                 :                :                     /* ----------</span>
<span id="L8227" title="Line 8227: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8227</span>                 :                :                      * ABS(var1) == ABS(var2)</span>
<span id="L8228" title="Line 8228: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8228</span>                 :                :                      * result = ZERO</span>
<span id="L8229" title="Line 8229: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8229</span>                 :                :                      * ----------</span>
<span id="L8230" title="Line 8230: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8230</span>                 :                :                      */</span>
<span id="L8231" title="Line 8231: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352                      <span class="lineNum">    8231</span>                 :<span class="tlaCBC">             15 :                     zero_var(result);</span></span>
<span id="L8232" title="Line 8232: commit b4a5fa451879 on 2002-02-18 by bruce@momjian.us"> 8590 <a href="#L8241" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8232</span>                 :<span class="tlaCBC">             15 :                     result-&gt;dscale = Max(var1-&gt;dscale, var2-&gt;dscale);</span></span>
<span id="L8233" title="Line 8233: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590                      <span class="lineNum">    8233</span>                 :<span class="tlaCBC">             15 :                     break;</span></span>
<span id="L8234" title="Line 8234: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8234</span>                 :                : </span>
<span id="L8235" title="Line 8235: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L8245" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8235</span>                 :<span class="tlaCBC">            147 :                 case 1:</span></span>
<span id="L8236" title="Line 8236: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8236</span>                 :                :                     /* ----------</span>
<span id="L8237" title="Line 8237: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8237</span>                 :                :                      * ABS(var1) &gt; ABS(var2)</span>
<span id="L8238" title="Line 8238: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8238</span>                 :                :                      * result = -(ABS(var1) - ABS(var2))</span>
<span id="L8239" title="Line 8239: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8239</span>                 :                :                      * ----------</span>
<span id="L8240" title="Line 8240: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8240</span>                 :                :                      */</span>
<span id="L8241" title="Line 8241: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L8251" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8241</span>                 :<span class="tlaCBC">            147 :                     sub_abs(var1, var2, result);</span></span>
<span id="L8242" title="Line 8242: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8242</span>                 :<span class="tlaCBC">            147 :                     result-&gt;sign = NUMERIC_NEG;</span></span>
<span id="L8243" title="Line 8243: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8243</span>                 :<span class="tlaCBC">            147 :                     break;</span></span>
<span id="L8244" title="Line 8244: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8244</span>                 :                : </span>
<span id="L8245" title="Line 8245: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L8303" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8245</span>                 :<span class="tlaCBC">             72 :                 case -1:</span></span>
<span id="L8246" title="Line 8246: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8246</span>                 :                :                     /* ----------</span>
<span id="L8247" title="Line 8247: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8247</span>                 :                :                      * ABS(var1) &lt; ABS(var2)</span>
<span id="L8248" title="Line 8248: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8248</span>                 :                :                      * result = +(ABS(var2) - ABS(var1))</span>
<span id="L8249" title="Line 8249: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8249</span>                 :                :                      * ----------</span>
<span id="L8250" title="Line 8250: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8250</span>                 :                :                      */</span>
<span id="L8251" title="Line 8251: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L8310" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8251</span>                 :<span class="tlaCBC">             72 :                     sub_abs(var2, var1, result);</span></span>
<span id="L8252" title="Line 8252: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8252</span>                 :<span class="tlaCBC">             72 :                     result-&gt;sign = NUMERIC_POS;</span></span>
<span id="L8253" title="Line 8253: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8253</span>                 :<span class="tlaCBC">             72 :                     break;</span></span>
<span id="L8254" title="Line 8254: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8254</span>                 :                :             }</span>
<span id="L8255" title="Line 8255: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8255</span>                 :                :         }</span>
<span id="L8256" title="Line 8256: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8256</span>                 :                :         else</span>
<span id="L8257" title="Line 8257: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8257</span>                 :                :         {</span>
<span id="L8258" title="Line 8258: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8258</span>                 :                :             /* ----------</span>
<span id="L8259" title="Line 8259: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8259</span>                 :                :              * Both are negative</span>
<span id="L8260" title="Line 8260: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8260</span>                 :                :              * result = -(ABS(var1) + ABS(var2))</span>
<span id="L8261" title="Line 8261: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8261</span>                 :                :              * ----------</span>
<span id="L8262" title="Line 8262: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8262</span>                 :                :              */</span>
<span id="L8263" title="Line 8263: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L8282" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    8263</span>                 :<span class="tlaCBC">            549 :             add_abs(var1, var2, result);</span></span>
<span id="L8264" title="Line 8264: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8264</span>                 :<span class="tlaCBC">            549 :             result-&gt;sign = NUMERIC_NEG;</span></span>
<span id="L8265" title="Line 8265: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8265</span>                 :                :         }</span>
<span id="L8266" title="Line 8266: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8266</span>                 :                :     }</span>
<span id="L8267" title="Line 8267: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8267</span>                 :<span class="tlaCBC">         309056 : }</span></span>
<span id="L8268" title="Line 8268: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8268</span>                 :                : </span>
<span id="L8269" title="Line 8269: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8269</span>                 :                : </span>
<span id="L8270" title="Line 8270: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8270</span>                 :                : /*</span>
<span id="L8271" title="Line 8271: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8271</span>                 :                :  * sub_var() -</span>
<span id="L8272" title="Line 8272: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8272</span>                 :                :  *</span>
<span id="L8273" title="Line 8273: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8273</span>                 :                :  *  Full version of sub functionality on variable level (handling signs).</span>
<span id="L8274" title="Line 8274: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8274</span>                 :                :  *  result might point to one of the operands too without danger.</span>
<span id="L8275" title="Line 8275: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8275</span>                 :                :  */</span>
<span id="L8276" title="Line 8276: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8276</span>                 :                : static void</span>
<span id="L8277" title="Line 8277: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L8398" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    8277</span>                 :<span class="tlaCBC">         266296 : sub_var(const NumericVar *var1, const NumericVar *var2, NumericVar *result)</span></span>
<span id="L8278" title="Line 8278: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8278</span>                 :                : {</span>
<span id="L8279" title="Line 8279: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    8279</span>                 :                :     /*</span>
<span id="L8280" title="Line 8280: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8280</span>                 :                :      * Decide on the signs of the two variables what to do</span>
<span id="L8281" title="Line 8281: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8281</span>                 :                :      */</span>
<span id="L8282" title="Line 8282: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L8337" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    8282</span>         [<span class="tlaCBC"> <a href="#L8284" title="CBC: Branch 0 was taken 265841 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8284" title="CBC: Branch 1 was taken 455 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         266296 :     if (var1-&gt;sign == NUMERIC_POS)</span></span>
<span id="L8283" title="Line 8283: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8283</span>                 :                :     {</span>
<span id="L8284" title="Line 8284: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8284</span>         [<span class="tlaCBC"> <a href="#L8301" title="CBC: Branch 0 was taken 14113 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8301" title="CBC: Branch 1 was taken 251728 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         265841 :         if (var2-&gt;sign == NUMERIC_NEG)</span></span>
<span id="L8285" title="Line 8285: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8285</span>                 :                :         {</span>
<span id="L8286" title="Line 8286: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8286</span>                 :                :             /* ----------</span>
<span id="L8287" title="Line 8287: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8287</span>                 :                :              * var1 is positive, var2 is negative</span>
<span id="L8288" title="Line 8288: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8288</span>                 :                :              * result = +(ABS(var1) + ABS(var2))</span>
<span id="L8289" title="Line 8289: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8289</span>                 :                :              * ----------</span>
<span id="L8290" title="Line 8290: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8290</span>                 :                :              */</span>
<span id="L8291" title="Line 8291: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8291</span>                 :<span class="tlaCBC">          14113 :             add_abs(var1, var2, result);</span></span>
<span id="L8292" title="Line 8292: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8292</span>                 :<span class="tlaCBC">          14113 :             result-&gt;sign = NUMERIC_POS;</span></span>
<span id="L8293" title="Line 8293: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8293</span>                 :                :         }</span>
<span id="L8294" title="Line 8294: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8294</span>                 :                :         else</span>
<span id="L8295" title="Line 8295: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8295</span>                 :                :         {</span>
<span id="L8296" title="Line 8296: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8296</span>                 :                :             /* ----------</span>
<span id="L8297" title="Line 8297: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8297</span>                 :                :              * Both are positive</span>
<span id="L8298" title="Line 8298: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8298</span>                 :                :              * Must compare absolute values</span>
<span id="L8299" title="Line 8299: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8299</span>                 :                :              * ----------</span>
<span id="L8300" title="Line 8300: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8300</span>                 :                :              */</span>
<span id="L8301" title="Line 8301: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8301</span>   [<span class="tlaCBC"> <a href="#L8337" title="CBC: Branch 0 was taken 24952 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8337" title="CBC: Branch 1 was taken 221141 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8337" title="CBC: Branch 2 was taken 5635 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L8344" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">         251728 :             switch (cmp_abs(var1, var2))</span></span>
<span id="L8302" title="Line 8302: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8302</span>                 :                :             {</span>
<span id="L8303" title="Line 8303: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L8313" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8303</span>                 :<span class="tlaCBC">          24952 :                 case 0:</span></span>
<span id="L8304" title="Line 8304: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8304</span>                 :                :                     /* ----------</span>
<span id="L8305" title="Line 8305: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8305</span>                 :                :                      * ABS(var1) == ABS(var2)</span>
<span id="L8306" title="Line 8306: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8306</span>                 :                :                      * result = ZERO</span>
<span id="L8307" title="Line 8307: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8307</span>                 :                :                      * ----------</span>
<span id="L8308" title="Line 8308: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8308</span>                 :                :                      */</span>
<span id="L8309" title="Line 8309: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352                      <span class="lineNum">    8309</span>                 :<span class="tlaCBC">          24952 :                     zero_var(result);</span></span>
<span id="L8310" title="Line 8310: commit b4a5fa451879 on 2002-02-18 by bruce@momjian.us"> 8590 <a href="#L8319" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8310</span>                 :<span class="tlaCBC">          24952 :                     result-&gt;dscale = Max(var1-&gt;dscale, var2-&gt;dscale);</span></span>
<span id="L8311" title="Line 8311: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590                      <span class="lineNum">    8311</span>                 :<span class="tlaCBC">          24952 :                     break;</span></span>
<span id="L8312" title="Line 8312: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8312</span>                 :                : </span>
<span id="L8313" title="Line 8313: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L8323" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8313</span>                 :<span class="tlaCBC">         221141 :                 case 1:</span></span>
<span id="L8314" title="Line 8314: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8314</span>                 :                :                     /* ----------</span>
<span id="L8315" title="Line 8315: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8315</span>                 :                :                      * ABS(var1) &gt; ABS(var2)</span>
<span id="L8316" title="Line 8316: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8316</span>                 :                :                      * result = +(ABS(var1) - ABS(var2))</span>
<span id="L8317" title="Line 8317: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8317</span>                 :                :                      * ----------</span>
<span id="L8318" title="Line 8318: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8318</span>                 :                :                      */</span>
<span id="L8319" title="Line 8319: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L8329" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8319</span>                 :<span class="tlaCBC">         221141 :                     sub_abs(var1, var2, result);</span></span>
<span id="L8320" title="Line 8320: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8320</span>                 :<span class="tlaCBC">         221141 :                     result-&gt;sign = NUMERIC_POS;</span></span>
<span id="L8321" title="Line 8321: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8321</span>                 :<span class="tlaCBC">         221141 :                     break;</span></span>
<span id="L8322" title="Line 8322: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8322</span>                 :                : </span>
<span id="L8323" title="Line 8323: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L8346" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8323</span>                 :<span class="tlaCBC">           5635 :                 case -1:</span></span>
<span id="L8324" title="Line 8324: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8324</span>                 :                :                     /* ----------</span>
<span id="L8325" title="Line 8325: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8325</span>                 :                :                      * ABS(var1) &lt; ABS(var2)</span>
<span id="L8326" title="Line 8326: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8326</span>                 :                :                      * result = -(ABS(var2) - ABS(var1))</span>
<span id="L8327" title="Line 8327: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8327</span>                 :                :                      * ----------</span>
<span id="L8328" title="Line 8328: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8328</span>                 :                :                      */</span>
<span id="L8329" title="Line 8329: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L8353" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8329</span>                 :<span class="tlaCBC">           5635 :                     sub_abs(var2, var1, result);</span></span>
<span id="L8330" title="Line 8330: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8330</span>                 :<span class="tlaCBC">           5635 :                     result-&gt;sign = NUMERIC_NEG;</span></span>
<span id="L8331" title="Line 8331: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8331</span>                 :<span class="tlaCBC">           5635 :                     break;</span></span>
<span id="L8332" title="Line 8332: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8332</span>                 :                :             }</span>
<span id="L8333" title="Line 8333: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8333</span>                 :                :         }</span>
<span id="L8334" title="Line 8334: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8334</span>                 :                :     }</span>
<span id="L8335" title="Line 8335: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8335</span>                 :                :     else</span>
<span id="L8336" title="Line 8336: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8336</span>                 :                :     {</span>
<span id="L8337" title="Line 8337: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L8384" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    8337</span>         [<span class="tlaCBC"> <a href="#L8344" title="CBC: Branch 0 was taken 227 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8344" title="CBC: Branch 1 was taken 228 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            455 :         if (var2-&gt;sign == NUMERIC_NEG)</span></span>
<span id="L8338" title="Line 8338: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8338</span>                 :                :         {</span>
<span id="L8339" title="Line 8339: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8339</span>                 :                :             /* ----------</span>
<span id="L8340" title="Line 8340: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8340</span>                 :                :              * Both are negative</span>
<span id="L8341" title="Line 8341: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8341</span>                 :                :              * Must compare absolute values</span>
<span id="L8342" title="Line 8342: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8342</span>                 :                :              * ----------</span>
<span id="L8343" title="Line 8343: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8343</span>                 :                :              */</span>
<span id="L8344" title="Line 8344: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8344</span>   [<span class="tlaCBC"> <a href="#L8434" title="CBC: Branch 0 was taken 83 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8434" title="CBC: Branch 1 was taken 120 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8434" title="CBC: Branch 2 was taken 24 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L8629" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            227 :             switch (cmp_abs(var1, var2))</span></span>
<span id="L8345" title="Line 8345: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8345</span>                 :                :             {</span>
<span id="L8346" title="Line 8346: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L8356" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8346</span>                 :<span class="tlaCBC">             83 :                 case 0:</span></span>
<span id="L8347" title="Line 8347: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8347</span>                 :                :                     /* ----------</span>
<span id="L8348" title="Line 8348: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8348</span>                 :                :                      * ABS(var1) == ABS(var2)</span>
<span id="L8349" title="Line 8349: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8349</span>                 :                :                      * result = ZERO</span>
<span id="L8350" title="Line 8350: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8350</span>                 :                :                      * ----------</span>
<span id="L8351" title="Line 8351: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8351</span>                 :                :                      */</span>
<span id="L8352" title="Line 8352: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352                      <span class="lineNum">    8352</span>                 :<span class="tlaCBC">             83 :                     zero_var(result);</span></span>
<span id="L8353" title="Line 8353: commit b4a5fa451879 on 2002-02-18 by bruce@momjian.us"> 8590 <a href="#L8362" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8353</span>                 :<span class="tlaCBC">             83 :                     result-&gt;dscale = Max(var1-&gt;dscale, var2-&gt;dscale);</span></span>
<span id="L8354" title="Line 8354: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590                      <span class="lineNum">    8354</span>                 :<span class="tlaCBC">             83 :                     break;</span></span>
<span id="L8355" title="Line 8355: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8355</span>                 :                : </span>
<span id="L8356" title="Line 8356: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L8366" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8356</span>                 :<span class="tlaCBC">            120 :                 case 1:</span></span>
<span id="L8357" title="Line 8357: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8357</span>                 :                :                     /* ----------</span>
<span id="L8358" title="Line 8358: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8358</span>                 :                :                      * ABS(var1) &gt; ABS(var2)</span>
<span id="L8359" title="Line 8359: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8359</span>                 :                :                      * result = -(ABS(var1) - ABS(var2))</span>
<span id="L8360" title="Line 8360: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8360</span>                 :                :                      * ----------</span>
<span id="L8361" title="Line 8361: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8361</span>                 :                :                      */</span>
<span id="L8362" title="Line 8362: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L8372" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8362</span>                 :<span class="tlaCBC">            120 :                     sub_abs(var1, var2, result);</span></span>
<span id="L8363" title="Line 8363: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8363</span>                 :<span class="tlaCBC">            120 :                     result-&gt;sign = NUMERIC_NEG;</span></span>
<span id="L8364" title="Line 8364: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8364</span>                 :<span class="tlaCBC">            120 :                     break;</span></span>
<span id="L8365" title="Line 8365: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8365</span>                 :                : </span>
<span id="L8366" title="Line 8366: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L8434" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8366</span>                 :<span class="tlaCBC">             24 :                 case -1:</span></span>
<span id="L8367" title="Line 8367: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8367</span>                 :                :                     /* ----------</span>
<span id="L8368" title="Line 8368: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8368</span>                 :                :                      * ABS(var1) &lt; ABS(var2)</span>
<span id="L8369" title="Line 8369: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8369</span>                 :                :                      * result = +(ABS(var2) - ABS(var1))</span>
<span id="L8370" title="Line 8370: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8370</span>                 :                :                      * ----------</span>
<span id="L8371" title="Line 8371: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8371</span>                 :                :                      */</span>
<span id="L8372" title="Line 8372: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L8670" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8372</span>                 :<span class="tlaCBC">             24 :                     sub_abs(var2, var1, result);</span></span>
<span id="L8373" title="Line 8373: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8373</span>                 :<span class="tlaCBC">             24 :                     result-&gt;sign = NUMERIC_POS;</span></span>
<span id="L8374" title="Line 8374: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8374</span>                 :<span class="tlaCBC">             24 :                     break;</span></span>
<span id="L8375" title="Line 8375: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8375</span>                 :                :             }</span>
<span id="L8376" title="Line 8376: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8376</span>                 :                :         }</span>
<span id="L8377" title="Line 8377: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8377</span>                 :                :         else</span>
<span id="L8378" title="Line 8378: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8378</span>                 :                :         {</span>
<span id="L8379" title="Line 8379: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8379</span>                 :                :             /* ----------</span>
<span id="L8380" title="Line 8380: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8380</span>                 :                :              * var1 is negative, var2 is positive</span>
<span id="L8381" title="Line 8381: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8381</span>                 :                :              * result = -(ABS(var1) + ABS(var2))</span>
<span id="L8382" title="Line 8382: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8382</span>                 :                :              * ----------</span>
<span id="L8383" title="Line 8383: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8383</span>                 :                :              */</span>
<span id="L8384" title="Line 8384: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L8467" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    8384</span>                 :<span class="tlaCBC">            228 :             add_abs(var1, var2, result);</span></span>
<span id="L8385" title="Line 8385: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8385</span>                 :<span class="tlaCBC">            228 :             result-&gt;sign = NUMERIC_NEG;</span></span>
<span id="L8386" title="Line 8386: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8386</span>                 :                :         }</span>
<span id="L8387" title="Line 8387: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8387</span>                 :                :     }</span>
<span id="L8388" title="Line 8388: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8388</span>                 :<span class="tlaCBC">         266296 : }</span></span>
<span id="L8389" title="Line 8389: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8389</span>                 :                : </span>
<span id="L8390" title="Line 8390: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8390</span>                 :                : </span>
<span id="L8391" title="Line 8391: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8391</span>                 :                : /*</span>
<span id="L8392" title="Line 8392: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8392</span>                 :                :  * mul_var() -</span>
<span id="L8393" title="Line 8393: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8393</span>                 :                :  *</span>
<span id="L8394" title="Line 8394: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8394</span>                 :                :  *  Multiplication on variable level. Product of var1 * var2 is stored</span>
<span id="L8395" title="Line 8395: commit 0a7832005792 on 2014-05-06 by bruce@momjian.us">                           <span class="lineNum">    8395</span>                 :                :  *  in result.  Result is rounded to no more than rscale fractional digits.</span>
<span id="L8396" title="Line 8396: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8396</span>                 :                :  */</span>
<span id="L8397" title="Line 8397: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8397</span>                 :                : static void</span>
<span id="L8398" title="Line 8398: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L8436" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    8398</span>                 :<span class="tlaCBC">         594853 : mul_var(const NumericVar *var1, const NumericVar *var2, NumericVar *result,</span></span>
<span id="L8399" title="Line 8399: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8399</span>                 :                :         int rscale)</span>
<span id="L8400" title="Line 8400: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8400</span>                 :                : {</span>
<span id="L8401" title="Line 8401: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8401</span>                 :                :     int         res_ndigits;</span>
<span id="L8402" title="Line 8402: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8402</span>                 :                :     int         res_ndigitpairs;</span>
<span id="L8403" title="Line 8403: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8403</span>                 :                :     int         res_sign;</span>
<span id="L8404" title="Line 8404: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8404</span>                 :                :     int         res_weight;</span>
<span id="L8405" title="Line 8405: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8405</span>                 :                :     int         pair_offset;</span>
<span id="L8406" title="Line 8406: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8406</span>                 :                :     int         maxdigits;</span>
<span id="L8407" title="Line 8407: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8407</span>                 :                :     int         maxdigitpairs;</span>
<span id="L8408" title="Line 8408: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8408</span>                 :                :     uint64     *dig,</span>
<span id="L8409" title="Line 8409: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8409</span>                 :                :                *dig_i1_off;</span>
<span id="L8410" title="Line 8410: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8410</span>                 :                :     uint64      maxdig;</span>
<span id="L8411" title="Line 8411: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8411</span>                 :                :     uint64      carry;</span>
<span id="L8412" title="Line 8412: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8412</span>                 :                :     uint64      newdig;</span>
<span id="L8413" title="Line 8413: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8413</span>                 :                :     int         var1ndigits;</span>
<span id="L8414" title="Line 8414: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8414</span>                 :                :     int         var2ndigits;</span>
<span id="L8415" title="Line 8415: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8415</span>                 :                :     int         var1ndigitpairs;</span>
<span id="L8416" title="Line 8416: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8416</span>                 :                :     int         var2ndigitpairs;</span>
<span id="L8417" title="Line 8417: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8417</span>                 :                :     NumericDigit *var1digits;</span>
<span id="L8418" title="Line 8418: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8418</span>                 :                :     NumericDigit *var2digits;</span>
<span id="L8419" title="Line 8419: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8419</span>                 :                :     uint32      var1digitpair;</span>
<span id="L8420" title="Line 8420: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8420</span>                 :                :     uint32     *var2digitpairs;</span>
<span id="L8421" title="Line 8421: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8421</span>                 :                :     NumericDigit *res_digits;</span>
<span id="L8422" title="Line 8422: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8422</span>                 :                :     int         i,</span>
<span id="L8423" title="Line 8423: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8423</span>                 :                :                 i1,</span>
<span id="L8424" title="Line 8424: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8424</span>                 :                :                 i2,</span>
<span id="L8425" title="Line 8425: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8425</span>                 :                :                 i2limit;</span>
<span id="L8426" title="Line 8426: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">    8426</span>                 :                : </span>
<span id="L8427" title="Line 8427: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8427</span>                 :                :     /*</span>
<span id="L8428" title="Line 8428: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8428</span>                 :                :      * Arrange for var1 to be the shorter of the two numbers.  This improves</span>
<span id="L8429" title="Line 8429: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8429</span>                 :                :      * performance because the inner multiplication loop is much simpler than</span>
<span id="L8430" title="Line 8430: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8430</span>                 :                :      * the outer loop, so it's better to have a smaller number of iterations</span>
<span id="L8431" title="Line 8431: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8431</span>                 :                :      * of the outer loop.  This also reduces the number of times that the</span>
<span id="L8432" title="Line 8432: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8432</span>                 :                :      * accumulator array needs to be normalized.</span>
<span id="L8433" title="Line 8433: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8433</span>                 :                :      */</span>
<span id="L8434" title="Line 8434: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L8438" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8434</span>         [<span class="tlaCBC"> <a href="#L8448" title="CBC: Branch 0 was taken 7563 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8448" title="CBC: Branch 1 was taken 587290 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         594853 :     if (var1-&gt;ndigits &gt; var2-&gt;ndigits)</span></span>
<span id="L8435" title="Line 8435: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8435</span>                 :                :     {</span>
<span id="L8436" title="Line 8436: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L8976" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    8436</span>                 :<span class="tlaCBC">           7563 :         const NumericVar *tmp = var1;</span></span>
<span id="L8437" title="Line 8437: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8437</span>                 :                : </span>
<span id="L8438" title="Line 8438: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L8451" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8438</span>                 :<span class="tlaCBC">           7563 :         var1 = var2;</span></span>
<span id="L8439" title="Line 8439: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8439</span>                 :<span class="tlaCBC">           7563 :         var2 = tmp;</span></span>
<span id="L8440" title="Line 8440: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8440</span>                 :                :     }</span>
<span id="L8441" title="Line 8441: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8441</span>                 :                : </span>
<span id="L8442" title="Line 8442: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8442</span>                 :                :     /* copy these values into local vars for speed in inner loop */</span>
<span id="L8443" title="Line 8443: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8443</span>                 :<span class="tlaCBC">         594853 :     var1ndigits = var1-&gt;ndigits;</span></span>
<span id="L8444" title="Line 8444: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8444</span>                 :<span class="tlaCBC">         594853 :     var2ndigits = var2-&gt;ndigits;</span></span>
<span id="L8445" title="Line 8445: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8445</span>                 :<span class="tlaCBC">         594853 :     var1digits = var1-&gt;digits;</span></span>
<span id="L8446" title="Line 8446: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8446</span>                 :<span class="tlaCBC">         594853 :     var2digits = var2-&gt;digits;</span></span>
<span id="L8447" title="Line 8447: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8447</span>                 :                : </span>
<span id="L8448" title="Line 8448: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413 <a href="#L8460" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8448</span>         [<span class="tlaCBC"> <a href="#L8460" title="CBC: Branch 0 was taken 1447 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8460" title="CBC: Branch 1 was taken 593406 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         594853 :     if (var1ndigits == 0)</span></span>
<span id="L8449" title="Line 8449: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8449</span>                 :                :     {</span>
<span id="L8450" title="Line 8450: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8450</span>                 :                :         /* one or both inputs is zero; so is result */</span>
<span id="L8451" title="Line 8451: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L8513" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8451</span>                 :<span class="tlaCBC">           1447 :         zero_var(result);</span></span>
<span id="L8452" title="Line 8452: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8452</span>                 :<span class="tlaCBC">           1447 :         result-&gt;dscale = rscale;</span></span>
<span id="L8453" title="Line 8453: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8453</span>                 :<span class="tlaCBC">           1447 :         return;</span></span>
<span id="L8454" title="Line 8454: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8454</span>                 :                :     }</span>
<span id="L8455" title="Line 8455: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8455</span>                 :                : </span>
<span id="L8456" title="Line 8456: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8456</span>                 :                :     /*</span>
<span id="L8457" title="Line 8457: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8457</span>                 :                :      * If var1 has 1-6 digits and the exact result was requested, delegate to</span>
<span id="L8458" title="Line 8458: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8458</span>                 :                :      * mul_var_short() which uses a faster direct multiplication algorithm.</span>
<span id="L8459" title="Line 8459: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8459</span>                 :                :      */</span>
<span id="L8460" title="Line 8460: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">  376 <a href="#L8496" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8460</span>   [<span class="tlaCBC"> <a href="#L8467" title="CBC: Branch 0 was taken 583644 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8467" title="CBC: Branch 1 was taken 9762 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8467" title="CBC: Branch 2 was taken 579168 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8467" title="CBC: Branch 3 was taken 4476 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         593406 :     if (var1ndigits &lt;= 6 &amp;&amp; rscale == var1-&gt;dscale + var2-&gt;dscale)</span></span>
<span id="L8461" title="Line 8461: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8461</span>                 :                :     {</span>
<span id="L8462" title="Line 8462: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413                      <span class="lineNum">    8462</span>                 :<span class="tlaCBC">         579168 :         mul_var_short(var1, var2, result);</span></span>
<span id="L8463" title="Line 8463: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8463</span>                 :<span class="tlaCBC">         579168 :         return;</span></span>
<span id="L8464" title="Line 8464: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8464</span>                 :                :     }</span>
<span id="L8465" title="Line 8465: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8465</span>                 :                : </span>
<span id="L8466" title="Line 8466: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8466</span>                 :                :     /* Determine result sign */</span>
<span id="L8467" title="Line 8467: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L9818" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    8467</span>         [<span class="tlaCBC"> <a href="#L8526" title="CBC: Branch 0 was taken 13497 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8526" title="CBC: Branch 1 was taken 741 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          14238 :     if (var1-&gt;sign == var2-&gt;sign)</span></span>
<span id="L8468" title="Line 8468: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8468</span>                 :<span class="tlaCBC">          13497 :         res_sign = NUMERIC_POS;</span></span>
<span id="L8469" title="Line 8469: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8469</span>                 :                :     else</span>
<span id="L8470" title="Line 8470: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8470</span>                 :<span class="tlaCBC">            741 :         res_sign = NUMERIC_NEG;</span></span>
<span id="L8471" title="Line 8471: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8471</span>                 :                : </span>
<span id="L8472" title="Line 8472: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8472</span>                 :                :     /*</span>
<span id="L8473" title="Line 8473: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8473</span>                 :                :      * Determine the number of result digits to compute and the (maximum</span>
<span id="L8474" title="Line 8474: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8474</span>                 :                :      * possible) result weight.  If the exact result would have more than</span>
<span id="L8475" title="Line 8475: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8475</span>                 :                :      * rscale fractional digits, truncate the computation with</span>
<span id="L8476" title="Line 8476: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8476</span>                 :                :      * MUL_GUARD_DIGITS guard digits, i.e., ignore input digits that would</span>
<span id="L8477" title="Line 8477: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8477</span>                 :                :      * only contribute to the right of that.  (This will give the exact</span>
<span id="L8478" title="Line 8478: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8478</span>                 :                :      * rounded-to-rscale answer unless carries out of the ignored positions</span>
<span id="L8479" title="Line 8479: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8479</span>                 :                :      * would have propagated through more than MUL_GUARD_DIGITS digits.)</span>
<span id="L8480" title="Line 8480: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8480</span>                 :                :      *</span>
<span id="L8481" title="Line 8481: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8481</span>                 :                :      * Note: an exact computation could not produce more than var1ndigits +</span>
<span id="L8482" title="Line 8482: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8482</span>                 :                :      * var2ndigits digits, but we allocate at least one extra output digit in</span>
<span id="L8483" title="Line 8483: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8483</span>                 :                :      * case rscale-driven rounding produces a carry out of the highest exact</span>
<span id="L8484" title="Line 8484: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8484</span>                 :                :      * digit.</span>
<span id="L8485" title="Line 8485: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8485</span>                 :                :      *</span>
<span id="L8486" title="Line 8486: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8486</span>                 :                :      * The computation itself is done using base-NBASE^2 arithmetic, so we</span>
<span id="L8487" title="Line 8487: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8487</span>                 :                :      * actually process the input digits in pairs, producing a base-NBASE^2</span>
<span id="L8488" title="Line 8488: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8488</span>                 :                :      * intermediate result.  This significantly improves performance, since</span>
<span id="L8489" title="Line 8489: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8489</span>                 :                :      * schoolbook multiplication is O(N^2) in the number of input digits, and</span>
<span id="L8490" title="Line 8490: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8490</span>                 :                :      * working in base NBASE^2 effectively halves &quot;N&quot;.</span>
<span id="L8491" title="Line 8491: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8491</span>                 :                :      *</span>
<span id="L8492" title="Line 8492: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8492</span>                 :                :      * Note: in a truncated computation, we must compute at least one extra</span>
<span id="L8493" title="Line 8493: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8493</span>                 :                :      * output digit to ensure that all the guard digits are fully computed.</span>
<span id="L8494" title="Line 8494: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8494</span>                 :                :      */</span>
<span id="L8495" title="Line 8495: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8495</span>                 :                :     /* digit pairs in each input */</span>
<span id="L8496" title="Line 8496: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">  376 <a href="#L8515" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8496</span>                 :<span class="tlaCBC">          14238 :     var1ndigitpairs = (var1ndigits + 1) / 2;</span></span>
<span id="L8497" title="Line 8497: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8497</span>                 :<span class="tlaCBC">          14238 :     var2ndigitpairs = (var2ndigits + 1) / 2;</span></span>
<span id="L8498" title="Line 8498: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8498</span>                 :                : </span>
<span id="L8499" title="Line 8499: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8499</span>                 :                :     /* digits in exact result */</span>
<span id="L8500" title="Line 8500: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8500</span>                 :<span class="tlaCBC">          14238 :     res_ndigits = var1ndigits + var2ndigits;</span></span>
<span id="L8501" title="Line 8501: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8501</span>                 :                : </span>
<span id="L8502" title="Line 8502: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8502</span>                 :                :     /* digit pairs in exact result with at least one extra output digit */</span>
<span id="L8503" title="Line 8503: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8503</span>                 :<span class="tlaCBC">          14238 :     res_ndigitpairs = res_ndigits / 2 + 1;</span></span>
<span id="L8504" title="Line 8504: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8504</span>                 :                : </span>
<span id="L8505" title="Line 8505: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8505</span>                 :                :     /* pair offset to align result to end of dig[] */</span>
<span id="L8506" title="Line 8506: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8506</span>                 :<span class="tlaCBC">          14238 :     pair_offset = res_ndigitpairs - var1ndigitpairs - var2ndigitpairs + 1;</span></span>
<span id="L8507" title="Line 8507: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8507</span>                 :                : </span>
<span id="L8508" title="Line 8508: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8508</span>                 :                :     /* maximum possible result weight (odd-length inputs shifted up below) */</span>
<span id="L8509" title="Line 8509: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8509</span>                 :<span class="tlaCBC">          14238 :     res_weight = var1-&gt;weight + var2-&gt;weight + 1 + 2 * res_ndigitpairs -</span></span>
<span id="L8510" title="Line 8510: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8510</span>                 :<span class="tlaCBC">          14238 :         res_ndigits - (var1ndigits &amp; 1) - (var2ndigits &amp; 1);</span></span>
<span id="L8511" title="Line 8511: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8511</span>                 :                : </span>
<span id="L8512" title="Line 8512: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8512</span>                 :                :     /* rscale-based truncation with at least one extra output digit */</span>
<span id="L8513" title="Line 8513: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L8529" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8513</span>                 :<span class="tlaCBC">          14238 :     maxdigits = res_weight + 1 + (rscale + DEC_DIGITS - 1) / DEC_DIGITS +</span></span>
<span id="L8514" title="Line 8514: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8514</span>                 :                :         MUL_GUARD_DIGITS;</span>
<span id="L8515" title="Line 8515: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">  376 <a href="#L8533" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8515</span>                 :<span class="tlaCBC">          14238 :     maxdigitpairs = maxdigits / 2 + 1;</span></span>
<span id="L8516" title="Line 8516: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8516</span>                 :                : </span>
<span id="L8517" title="Line 8517: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8517</span>                 :<span class="tlaCBC">          14238 :     res_ndigitpairs = Min(res_ndigitpairs, maxdigitpairs);</span></span>
<span id="L8518" title="Line 8518: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8518</span>                 :<span class="tlaCBC">          14238 :     res_ndigits = 2 * res_ndigitpairs;</span></span>
<span id="L8519" title="Line 8519: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8519</span>                 :                : </span>
<span id="L8520" title="Line 8520: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8520</span>                 :                :     /*</span>
<span id="L8521" title="Line 8521: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8521</span>                 :                :      * In the computation below, digit pair i1 of var1 and digit pair i2 of</span>
<span id="L8522" title="Line 8522: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8522</span>                 :                :      * var2 are multiplied and added to digit i1+i2+pair_offset of dig[]. Thus</span>
<span id="L8523" title="Line 8523: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8523</span>                 :                :      * input digit pairs with index &gt;= res_ndigitpairs - pair_offset don't</span>
<span id="L8524" title="Line 8524: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8524</span>                 :                :      * contribute to the result, and can be ignored.</span>
<span id="L8525" title="Line 8525: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8525</span>                 :                :      */</span>
<span id="L8526" title="Line 8526: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8526</span>         [<span class="tlaCBC"> <a href="#L8565" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8565" title="CBC: Branch 1 was taken 14232 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          14238 :     if (res_ndigitpairs &lt;= pair_offset)</span></span>
<span id="L8527" title="Line 8527: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8527</span>                 :                :     {</span>
<span id="L8528" title="Line 8528: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8528</span>                 :                :         /* All input digits will be ignored; so result is zero */</span>
<span id="L8529" title="Line 8529: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L8609" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8529</span>                 :<span class="tlaCBC">              6 :         zero_var(result);</span></span>
<span id="L8530" title="Line 8530: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8530</span>                 :<span class="tlaCBC">              6 :         result-&gt;dscale = rscale;</span></span>
<span id="L8531" title="Line 8531: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8531</span>                 :<span class="tlaCBC">              6 :         return;</span></span>
<span id="L8532" title="Line 8532: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8532</span>                 :                :     }</span>
<span id="L8533" title="Line 8533: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">  376 <a href="#L8612" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8533</span>                 :<span class="tlaCBC">          14232 :     var1ndigitpairs = Min(var1ndigitpairs, res_ndigitpairs - pair_offset);</span></span>
<span id="L8534" title="Line 8534: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8534</span>                 :<span class="tlaCBC">          14232 :     var2ndigitpairs = Min(var2ndigitpairs, res_ndigitpairs - pair_offset);</span></span>
<span id="L8535" title="Line 8535: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8535</span>                 :                : </span>
<span id="L8536" title="Line 8536: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8536</span>                 :                :     /*</span>
<span id="L8537" title="Line 8537: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8537</span>                 :                :      * We do the arithmetic in an array &quot;dig[]&quot; of unsigned 64-bit integers.</span>
<span id="L8538" title="Line 8538: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8538</span>                 :                :      * Since PG_UINT64_MAX is much larger than NBASE^4, this gives us a lot of</span>
<span id="L8539" title="Line 8539: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8539</span>                 :                :      * headroom to avoid normalizing carries immediately.</span>
<span id="L8540" title="Line 8540: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8540</span>                 :                :      *</span>
<span id="L8541" title="Line 8541: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">    8541</span>                 :                :      * maxdig tracks the maximum possible value of any dig[] entry; when this</span>
<span id="L8542" title="Line 8542: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8542</span>                 :                :      * threatens to exceed PG_UINT64_MAX, we take the time to propagate</span>
<span id="L8543" title="Line 8543: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8543</span>                 :                :      * carries.  Furthermore, we need to ensure that overflow doesn't occur</span>
<span id="L8544" title="Line 8544: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8544</span>                 :                :      * during the carry propagation passes either.  The carry values could be</span>
<span id="L8545" title="Line 8545: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8545</span>                 :                :      * as much as PG_UINT64_MAX / NBASE^2, so really we must normalize when</span>
<span id="L8546" title="Line 8546: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8546</span>                 :                :      * digits threaten to exceed PG_UINT64_MAX - PG_UINT64_MAX / NBASE^2.</span>
<span id="L8547" title="Line 8547: commit 246693e5ae8a on 2015-09-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8547</span>                 :                :      *</span>
<span id="L8548" title="Line 8548: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8548</span>                 :                :      * To avoid overflow in maxdig itself, it actually represents the maximum</span>
<span id="L8549" title="Line 8549: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8549</span>                 :                :      * possible value divided by NBASE^2-1, i.e., at the top of the loop it is</span>
<span id="L8550" title="Line 8550: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8550</span>                 :                :      * known that no dig[] entry exceeds maxdig * (NBASE^2-1).</span>
<span id="L8551" title="Line 8551: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8551</span>                 :                :      *</span>
<span id="L8552" title="Line 8552: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8552</span>                 :                :      * The conversion of var1 to base NBASE^2 is done on the fly, as each new</span>
<span id="L8553" title="Line 8553: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8553</span>                 :                :      * digit is required.  The digits of var2 are converted upfront, and</span>
<span id="L8554" title="Line 8554: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8554</span>                 :                :      * stored at the end of dig[].  To avoid loss of precision, the input</span>
<span id="L8555" title="Line 8555: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8555</span>                 :                :      * digits are aligned with the start of digit pair array, effectively</span>
<span id="L8556" title="Line 8556: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8556</span>                 :                :      * shifting them up (multiplying by NBASE) if the inputs have an odd</span>
<span id="L8557" title="Line 8557: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8557</span>                 :                :      * number of NBASE digits.</span>
<span id="L8558" title="Line 8558: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8558</span>                 :                :      */</span>
<span id="L8559" title="Line 8559: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8559</span>                 :<span class="tlaCBC">          14232 :     dig = (uint64 *) palloc(res_ndigitpairs * sizeof(uint64) +</span></span>
<span id="L8560" title="Line 8560: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8560</span>                 :                :                             var2ndigitpairs * sizeof(uint32));</span>
<span id="L8561" title="Line 8561: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8561</span>                 :                : </span>
<span id="L8562" title="Line 8562: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8562</span>                 :                :     /* convert var2 to base NBASE^2, shifting up if its length is odd */</span>
<span id="L8563" title="Line 8563: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8563</span>                 :<span class="tlaCBC">          14232 :     var2digitpairs = (uint32 *) (dig + res_ndigitpairs);</span></span>
<span id="L8564" title="Line 8564: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8564</span>                 :                : </span>
<span id="L8565" title="Line 8565: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8565</span>         [<span class="tlaCBC"> <a href="#L8568" title="CBC: Branch 0 was taken 759363 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8568" title="CBC: Branch 1 was taken 14232 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         773595 :     for (i2 = 0; i2 &lt; var2ndigitpairs - 1; i2++)</span></span>
<span id="L8566" title="Line 8566: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8566</span>                 :<span class="tlaCBC">         759363 :         var2digitpairs[i2] = var2digits[2 * i2] * NBASE + var2digits[2 * i2 + 1];</span></span>
<span id="L8567" title="Line 8567: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8567</span>                 :                : </span>
<span id="L8568" title="Line 8568: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8568</span>         [<span class="tlaCBC"> <a href="#L8587" title="CBC: Branch 0 was taken 10224 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8587" title="CBC: Branch 1 was taken 4008 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          14232 :     if (2 * i2 + 1 &lt; var2ndigits)</span></span>
<span id="L8569" title="Line 8569: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8569</span>                 :<span class="tlaCBC">          10224 :         var2digitpairs[i2] = var2digits[2 * i2] * NBASE + var2digits[2 * i2 + 1];</span></span>
<span id="L8570" title="Line 8570: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8570</span>                 :                :     else</span>
<span id="L8571" title="Line 8571: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8571</span>                 :<span class="tlaCBC">           4008 :         var2digitpairs[i2] = var2digits[2 * i2] * NBASE;</span></span>
<span id="L8572" title="Line 8572: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8572</span>                 :                : </span>
<span id="L8573" title="Line 8573: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8573</span>                 :                :     /*</span>
<span id="L8574" title="Line 8574: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8574</span>                 :                :      * Start by multiplying var2 by the least significant contributing digit</span>
<span id="L8575" title="Line 8575: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8575</span>                 :                :      * pair from var1, storing the results at the end of dig[], and filling</span>
<span id="L8576" title="Line 8576: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8576</span>                 :                :      * the leading digits with zeros.</span>
<span id="L8577" title="Line 8577: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8577</span>                 :                :      *</span>
<span id="L8578" title="Line 8578: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8578</span>                 :                :      * The loop here is the same as the inner loop below, except that we set</span>
<span id="L8579" title="Line 8579: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8579</span>                 :                :      * the results in dig[], rather than adding to them.  This is the</span>
<span id="L8580" title="Line 8580: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8580</span>                 :                :      * performance bottleneck for multiplication, so we want to keep it simple</span>
<span id="L8581" title="Line 8581: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8581</span>                 :                :      * enough so that it can be auto-vectorized.  Accordingly, process the</span>
<span id="L8582" title="Line 8582: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8582</span>                 :                :      * digits left-to-right even though schoolbook multiplication would</span>
<span id="L8583" title="Line 8583: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8583</span>                 :                :      * suggest right-to-left.  Since we aren't propagating carries in this</span>
<span id="L8584" title="Line 8584: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8584</span>                 :                :      * loop, the order does not matter.</span>
<span id="L8585" title="Line 8585: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8585</span>                 :                :      */</span>
<span id="L8586" title="Line 8586: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8586</span>                 :<span class="tlaCBC">          14232 :     i1 = var1ndigitpairs - 1;</span></span>
<span id="L8587" title="Line 8587: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8587</span>         [<span class="tlaCBC"> <a href="#L8597" title="CBC: Branch 0 was taken 6360 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8597" title="CBC: Branch 1 was taken 7872 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          14232 :     if (2 * i1 + 1 &lt; var1ndigits)</span></span>
<span id="L8588" title="Line 8588: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8588</span>                 :<span class="tlaCBC">           6360 :         var1digitpair = var1digits[2 * i1] * NBASE + var1digits[2 * i1 + 1];</span></span>
<span id="L8589" title="Line 8589: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8589</span>                 :                :     else</span>
<span id="L8590" title="Line 8590: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8590</span>                 :<span class="tlaCBC">           7872 :         var1digitpair = var1digits[2 * i1] * NBASE;</span></span>
<span id="L8591" title="Line 8591: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8591</span>                 :<span class="tlaCBC">          14232 :     maxdig = var1digitpair;</span></span>
<span id="L8592" title="Line 8592: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8592</span>                 :                : </span>
<span id="L8593" title="Line 8593: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8593</span>                 :<span class="tlaCBC">          14232 :     i2limit = Min(var2ndigitpairs, res_ndigitpairs - i1 - pair_offset);</span></span>
<span id="L8594" title="Line 8594: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8594</span>                 :<span class="tlaCBC">          14232 :     dig_i1_off = &amp;dig[i1 + pair_offset];</span></span>
<span id="L8595" title="Line 8595: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8595</span>                 :                : </span>
<span id="L8596" title="Line 8596: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8596</span>                 :<span class="tlaCBC">          14232 :     memset(dig, 0, (i1 + pair_offset) * sizeof(uint64));</span></span>
<span id="L8597" title="Line 8597: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8597</span>         [<span class="tlaCBC"> <a href="#L8605" title="CBC: Branch 0 was taken 674079 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8605" title="CBC: Branch 1 was taken 14232 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         688311 :     for (i2 = 0; i2 &lt; i2limit; i2++)</span></span>
<span id="L8598" title="Line 8598: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8598</span>                 :<span class="tlaCBC">         674079 :         dig_i1_off[i2] = (uint64) var1digitpair * var2digitpairs[i2];</span></span>
<span id="L8599" title="Line 8599: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8599</span>                 :                : </span>
<span id="L8600" title="Line 8600: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8600</span>                 :                :     /*</span>
<span id="L8601" title="Line 8601: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8601</span>                 :                :      * Next, multiply var2 by the remaining digit pairs from var1, adding the</span>
<span id="L8602" title="Line 8602: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8602</span>                 :                :      * results to dig[] at the appropriate offsets, and normalizing whenever</span>
<span id="L8603" title="Line 8603: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8603</span>                 :                :      * there is a risk of any dig[] entry overflowing.</span>
<span id="L8604" title="Line 8604: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8604</span>                 :                :      */</span>
<span id="L8605" title="Line 8605: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8605</span>         [<span class="tlaCBC"> <a href="#L8608" title="CBC: Branch 0 was taken 736623 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8608" title="CBC: Branch 1 was taken 14232 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         750855 :     for (i1 = i1 - 1; i1 &gt;= 0; i1--)</span></span>
<span id="L8606" title="Line 8606: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8606</span>                 :                :     {</span>
<span id="L8607" title="Line 8607: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8607</span>                 :<span class="tlaCBC">         736623 :         var1digitpair = var1digits[2 * i1] * NBASE + var1digits[2 * i1 + 1];</span></span>
<span id="L8608" title="Line 8608: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8608</span>         [<span class="tlaCBC"> <a href="#L8613" title="CBC: Branch 0 was taken 589758 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8613" title="CBC: Branch 1 was taken 146865 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         736623 :         if (var1digitpair == 0)</span></span>
<span id="L8609" title="Line 8609: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L8616" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8609</span>                 :<span class="tlaCBC">         589758 :             continue;</span></span>
<span id="L8610" title="Line 8610: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8610</span>                 :                : </span>
<span id="L8611" title="Line 8611: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8611</span>                 :                :         /* Time to normalize? */</span>
<span id="L8612" title="Line 8612: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">  376 <a href="#L8617" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8612</span>                 :<span class="tlaCBC">         146865 :         maxdig += var1digitpair;</span></span>
<span id="L8613" title="Line 8613: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8613</span>         [<span class="tlaCBC"> <a href="#L8617" title="CBC: Branch 0 was taken 15 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8617" title="CBC: Branch 1 was taken 146850 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         146865 :         if (maxdig &gt; (PG_UINT64_MAX - PG_UINT64_MAX / NBASE_SQR) / (NBASE_SQR - 1))</span></span>
<span id="L8614" title="Line 8614: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8614</span>                 :                :         {</span>
<span id="L8615" title="Line 8615: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8615</span>                 :                :             /* Yes, do it (to base NBASE^2) */</span>
<span id="L8616" title="Line 8616: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L8619" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8616</span>                 :<span class="tlaCBC">             15 :             carry = 0;</span></span>
<span id="L8617" title="Line 8617: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">  376 <a href="#L8620" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8617</span>         [<span class="tlaCBC"> <a href="#L8620" title="CBC: Branch 0 was taken 59967 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8620" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          59982 :             for (i = res_ndigitpairs - 1; i &gt;= 0; i--)</span></span>
<span id="L8618" title="Line 8618: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8618</span>                 :                :             {</span>
<span id="L8619" title="Line 8619: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L8626" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8619</span>                 :<span class="tlaCBC">          59967 :                 newdig = dig[i] + carry;</span></span>
<span id="L8620" title="Line 8620: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">  376 <a href="#L8631" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8620</span>         [<span class="tlaCBC"> <a href="#L8629" title="CBC: Branch 0 was taken 57621 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8629" title="CBC: Branch 1 was taken 2346 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          59967 :                 if (newdig &gt;= NBASE_SQR)</span></span>
<span id="L8621" title="Line 8621: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8621</span>                 :                :                 {</span>
<span id="L8622" title="Line 8622: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8622</span>                 :<span class="tlaCBC">          57621 :                     carry = newdig / NBASE_SQR;</span></span>
<span id="L8623" title="Line 8623: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8623</span>                 :<span class="tlaCBC">          57621 :                     newdig -= carry * NBASE_SQR;</span></span>
<span id="L8624" title="Line 8624: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8624</span>                 :                :                 }</span>
<span id="L8625" title="Line 8625: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8625</span>                 :                :                 else</span>
<span id="L8626" title="Line 8626: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L8647" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8626</span>                 :<span class="tlaCBC">           2346 :                     carry = 0;</span></span>
<span id="L8627" title="Line 8627: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8627</span>                 :<span class="tlaCBC">          59967 :                 dig[i] = newdig;</span></span>
<span id="L8628" title="Line 8628: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8628</span>                 :                :             }</span>
<span id="L8629" title="Line 8629: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8629</span>         [<span class="tlaUBC"> <a href="#L8663" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L8638" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             15 :             Assert(carry == 0);</span></span>
<span id="L8630" title="Line 8630: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8630</span>                 :                :             /* Reset maxdig to indicate new worst-case */</span>
<span id="L8631" title="Line 8631: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">  376 <a href="#L8650" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8631</span>                 :<span class="tlaCBC">             15 :             maxdig = 1 + var1digitpair;</span></span>
<span id="L8632" title="Line 8632: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8632</span>                 :                :         }</span>
<span id="L8633" title="Line 8633: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8633</span>                 :                : </span>
<span id="L8634" title="Line 8634: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8634</span>                 :                :         /* Multiply and add */</span>
<span id="L8635" title="Line 8635: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8635</span>                 :<span class="tlaCBC">         146865 :         i2limit = Min(var2ndigitpairs, res_ndigitpairs - i1 - pair_offset);</span></span>
<span id="L8636" title="Line 8636: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8636</span>                 :<span class="tlaCBC">         146865 :         dig_i1_off = &amp;dig[i1 + pair_offset];</span></span>
<span id="L8637" title="Line 8637: commit 9c79e646c6f0 on 2020-09-07 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8637</span>                 :                : </span>
<span id="L8638" title="Line 8638: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8638</span>         [<span class="tlaCBC"> <a href="#L8650" title="CBC: Branch 0 was taken 61877058 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8650" title="CBC: Branch 1 was taken 146865 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">       62023923 :         for (i2 = 0; i2 &lt; i2limit; i2++)</span></span>
<span id="L8639" title="Line 8639: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8639</span>                 :<span class="tlaCBC">       61877058 :             dig_i1_off[i2] += (uint64) var1digitpair * var2digitpairs[i2];</span></span>
<span id="L8640" title="Line 8640: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8640</span>                 :                :     }</span>
<span id="L8641" title="Line 8641: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8641</span>                 :                : </span>
<span id="L8642" title="Line 8642: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8642</span>                 :                :     /*</span>
<span id="L8643" title="Line 8643: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8643</span>                 :                :      * Now we do a final carry propagation pass to normalize back to base</span>
<span id="L8644" title="Line 8644: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8644</span>                 :                :      * NBASE^2, and construct the base-NBASE result digits.  Note that this is</span>
<span id="L8645" title="Line 8645: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8645</span>                 :                :      * still done at full precision w/guard digits.</span>
<span id="L8646" title="Line 8646: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8646</span>                 :                :      */</span>
<span id="L8647" title="Line 8647: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L8652" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8647</span>                 :<span class="tlaCBC">          14232 :     alloc_var(result, res_ndigits);</span></span>
<span id="L8648" title="Line 8648: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8648</span>                 :<span class="tlaCBC">          14232 :     res_digits = result-&gt;digits;</span></span>
<span id="L8649" title="Line 8649: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8649</span>                 :<span class="tlaCBC">          14232 :     carry = 0;</span></span>
<span id="L8650" title="Line 8650: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">  376 <a href="#L8653" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8650</span>         [<span class="tlaCBC"> <a href="#L8653" title="CBC: Branch 0 was taken 1427229 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8653" title="CBC: Branch 1 was taken 14232 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1441461 :     for (i = res_ndigitpairs - 1; i &gt;= 0; i--)</span></span>
<span id="L8651" title="Line 8651: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8651</span>                 :                :     {</span>
<span id="L8652" title="Line 8652: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L8659" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8652</span>                 :<span class="tlaCBC">        1427229 :         newdig = dig[i] + carry;</span></span>
<span id="L8653" title="Line 8653: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">  376 <a href="#L8660" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8653</span>         [<span class="tlaCBC"> <a href="#L8663" title="CBC: Branch 0 was taken 203457 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8663" title="CBC: Branch 1 was taken 1223772 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1427229 :         if (newdig &gt;= NBASE_SQR)</span></span>
<span id="L8654" title="Line 8654: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8654</span>                 :                :         {</span>
<span id="L8655" title="Line 8655: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8655</span>                 :<span class="tlaCBC">         203457 :             carry = newdig / NBASE_SQR;</span></span>
<span id="L8656" title="Line 8656: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8656</span>                 :<span class="tlaCBC">         203457 :             newdig -= carry * NBASE_SQR;</span></span>
<span id="L8657" title="Line 8657: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8657</span>                 :                :         }</span>
<span id="L8658" title="Line 8658: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8658</span>                 :                :         else</span>
<span id="L8659" title="Line 8659: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L8663" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8659</span>                 :<span class="tlaCBC">        1223772 :             carry = 0;</span></span>
<span id="L8660" title="Line 8660: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">  376 <a href="#L8689" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8660</span>                 :<span class="tlaCBC">        1427229 :         res_digits[2 * i + 1] = (NumericDigit) ((uint32) newdig % NBASE);</span></span>
<span id="L8661" title="Line 8661: commit 8dc28d7eb868 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8661</span>                 :<span class="tlaCBC">        1427229 :         res_digits[2 * i] = (NumericDigit) ((uint32) newdig / NBASE);</span></span>
<span id="L8662" title="Line 8662: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8662</span>                 :                :     }</span>
<span id="L8663" title="Line 8663: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L8674" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8663</span>         [<span class="tlaUBC"> <a href="#L8705" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L8705" title="CBC: Branch 1 was taken 14232 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          14232 :     Assert(carry == 0);</span></span>
<span id="L8664" title="Line 8664: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8664</span>                 :                : </span>
<span id="L8665" title="Line 8665: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8665</span>                 :<span class="tlaCBC">          14232 :     pfree(dig);</span></span>
<span id="L8666" title="Line 8666: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8666</span>                 :                : </span>
<span id="L8667" title="Line 8667: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8667</span>                 :                :     /*</span>
<span id="L8668" title="Line 8668: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8668</span>                 :                :      * Finally, round the result to the requested precision.</span>
<span id="L8669" title="Line 8669: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8669</span>                 :                :      */</span>
<span id="L8670" title="Line 8670: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L9500" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    8670</span>                 :<span class="tlaCBC">          14232 :     result-&gt;weight = res_weight;</span></span>
<span id="L8671" title="Line 8671: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    8671</span>                 :<span class="tlaCBC">          14232 :     result-&gt;sign = res_sign;</span></span>
<span id="L8672" title="Line 8672: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8672</span>                 :                : </span>
<span id="L8673" title="Line 8673: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8673</span>                 :                :     /* Round to target rscale (and set result-&gt;dscale) */</span>
<span id="L8674" title="Line 8674: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L9007" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    8674</span>                 :<span class="tlaCBC">          14232 :     round_var(result, rscale);</span></span>
<span id="L8675" title="Line 8675: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8675</span>                 :                : </span>
<span id="L8676" title="Line 8676: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8676</span>                 :                :     /* Strip leading and trailing zeroes */</span>
<span id="L8677" title="Line 8677: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8677</span>                 :<span class="tlaCBC">          14232 :     strip_var(result);</span></span>
<span id="L8678" title="Line 8678: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8678</span>                 :                : }</span>
<span id="L8679" title="Line 8679: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8679</span>                 :                : </span>
<span id="L8680" title="Line 8680: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8680</span>                 :                : </span>
<span id="L8681" title="Line 8681: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8681</span>                 :                : /*</span>
<span id="L8682" title="Line 8682: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8682</span>                 :                :  * mul_var_short() -</span>
<span id="L8683" title="Line 8683: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8683</span>                 :                :  *</span>
<span id="L8684" title="Line 8684: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8684</span>                 :                :  *  Special-case multiplication function used when var1 has 1-6 digits, var2</span>
<span id="L8685" title="Line 8685: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8685</span>                 :                :  *  has at least as many digits as var1, and the exact product var1 * var2 is</span>
<span id="L8686" title="Line 8686: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8686</span>                 :                :  *  requested.</span>
<span id="L8687" title="Line 8687: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8687</span>                 :                :  */</span>
<span id="L8688" title="Line 8688: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8688</span>                 :                : static void</span>
<span id="L8689" title="Line 8689: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413 <a href="#L8979" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8689</span>                 :<span class="tlaCBC">         579168 : mul_var_short(const NumericVar *var1, const NumericVar *var2,</span></span>
<span id="L8690" title="Line 8690: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8690</span>                 :                :               NumericVar *result)</span>
<span id="L8691" title="Line 8691: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8691</span>                 :                : {</span>
<span id="L8692" title="Line 8692: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8692</span>                 :<span class="tlaCBC">         579168 :     int         var1ndigits = var1-&gt;ndigits;</span></span>
<span id="L8693" title="Line 8693: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8693</span>                 :<span class="tlaCBC">         579168 :     int         var2ndigits = var2-&gt;ndigits;</span></span>
<span id="L8694" title="Line 8694: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8694</span>                 :<span class="tlaCBC">         579168 :     NumericDigit *var1digits = var1-&gt;digits;</span></span>
<span id="L8695" title="Line 8695: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8695</span>                 :<span class="tlaCBC">         579168 :     NumericDigit *var2digits = var2-&gt;digits;</span></span>
<span id="L8696" title="Line 8696: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8696</span>                 :                :     int         res_sign;</span>
<span id="L8697" title="Line 8697: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8697</span>                 :                :     int         res_weight;</span>
<span id="L8698" title="Line 8698: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8698</span>                 :                :     int         res_ndigits;</span>
<span id="L8699" title="Line 8699: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8699</span>                 :                :     NumericDigit *res_buf;</span>
<span id="L8700" title="Line 8700: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8700</span>                 :                :     NumericDigit *res_digits;</span>
<span id="L8701" title="Line 8701: commit 7cac6307a43c on 2024-08-26 by dean.a.rasheed@gmail.com">  365                      <span class="lineNum">    8701</span>                 :<span class="tlaCBC">         579168 :     uint32      carry = 0;</span></span>
<span id="L8702" title="Line 8702: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8702</span>                 :                :     uint32      term;</span>
<span id="L8703" title="Line 8703: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8703</span>                 :                : </span>
<span id="L8704" title="Line 8704: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8704</span>                 :                :     /* Check preconditions */</span>
<span id="L8705" title="Line 8705: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413                      <span class="lineNum">    8705</span>         [<span class="tlaUBC"> <a href="#L8706" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L8706" title="CBC: Branch 1 was taken 579168 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         579168 :     Assert(var1ndigits &gt;= 1);</span></span>
<span id="L8706" title="Line 8706: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">  376                      <span class="lineNum">    8706</span>         [<span class="tlaUBC"> <a href="#L8707" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L8707" title="CBC: Branch 1 was taken 579168 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         579168 :     Assert(var1ndigits &lt;= 6);</span></span>
<span id="L8707" title="Line 8707: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413                      <span class="lineNum">    8707</span>         [<span class="tlaUBC"> <a href="#L8740" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L8716" title="CBC: Branch 1 was taken 579168 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         579168 :     Assert(var2ndigits &gt;= var1ndigits);</span></span>
<span id="L8708" title="Line 8708: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8708</span>                 :                : </span>
<span id="L8709" title="Line 8709: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8709</span>                 :                :     /*</span>
<span id="L8710" title="Line 8710: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8710</span>                 :                :      * Determine the result sign, weight, and number of digits to calculate.</span>
<span id="L8711" title="Line 8711: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8711</span>                 :                :      * The weight figured here is correct if the product has no leading zero</span>
<span id="L8712" title="Line 8712: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8712</span>                 :                :      * digits; otherwise strip_var() will fix things up.  Note that, unlike</span>
<span id="L8713" title="Line 8713: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8713</span>                 :                :      * mul_var(), we do not need to allocate an extra output digit, because we</span>
<span id="L8714" title="Line 8714: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8714</span>                 :                :      * are not rounding here.</span>
<span id="L8715" title="Line 8715: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8715</span>                 :                :      */</span>
<span id="L8716" title="Line 8716: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8716</span>         [<span class="tlaCBC"> <a href="#L8740" title="CBC: Branch 0 was taken 578572 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8740" title="CBC: Branch 1 was taken 596 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         579168 :     if (var1-&gt;sign == var2-&gt;sign)</span></span>
<span id="L8717" title="Line 8717: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8717</span>                 :<span class="tlaCBC">         578572 :         res_sign = NUMERIC_POS;</span></span>
<span id="L8718" title="Line 8718: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8718</span>                 :                :     else</span>
<span id="L8719" title="Line 8719: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8719</span>                 :<span class="tlaCBC">            596 :         res_sign = NUMERIC_NEG;</span></span>
<span id="L8720" title="Line 8720: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8720</span>                 :<span class="tlaCBC">         579168 :     res_weight = var1-&gt;weight + var2-&gt;weight + 1;</span></span>
<span id="L8721" title="Line 8721: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8721</span>                 :<span class="tlaCBC">         579168 :     res_ndigits = var1ndigits + var2ndigits;</span></span>
<span id="L8722" title="Line 8722: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8722</span>                 :                : </span>
<span id="L8723" title="Line 8723: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8723</span>                 :                :     /* Allocate result digit array */</span>
<span id="L8724" title="Line 8724: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8724</span>                 :<span class="tlaCBC">         579168 :     res_buf = digitbuf_alloc(res_ndigits + 1);</span></span>
<span id="L8725" title="Line 8725: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8725</span>                 :<span class="tlaCBC">         579168 :     res_buf[0] = 0;             /* spare digit for later rounding */</span></span>
<span id="L8726" title="Line 8726: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8726</span>                 :<span class="tlaCBC">         579168 :     res_digits = res_buf + 1;</span></span>
<span id="L8727" title="Line 8727: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8727</span>                 :                : </span>
<span id="L8728" title="Line 8728: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8728</span>                 :                :     /*</span>
<span id="L8729" title="Line 8729: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8729</span>                 :                :      * Compute the result digits in reverse, in one pass, propagating the</span>
<span id="L8730" title="Line 8730: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8730</span>                 :                :      * carry up as we go.  The i'th result digit consists of the sum of the</span>
<span id="L8731" title="Line 8731: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8731</span>                 :                :      * products var1digits[i1] * var2digits[i2] for which i = i1 + i2 + 1.</span>
<span id="L8732" title="Line 8732: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8732</span>                 :                :      */</span>
<span id="L8733" title="Line 8733: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8733</span>                 :                : #define PRODSUM1(v1,i1,v2,i2) ((v1)[(i1)] * (v2)[(i2)])</span>
<span id="L8734" title="Line 8734: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8734</span>                 :                : #define PRODSUM2(v1,i1,v2,i2) (PRODSUM1(v1,i1,v2,i2) + (v1)[(i1)+1] * (v2)[(i2)-1])</span>
<span id="L8735" title="Line 8735: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8735</span>                 :                : #define PRODSUM3(v1,i1,v2,i2) (PRODSUM2(v1,i1,v2,i2) + (v1)[(i1)+2] * (v2)[(i2)-2])</span>
<span id="L8736" title="Line 8736: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8736</span>                 :                : #define PRODSUM4(v1,i1,v2,i2) (PRODSUM3(v1,i1,v2,i2) + (v1)[(i1)+3] * (v2)[(i2)-3])</span>
<span id="L8737" title="Line 8737: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8737</span>                 :                : #define PRODSUM5(v1,i1,v2,i2) (PRODSUM4(v1,i1,v2,i2) + (v1)[(i1)+4] * (v2)[(i2)-4])</span>
<span id="L8738" title="Line 8738: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8738</span>                 :                : #define PRODSUM6(v1,i1,v2,i2) (PRODSUM5(v1,i1,v2,i2) + (v1)[(i1)+5] * (v2)[(i2)-5])</span>
<span id="L8739" title="Line 8739: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8739</span>                 :                : </span>
<span id="L8740" title="Line 8740: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8740</span>   [<span class="tlaCBC"> <a href="#L8750" title="CBC: Branch 0 was taken 576315 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8750" title="CBC: Branch 1 was taken 378 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8750" title="CBC: Branch 2 was taken 102 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8750" title="CBC: Branch 3 was taken 2019 times" class="branchTla">+</a> </span> :<span class="tlaCBC">         579168 :     switch (var1ndigits)</span></span>
                           <span class="lineNum">        </span>       <span class="tlaCBC"> <a href="#L8750" title="CBC: Branch 4 was taken 57 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8750" title="CBC: Branch 5 was taken 297 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L9007" title="UBC: Branch 6 was not taken" class="branchTla">-</a> </span>]
<span id="L8741" title="Line 8741: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8741</span>                 :                :     {</span>
<span id="L8742" title="Line 8742: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8742</span>                 :<span class="tlaCBC">         576315 :         case 1:</span></span>
<span id="L8743" title="Line 8743: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8743</span>                 :                :             /* ---------</span>
<span id="L8744" title="Line 8744: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8744</span>                 :                :              * 1-digit case:</span>
<span id="L8745" title="Line 8745: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8745</span>                 :                :              *      var1ndigits = 1</span>
<span id="L8746" title="Line 8746: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8746</span>                 :                :              *      var2ndigits &gt;= 1</span>
<span id="L8747" title="Line 8747: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8747</span>                 :                :              *      res_ndigits = var2ndigits + 1</span>
<span id="L8748" title="Line 8748: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8748</span>                 :                :              * ----------</span>
<span id="L8749" title="Line 8749: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8749</span>                 :                :              */</span>
<span id="L8750" title="Line 8750: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">  376                      <span class="lineNum">    8750</span>         [<span class="tlaCBC"> <a href="#L8773" title="CBC: Branch 0 was taken 1226173 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8773" title="CBC: Branch 1 was taken 576315 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1802488 :             for (int i = var2ndigits - 1; i &gt;= 0; i--)</span></span>
<span id="L8751" title="Line 8751: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8751</span>                 :                :             {</span>
<span id="L8752" title="Line 8752: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8752</span>                 :<span class="tlaCBC">        1226173 :                 term = PRODSUM1(var1digits, 0, var2digits, i) + carry;</span></span>
<span id="L8753" title="Line 8753: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413                      <span class="lineNum">    8753</span>                 :<span class="tlaCBC">        1226173 :                 res_digits[i + 1] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8754" title="Line 8754: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8754</span>                 :<span class="tlaCBC">        1226173 :                 carry = term / NBASE;</span></span>
<span id="L8755" title="Line 8755: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8755</span>                 :                :             }</span>
<span id="L8756" title="Line 8756: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8756</span>                 :<span class="tlaCBC">         576315 :             res_digits[0] = (NumericDigit) carry;</span></span>
<span id="L8757" title="Line 8757: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8757</span>                 :<span class="tlaCBC">         576315 :             break;</span></span>
<span id="L8758" title="Line 8758: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8758</span>                 :                : </span>
<span id="L8759" title="Line 8759: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8759</span>                 :<span class="tlaCBC">            378 :         case 2:</span></span>
<span id="L8760" title="Line 8760: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8760</span>                 :                :             /* ---------</span>
<span id="L8761" title="Line 8761: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8761</span>                 :                :              * 2-digit case:</span>
<span id="L8762" title="Line 8762: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8762</span>                 :                :              *      var1ndigits = 2</span>
<span id="L8763" title="Line 8763: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8763</span>                 :                :              *      var2ndigits &gt;= 2</span>
<span id="L8764" title="Line 8764: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8764</span>                 :                :              *      res_ndigits = var2ndigits + 2</span>
<span id="L8765" title="Line 8765: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8765</span>                 :                :              * ----------</span>
<span id="L8766" title="Line 8766: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8766</span>                 :                :              */</span>
<span id="L8767" title="Line 8767: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8767</span>                 :                :             /* last result digit and carry */</span>
<span id="L8768" title="Line 8768: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">  376                      <span class="lineNum">    8768</span>                 :<span class="tlaCBC">            378 :             term = PRODSUM1(var1digits, 1, var2digits, var2ndigits - 1);</span></span>
<span id="L8769" title="Line 8769: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413                      <span class="lineNum">    8769</span>                 :<span class="tlaCBC">            378 :             res_digits[res_ndigits - 1] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8770" title="Line 8770: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8770</span>                 :<span class="tlaCBC">            378 :             carry = term / NBASE;</span></span>
<span id="L8771" title="Line 8771: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8771</span>                 :                : </span>
<span id="L8772" title="Line 8772: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8772</span>                 :                :             /* remaining digits, except for the first two */</span>
<span id="L8773" title="Line 8773: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">  376                      <span class="lineNum">    8773</span>         [<span class="tlaCBC"> <a href="#L8799" title="CBC: Branch 0 was taken 774 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8799" title="CBC: Branch 1 was taken 378 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1152 :             for (int i = var2ndigits - 1; i &gt;= 1; i--)</span></span>
<span id="L8774" title="Line 8774: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8774</span>                 :                :             {</span>
<span id="L8775" title="Line 8775: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8775</span>                 :<span class="tlaCBC">            774 :                 term = PRODSUM2(var1digits, 0, var2digits, i) + carry;</span></span>
<span id="L8776" title="Line 8776: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413                      <span class="lineNum">    8776</span>                 :<span class="tlaCBC">            774 :                 res_digits[i + 1] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8777" title="Line 8777: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8777</span>                 :<span class="tlaCBC">            774 :                 carry = term / NBASE;</span></span>
<span id="L8778" title="Line 8778: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8778</span>                 :                :             }</span>
<span id="L8779" title="Line 8779: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8779</span>                 :<span class="tlaCBC">            378 :             break;</span></span>
<span id="L8780" title="Line 8780: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8780</span>                 :                : </span>
<span id="L8781" title="Line 8781: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8781</span>                 :<span class="tlaCBC">            102 :         case 3:</span></span>
<span id="L8782" title="Line 8782: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8782</span>                 :                :             /* ---------</span>
<span id="L8783" title="Line 8783: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8783</span>                 :                :              * 3-digit case:</span>
<span id="L8784" title="Line 8784: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8784</span>                 :                :              *      var1ndigits = 3</span>
<span id="L8785" title="Line 8785: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8785</span>                 :                :              *      var2ndigits &gt;= 3</span>
<span id="L8786" title="Line 8786: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8786</span>                 :                :              *      res_ndigits = var2ndigits + 3</span>
<span id="L8787" title="Line 8787: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8787</span>                 :                :              * ----------</span>
<span id="L8788" title="Line 8788: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8788</span>                 :                :              */</span>
<span id="L8789" title="Line 8789: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8789</span>                 :                :             /* last two result digits */</span>
<span id="L8790" title="Line 8790: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">  376                      <span class="lineNum">    8790</span>                 :<span class="tlaCBC">            102 :             term = PRODSUM1(var1digits, 2, var2digits, var2ndigits - 1);</span></span>
<span id="L8791" title="Line 8791: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413                      <span class="lineNum">    8791</span>                 :<span class="tlaCBC">            102 :             res_digits[res_ndigits - 1] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8792" title="Line 8792: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8792</span>                 :<span class="tlaCBC">            102 :             carry = term / NBASE;</span></span>
<span id="L8793" title="Line 8793: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8793</span>                 :                : </span>
<span id="L8794" title="Line 8794: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">  376                      <span class="lineNum">    8794</span>                 :<span class="tlaCBC">            102 :             term = PRODSUM2(var1digits, 1, var2digits, var2ndigits - 1) + carry;</span></span>
<span id="L8795" title="Line 8795: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413                      <span class="lineNum">    8795</span>                 :<span class="tlaCBC">            102 :             res_digits[res_ndigits - 2] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8796" title="Line 8796: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8796</span>                 :<span class="tlaCBC">            102 :             carry = term / NBASE;</span></span>
<span id="L8797" title="Line 8797: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8797</span>                 :                : </span>
<span id="L8798" title="Line 8798: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8798</span>                 :                :             /* remaining digits, except for the first three */</span>
<span id="L8799" title="Line 8799: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">  376                      <span class="lineNum">    8799</span>         [<span class="tlaCBC"> <a href="#L8829" title="CBC: Branch 0 was taken 171 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8829" title="CBC: Branch 1 was taken 102 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            273 :             for (int i = var2ndigits - 1; i &gt;= 2; i--)</span></span>
<span id="L8800" title="Line 8800: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8800</span>                 :                :             {</span>
<span id="L8801" title="Line 8801: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8801</span>                 :<span class="tlaCBC">            171 :                 term = PRODSUM3(var1digits, 0, var2digits, i) + carry;</span></span>
<span id="L8802" title="Line 8802: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413                      <span class="lineNum">    8802</span>                 :<span class="tlaCBC">            171 :                 res_digits[i + 1] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8803" title="Line 8803: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8803</span>                 :<span class="tlaCBC">            171 :                 carry = term / NBASE;</span></span>
<span id="L8804" title="Line 8804: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8804</span>                 :                :             }</span>
<span id="L8805" title="Line 8805: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8805</span>                 :<span class="tlaCBC">            102 :             break;</span></span>
<span id="L8806" title="Line 8806: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8806</span>                 :                : </span>
<span id="L8807" title="Line 8807: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8807</span>                 :<span class="tlaCBC">           2019 :         case 4:</span></span>
<span id="L8808" title="Line 8808: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8808</span>                 :                :             /* ---------</span>
<span id="L8809" title="Line 8809: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8809</span>                 :                :              * 4-digit case:</span>
<span id="L8810" title="Line 8810: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8810</span>                 :                :              *      var1ndigits = 4</span>
<span id="L8811" title="Line 8811: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8811</span>                 :                :              *      var2ndigits &gt;= 4</span>
<span id="L8812" title="Line 8812: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8812</span>                 :                :              *      res_ndigits = var2ndigits + 4</span>
<span id="L8813" title="Line 8813: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8813</span>                 :                :              * ----------</span>
<span id="L8814" title="Line 8814: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8814</span>                 :                :              */</span>
<span id="L8815" title="Line 8815: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8815</span>                 :                :             /* last three result digits */</span>
<span id="L8816" title="Line 8816: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">  376                      <span class="lineNum">    8816</span>                 :<span class="tlaCBC">           2019 :             term = PRODSUM1(var1digits, 3, var2digits, var2ndigits - 1);</span></span>
<span id="L8817" title="Line 8817: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413                      <span class="lineNum">    8817</span>                 :<span class="tlaCBC">           2019 :             res_digits[res_ndigits - 1] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8818" title="Line 8818: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8818</span>                 :<span class="tlaCBC">           2019 :             carry = term / NBASE;</span></span>
<span id="L8819" title="Line 8819: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8819</span>                 :                : </span>
<span id="L8820" title="Line 8820: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">  376                      <span class="lineNum">    8820</span>                 :<span class="tlaCBC">           2019 :             term = PRODSUM2(var1digits, 2, var2digits, var2ndigits - 1) + carry;</span></span>
<span id="L8821" title="Line 8821: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413                      <span class="lineNum">    8821</span>                 :<span class="tlaCBC">           2019 :             res_digits[res_ndigits - 2] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8822" title="Line 8822: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8822</span>                 :<span class="tlaCBC">           2019 :             carry = term / NBASE;</span></span>
<span id="L8823" title="Line 8823: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8823</span>                 :                : </span>
<span id="L8824" title="Line 8824: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">  376                      <span class="lineNum">    8824</span>                 :<span class="tlaCBC">           2019 :             term = PRODSUM3(var1digits, 1, var2digits, var2ndigits - 1) + carry;</span></span>
<span id="L8825" title="Line 8825: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413                      <span class="lineNum">    8825</span>                 :<span class="tlaCBC">           2019 :             res_digits[res_ndigits - 3] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8826" title="Line 8826: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8826</span>                 :<span class="tlaCBC">           2019 :             carry = term / NBASE;</span></span>
<span id="L8827" title="Line 8827: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8827</span>                 :                : </span>
<span id="L8828" title="Line 8828: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8828</span>                 :                :             /* remaining digits, except for the first four */</span>
<span id="L8829" title="Line 8829: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">  376                      <span class="lineNum">    8829</span>         [<span class="tlaCBC"> <a href="#L8863" title="CBC: Branch 0 was taken 3615 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8863" title="CBC: Branch 1 was taken 2019 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           5634 :             for (int i = var2ndigits - 1; i &gt;= 3; i--)</span></span>
<span id="L8830" title="Line 8830: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8830</span>                 :                :             {</span>
<span id="L8831" title="Line 8831: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8831</span>                 :<span class="tlaCBC">           3615 :                 term = PRODSUM4(var1digits, 0, var2digits, i) + carry;</span></span>
<span id="L8832" title="Line 8832: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413                      <span class="lineNum">    8832</span>                 :<span class="tlaCBC">           3615 :                 res_digits[i + 1] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8833" title="Line 8833: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8833</span>                 :<span class="tlaCBC">           3615 :                 carry = term / NBASE;</span></span>
<span id="L8834" title="Line 8834: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8834</span>                 :                :             }</span>
<span id="L8835" title="Line 8835: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">  376                      <span class="lineNum">    8835</span>                 :<span class="tlaCBC">           2019 :             break;</span></span>
<span id="L8836" title="Line 8836: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8836</span>                 :                : </span>
<span id="L8837" title="Line 8837: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8837</span>                 :<span class="tlaCBC">             57 :         case 5:</span></span>
<span id="L8838" title="Line 8838: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8838</span>                 :                :             /* ---------</span>
<span id="L8839" title="Line 8839: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8839</span>                 :                :              * 5-digit case:</span>
<span id="L8840" title="Line 8840: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8840</span>                 :                :              *      var1ndigits = 5</span>
<span id="L8841" title="Line 8841: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8841</span>                 :                :              *      var2ndigits &gt;= 5</span>
<span id="L8842" title="Line 8842: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8842</span>                 :                :              *      res_ndigits = var2ndigits + 5</span>
<span id="L8843" title="Line 8843: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8843</span>                 :                :              * ----------</span>
<span id="L8844" title="Line 8844: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8844</span>                 :                :              */</span>
<span id="L8845" title="Line 8845: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8845</span>                 :                :             /* last four result digits */</span>
<span id="L8846" title="Line 8846: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8846</span>                 :<span class="tlaCBC">             57 :             term = PRODSUM1(var1digits, 4, var2digits, var2ndigits - 1);</span></span>
<span id="L8847" title="Line 8847: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8847</span>                 :<span class="tlaCBC">             57 :             res_digits[res_ndigits - 1] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8848" title="Line 8848: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413                      <span class="lineNum">    8848</span>                 :<span class="tlaCBC">             57 :             carry = term / NBASE;</span></span>
<span id="L8849" title="Line 8849: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8849</span>                 :                : </span>
<span id="L8850" title="Line 8850: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">  376                      <span class="lineNum">    8850</span>                 :<span class="tlaCBC">             57 :             term = PRODSUM2(var1digits, 3, var2digits, var2ndigits - 1) + carry;</span></span>
<span id="L8851" title="Line 8851: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8851</span>                 :<span class="tlaCBC">             57 :             res_digits[res_ndigits - 2] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8852" title="Line 8852: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8852</span>                 :<span class="tlaCBC">             57 :             carry = term / NBASE;</span></span>
<span id="L8853" title="Line 8853: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8853</span>                 :                : </span>
<span id="L8854" title="Line 8854: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8854</span>                 :<span class="tlaCBC">             57 :             term = PRODSUM3(var1digits, 2, var2digits, var2ndigits - 1) + carry;</span></span>
<span id="L8855" title="Line 8855: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8855</span>                 :<span class="tlaCBC">             57 :             res_digits[res_ndigits - 3] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8856" title="Line 8856: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413                      <span class="lineNum">    8856</span>                 :<span class="tlaCBC">             57 :             carry = term / NBASE;</span></span>
<span id="L8857" title="Line 8857: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8857</span>                 :                : </span>
<span id="L8858" title="Line 8858: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">  376                      <span class="lineNum">    8858</span>                 :<span class="tlaCBC">             57 :             term = PRODSUM4(var1digits, 1, var2digits, var2ndigits - 1) + carry;</span></span>
<span id="L8859" title="Line 8859: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8859</span>                 :<span class="tlaCBC">             57 :             res_digits[res_ndigits - 4] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8860" title="Line 8860: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8860</span>                 :<span class="tlaCBC">             57 :             carry = term / NBASE;</span></span>
<span id="L8861" title="Line 8861: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8861</span>                 :                : </span>
<span id="L8862" title="Line 8862: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8862</span>                 :                :             /* remaining digits, except for the first five */</span>
<span id="L8863" title="Line 8863: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8863</span>         [<span class="tlaCBC"> <a href="#L8901" title="CBC: Branch 0 was taken 93 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8901" title="CBC: Branch 1 was taken 57 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            150 :             for (int i = var2ndigits - 1; i &gt;= 4; i--)</span></span>
<span id="L8864" title="Line 8864: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8864</span>                 :                :             {</span>
<span id="L8865" title="Line 8865: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8865</span>                 :<span class="tlaCBC">             93 :                 term = PRODSUM5(var1digits, 0, var2digits, i) + carry;</span></span>
<span id="L8866" title="Line 8866: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8866</span>                 :<span class="tlaCBC">             93 :                 res_digits[i + 1] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8867" title="Line 8867: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8867</span>                 :<span class="tlaCBC">             93 :                 carry = term / NBASE;</span></span>
<span id="L8868" title="Line 8868: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8868</span>                 :                :             }</span>
<span id="L8869" title="Line 8869: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8869</span>                 :<span class="tlaCBC">             57 :             break;</span></span>
<span id="L8870" title="Line 8870: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8870</span>                 :                : </span>
<span id="L8871" title="Line 8871: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8871</span>                 :<span class="tlaCBC">            297 :         case 6:</span></span>
<span id="L8872" title="Line 8872: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8872</span>                 :                :             /* ---------</span>
<span id="L8873" title="Line 8873: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8873</span>                 :                :              * 6-digit case:</span>
<span id="L8874" title="Line 8874: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8874</span>                 :                :              *      var1ndigits = 6</span>
<span id="L8875" title="Line 8875: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8875</span>                 :                :              *      var2ndigits &gt;= 6</span>
<span id="L8876" title="Line 8876: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8876</span>                 :                :              *      res_ndigits = var2ndigits + 6</span>
<span id="L8877" title="Line 8877: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8877</span>                 :                :              * ----------</span>
<span id="L8878" title="Line 8878: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8878</span>                 :                :              */</span>
<span id="L8879" title="Line 8879: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8879</span>                 :                :             /* last five result digits */</span>
<span id="L8880" title="Line 8880: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8880</span>                 :<span class="tlaCBC">            297 :             term = PRODSUM1(var1digits, 5, var2digits, var2ndigits - 1);</span></span>
<span id="L8881" title="Line 8881: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8881</span>                 :<span class="tlaCBC">            297 :             res_digits[res_ndigits - 1] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8882" title="Line 8882: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8882</span>                 :<span class="tlaCBC">            297 :             carry = term / NBASE;</span></span>
<span id="L8883" title="Line 8883: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8883</span>                 :                : </span>
<span id="L8884" title="Line 8884: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8884</span>                 :<span class="tlaCBC">            297 :             term = PRODSUM2(var1digits, 4, var2digits, var2ndigits - 1) + carry;</span></span>
<span id="L8885" title="Line 8885: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8885</span>                 :<span class="tlaCBC">            297 :             res_digits[res_ndigits - 2] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8886" title="Line 8886: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8886</span>                 :<span class="tlaCBC">            297 :             carry = term / NBASE;</span></span>
<span id="L8887" title="Line 8887: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8887</span>                 :                : </span>
<span id="L8888" title="Line 8888: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8888</span>                 :<span class="tlaCBC">            297 :             term = PRODSUM3(var1digits, 3, var2digits, var2ndigits - 1) + carry;</span></span>
<span id="L8889" title="Line 8889: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8889</span>                 :<span class="tlaCBC">            297 :             res_digits[res_ndigits - 3] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8890" title="Line 8890: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8890</span>                 :<span class="tlaCBC">            297 :             carry = term / NBASE;</span></span>
<span id="L8891" title="Line 8891: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8891</span>                 :                : </span>
<span id="L8892" title="Line 8892: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8892</span>                 :<span class="tlaCBC">            297 :             term = PRODSUM4(var1digits, 2, var2digits, var2ndigits - 1) + carry;</span></span>
<span id="L8893" title="Line 8893: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8893</span>                 :<span class="tlaCBC">            297 :             res_digits[res_ndigits - 4] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8894" title="Line 8894: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8894</span>                 :<span class="tlaCBC">            297 :             carry = term / NBASE;</span></span>
<span id="L8895" title="Line 8895: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8895</span>                 :                : </span>
<span id="L8896" title="Line 8896: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8896</span>                 :<span class="tlaCBC">            297 :             term = PRODSUM5(var1digits, 1, var2digits, var2ndigits - 1) + carry;</span></span>
<span id="L8897" title="Line 8897: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8897</span>                 :<span class="tlaCBC">            297 :             res_digits[res_ndigits - 5] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8898" title="Line 8898: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8898</span>                 :<span class="tlaCBC">            297 :             carry = term / NBASE;</span></span>
<span id="L8899" title="Line 8899: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8899</span>                 :                : </span>
<span id="L8900" title="Line 8900: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8900</span>                 :                :             /* remaining digits, except for the first six */</span>
<span id="L8901" title="Line 8901: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8901</span>         [<span class="tlaCBC"> <a href="#L8914" title="CBC: Branch 0 was taken 531 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8914" title="CBC: Branch 1 was taken 297 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            828 :             for (int i = var2ndigits - 1; i &gt;= 5; i--)</span></span>
<span id="L8902" title="Line 8902: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8902</span>                 :                :             {</span>
<span id="L8903" title="Line 8903: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8903</span>                 :<span class="tlaCBC">            531 :                 term = PRODSUM6(var1digits, 0, var2digits, i) + carry;</span></span>
<span id="L8904" title="Line 8904: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8904</span>                 :<span class="tlaCBC">            531 :                 res_digits[i + 1] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8905" title="Line 8905: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8905</span>                 :<span class="tlaCBC">            531 :                 carry = term / NBASE;</span></span>
<span id="L8906" title="Line 8906: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8906</span>                 :                :             }</span>
<span id="L8907" title="Line 8907: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8907</span>                 :<span class="tlaCBC">            297 :             break;</span></span>
<span id="L8908" title="Line 8908: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8908</span>                 :                :     }</span>
<span id="L8909" title="Line 8909: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8909</span>                 :                : </span>
<span id="L8910" title="Line 8910: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8910</span>                 :                :     /*</span>
<span id="L8911" title="Line 8911: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8911</span>                 :                :      * Finally, for var1ndigits &gt; 1, compute the remaining var1ndigits most</span>
<span id="L8912" title="Line 8912: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8912</span>                 :                :      * significant result digits.</span>
<span id="L8913" title="Line 8913: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8913</span>                 :                :      */</span>
<span id="L8914" title="Line 8914: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8914</span>   [<span class="tlaCBC"> <a href="#L8944" title="CBC: Branch 0 was taken 297 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8944" title="CBC: Branch 1 was taken 57 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8944" title="CBC: Branch 2 was taken 2019 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8944" title="CBC: Branch 3 was taken 102 times" class="branchTla">+</a> </span> :<span class="tlaCBC">         579168 :     switch (var1ndigits)</span></span>
                           <span class="lineNum">        </span>          <span class="tlaCBC"> <a href="#L8944" title="CBC: Branch 4 was taken 378 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L8944" title="CBC: Branch 5 was taken 576315 times" class="branchTla">+</a> </span>]
<span id="L8915" title="Line 8915: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8915</span>                 :                :     {</span>
<span id="L8916" title="Line 8916: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8916</span>                 :<span class="tlaCBC">            297 :         case 6:</span></span>
<span id="L8917" title="Line 8917: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8917</span>                 :<span class="tlaCBC">            297 :             term = PRODSUM5(var1digits, 0, var2digits, 4) + carry;</span></span>
<span id="L8918" title="Line 8918: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8918</span>                 :<span class="tlaCBC">            297 :             res_digits[5] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8919" title="Line 8919: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8919</span>                 :<span class="tlaCBC">            297 :             carry = term / NBASE;</span></span>
<span id="L8920" title="Line 8920: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8920</span>                 :                :             /* FALLTHROUGH */</span>
<span id="L8921" title="Line 8921: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8921</span>                 :<span class="tlaCBC">            354 :         case 5:</span></span>
<span id="L8922" title="Line 8922: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8922</span>                 :<span class="tlaCBC">            354 :             term = PRODSUM4(var1digits, 0, var2digits, 3) + carry;</span></span>
<span id="L8923" title="Line 8923: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8923</span>                 :<span class="tlaCBC">            354 :             res_digits[4] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8924" title="Line 8924: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8924</span>                 :<span class="tlaCBC">            354 :             carry = term / NBASE;</span></span>
<span id="L8925" title="Line 8925: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8925</span>                 :                :             /* FALLTHROUGH */</span>
<span id="L8926" title="Line 8926: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8926</span>                 :<span class="tlaCBC">           2373 :         case 4:</span></span>
<span id="L8927" title="Line 8927: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8927</span>                 :<span class="tlaCBC">           2373 :             term = PRODSUM3(var1digits, 0, var2digits, 2) + carry;</span></span>
<span id="L8928" title="Line 8928: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8928</span>                 :<span class="tlaCBC">           2373 :             res_digits[3] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8929" title="Line 8929: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8929</span>                 :<span class="tlaCBC">           2373 :             carry = term / NBASE;</span></span>
<span id="L8930" title="Line 8930: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8930</span>                 :                :             /* FALLTHROUGH */</span>
<span id="L8931" title="Line 8931: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8931</span>                 :<span class="tlaCBC">           2475 :         case 3:</span></span>
<span id="L8932" title="Line 8932: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8932</span>                 :<span class="tlaCBC">           2475 :             term = PRODSUM2(var1digits, 0, var2digits, 1) + carry;</span></span>
<span id="L8933" title="Line 8933: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8933</span>                 :<span class="tlaCBC">           2475 :             res_digits[2] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8934" title="Line 8934: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8934</span>                 :<span class="tlaCBC">           2475 :             carry = term / NBASE;</span></span>
<span id="L8935" title="Line 8935: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8935</span>                 :                :             /* FALLTHROUGH */</span>
<span id="L8936" title="Line 8936: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8936</span>                 :<span class="tlaCBC">           2853 :         case 2:</span></span>
<span id="L8937" title="Line 8937: commit c4e44224cf61 on 2024-08-15 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8937</span>                 :<span class="tlaCBC">           2853 :             term = PRODSUM1(var1digits, 0, var2digits, 0) + carry;</span></span>
<span id="L8938" title="Line 8938: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">  413                      <span class="lineNum">    8938</span>                 :<span class="tlaCBC">           2853 :             res_digits[1] = (NumericDigit) (term % NBASE);</span></span>
<span id="L8939" title="Line 8939: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8939</span>                 :<span class="tlaCBC">           2853 :             res_digits[0] = (NumericDigit) (term / NBASE);</span></span>
<span id="L8940" title="Line 8940: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8940</span>                 :<span class="tlaCBC">           2853 :             break;</span></span>
<span id="L8941" title="Line 8941: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8941</span>                 :                :     }</span>
<span id="L8942" title="Line 8942: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8942</span>                 :                : </span>
<span id="L8943" title="Line 8943: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8943</span>                 :                :     /* Store the product in result */</span>
<span id="L8944" title="Line 8944: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8944</span>         [<span class="tlaCBC"> <a href="#L9007" title="CBC: Branch 0 was taken 213131 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9007" title="CBC: Branch 1 was taken 366037 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         579168 :     digitbuf_free(result-&gt;buf);</span></span>
<span id="L8945" title="Line 8945: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8945</span>                 :<span class="tlaCBC">         579168 :     result-&gt;ndigits = res_ndigits;</span></span>
<span id="L8946" title="Line 8946: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8946</span>                 :<span class="tlaCBC">         579168 :     result-&gt;buf = res_buf;</span></span>
<span id="L8947" title="Line 8947: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8947</span>                 :<span class="tlaCBC">         579168 :     result-&gt;digits = res_digits;</span></span>
<span id="L8948" title="Line 8948: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8948</span>                 :<span class="tlaCBC">         579168 :     result-&gt;weight = res_weight;</span></span>
<span id="L8949" title="Line 8949: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8949</span>                 :<span class="tlaCBC">         579168 :     result-&gt;sign = res_sign;</span></span>
<span id="L8950" title="Line 8950: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8950</span>                 :<span class="tlaCBC">         579168 :     result-&gt;dscale = var1-&gt;dscale + var2-&gt;dscale;</span></span>
<span id="L8951" title="Line 8951: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8951</span>                 :                : </span>
<span id="L8952" title="Line 8952: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8952</span>                 :                :     /* Strip leading and trailing zeroes */</span>
<span id="L8953" title="Line 8953: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8953</span>                 :<span class="tlaCBC">         579168 :     strip_var(result);</span></span>
<span id="L8954" title="Line 8954: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8954</span>                 :<span class="tlaCBC">         579168 : }</span></span>
<span id="L8955" title="Line 8955: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8955</span>                 :                : </span>
<span id="L8956" title="Line 8956: commit ca481d3c9ab7 on 2024-07-09 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8956</span>                 :                : </span>
<span id="L8957" title="Line 8957: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8957</span>                 :                : /*</span>
<span id="L8958" title="Line 8958: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8958</span>                 :                :  * div_var() -</span>
<span id="L8959" title="Line 8959: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8959</span>                 :                :  *</span>
<span id="L8960" title="Line 8960: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8960</span>                 :                :  *  Compute the quotient var1 / var2 to rscale fractional digits.</span>
<span id="L8961" title="Line 8961: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8961</span>                 :                :  *</span>
<span id="L8962" title="Line 8962: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8962</span>                 :                :  *  If &quot;round&quot; is true, the result is rounded at the rscale'th digit; if</span>
<span id="L8963" title="Line 8963: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8963</span>                 :                :  *  false, it is truncated (towards zero) at that digit.</span>
<span id="L8964" title="Line 8964: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8964</span>                 :                :  *</span>
<span id="L8965" title="Line 8965: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8965</span>                 :                :  *  If &quot;exact&quot; is true, the exact result is computed to the specified rscale;</span>
<span id="L8966" title="Line 8966: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8966</span>                 :                :  *  if false, successive quotient digits are approximated up to rscale plus</span>
<span id="L8967" title="Line 8967: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8967</span>                 :                :  *  DIV_GUARD_DIGITS extra digits, ignoring all contributions from digits to</span>
<span id="L8968" title="Line 8968: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8968</span>                 :                :  *  the right of that, before rounding or truncating to the specified rscale.</span>
<span id="L8969" title="Line 8969: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8969</span>                 :                :  *  This can be significantly faster, and usually gives the same result as the</span>
<span id="L8970" title="Line 8970: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8970</span>                 :                :  *  exact computation, but it may occasionally be off by one in the final</span>
<span id="L8971" title="Line 8971: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8971</span>                 :                :  *  digit, if contributions from the ignored digits would have propagated</span>
<span id="L8972" title="Line 8972: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8972</span>                 :                :  *  through the guard digits.  This is good enough for the transcendental</span>
<span id="L8973" title="Line 8973: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8973</span>                 :                :  *  functions, where small errors are acceptable.</span>
<span id="L8974" title="Line 8974: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8974</span>                 :                :  */</span>
<span id="L8975" title="Line 8975: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    8975</span>                 :                : static void</span>
<span id="L8976" title="Line 8976: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L9745" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    8976</span>                 :<span class="tlaCBC">         285555 : div_var(const NumericVar *var1, const NumericVar *var2, NumericVar *result,</span></span>
<span id="L8977" title="Line 8977: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8977</span>                 :                :         int rscale, bool round, bool exact)</span>
<span id="L8978" title="Line 8978: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8978</span>                 :                : {</span>
<span id="L8979" title="Line 8979: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9083" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9019" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    8979</span>                 :<span class="tlaCBC">         285555 :     int         var1ndigits = var1-&gt;ndigits;</span></span>
<span id="L8980" title="Line 8980: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8980</span>                 :<span class="tlaCBC">         285555 :     int         var2ndigits = var2-&gt;ndigits;</span></span>
<span id="L8981" title="Line 8981: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8981</span>                 :                :     int         res_sign;</span>
<span id="L8982" title="Line 8982: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    8982</span>                 :                :     int         res_weight;</span>
<span id="L8983" title="Line 8983: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8983</span>                 :                :     int         res_ndigits;</span>
<span id="L8984" title="Line 8984: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8984</span>                 :                :     int         var1ndigitpairs;</span>
<span id="L8985" title="Line 8985: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8985</span>                 :                :     int         var2ndigitpairs;</span>
<span id="L8986" title="Line 8986: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8986</span>                 :                :     int         res_ndigitpairs;</span>
<span id="L8987" title="Line 8987: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8987</span>                 :                :     int         div_ndigitpairs;</span>
<span id="L8988" title="Line 8988: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8988</span>                 :                :     int64      *dividend;</span>
<span id="L8989" title="Line 8989: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8989</span>                 :                :     int32      *divisor;</span>
<span id="L8990" title="Line 8990: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8990</span>                 :                :     double      fdivisor,</span>
<span id="L8991" title="Line 8991: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8991</span>                 :                :                 fdivisorinverse,</span>
<span id="L8992" title="Line 8992: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8992</span>                 :                :                 fdividend,</span>
<span id="L8993" title="Line 8993: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8993</span>                 :                :                 fquotient;</span>
<span id="L8994" title="Line 8994: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8994</span>                 :                :     int64       maxdiv;</span>
<span id="L8995" title="Line 8995: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8995</span>                 :                :     int         qi;</span>
<span id="L8996" title="Line 8996: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8996</span>                 :                :     int32       qdigit;</span>
<span id="L8997" title="Line 8997: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8997</span>                 :                :     int64       carry;</span>
<span id="L8998" title="Line 8998: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8998</span>                 :                :     int64       newdig;</span>
<span id="L8999" title="Line 8999: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    8999</span>                 :                :     int64      *remainder;</span>
<span id="L9000" title="Line 9000: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9000</span>                 :                :     NumericDigit *res_digits;</span>
<span id="L9001" title="Line 9001: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9001</span>                 :                :     int         i;</span>
<span id="L9002" title="Line 9002: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9002</span>                 :                : </span>
<span id="L9003" title="Line 9003: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9003</span>                 :                :     /*</span>
<span id="L9004" title="Line 9004: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9004</span>                 :                :      * First of all division by zero check; we must not be handed an</span>
<span id="L9005" title="Line 9005: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9005</span>                 :                :      * unnormalized divisor.</span>
<span id="L9006" title="Line 9006: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9006</span>                 :                :      */</span>
<span id="L9007" title="Line 9007: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us"> <a href="#L9091" title="next CBC in &ldquo;(360..) days&rdquo; bin">6353</a> <a href="#L9063" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9007</span>   [<span class="tlaCBC"> <a href="#L9008" title="CBC: Branch 0 was taken 285524 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9008" title="CBC: Branch 1 was taken 31 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L9008" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L9008" title="CBC: Branch 3 was taken 285524 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         285555 :     if (var2ndigits == 0 || var2-&gt;digits[0] == 0)</span></span>
<span id="L9008" title="Line 9008: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9008</span>         [<span class="tlaCBC"> <a href="#L9019" title="CBC: Branch 0 was taken 31 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L9190" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             31 :         ereport(ERROR,</span></span>
<span id="L9009" title="Line 9009: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9009</span>                 :                :                 (errcode(ERRCODE_DIVISION_BY_ZERO),</span>
<span id="L9010" title="Line 9010: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9010</span>                 :                :                  errmsg(&quot;division by zero&quot;)));</span>
<span id="L9011" title="Line 9011: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9011</span>                 :                : </span>
<span id="L9012" title="Line 9012: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9012</span>                 :                :     /*</span>
<span id="L9013" title="Line 9013: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9013</span>                 :                :      * If the divisor has just one or two digits, delegate to div_var_int(),</span>
<span id="L9014" title="Line 9014: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9014</span>                 :                :      * which uses fast short division.</span>
<span id="L9015" title="Line 9015: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9015</span>                 :                :      *</span>
<span id="L9016" title="Line 9016: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9016</span>                 :                :      * Similarly, on platforms with 128-bit integer support, delegate to</span>
<span id="L9017" title="Line 9017: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9017</span>                 :                :      * div_var_int64() for divisors with three or four digits.</span>
<span id="L9018" title="Line 9018: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9018</span>                 :                :      */</span>
<span id="L9019" title="Line 9019: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com"> 1276 <a href="#L9083" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9019</span>         [<span class="tlaCBC"> <a href="#L9026" title="CBC: Branch 0 was taken 282521 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9026" title="CBC: Branch 1 was taken 3003 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         285524 :     if (var2ndigits &lt;= 2)</span></span>
<span id="L9020" title="Line 9020: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9020</span>                 :                :     {</span>
<span id="L9021" title="Line 9021: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9021</span>                 :                :         int         idivisor;</span>
<span id="L9022" title="Line 9022: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9022</span>                 :                :         int         idivisor_weight;</span>
<span id="L9023" title="Line 9023: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9023</span>                 :                : </span>
<span id="L9024" title="Line 9024: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9024</span>                 :<span class="tlaCBC">         282521 :         idivisor = var2-&gt;digits[0];</span></span>
<span id="L9025" title="Line 9025: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9025</span>                 :<span class="tlaCBC">         282521 :         idivisor_weight = var2-&gt;weight;</span></span>
<span id="L9026" title="Line 9026: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9026</span>         [<span class="tlaCBC"> <a href="#L9031" title="CBC: Branch 0 was taken 1909 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9031" title="CBC: Branch 1 was taken 280612 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         282521 :         if (var2ndigits == 2)</span></span>
<span id="L9027" title="Line 9027: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9027</span>                 :                :         {</span>
<span id="L9028" title="Line 9028: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9028</span>                 :<span class="tlaCBC">           1909 :             idivisor = idivisor * NBASE + var2-&gt;digits[1];</span></span>
<span id="L9029" title="Line 9029: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9029</span>                 :<span class="tlaCBC">           1909 :             idivisor_weight--;</span></span>
<span id="L9030" title="Line 9030: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9030</span>                 :                :         }</span>
<span id="L9031" title="Line 9031: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9031</span>         [<span class="tlaCBC"> <a href="#L9038" title="CBC: Branch 0 was taken 327 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9038" title="CBC: Branch 1 was taken 282194 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         282521 :         if (var2-&gt;sign == NUMERIC_NEG)</span></span>
<span id="L9032" title="Line 9032: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9032</span>                 :<span class="tlaCBC">            327 :             idivisor = -idivisor;</span></span>
<span id="L9033" title="Line 9033: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9033</span>                 :                : </span>
<span id="L9034" title="Line 9034: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9034</span>                 :<span class="tlaCBC">         282521 :         div_var_int(var1, idivisor, idivisor_weight, result, rscale, round);</span></span>
<span id="L9035" title="Line 9035: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9035</span>                 :<span class="tlaCBC">         282521 :         return;</span></span>
<span id="L9036" title="Line 9036: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9036</span>                 :                :     }</span>
<span id="L9037" title="Line 9037: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9037</span>                 :                : #ifdef HAVE_INT128</span>
<span id="L9038" title="Line 9038: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">  946                      <span class="lineNum">    9038</span>         [<span class="tlaCBC"> <a href="#L9045" title="CBC: Branch 0 was taken 264 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9045" title="CBC: Branch 1 was taken 2739 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3003 :     if (var2ndigits &lt;= 4)</span></span>
<span id="L9039" title="Line 9039: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9039</span>                 :                :     {</span>
<span id="L9040" title="Line 9040: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9040</span>                 :                :         int64       idivisor;</span>
<span id="L9041" title="Line 9041: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9041</span>                 :                :         int         idivisor_weight;</span>
<span id="L9042" title="Line 9042: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9042</span>                 :                : </span>
<span id="L9043" title="Line 9043: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9043</span>                 :<span class="tlaCBC">            264 :         idivisor = var2-&gt;digits[0];</span></span>
<span id="L9044" title="Line 9044: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9044</span>                 :<span class="tlaCBC">            264 :         idivisor_weight = var2-&gt;weight;</span></span>
<span id="L9045" title="Line 9045: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9045</span>         [<span class="tlaCBC"> <a href="#L9050" title="CBC: Branch 0 was taken 720 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9050" title="CBC: Branch 1 was taken 264 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            984 :         for (i = 1; i &lt; var2ndigits; i++)</span></span>
<span id="L9046" title="Line 9046: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9046</span>                 :                :         {</span>
<span id="L9047" title="Line 9047: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9047</span>                 :<span class="tlaCBC">            720 :             idivisor = idivisor * NBASE + var2-&gt;digits[i];</span></span>
<span id="L9048" title="Line 9048: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9048</span>                 :<span class="tlaCBC">            720 :             idivisor_weight--;</span></span>
<span id="L9049" title="Line 9049: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9049</span>                 :                :         }</span>
<span id="L9050" title="Line 9050: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9050</span>         [<span class="tlaCBC"> <a href="#L9063" title="CBC: Branch 0 was taken 60 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9063" title="CBC: Branch 1 was taken 204 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            264 :         if (var2-&gt;sign == NUMERIC_NEG)</span></span>
<span id="L9051" title="Line 9051: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9051</span>                 :<span class="tlaCBC">             60 :             idivisor = -idivisor;</span></span>
<span id="L9052" title="Line 9052: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9052</span>                 :                : </span>
<span id="L9053" title="Line 9053: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9053</span>                 :<span class="tlaCBC">            264 :         div_var_int64(var1, idivisor, idivisor_weight, result, rscale, round);</span></span>
<span id="L9054" title="Line 9054: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9054</span>                 :<span class="tlaCBC">            264 :         return;</span></span>
<span id="L9055" title="Line 9055: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9055</span>                 :                :     }</span>
<span id="L9056" title="Line 9056: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9056</span>                 :                : #endif</span>
<span id="L9057" title="Line 9057: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9057</span>                 :                : </span>
<span id="L9058" title="Line 9058: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9058</span>                 :                :     /*</span>
<span id="L9059" title="Line 9059: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9059</span>                 :                :      * Otherwise, perform full long division.</span>
<span id="L9060" title="Line 9060: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9060</span>                 :                :      */</span>
<span id="L9061" title="Line 9061: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9061</span>                 :                : </span>
<span id="L9062" title="Line 9062: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9062</span>                 :                :     /* Result zero check */</span>
<span id="L9063" title="Line 9063: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us"> 6353 <a href="#L9091" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9063</span>         [<span class="tlaCBC"> <a href="#L9083" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9083" title="CBC: Branch 1 was taken 2721 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2739 :     if (var1ndigits == 0)</span></span>
<span id="L9064" title="Line 9064: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9064</span>                 :                :     {</span>
<span id="L9065" title="Line 9065: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9065</span>                 :<span class="tlaCBC">             18 :         zero_var(result);</span></span>
<span id="L9066" title="Line 9066: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9066</span>                 :<span class="tlaCBC">             18 :         result-&gt;dscale = rscale;</span></span>
<span id="L9067" title="Line 9067: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9067</span>                 :<span class="tlaCBC">             18 :         return;</span></span>
<span id="L9068" title="Line 9068: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9068</span>                 :                :     }</span>
<span id="L9069" title="Line 9069: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9069</span>                 :                : </span>
<span id="L9070" title="Line 9070: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9070</span>                 :                :     /*</span>
<span id="L9071" title="Line 9071: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9071</span>                 :                :      * The approximate computation can be significantly faster than the exact</span>
<span id="L9072" title="Line 9072: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9072</span>                 :                :      * one, since the working dividend is var2ndigitpairs base-NBASE^2 digits</span>
<span id="L9073" title="Line 9073: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9073</span>                 :                :      * shorter below.  However, that comes with the tradeoff of computing</span>
<span id="L9074" title="Line 9074: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9074</span>                 :                :      * DIV_GUARD_DIGITS extra base-NBASE result digits.  Ignoring all other</span>
<span id="L9075" title="Line 9075: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9075</span>                 :                :      * overheads, that suggests that, in theory, the approximate computation</span>
<span id="L9076" title="Line 9076: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9076</span>                 :                :      * will only be faster than the exact one when var2ndigits is greater than</span>
<span id="L9077" title="Line 9077: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9077</span>                 :                :      * 2 * (DIV_GUARD_DIGITS + 1), independent of the size of var1.</span>
<span id="L9078" title="Line 9078: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9078</span>                 :                :      *</span>
<span id="L9079" title="Line 9079: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9079</span>                 :                :      * Thus, we're better off doing an exact computation when var2 is shorter</span>
<span id="L9080" title="Line 9080: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9080</span>                 :                :      * than this.  Empirically, it has been found that the exact threshold is</span>
<span id="L9081" title="Line 9081: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9081</span>                 :                :      * a little higher, due to other overheads in the outer division loop.</span>
<span id="L9082" title="Line 9082: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9082</span>                 :                :      */</span>
<span id="L9083" title="Line 9083: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9095" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9095" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9083</span>         [<span class="tlaCBC"> <a href="#L9091" title="CBC: Branch 0 was taken 1854 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9091" title="CBC: Branch 1 was taken 867 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2721 :     if (var2ndigits &lt;= 2 * (DIV_GUARD_DIGITS + 2))</span></span>
<span id="L9084" title="Line 9084: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9084</span>                 :<span class="tlaCBC">           1854 :         exact = true;</span></span>
<span id="L9085" title="Line 9085: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9085</span>                 :                : </span>
<span id="L9086" title="Line 9086: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9086</span>                 :                :     /*</span>
<span id="L9087" title="Line 9087: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9087</span>                 :                :      * Determine the result sign, weight and number of digits to calculate.</span>
<span id="L9088" title="Line 9088: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9088</span>                 :                :      * The weight figured here is correct if the emitted quotient has no</span>
<span id="L9089" title="Line 9089: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9089</span>                 :                :      * leading zero digits; otherwise strip_var() will fix things up.</span>
<span id="L9090" title="Line 9090: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9090</span>                 :                :      */</span>
<span id="L9091" title="Line 9091: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us"> <a href="#L9097" title="next CBC in &ldquo;(360..) days&rdquo; bin">6353</a> <a href="#L9097" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9091</span>         [<span class="tlaCBC"> <a href="#L9101" title="CBC: Branch 0 was taken 2655 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9101" title="CBC: Branch 1 was taken 66 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2721 :     if (var1-&gt;sign == var2-&gt;sign)</span></span>
<span id="L9092" title="Line 9092: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9092</span>                 :<span class="tlaCBC">           2655 :         res_sign = NUMERIC_POS;</span></span>
<span id="L9093" title="Line 9093: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9093</span>                 :                :     else</span>
<span id="L9094" title="Line 9094: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9094</span>                 :<span class="tlaCBC">             66 :         res_sign = NUMERIC_NEG;</span></span>
<span id="L9095" title="Line 9095: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9104" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9104" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9095</span>                 :<span class="tlaCBC">           2721 :     res_weight = var1-&gt;weight - var2-&gt;weight + 1;</span></span>
<span id="L9096" title="Line 9096: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9096</span>                 :                :     /* The number of accurate result digits we need to produce: */</span>
<span id="L9097" title="Line 9097: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us"> <a href="#L9192" title="next CBC in &ldquo;(360..) days&rdquo; bin">6353</a> <a href="#L9192" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9097</span>                 :<span class="tlaCBC">           2721 :     res_ndigits = res_weight + 1 + (rscale + DEC_DIGITS - 1) / DEC_DIGITS;</span></span>
<span id="L9098" title="Line 9098: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9098</span>                 :                :     /* ... but always at least 1 */</span>
<span id="L9099" title="Line 9099: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9099</span>                 :<span class="tlaCBC">           2721 :     res_ndigits = Max(res_ndigits, 1);</span></span>
<span id="L9100" title="Line 9100: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9100</span>                 :                :     /* If rounding needed, figure one more digit to ensure correct result */</span>
<span id="L9101" title="Line 9101: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9101</span>         [<span class="tlaCBC"> <a href="#L9104" title="CBC: Branch 0 was taken 453 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9104" title="CBC: Branch 1 was taken 2268 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2721 :     if (round)</span></span>
<span id="L9102" title="Line 9102: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9102</span>                 :<span class="tlaCBC">            453 :         res_ndigits++;</span></span>
<span id="L9103" title="Line 9103: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9103</span>                 :                :     /* Add guard digits for roundoff error when producing approx result */</span>
<span id="L9104" title="Line 9104: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9219" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9219" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9104</span>         [<span class="tlaCBC"> <a href="#L9132" title="CBC: Branch 0 was taken 861 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9132" title="CBC: Branch 1 was taken 1860 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2721 :     if (!exact)</span></span>
<span id="L9105" title="Line 9105: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9105</span>                 :<span class="tlaCBC">            861 :         res_ndigits += DIV_GUARD_DIGITS;</span></span>
<span id="L9106" title="Line 9106: commit d74714027942 on 2009-06-11 by bruce@momjian.us">                           <span class="lineNum">    9106</span>                 :                : </span>
<span id="L9107" title="Line 9107: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9107</span>                 :                :     /*</span>
<span id="L9108" title="Line 9108: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9108</span>                 :                :      * The computation itself is done using base-NBASE^2 arithmetic, so we</span>
<span id="L9109" title="Line 9109: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9109</span>                 :                :      * actually process the input digits in pairs, producing a base-NBASE^2</span>
<span id="L9110" title="Line 9110: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9110</span>                 :                :      * intermediate result.  This significantly improves performance, since</span>
<span id="L9111" title="Line 9111: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9111</span>                 :                :      * the computation is O(N^2) in the number of input digits, and working in</span>
<span id="L9112" title="Line 9112: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9112</span>                 :                :      * base NBASE^2 effectively halves &quot;N&quot;.</span>
<span id="L9113" title="Line 9113: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9113</span>                 :                :      */</span>
<span id="L9114" title="Line 9114: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9114</span>                 :<span class="tlaCBC">           2721 :     var1ndigitpairs = (var1ndigits + 1) / 2;</span></span>
<span id="L9115" title="Line 9115: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9115</span>                 :<span class="tlaCBC">           2721 :     var2ndigitpairs = (var2ndigits + 1) / 2;</span></span>
<span id="L9116" title="Line 9116: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9116</span>                 :<span class="tlaCBC">           2721 :     res_ndigitpairs = (res_ndigits + 1) / 2;</span></span>
<span id="L9117" title="Line 9117: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9117</span>                 :<span class="tlaCBC">           2721 :     res_ndigits = 2 * res_ndigitpairs;</span></span>
<span id="L9118" title="Line 9118: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9118</span>                 :                : </span>
<span id="L9119" title="Line 9119: commit 23e7b38bfe39 on 2022-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9119</span>                 :                :     /*</span>
<span id="L9120" title="Line 9120: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9120</span>                 :                :      * We do the arithmetic in an array &quot;dividend[]&quot; of signed 64-bit</span>
<span id="L9121" title="Line 9121: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9121</span>                 :                :      * integers.  Since PG_INT64_MAX is much larger than NBASE^4, this gives</span>
<span id="L9122" title="Line 9122: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9122</span>                 :                :      * us a lot of headroom to avoid normalizing carries immediately.</span>
<span id="L9123" title="Line 9123: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9123</span>                 :                :      *</span>
<span id="L9124" title="Line 9124: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9124</span>                 :                :      * When performing an exact computation, the working dividend requires</span>
<span id="L9125" title="Line 9125: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9125</span>                 :                :      * res_ndigitpairs + var2ndigitpairs digits.  If var1 is larger than that,</span>
<span id="L9126" title="Line 9126: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9126</span>                 :                :      * the extra digits do not contribute to the result, and are ignored.</span>
<span id="L9127" title="Line 9127: commit 23e7b38bfe39 on 2022-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9127</span>                 :                :      *</span>
<span id="L9128" title="Line 9128: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9128</span>                 :                :      * When performing an approximate computation, the working dividend only</span>
<span id="L9129" title="Line 9129: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9129</span>                 :                :      * requires res_ndigitpairs digits (which includes the extra guard</span>
<span id="L9130" title="Line 9130: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9130</span>                 :                :      * digits).  All input digits beyond that are ignored.</span>
<span id="L9131" title="Line 9131: commit 23e7b38bfe39 on 2022-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9131</span>                 :                :      */</span>
<span id="L9132" title="Line 9132: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9132</span>         [<span class="tlaCBC"> <a href="#L9157" title="CBC: Branch 0 was taken 1860 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9157" title="CBC: Branch 1 was taken 861 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2721 :     if (exact)</span></span>
<span id="L9133" title="Line 9133: commit 23e7b38bfe39 on 2022-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9133</span>                 :                :     {</span>
<span id="L9134" title="Line 9134: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9134</span>                 :<span class="tlaCBC">           1860 :         div_ndigitpairs = res_ndigitpairs + var2ndigitpairs;</span></span>
<span id="L9135" title="Line 9135: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9135</span>                 :<span class="tlaCBC">           1860 :         var1ndigitpairs = Min(var1ndigitpairs, div_ndigitpairs);</span></span>
<span id="L9136" title="Line 9136: commit 23e7b38bfe39 on 2022-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9136</span>                 :                :     }</span>
<span id="L9137" title="Line 9137: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9137</span>                 :                :     else</span>
<span id="L9138" title="Line 9138: commit 23e7b38bfe39 on 2022-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9138</span>                 :                :     {</span>
<span id="L9139" title="Line 9139: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9139</span>                 :<span class="tlaCBC">            861 :         div_ndigitpairs = res_ndigitpairs;</span></span>
<span id="L9140" title="Line 9140: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9140</span>                 :<span class="tlaCBC">            861 :         var1ndigitpairs = Min(var1ndigitpairs, div_ndigitpairs);</span></span>
<span id="L9141" title="Line 9141: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9141</span>                 :<span class="tlaCBC">            861 :         var2ndigitpairs = Min(var2ndigitpairs, div_ndigitpairs);</span></span>
<span id="L9142" title="Line 9142: commit 23e7b38bfe39 on 2022-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9142</span>                 :                :     }</span>
<span id="L9143" title="Line 9143: commit 23e7b38bfe39 on 2022-05-12 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9143</span>                 :                : </span>
<span id="L9144" title="Line 9144: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9144</span>                 :                :     /*</span>
<span id="L9145" title="Line 9145: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9145</span>                 :                :      * Allocate room for the working dividend (div_ndigitpairs 64-bit digits)</span>
<span id="L9146" title="Line 9146: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9146</span>                 :                :      * plus the divisor (var2ndigitpairs 32-bit base-NBASE^2 digits).</span>
<span id="L9147" title="Line 9147: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9147</span>                 :                :      *</span>
<span id="L9148" title="Line 9148: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9148</span>                 :                :      * For convenience, we allocate one extra dividend digit, which is set to</span>
<span id="L9149" title="Line 9149: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9149</span>                 :                :      * zero and not counted in div_ndigitpairs, so that the main loop below</span>
<span id="L9150" title="Line 9150: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9150</span>                 :                :      * can safely read and write the (qi+1)'th digit in the approximate case.</span>
<span id="L9151" title="Line 9151: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9151</span>                 :                :      */</span>
<span id="L9152" title="Line 9152: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9152</span>                 :<span class="tlaCBC">           2721 :     dividend = (int64 *) palloc((div_ndigitpairs + 1) * sizeof(int64) +</span></span>
<span id="L9153" title="Line 9153: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9153</span>                 :                :                                 var2ndigitpairs * sizeof(int32));</span>
<span id="L9154" title="Line 9154: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9154</span>                 :<span class="tlaCBC">           2721 :     divisor = (int32 *) (dividend + div_ndigitpairs + 1);</span></span>
<span id="L9155" title="Line 9155: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9155</span>                 :                : </span>
<span id="L9156" title="Line 9156: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9156</span>                 :                :     /* load var1 into dividend[0 .. var1ndigitpairs-1], zeroing the rest */</span>
<span id="L9157" title="Line 9157: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9157</span>         [<span class="tlaCBC"> <a href="#L9160" title="CBC: Branch 0 was taken 22008 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9160" title="CBC: Branch 1 was taken 2721 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          24729 :     for (i = 0; i &lt; var1ndigitpairs - 1; i++)</span></span>
<span id="L9158" title="Line 9158: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9158</span>                 :<span class="tlaCBC">          22008 :         dividend[i] = var1-&gt;digits[2 * i] * NBASE + var1-&gt;digits[2 * i + 1];</span></span>
<span id="L9159" title="Line 9159: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9159</span>                 :                : </span>
<span id="L9160" title="Line 9160: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9160</span>         [<span class="tlaCBC"> <a href="#L9168" title="CBC: Branch 0 was taken 1641 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9168" title="CBC: Branch 1 was taken 1080 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2721 :     if (2 * i + 1 &lt; var1ndigits)</span></span>
<span id="L9161" title="Line 9161: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9161</span>                 :<span class="tlaCBC">           1641 :         dividend[i] = var1-&gt;digits[2 * i] * NBASE + var1-&gt;digits[2 * i + 1];</span></span>
<span id="L9162" title="Line 9162: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9162</span>                 :                :     else</span>
<span id="L9163" title="Line 9163: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9163</span>                 :<span class="tlaCBC">           1080 :         dividend[i] = var1-&gt;digits[2 * i] * NBASE;</span></span>
<span id="L9164" title="Line 9164: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9164</span>                 :                : </span>
<span id="L9165" title="Line 9165: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9165</span>                 :<span class="tlaCBC">           2721 :     memset(dividend + i + 1, 0, (div_ndigitpairs - i) * sizeof(int64));</span></span>
<span id="L9166" title="Line 9166: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9166</span>                 :                : </span>
<span id="L9167" title="Line 9167: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9167</span>                 :                :     /* load var2 into divisor[0 .. var2ndigitpairs-1] */</span>
<span id="L9168" title="Line 9168: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9168</span>         [<span class="tlaCBC"> <a href="#L9171" title="CBC: Branch 0 was taken 17199 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9171" title="CBC: Branch 1 was taken 2721 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          19920 :     for (i = 0; i &lt; var2ndigitpairs - 1; i++)</span></span>
<span id="L9169" title="Line 9169: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9169</span>                 :<span class="tlaCBC">          17199 :         divisor[i] = var2-&gt;digits[2 * i] * NBASE + var2-&gt;digits[2 * i + 1];</span></span>
<span id="L9170" title="Line 9170: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9170</span>                 :                : </span>
<span id="L9171" title="Line 9171: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9171</span>         [<span class="tlaCBC"> <a href="#L9190" title="CBC: Branch 0 was taken 1461 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9190" title="CBC: Branch 1 was taken 1260 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2721 :     if (2 * i + 1 &lt; var2ndigits)</span></span>
<span id="L9172" title="Line 9172: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9172</span>                 :<span class="tlaCBC">           1461 :         divisor[i] = var2-&gt;digits[2 * i] * NBASE + var2-&gt;digits[2 * i + 1];</span></span>
<span id="L9173" title="Line 9173: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9173</span>                 :                :     else</span>
<span id="L9174" title="Line 9174: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9174</span>                 :<span class="tlaCBC">           1260 :         divisor[i] = var2-&gt;digits[2 * i] * NBASE;</span></span>
<span id="L9175" title="Line 9175: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9175</span>                 :                : </span>
<span id="L9176" title="Line 9176: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    9176</span>                 :                :     /*</span>
<span id="L9177" title="Line 9177: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    9177</span>                 :                :      * We estimate each quotient digit using floating-point arithmetic, taking</span>
<span id="L9178" title="Line 9178: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9178</span>                 :                :      * the first 2 base-NBASE^2 digits of the (current) dividend and divisor.</span>
<span id="L9179" title="Line 9179: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9179</span>                 :                :      * This must be float to avoid overflow.</span>
<span id="L9180" title="Line 9180: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9180</span>                 :                :      *</span>
<span id="L9181" title="Line 9181: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9181</span>                 :                :      * Since the floating-point dividend and divisor use 4 base-NBASE input</span>
<span id="L9182" title="Line 9182: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9182</span>                 :                :      * digits, they include roughly 40-53 bits of information from their</span>
<span id="L9183" title="Line 9183: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9183</span>                 :                :      * respective inputs (assuming NBASE is 10000), which fits well in IEEE</span>
<span id="L9184" title="Line 9184: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9184</span>                 :                :      * double-precision variables.  The relative error in the floating-point</span>
<span id="L9185" title="Line 9185: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9185</span>                 :                :      * quotient digit will then be less than around 2/NBASE^3, so the</span>
<span id="L9186" title="Line 9186: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9186</span>                 :                :      * estimated base-NBASE^2 quotient digit will typically be correct, and</span>
<span id="L9187" title="Line 9187: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9187</span>                 :                :      * should not be off by more than one from the correct value.</span>
<span id="L9188" title="Line 9188: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9188</span>                 :                :      */</span>
<span id="L9189" title="Line 9189: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9189</span>                 :<span class="tlaCBC">           2721 :     fdivisor = (double) divisor[0] * NBASE_SQR;</span></span>
<span id="L9190" title="Line 9190: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9190</span>         [<span class="tlaCBC"> <a href="#L9219" title="CBC: Branch 0 was taken 2721 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L9247" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">           2721 :     if (var2ndigitpairs &gt; 1)</span></span>
<span id="L9191" title="Line 9191: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9191</span>                 :<span class="tlaCBC">           2721 :         fdivisor += (double) divisor[1];</span></span>
<span id="L9192" title="Line 9192: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L9226" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L9226" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9192</span>                 :<span class="tlaCBC">           2721 :     fdivisorinverse = 1.0 / fdivisor;</span></span>
<span id="L9193" title="Line 9193: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9193</span>                 :                : </span>
<span id="L9194" title="Line 9194: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    9194</span>                 :                :     /*</span>
<span id="L9195" title="Line 9195: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9195</span>                 :                :      * maxdiv tracks the maximum possible absolute value of any dividend[]</span>
<span id="L9196" title="Line 9196: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9196</span>                 :                :      * entry; when this threatens to exceed PG_INT64_MAX, we take the time to</span>
<span id="L9197" title="Line 9197: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9197</span>                 :                :      * propagate carries.  Furthermore, we need to ensure that overflow</span>
<span id="L9198" title="Line 9198: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9198</span>                 :                :      * doesn't occur during the carry propagation passes either.  The carry</span>
<span id="L9199" title="Line 9199: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9199</span>                 :                :      * values may have an absolute value as high as PG_INT64_MAX/NBASE^2 + 1,</span>
<span id="L9200" title="Line 9200: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9200</span>                 :                :      * so really we must normalize when digits threaten to exceed PG_INT64_MAX</span>
<span id="L9201" title="Line 9201: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9201</span>                 :                :      * - PG_INT64_MAX/NBASE^2 - 1.</span>
<span id="L9202" title="Line 9202: commit 5f10b7a604c8 on 2015-11-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9202</span>                 :                :      *</span>
<span id="L9203" title="Line 9203: commit 5f10b7a604c8 on 2015-11-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9203</span>                 :                :      * To avoid overflow in maxdiv itself, it represents the max absolute</span>
<span id="L9204" title="Line 9204: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9204</span>                 :                :      * value divided by NBASE^2-1, i.e., at the top of the loop it is known</span>
<span id="L9205" title="Line 9205: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9205</span>                 :                :      * that no dividend[] entry has an absolute value exceeding maxdiv *</span>
<span id="L9206" title="Line 9206: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9206</span>                 :                :      * (NBASE^2-1).</span>
<span id="L9207" title="Line 9207: commit 46166197c3b3 on 2015-11-25 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9207</span>                 :                :      *</span>
<span id="L9208" title="Line 9208: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9208</span>                 :                :      * Actually, though, that holds good only for dividend[] entries after</span>
<span id="L9209" title="Line 9209: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9209</span>                 :                :      * dividend[qi]; the adjustment done at the bottom of the loop may cause</span>
<span id="L9210" title="Line 9210: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9210</span>                 :                :      * dividend[qi + 1] to exceed the maxdiv limit, so that dividend[qi] in</span>
<span id="L9211" title="Line 9211: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9211</span>                 :                :      * the next iteration is beyond the limit.  This does not cause problems,</span>
<span id="L9212" title="Line 9212: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9212</span>                 :                :      * as explained below.</span>
<span id="L9213" title="Line 9213: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9213</span>                 :                :      */</span>
<span id="L9214" title="Line 9214: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9214</span>                 :<span class="tlaCBC">           2721 :     maxdiv = 1;</span></span>
<span id="L9215" title="Line 9215: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    9215</span>                 :                : </span>
<span id="L9216" title="Line 9216: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9216</span>                 :                :     /*</span>
<span id="L9217" title="Line 9217: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9217</span>                 :                :      * Outer loop computes next quotient digit, which goes in dividend[qi].</span>
<span id="L9218" title="Line 9218: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9218</span>                 :                :      */</span>
<span id="L9219" title="Line 9219: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9227" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9227" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9219</span>         [<span class="tlaCBC"> <a href="#L9227" title="CBC: Branch 0 was taken 22050 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9227" title="CBC: Branch 1 was taken 2721 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          24771 :     for (qi = 0; qi &lt; res_ndigitpairs; qi++)</span></span>
<span id="L9220" title="Line 9220: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9220</span>                 :                :     {</span>
<span id="L9221" title="Line 9221: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9221</span>                 :                :         /* Approximate the current dividend value */</span>
<span id="L9222" title="Line 9222: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9222</span>                 :<span class="tlaCBC">          22050 :         fdividend = (double) dividend[qi] * NBASE_SQR;</span></span>
<span id="L9223" title="Line 9223: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9223</span>                 :<span class="tlaCBC">          22050 :         fdividend += (double) dividend[qi + 1];</span></span>
<span id="L9224" title="Line 9224: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9224</span>                 :                : </span>
<span id="L9225" title="Line 9225: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9225</span>                 :                :         /* Compute the (approximate) quotient digit */</span>
<span id="L9226" title="Line 9226: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L9230" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L9230" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9226</span>                 :<span class="tlaCBC">          22050 :         fquotient = fdividend * fdivisorinverse;</span></span>
<span id="L9227" title="Line 9227: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9233" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9233" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9227</span>         [<span class="tlaCBC"> <a href="#L9230" title="CBC: Branch 0 was taken 22047 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9230" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          22050 :         qdigit = (fquotient &gt;= 0.0) ? ((int32) fquotient) :</span></span>
<span id="L9228" title="Line 9228: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9228</span>                 :<span class="tlaCBC">              3 :             (((int32) fquotient) - 1);  /* truncate towards -infinity */</span></span>
<span id="L9229" title="Line 9229: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9229</span>                 :                : </span>
<span id="L9230" title="Line 9230: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L9243" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L9243" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9230</span>         [<span class="tlaCBC"> <a href="#L9234" title="CBC: Branch 0 was taken 20253 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9234" title="CBC: Branch 1 was taken 1797 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          22050 :         if (qdigit != 0)</span></span>
<span id="L9231" title="Line 9231: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9231</span>                 :                :         {</span>
<span id="L9232" title="Line 9232: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9232</span>                 :                :             /* Do we need to normalize now? */</span>
<span id="L9233" title="Line 9233: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9244" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9244" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9233</span>                 :<span class="tlaCBC">          20253 :             maxdiv += i64abs(qdigit);</span></span>
<span id="L9234" title="Line 9234: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9234</span>         [<span class="tlaCBC"> <a href="#L9244" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9244" title="CBC: Branch 1 was taken 20250 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          20253 :             if (maxdiv &gt; (PG_INT64_MAX - PG_INT64_MAX / NBASE_SQR - 1) / (NBASE_SQR - 1))</span></span>
<span id="L9235" title="Line 9235: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9235</span>                 :                :             {</span>
<span id="L9236" title="Line 9236: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9236</span>                 :                :                 /*</span>
<span id="L9237" title="Line 9237: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9237</span>                 :                :                  * Yes, do it.  Note that if var2ndigitpairs is much smaller</span>
<span id="L9238" title="Line 9238: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9238</span>                 :                :                  * than div_ndigitpairs, we can save a significant amount of</span>
<span id="L9239" title="Line 9239: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9239</span>                 :                :                  * effort here by noting that we only need to normalise those</span>
<span id="L9240" title="Line 9240: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9240</span>                 :                :                  * dividend[] entries touched where prior iterations</span>
<span id="L9241" title="Line 9241: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9241</span>                 :                :                  * subtracted multiples of the divisor.</span>
<span id="L9242" title="Line 9242: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9242</span>                 :                :                  */</span>
<span id="L9243" title="Line 9243: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L9247" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L9247" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9243</span>                 :<span class="tlaCBC">              3 :                 carry = 0;</span></span>
<span id="L9244" title="Line 9244: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9249" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9249" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9244</span>         [<span class="tlaCBC"> <a href="#L9247" title="CBC: Branch 0 was taken 3372 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9247" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3375 :                 for (i = Min(qi + var2ndigitpairs - 2, div_ndigitpairs - 1); i &gt; qi; i--)</span></span>
<span id="L9245" title="Line 9245: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9245</span>                 :                :                 {</span>
<span id="L9246" title="Line 9246: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9246</span>                 :<span class="tlaCBC">           3372 :                     newdig = dividend[i] + carry;</span></span>
<span id="L9247" title="Line 9247: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L9269" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L9269" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9247</span>         [<span class="tlaCBC"> <a href="#L9278" title="CBC: Branch 0 was taken 3372 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L9252" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">           3372 :                     if (newdig &lt; 0)</span></span>
<span id="L9248" title="Line 9248: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9248</span>                 :                :                     {</span>
<span id="L9249" title="Line 9249: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9259" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9259" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9249</span>                 :<span class="tlaCBC">           3372 :                         carry = -((-newdig - 1) / NBASE_SQR) - 1;</span></span>
<span id="L9250" title="Line 9250: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9250</span>                 :<span class="tlaCBC">           3372 :                         newdig -= carry * NBASE_SQR;</span></span>
<span id="L9251" title="Line 9251: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9251</span>                 :                :                     }</span>
<span id="L9252" title="Line 9252: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 326 days ago (bin 3: (30,360] days)" class="tlaUBC tlaBgUBC">  <a href="#L9279" title="next UBC in &ldquo;(30,360] days&rdquo; bin" class="tlaBgUBC">326</a> <a href="#L9279" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    9252</span>         [<span class="tlaUBC"> <a href="#L9278" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L9278" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L9279" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                     else if (newdig &gt;= NBASE_SQR)</span></span>
<span id="L9253" title="Line 9253: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9253</span>                 :                :                     {</span>
<span id="L9254" title="Line 9254: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 326 days ago (bin 3: (30,360] days)" class="tlaUBC">                          </span> <span class="lineNum">    9254</span>                 :<span class="tlaUBC">              0 :                         carry = newdig / NBASE_SQR;</span></span>
<span id="L9255" title="Line 9255: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 326 days ago (bin 3: (30,360] days)" class="tlaUBC">                          </span> <span class="lineNum">    9255</span>                 :<span class="tlaUBC">              0 :                         newdig -= carry * NBASE_SQR;</span></span>
<span id="L9256" title="Line 9256: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9256</span>                 :                :                     }</span>
<span id="L9257" title="Line 9257: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9257</span>                 :                :                     else</span>
<span id="L9258" title="Line 9258: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 8194 days ago (bin 4: (360..) days)" class="tlaUBC"> <a href="#L9532" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">8194</a> </span><a href="#L10818" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 8194 days ago (bin 4: (360..) days)" class="tlaUBC">   </span> <span class="lineNum">    9258</span>                 :<span class="tlaUBC">              0 :                         carry = 0;</span></span>
<span id="L9259" title="Line 9259: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9275" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9275" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9259</span>                 :<a href="#L9281" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        3372 :                     dividend[i] = newdig;</span></span>
<span id="L9260" title="Line 9260: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9260</span>                 :                :                 }</span>
<span id="L9261" title="Line 9261: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9261</span>                 :<span class="tlaCBC">              3 :                 dividend[qi] += carry;</span></span>
<span id="L9262" title="Line 9262: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">    9262</span>                 :                : </span>
<span id="L9263" title="Line 9263: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9263</span>                 :                :                 /*</span>
<span id="L9264" title="Line 9264: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9264</span>                 :                :                  * All the dividend[] digits except possibly dividend[qi] are</span>
<span id="L9265" title="Line 9265: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9265</span>                 :                :                  * now in the range 0..NBASE^2-1.  We do not need to consider</span>
<span id="L9266" title="Line 9266: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9266</span>                 :                :                  * dividend[qi] in the maxdiv value anymore, so we can reset</span>
<span id="L9267" title="Line 9267: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9267</span>                 :                :                  * maxdiv to 1.</span>
<span id="L9268" title="Line 9268: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9268</span>                 :                :                  */</span>
<span id="L9269" title="Line 9269: commit 46166197c3b3 on 2015-11-25 by tgl@sss.pgh.pa.us"> <a href="#L9277" title="next CBC in &ldquo;(360..) days&rdquo; bin">3562</a> <a href="#L9277" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9269</span>                 :<span class="tlaCBC">              3 :                 maxdiv = 1;</span></span>
<span id="L9270" title="Line 9270: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">    9270</span>                 :                : </span>
<span id="L9271" title="Line 9271: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9271</span>                 :                :                 /*</span>
<span id="L9272" title="Line 9272: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9272</span>                 :                :                  * Recompute the quotient digit since new info may have</span>
<span id="L9273" title="Line 9273: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9273</span>                 :                :                  * propagated into the top two dividend digits.</span>
<span id="L9274" title="Line 9274: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9274</span>                 :                :                  */</span>
<span id="L9275" title="Line 9275: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9278" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9278" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9275</span>                 :<span class="tlaCBC">              3 :                 fdividend = (double) dividend[qi] * NBASE_SQR;</span></span>
<span id="L9276" title="Line 9276: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9276</span>                 :<span class="tlaCBC">              3 :                 fdividend += (double) dividend[qi + 1];</span></span>
<span id="L9277" title="Line 9277: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L9299" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L9299" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9277</span>                 :<span class="tlaCBC">              3 :                 fquotient = fdividend * fdivisorinverse;</span></span>
<span id="L9278" title="Line 9278: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9281" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9281" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9278</span>         [<span class="tlaCBC"> <a href="#L9299" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L9299" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :                 qdigit = (fquotient &gt;= 0.0) ? ((int32) fquotient) :</span></span>
<span id="L9279" title="Line 9279: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 326 days ago (bin 3: (30,360] days)" class="tlaUBC tlaBgUBC">  <a href="#L9394" title="next UBC in &ldquo;(30,360] days&rdquo; bin" class="tlaBgUBC">326</a> <a href="#L9394" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    9279</span>                 :<a href="#L9394" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                     (((int32) fquotient) - 1);  /* truncate towards -infinity */</span></span>
<span id="L9280" title="Line 9280: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9280</span>                 :                : </span>
<span id="L9281" title="Line 9281: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9301" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9301" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9281</span>                 :<a href="#L9399" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           3 :                 maxdiv += i64abs(qdigit);</span></span>
<span id="L9282" title="Line 9282: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9282</span>                 :                :             }</span>
<span id="L9283" title="Line 9283: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9283</span>                 :                : </span>
<span id="L9284" title="Line 9284: commit 46166197c3b3 on 2015-11-25 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9284</span>                 :                :             /*</span>
<span id="L9285" title="Line 9285: commit 46166197c3b3 on 2015-11-25 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9285</span>                 :                :              * Subtract off the appropriate multiple of the divisor.</span>
<span id="L9286" title="Line 9286: commit 46166197c3b3 on 2015-11-25 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9286</span>                 :                :              *</span>
<span id="L9287" title="Line 9287: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9287</span>                 :                :              * The digits beyond dividend[qi] cannot overflow, because we know</span>
<span id="L9288" title="Line 9288: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9288</span>                 :                :              * they will fall within the maxdiv limit.  As for dividend[qi]</span>
<span id="L9289" title="Line 9289: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9289</span>                 :                :              * itself, note that qdigit is approximately trunc(dividend[qi] /</span>
<span id="L9290" title="Line 9290: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9290</span>                 :                :              * divisor[0]), which would make the new value simply dividend[qi]</span>
<span id="L9291" title="Line 9291: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9291</span>                 :                :              * mod divisor[0].  The lower-order terms in qdigit can change</span>
<span id="L9292" title="Line 9292: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9292</span>                 :                :              * this result by not more than about twice PG_INT64_MAX/NBASE^2,</span>
<span id="L9293" title="Line 9293: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9293</span>                 :                :              * so overflow is impossible.</span>
<span id="L9294" title="Line 9294: commit e3d41d08a175 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9294</span>                 :                :              *</span>
<span id="L9295" title="Line 9295: commit e3d41d08a175 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9295</span>                 :                :              * This inner loop is the performance bottleneck for division, so</span>
<span id="L9296" title="Line 9296: commit e3d41d08a175 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9296</span>                 :                :              * code it in the same way as the inner loop of mul_var() so that</span>
<span id="L9297" title="Line 9297: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9297</span>                 :                :              * it can be auto-vectorized.</span>
<span id="L9298" title="Line 9298: commit 46166197c3b3 on 2015-11-25 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9298</span>                 :                :              */</span>
<span id="L9299" title="Line 9299: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L9304" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L9304" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9299</span>         [<span class="tlaCBC"> <a href="#L9304" title="CBC: Branch 0 was taken 20253 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L9392" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">          20253 :             if (qdigit != 0)</span></span>
<span id="L9300" title="Line 9300: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9300</span>                 :                :             {</span>
<span id="L9301" title="Line 9301: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9305" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9305" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9301</span>                 :<span class="tlaCBC">          20253 :                 int         istop = Min(var2ndigitpairs, div_ndigitpairs - qi);</span></span>
<span id="L9302" title="Line 9302: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9302</span>                 :<span class="tlaCBC">          20253 :                 int64      *dividend_qi = &amp;dividend[qi];</span></span>
<span id="L9303" title="Line 9303: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9303</span>                 :                : </span>
<span id="L9304" title="Line 9304: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L9469" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L9469" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9304</span>         [<span class="tlaCBC"> <a href="#L9351" title="CBC: Branch 0 was taken 3910374 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9351" title="CBC: Branch 1 was taken 20253 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        3930627 :                 for (i = 0; i &lt; istop; i++)</span></span>
<span id="L9305" title="Line 9305: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9399" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9399" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9305</span>                 :<span class="tlaCBC">        3910374 :                     dividend_qi[i] -= (int64) qdigit * divisor[i];</span></span>
<span id="L9306" title="Line 9306: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9306</span>                 :                :             }</span>
<span id="L9307" title="Line 9307: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9307</span>                 :                :         }</span>
<span id="L9308" title="Line 9308: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9308</span>                 :                : </span>
<span id="L9309" title="Line 9309: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9309</span>                 :                :         /*</span>
<span id="L9310" title="Line 9310: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    9310</span>                 :                :          * The dividend digit we are about to replace might still be nonzero.</span>
<span id="L9311" title="Line 9311: commit 46166197c3b3 on 2015-11-25 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9311</span>                 :                :          * Fold it into the next digit position.</span>
<span id="L9312" title="Line 9312: commit 46166197c3b3 on 2015-11-25 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9312</span>                 :                :          *</span>
<span id="L9313" title="Line 9313: commit 46166197c3b3 on 2015-11-25 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9313</span>                 :                :          * There is no risk of overflow here, although proving that requires</span>
<span id="L9314" title="Line 9314: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9314</span>                 :                :          * some care.  Much as with the argument for dividend[qi] not</span>
<span id="L9315" title="Line 9315: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9315</span>                 :                :          * overflowing, if we consider the first two terms in the numerator</span>
<span id="L9316" title="Line 9316: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9316</span>                 :                :          * and denominator of qdigit, we can see that the final value of</span>
<span id="L9317" title="Line 9317: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9317</span>                 :                :          * dividend[qi + 1] will be approximately a remainder mod</span>
<span id="L9318" title="Line 9318: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9318</span>                 :                :          * (divisor[0]*NBASE^2 + divisor[1]).  Accounting for the lower-order</span>
<span id="L9319" title="Line 9319: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9319</span>                 :                :          * terms is a bit complicated but ends up adding not much more than</span>
<span id="L9320" title="Line 9320: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9320</span>                 :                :          * PG_INT64_MAX/NBASE^2 to the possible range.  Thus, dividend[qi + 1]</span>
<span id="L9321" title="Line 9321: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9321</span>                 :                :          * cannot overflow here, and in its role as dividend[qi] in the next</span>
<span id="L9322" title="Line 9322: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9322</span>                 :                :          * loop iteration, it can't be large enough to cause overflow in the</span>
<span id="L9323" title="Line 9323: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9323</span>                 :                :          * carry propagation step (if any), either.</span>
<span id="L9324" title="Line 9324: commit 46166197c3b3 on 2015-11-25 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9324</span>                 :                :          *</span>
<span id="L9325" title="Line 9325: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9325</span>                 :                :          * But having said that: dividend[qi] can be more than</span>
<span id="L9326" title="Line 9326: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9326</span>                 :                :          * PG_INT64_MAX/NBASE^2, as noted above, which means that the product</span>
<span id="L9327" title="Line 9327: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9327</span>                 :                :          * dividend[qi] * NBASE^2 *can* overflow.  When that happens, adding</span>
<span id="L9328" title="Line 9328: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9328</span>                 :                :          * it to dividend[qi + 1] will always cause a canceling overflow so</span>
<span id="L9329" title="Line 9329: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9329</span>                 :                :          * that the end result is correct.  We could avoid the intermediate</span>
<span id="L9330" title="Line 9330: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9330</span>                 :                :          * overflow by doing the multiplication and addition using unsigned</span>
<span id="L9331" title="Line 9331: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9331</span>                 :                :          * int64 arithmetic, which is modulo 2^64, but so far there appears no</span>
<span id="L9332" title="Line 9332: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9332</span>                 :                :          * need.</span>
<span id="L9333" title="Line 9333: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9333</span>                 :                :          */</span>
<span id="L9334" title="Line 9334: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9334</span>                 :<span class="tlaCBC">          22050 :         dividend[qi + 1] += dividend[qi] * NBASE_SQR;</span></span>
<span id="L9335" title="Line 9335: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9335</span>                 :                : </span>
<span id="L9336" title="Line 9336: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9336</span>                 :<span class="tlaCBC">          22050 :         dividend[qi] = qdigit;</span></span>
<span id="L9337" title="Line 9337: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9337</span>                 :                :     }</span>
<span id="L9338" title="Line 9338: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9338</span>                 :                : </span>
<span id="L9339" title="Line 9339: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9339</span>                 :                :     /*</span>
<span id="L9340" title="Line 9340: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9340</span>                 :                :      * If an exact result was requested, use the remainder to correct the</span>
<span id="L9341" title="Line 9341: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9341</span>                 :                :      * approximate quotient.  The remainder is in dividend[], immediately</span>
<span id="L9342" title="Line 9342: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9342</span>                 :                :      * after the quotient digits.  Note, however, that although the remainder</span>
<span id="L9343" title="Line 9343: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9343</span>                 :                :      * starts at dividend[qi = res_ndigitpairs], the first digit is the result</span>
<span id="L9344" title="Line 9344: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9344</span>                 :                :      * of folding two remainder digits into one above, and the remainder</span>
<span id="L9345" title="Line 9345: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9345</span>                 :                :      * currently only occupies var2ndigitpairs - 1 digits (the last digit of</span>
<span id="L9346" title="Line 9346: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9346</span>                 :                :      * the working dividend was untouched by the computation above).  Thus we</span>
<span id="L9347" title="Line 9347: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9347</span>                 :                :      * expand the remainder down by one base-NBASE^2 digit when we normalize</span>
<span id="L9348" title="Line 9348: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9348</span>                 :                :      * it, so that it completely fills the last var2ndigitpairs digits of the</span>
<span id="L9349" title="Line 9349: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9349</span>                 :                :      * dividend array.</span>
<span id="L9350" title="Line 9350: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9350</span>                 :                :      */</span>
<span id="L9351" title="Line 9351: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9351</span>         [<span class="tlaCBC"> <a href="#L9356" title="CBC: Branch 0 was taken 1860 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9356" title="CBC: Branch 1 was taken 861 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2721 :     if (exact)</span></span>
<span id="L9352" title="Line 9352: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9352</span>                 :                :     {</span>
<span id="L9353" title="Line 9353: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9353</span>                 :                :         /* Normalize the remainder, expanding it down by one digit */</span>
<span id="L9354" title="Line 9354: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9354</span>                 :<span class="tlaCBC">           1860 :         remainder = &amp;dividend[qi];</span></span>
<span id="L9355" title="Line 9355: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9355</span>                 :<span class="tlaCBC">           1860 :         carry = 0;</span></span>
<span id="L9356" title="Line 9356: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9356</span>         [<span class="tlaCBC"> <a href="#L9359" title="CBC: Branch 0 was taken 8247 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9359" title="CBC: Branch 1 was taken 1860 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          10107 :         for (i = var2ndigitpairs - 2; i &gt;= 0; i--)</span></span>
<span id="L9357" title="Line 9357: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9357</span>                 :                :         {</span>
<span id="L9358" title="Line 9358: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9358</span>                 :<span class="tlaCBC">           8247 :             newdig = remainder[i] + carry;</span></span>
<span id="L9359" title="Line 9359: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9359</span>         [<span class="tlaCBC"> <a href="#L9364" title="CBC: Branch 0 was taken 6366 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9364" title="CBC: Branch 1 was taken 1881 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           8247 :             if (newdig &lt; 0)</span></span>
<span id="L9360" title="Line 9360: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9360</span>                 :                :             {</span>
<span id="L9361" title="Line 9361: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9361</span>                 :<span class="tlaCBC">           6366 :                 carry = -((-newdig - 1) / NBASE_SQR) - 1;</span></span>
<span id="L9362" title="Line 9362: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9362</span>                 :<span class="tlaCBC">           6366 :                 newdig -= carry * NBASE_SQR;</span></span>
<span id="L9363" title="Line 9363: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9363</span>                 :                :             }</span>
<span id="L9364" title="Line 9364: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9364</span>         [<span class="tlaCBC"> <a href="#L9375" title="CBC: Branch 0 was taken 1842 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9375" title="CBC: Branch 1 was taken 39 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1881 :             else if (newdig &gt;= NBASE_SQR)</span></span>
<span id="L9365" title="Line 9365: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9365</span>                 :                :             {</span>
<span id="L9366" title="Line 9366: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9366</span>                 :<span class="tlaCBC">           1842 :                 carry = newdig / NBASE_SQR;</span></span>
<span id="L9367" title="Line 9367: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9367</span>                 :<span class="tlaCBC">           1842 :                 newdig -= carry * NBASE_SQR;</span></span>
<span id="L9368" title="Line 9368: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9368</span>                 :                :             }</span>
<span id="L9369" title="Line 9369: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9369</span>                 :                :             else</span>
<span id="L9370" title="Line 9370: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9370</span>                 :<span class="tlaCBC">             39 :                 carry = 0;</span></span>
<span id="L9371" title="Line 9371: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9371</span>                 :<span class="tlaCBC">           8247 :             remainder[i + 1] = newdig;</span></span>
<span id="L9372" title="Line 9372: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9372</span>                 :                :         }</span>
<span id="L9373" title="Line 9373: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9373</span>                 :<span class="tlaCBC">           1860 :         remainder[0] = carry;</span></span>
<span id="L9374" title="Line 9374: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9374</span>                 :                : </span>
<span id="L9375" title="Line 9375: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9375</span>         [<span class="tlaCBC"> <a href="#L9389" title="CBC: Branch 0 was taken 1857 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9389" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1860 :         if (remainder[0] &lt; 0)</span></span>
<span id="L9376" title="Line 9376: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9376</span>                 :                :         {</span>
<span id="L9377" title="Line 9377: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9377</span>                 :                :             /*</span>
<span id="L9378" title="Line 9378: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9378</span>                 :                :              * The remainder is negative, so the approximate quotient is too</span>
<span id="L9379" title="Line 9379: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9379</span>                 :                :              * large.  Correct by reducing the quotient by one and adding the</span>
<span id="L9380" title="Line 9380: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9380</span>                 :                :              * divisor to the remainder until the remainder is positive.  We</span>
<span id="L9381" title="Line 9381: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9381</span>                 :                :              * expect the quotient to be off by at most one, which has been</span>
<span id="L9382" title="Line 9382: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9382</span>                 :                :              * borne out in all testing, but not conclusively proven, so we</span>
<span id="L9383" title="Line 9383: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9383</span>                 :                :              * allow for larger corrections, just in case.</span>
<span id="L9384" title="Line 9384: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9384</span>                 :                :              */</span>
<span id="L9385" title="Line 9385: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9385</span>                 :                :             do</span>
<span id="L9386" title="Line 9386: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9386</span>                 :                :             {</span>
<span id="L9387" title="Line 9387: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9387</span>                 :                :                 /* Add the divisor to the remainder */</span>
<span id="L9388" title="Line 9388: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9388</span>                 :<span class="tlaCBC">              3 :                 carry = 0;</span></span>
<span id="L9389" title="Line 9389: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9389</span>         [<span class="tlaCBC"> <a href="#L9392" title="CBC: Branch 0 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9392" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             39 :                 for (i = var2ndigitpairs - 1; i &gt; 0; i--)</span></span>
<span id="L9390" title="Line 9390: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9390</span>                 :                :                 {</span>
<span id="L9391" title="Line 9391: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9391</span>                 :<span class="tlaCBC">             36 :                     newdig = remainder[i] + divisor[i] + carry;</span></span>
<span id="L9392" title="Line 9392: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9392</span>         [<span class="tlaUBC"> <a href="#L9408" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L9408" title="CBC: Branch 1 was taken 36 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             36 :                     if (newdig &gt;= NBASE_SQR)</span></span>
<span id="L9393" title="Line 9393: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9393</span>                 :                :                     {</span>
<span id="L9394" title="Line 9394: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 326 days ago (bin 3: (30,360] days)" class="tlaUBC tlaBgUBC">  <a href="#L9431" title="next UBC in &ldquo;(30,360] days&rdquo; bin" class="tlaBgUBC">326</a> <a href="#L9431" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    9394</span>                 :<a href="#L9431" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                         remainder[i] = newdig - NBASE_SQR;</span></span>
<span id="L9395" title="Line 9395: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 326 days ago (bin 3: (30,360] days)" class="tlaUBC">                          </span> <span class="lineNum">    9395</span>                 :<span class="tlaUBC">              0 :                         carry = 1;</span></span>
<span id="L9396" title="Line 9396: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9396</span>                 :                :                     }</span>
<span id="L9397" title="Line 9397: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9397</span>                 :                :                     else</span>
<span id="L9398" title="Line 9398: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9398</span>                 :                :                     {</span>
<span id="L9399" title="Line 9399: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9433" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9433" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9399</span>                 :<a href="#L9433" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">          36 :                         remainder[i] = newdig;</span></span>
<span id="L9400" title="Line 9400: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9400</span>                 :<span class="tlaCBC">             36 :                         carry = 0;</span></span>
<span id="L9401" title="Line 9401: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9401</span>                 :                :                     }</span>
<span id="L9402" title="Line 9402: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9402</span>                 :                :                 }</span>
<span id="L9403" title="Line 9403: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9403</span>                 :<span class="tlaCBC">              3 :                 remainder[0] += divisor[0] + carry;</span></span>
<span id="L9404" title="Line 9404: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9404</span>                 :                : </span>
<span id="L9405" title="Line 9405: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9405</span>                 :                :                 /* Subtract 1 from the quotient (propagating carries later) */</span>
<span id="L9406" title="Line 9406: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9406</span>                 :<span class="tlaCBC">              3 :                 dividend[qi - 1]--;</span></span>
<span id="L9407" title="Line 9407: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9407</span>                 :                : </span>
<span id="L9408" title="Line 9408: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9408</span>         [<span class="tlaUBC"> <a href="#L9430" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L9423" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              3 :             } while (remainder[0] &lt; 0);</span></span>
<span id="L9409" title="Line 9409: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9409</span>                 :                :         }</span>
<span id="L9410" title="Line 9410: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9410</span>                 :                :         else</span>
<span id="L9411" title="Line 9411: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9411</span>                 :                :         {</span>
<span id="L9412" title="Line 9412: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9412</span>                 :                :             /*</span>
<span id="L9413" title="Line 9413: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9413</span>                 :                :              * The remainder is nonnegative.  If it's greater than or equal to</span>
<span id="L9414" title="Line 9414: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9414</span>                 :                :              * the divisor, then the approximate quotient is too small and</span>
<span id="L9415" title="Line 9415: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9415</span>                 :                :              * must be corrected.  As above, we don't expect to have to apply</span>
<span id="L9416" title="Line 9416: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9416</span>                 :                :              * more than one correction, but allow for it just in case.</span>
<span id="L9417" title="Line 9417: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9417</span>                 :                :              */</span>
<span id="L9418" title="Line 9418: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9418</span>                 :                :             while (true)</span>
<span id="L9419" title="Line 9419: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9419</span>                 :<span class="tlaCBC">              3 :             {</span></span>
<span id="L9420" title="Line 9420: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9420</span>                 :<span class="tlaCBC">           1860 :                 bool        less = false;</span></span>
<span id="L9421" title="Line 9421: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9421</span>                 :                : </span>
<span id="L9422" title="Line 9422: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9422</span>                 :                :                 /* Is remainder &lt; divisor? */</span>
<span id="L9423" title="Line 9423: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9423</span>         [<span class="tlaCBC"> <a href="#L9425" title="CBC: Branch 0 was taken 1866 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9425" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1869 :                 for (i = 0; i &lt; var2ndigitpairs; i++)</span></span>
<span id="L9424" title="Line 9424: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9424</span>                 :                :                 {</span>
<span id="L9425" title="Line 9425: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9425</span>         [<span class="tlaCBC"> <a href="#L9430" title="CBC: Branch 0 was taken 1857 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9430" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1866 :                     if (remainder[i] &lt; divisor[i])</span></span>
<span id="L9426" title="Line 9426: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9426</span>                 :                :                     {</span>
<span id="L9427" title="Line 9427: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9427</span>                 :<span class="tlaCBC">           1857 :                         less = true;</span></span>
<span id="L9428" title="Line 9428: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9428</span>                 :<span class="tlaCBC">           1857 :                         break;</span></span>
<span id="L9429" title="Line 9429: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9429</span>                 :                :                     }</span>
<span id="L9430" title="Line 9430: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9430</span>         [<span class="tlaUBC"> <a href="#L9441" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L9433" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :                     if (remainder[i] &gt; divisor[i])</span></span>
<span id="L9431" title="Line 9431: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 326 days ago (bin 3: (30,360] days)" class="tlaUBC tlaBgUBC">  <a href="#L9443" title="next UBC in &ldquo;(30,360] days&rdquo; bin" class="tlaBgUBC">326</a> <a href="#L9443" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    9431</span>                 :<a href="#L9443" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                         break;  /* remainder &gt; divisor */</span></span>
<span id="L9432" title="Line 9432: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9432</span>                 :                :                 }</span>
<span id="L9433" title="Line 9433: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9448" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9448" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9433</span>         [<span class="tlaCBC"> <a href="#L9438" title="CBC: Branch 0 was taken 1857 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9438" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<a href="#L9448" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        1860 :                 if (less)</span></span>
<span id="L9434" title="Line 9434: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9434</span>                 :<span class="tlaCBC">           1857 :                     break;      /* quotient is correct */</span></span>
<span id="L9435" title="Line 9435: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9435</span>                 :                : </span>
<span id="L9436" title="Line 9436: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9436</span>                 :                :                 /* Subtract the divisor from the remainder */</span>
<span id="L9437" title="Line 9437: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9437</span>                 :<span class="tlaCBC">              3 :                 carry = 0;</span></span>
<span id="L9438" title="Line 9438: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9438</span>         [<span class="tlaCBC"> <a href="#L9441" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9441" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :                 for (i = var2ndigitpairs - 1; i &gt; 0; i--)</span></span>
<span id="L9439" title="Line 9439: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9439</span>                 :                :                 {</span>
<span id="L9440" title="Line 9440: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9440</span>                 :<span class="tlaCBC">              6 :                     newdig = remainder[i] - divisor[i] + carry;</span></span>
<span id="L9441" title="Line 9441: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9441</span>         [<span class="tlaUBC"> <a href="#L9479" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L9471" title="CBC: Branch 1 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              6 :                     if (newdig &lt; 0)</span></span>
<span id="L9442" title="Line 9442: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9442</span>                 :                :                     {</span>
<span id="L9443" title="Line 9443: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 326 days ago (bin 3: (30,360] days)" class="tlaUBC tlaBgUBC">  <a href="#L9481" title="next UBC in &ldquo;(30,360] days&rdquo; bin" class="tlaBgUBC">326</a> <a href="#L9481" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    9443</span>                 :<a href="#L9481" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :                         remainder[i] = newdig + NBASE_SQR;</span></span>
<span id="L9444" title="Line 9444: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 326 days ago (bin 3: (30,360] days)" class="tlaUBC">                          </span> <span class="lineNum">    9444</span>                 :<span class="tlaUBC">              0 :                         carry = -1;</span></span>
<span id="L9445" title="Line 9445: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9445</span>                 :                :                     }</span>
<span id="L9446" title="Line 9446: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9446</span>                 :                :                     else</span>
<span id="L9447" title="Line 9447: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9447</span>                 :                :                     {</span>
<span id="L9448" title="Line 9448: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9471" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9471" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9448</span>                 :<a href="#L9485" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           6 :                         remainder[i] = newdig;</span></span>
<span id="L9449" title="Line 9449: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9449</span>                 :<span class="tlaCBC">              6 :                         carry = 0;</span></span>
<span id="L9450" title="Line 9450: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9450</span>                 :                :                     }</span>
<span id="L9451" title="Line 9451: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9451</span>                 :                :                 }</span>
<span id="L9452" title="Line 9452: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9452</span>                 :<span class="tlaCBC">              3 :                 remainder[0] = remainder[0] - divisor[0] + carry;</span></span>
<span id="L9453" title="Line 9453: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9453</span>                 :                : </span>
<span id="L9454" title="Line 9454: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9454</span>                 :                :                 /* Add 1 to the quotient (propagating carries later) */</span>
<span id="L9455" title="Line 9455: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9455</span>                 :<span class="tlaCBC">              3 :                 dividend[qi - 1]++;</span></span>
<span id="L9456" title="Line 9456: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9456</span>                 :                :             }</span>
<span id="L9457" title="Line 9457: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9457</span>                 :                :         }</span>
<span id="L9458" title="Line 9458: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9458</span>                 :                :     }</span>
<span id="L9459" title="Line 9459: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9459</span>                 :                : </span>
<span id="L9460" title="Line 9460: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9460</span>                 :                :     /*</span>
<span id="L9461" title="Line 9461: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9461</span>                 :                :      * Because the quotient digits were estimates that might have been off by</span>
<span id="L9462" title="Line 9462: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9462</span>                 :                :      * one (and we didn't bother propagating carries when adjusting the</span>
<span id="L9463" title="Line 9463: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9463</span>                 :                :      * quotient above), some quotient digits might be out of range, so do a</span>
<span id="L9464" title="Line 9464: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9464</span>                 :                :      * final carry propagation pass to normalize back to base NBASE^2, and</span>
<span id="L9465" title="Line 9465: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9465</span>                 :                :      * construct the base-NBASE result digits.  Note that this is still done</span>
<span id="L9466" title="Line 9466: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9466</span>                 :                :      * at full precision w/guard digits.</span>
<span id="L9467" title="Line 9467: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9467</span>                 :                :      */</span>
<span id="L9468" title="Line 9468: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9468</span>                 :<span class="tlaCBC">           2721 :     alloc_var(result, res_ndigits);</span></span>
<span id="L9469" title="Line 9469: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L9474" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L9474" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9469</span>                 :<span class="tlaCBC">           2721 :     res_digits = result-&gt;digits;</span></span>
<span id="L9470" title="Line 9470: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9470</span>                 :<span class="tlaCBC">           2721 :     carry = 0;</span></span>
<span id="L9471" title="Line 9471: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9476" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9476" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9471</span>         [<span class="tlaCBC"> <a href="#L9474" title="CBC: Branch 0 was taken 22050 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9474" title="CBC: Branch 1 was taken 2721 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          24771 :     for (i = res_ndigitpairs - 1; i &gt;= 0; i--)</span></span>
<span id="L9472" title="Line 9472: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9472</span>                 :                :     {</span>
<span id="L9473" title="Line 9473: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9473</span>                 :<span class="tlaCBC">          22050 :         newdig = dividend[i] + carry;</span></span>
<span id="L9474" title="Line 9474: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L9485" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L9485" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9474</span>         [<span class="tlaCBC"> <a href="#L9479" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9479" title="CBC: Branch 1 was taken 22047 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          22050 :         if (newdig &lt; 0)</span></span>
<span id="L9475" title="Line 9475: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9475</span>                 :                :         {</span>
<span id="L9476" title="Line 9476: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9486" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9486" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9476</span>                 :<span class="tlaCBC">              3 :             carry = -((-newdig - 1) / NBASE_SQR) - 1;</span></span>
<span id="L9477" title="Line 9477: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9477</span>                 :<span class="tlaCBC">              3 :             newdig -= carry * NBASE_SQR;</span></span>
<span id="L9478" title="Line 9478: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9478</span>                 :                :         }</span>
<span id="L9479" title="Line 9479: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9479</span>         [<span class="tlaUBC"> <a href="#L9489" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L9489" title="CBC: Branch 1 was taken 22047 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          22047 :         else if (newdig &gt;= NBASE_SQR)</span></span>
<span id="L9480" title="Line 9480: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9480</span>                 :                :         {</span>
<span id="L9481" title="Line 9481: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 326 days ago (bin 3: (30,360] days)" class="tlaUBC tlaBgUBC">  <a href="#top" title="next UBC in &ldquo;(30,360] days&rdquo; bin" class="tlaBgUBC">326</a> <a href="#L9532" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    9481</span>                 :<a href="#L9532" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             carry = newdig / NBASE_SQR;</span></span>
<span id="L9482" title="Line 9482: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 326 days ago (bin 3: (30,360] days)" class="tlaUBC">                          </span> <span class="lineNum">    9482</span>                 :<span class="tlaUBC">              0 :             newdig -= carry * NBASE_SQR;</span></span>
<span id="L9483" title="Line 9483: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9483</span>                 :                :         }</span>
<span id="L9484" title="Line 9484: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9484</span>                 :                :         else</span>
<span id="L9485" title="Line 9485: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L9489" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L9489" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9485</span>                 :<a href="#L9537" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">       22047 :             carry = 0;</span></span>
<span id="L9486" title="Line 9486: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9491" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9491" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9486</span>                 :<span class="tlaCBC">          22050 :         res_digits[2 * i + 1] = (NumericDigit) ((uint32) newdig % NBASE);</span></span>
<span id="L9487" title="Line 9487: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9487</span>                 :<span class="tlaCBC">          22050 :         res_digits[2 * i] = (NumericDigit) ((uint32) newdig / NBASE);</span></span>
<span id="L9488" title="Line 9488: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9488</span>                 :                :     }</span>
<span id="L9489" title="Line 9489: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L9496" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L9496" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9489</span>         [<span class="tlaUBC"> <a href="#L9531" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L9500" title="CBC: Branch 1 was taken 2721 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2721 :     Assert(carry == 0);</span></span>
<span id="L9490" title="Line 9490: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9490</span>                 :                : </span>
<span id="L9491" title="Line 9491: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9826" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9517" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9491</span>                 :<span class="tlaCBC">           2721 :     pfree(dividend);</span></span>
<span id="L9492" title="Line 9492: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9492</span>                 :                : </span>
<span id="L9493" title="Line 9493: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9493</span>                 :                :     /*</span>
<span id="L9494" title="Line 9494: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9494</span>                 :                :      * Finally, round or truncate the result to the requested precision.</span>
<span id="L9495" title="Line 9495: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9495</span>                 :                :      */</span>
<span id="L9496" title="Line 9496: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L9537" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L9506" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9496</span>                 :<span class="tlaCBC">           2721 :     result-&gt;weight = res_weight;</span></span>
<span id="L9497" title="Line 9497: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9497</span>                 :<span class="tlaCBC">           2721 :     result-&gt;sign = res_sign;</span></span>
<span id="L9498" title="Line 9498: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9498</span>                 :                : </span>
<span id="L9499" title="Line 9499: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9499</span>                 :                :     /* Round or truncate to target rscale (and set result-&gt;dscale) */</span>
<span id="L9500" title="Line 9500: commit 1bc923522469 on 2005-06-04 by bruce@momjian.us"> 7388 <a href="#L10817" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">    9500</span>         [<span class="tlaCBC"> <a href="#L9531" title="CBC: Branch 0 was taken 453 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9531" title="CBC: Branch 1 was taken 2268 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2721 :     if (round)</span></span>
<span id="L9501" title="Line 9501: commit 1bc923522469 on 2005-06-04 by bruce@momjian.us">                           <span class="lineNum">    9501</span>                 :<span class="tlaCBC">            453 :         round_var(result, rscale);</span></span>
<span id="L9502" title="Line 9502: commit 1bc923522469 on 2005-06-04 by bruce@momjian.us">                           <span class="lineNum">    9502</span>                 :                :     else</span>
<span id="L9503" title="Line 9503: commit 1bc923522469 on 2005-06-04 by bruce@momjian.us">                           <span class="lineNum">    9503</span>                 :<span class="tlaCBC">           2268 :         trunc_var(result, rscale);</span></span>
<span id="L9504" title="Line 9504: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    9504</span>                 :                : </span>
<span id="L9505" title="Line 9505: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9505</span>                 :                :     /* Strip leading and trailing zeroes */</span>
<span id="L9506" title="Line 9506: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L9765" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9506</span>                 :<span class="tlaCBC">           2721 :     strip_var(result);</span></span>
<span id="L9507" title="Line 9507: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9507</span>                 :                : }</span>
<span id="L9508" title="Line 9508: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9508</span>                 :                : </span>
<span id="L9509" title="Line 9509: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9509</span>                 :                : </span>
<span id="L9510" title="Line 9510: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9510</span>                 :                : /*</span>
<span id="L9511" title="Line 9511: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9511</span>                 :                :  * div_var_int() -</span>
<span id="L9512" title="Line 9512: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9512</span>                 :                :  *</span>
<span id="L9513" title="Line 9513: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9513</span>                 :                :  *  Divide a numeric variable by a 32-bit integer with the specified weight.</span>
<span id="L9514" title="Line 9514: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9514</span>                 :                :  *  The quotient var / (ival * NBASE^ival_weight) is stored in result.</span>
<span id="L9515" title="Line 9515: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9515</span>                 :                :  */</span>
<span id="L9516" title="Line 9516: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9516</span>                 :                : static void</span>
<span id="L9517" title="Line 9517: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com"> 1276 <a href="#L9537" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9517</span>                 :<span class="tlaCBC">         292100 : div_var_int(const NumericVar *var, int ival, int ival_weight,</span></span>
<span id="L9518" title="Line 9518: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9518</span>                 :                :             NumericVar *result, int rscale, bool round)</span>
<span id="L9519" title="Line 9519: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9519</span>                 :                : {</span>
<span id="L9520" title="Line 9520: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9520</span>                 :<span class="tlaCBC">         292100 :     NumericDigit *var_digits = var-&gt;digits;</span></span>
<span id="L9521" title="Line 9521: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9521</span>                 :<span class="tlaCBC">         292100 :     int         var_ndigits = var-&gt;ndigits;</span></span>
<span id="L9522" title="Line 9522: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9522</span>                 :                :     int         res_sign;</span>
<span id="L9523" title="Line 9523: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9523</span>                 :                :     int         res_weight;</span>
<span id="L9524" title="Line 9524: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9524</span>                 :                :     int         res_ndigits;</span>
<span id="L9525" title="Line 9525: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9525</span>                 :                :     NumericDigit *res_buf;</span>
<span id="L9526" title="Line 9526: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9526</span>                 :                :     NumericDigit *res_digits;</span>
<span id="L9527" title="Line 9527: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9527</span>                 :                :     uint32      divisor;</span>
<span id="L9528" title="Line 9528: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9528</span>                 :                :     int         i;</span>
<span id="L9529" title="Line 9529: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9529</span>                 :                : </span>
<span id="L9530" title="Line 9530: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9530</span>                 :                :     /* Guard against division by zero */</span>
<span id="L9531" title="Line 9531: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9531</span>         [<span class="tlaUBC"> <a href="#L9532" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L9537" title="CBC: Branch 1 was taken 292100 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         292100 :     if (ival == 0)</span></span>
<span id="L9532" title="Line 9532: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1276 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L9648" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1276</a> <a href="#L9648" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    9532</span>         [<span class="tlaUBC"> <a href="#L9647" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L9647" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L9648" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         ereport(ERROR,</span></span>
<span id="L9533" title="Line 9533: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9533</span>                 :                :                 errcode(ERRCODE_DIVISION_BY_ZERO),</span>
<span id="L9534" title="Line 9534: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9534</span>                 :                :                 errmsg(&quot;division by zero&quot;));</span>
<span id="L9535" title="Line 9535: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9535</span>                 :                : </span>
<span id="L9536" title="Line 9536: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9536</span>                 :                :     /* Result zero check */</span>
<span id="L9537" title="Line 9537: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com"> <a href="#L9653" title="next CBC in &ldquo;(360..) days&rdquo; bin">1276</a> <a href="#L9578" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9537</span>         [<span class="tlaCBC"> <a href="#L9549" title="CBC: Branch 0 was taken 1150 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9549" title="CBC: Branch 1 was taken 290950 times" class="branchTla">+</a> </span>]:<a href="#L9653" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">      292100 :     if (var_ndigits == 0)</span></span>
<span id="L9538" title="Line 9538: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9538</span>                 :                :     {</span>
<span id="L9539" title="Line 9539: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9539</span>                 :<span class="tlaCBC">           1150 :         zero_var(result);</span></span>
<span id="L9540" title="Line 9540: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9540</span>                 :<span class="tlaCBC">           1150 :         result-&gt;dscale = rscale;</span></span>
<span id="L9541" title="Line 9541: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9541</span>                 :<span class="tlaCBC">           1150 :         return;</span></span>
<span id="L9542" title="Line 9542: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9542</span>                 :                :     }</span>
<span id="L9543" title="Line 9543: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9543</span>                 :                : </span>
<span id="L9544" title="Line 9544: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9544</span>                 :                :     /*</span>
<span id="L9545" title="Line 9545: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9545</span>                 :                :      * Determine the result sign, weight and number of digits to calculate.</span>
<span id="L9546" title="Line 9546: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9546</span>                 :                :      * The weight figured here is correct if the emitted quotient has no</span>
<span id="L9547" title="Line 9547: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9547</span>                 :                :      * leading zero digits; otherwise strip_var() will fix things up.</span>
<span id="L9548" title="Line 9548: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9548</span>                 :                :      */</span>
<span id="L9549" title="Line 9549: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9549</span>         [<span class="tlaCBC"> <a href="#L9550" title="CBC: Branch 0 was taken 289456 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9550" title="CBC: Branch 1 was taken 1494 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         290950 :     if (var-&gt;sign == NUMERIC_POS)</span></span>
<span id="L9550" title="Line 9550: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9550</span>         [<span class="tlaCBC"> <a href="#L9552" title="CBC: Branch 0 was taken 289333 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9552" title="CBC: Branch 1 was taken 123 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         289456 :         res_sign = ival &gt; 0 ? NUMERIC_POS : NUMERIC_NEG;</span></span>
<span id="L9551" title="Line 9551: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9551</span>                 :                :     else</span>
<span id="L9552" title="Line 9552: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9552</span>         [<span class="tlaCBC"> <a href="#L9559" title="CBC: Branch 0 was taken 1317 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9559" title="CBC: Branch 1 was taken 177 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1494 :         res_sign = ival &gt; 0 ? NUMERIC_NEG : NUMERIC_POS;</span></span>
<span id="L9553" title="Line 9553: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9553</span>                 :<span class="tlaCBC">         290950 :     res_weight = var-&gt;weight - ival_weight;</span></span>
<span id="L9554" title="Line 9554: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9554</span>                 :                :     /* The number of accurate result digits we need to produce: */</span>
<span id="L9555" title="Line 9555: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9555</span>                 :<span class="tlaCBC">         290950 :     res_ndigits = res_weight + 1 + (rscale + DEC_DIGITS - 1) / DEC_DIGITS;</span></span>
<span id="L9556" title="Line 9556: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9556</span>                 :                :     /* ... but always at least 1 */</span>
<span id="L9557" title="Line 9557: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9557</span>                 :<span class="tlaCBC">         290950 :     res_ndigits = Max(res_ndigits, 1);</span></span>
<span id="L9558" title="Line 9558: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9558</span>                 :                :     /* If rounding needed, figure one more digit to ensure correct result */</span>
<span id="L9559" title="Line 9559: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9559</span>         [<span class="tlaCBC"> <a href="#L9578" title="CBC: Branch 0 was taken 83346 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9578" title="CBC: Branch 1 was taken 207604 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         290950 :     if (round)</span></span>
<span id="L9560" title="Line 9560: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9560</span>                 :<span class="tlaCBC">          83346 :         res_ndigits++;</span></span>
<span id="L9561" title="Line 9561: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9561</span>                 :                : </span>
<span id="L9562" title="Line 9562: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9562</span>                 :<span class="tlaCBC">         290950 :     res_buf = digitbuf_alloc(res_ndigits + 1);</span></span>
<span id="L9563" title="Line 9563: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9563</span>                 :<span class="tlaCBC">         290950 :     res_buf[0] = 0;             /* spare digit for later rounding */</span></span>
<span id="L9564" title="Line 9564: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9564</span>                 :<span class="tlaCBC">         290950 :     res_digits = res_buf + 1;</span></span>
<span id="L9565" title="Line 9565: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9565</span>                 :                : </span>
<span id="L9566" title="Line 9566: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9566</span>                 :                :     /*</span>
<span id="L9567" title="Line 9567: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9567</span>                 :                :      * Now compute the quotient digits.  This is the short division algorithm</span>
<span id="L9568" title="Line 9568: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9568</span>                 :                :      * described in Knuth volume 2, section 4.3.1 exercise 16, except that we</span>
<span id="L9569" title="Line 9569: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9569</span>                 :                :      * allow the divisor to exceed the internal base.</span>
<span id="L9570" title="Line 9570: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9570</span>                 :                :      *</span>
<span id="L9571" title="Line 9571: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9571</span>                 :                :      * In this algorithm, the carry from one digit to the next is at most</span>
<span id="L9572" title="Line 9572: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9572</span>                 :                :      * divisor - 1.  Therefore, while processing the next digit, carry may</span>
<span id="L9573" title="Line 9573: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9573</span>                 :                :      * become as large as divisor * NBASE - 1, and so it requires a 64-bit</span>
<span id="L9574" title="Line 9574: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9574</span>                 :                :      * integer if this exceeds UINT_MAX.</span>
<span id="L9575" title="Line 9575: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9575</span>                 :                :      */</span>
<span id="L9576" title="Line 9576: commit f14aad5169ba on 2022-10-07 by peter@eisentraut.org"> 1054 <a href="#L10534" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">    9576</span>                 :<span class="tlaCBC">         290950 :     divisor = abs(ival);</span></span>
<span id="L9577" title="Line 9577: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9577</span>                 :                : </span>
<span id="L9578" title="Line 9578: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com"> 1276 <a href="#L9653" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9578</span>         [<span class="tlaCBC"> <a href="#L9583" title="CBC: Branch 0 was taken 289341 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9583" title="CBC: Branch 1 was taken 1609 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         290950 :     if (divisor &lt;= UINT_MAX / NBASE)</span></span>
<span id="L9579" title="Line 9579: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9579</span>                 :                :     {</span>
<span id="L9580" title="Line 9580: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9580</span>                 :                :         /* carry cannot overflow 32 bits */</span>
<span id="L9581" title="Line 9581: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9581</span>                 :<span class="tlaCBC">         289341 :         uint32      carry = 0;</span></span>
<span id="L9582" title="Line 9582: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9582</span>                 :                : </span>
<span id="L9583" title="Line 9583: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9583</span>         [<span class="tlaCBC"> <a href="#L9585" title="CBC: Branch 0 was taken 1133136 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9585" title="CBC: Branch 1 was taken 289341 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1422477 :         for (i = 0; i &lt; res_ndigits; i++)</span></span>
<span id="L9584" title="Line 9584: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9584</span>                 :                :         {</span>
<span id="L9585" title="Line 9585: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9585</span>         [<span class="tlaCBC"> <a href="#L9595" title="CBC: Branch 0 was taken 692086 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9595" title="CBC: Branch 1 was taken 441050 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1133136 :             carry = carry * NBASE + (i &lt; var_ndigits ? var_digits[i] : 0);</span></span>
<span id="L9586" title="Line 9586: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9586</span>                 :<span class="tlaCBC">        1133136 :             res_digits[i] = (NumericDigit) (carry / divisor);</span></span>
<span id="L9587" title="Line 9587: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9587</span>                 :<span class="tlaCBC">        1133136 :             carry = carry % divisor;</span></span>
<span id="L9588" title="Line 9588: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9588</span>                 :                :         }</span>
<span id="L9589" title="Line 9589: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9589</span>                 :                :     }</span>
<span id="L9590" title="Line 9590: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9590</span>                 :                :     else</span>
<span id="L9591" title="Line 9591: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9591</span>                 :                :     {</span>
<span id="L9592" title="Line 9592: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9592</span>                 :                :         /* carry may exceed 32 bits */</span>
<span id="L9593" title="Line 9593: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9593</span>                 :<span class="tlaCBC">           1609 :         uint64      carry = 0;</span></span>
<span id="L9594" title="Line 9594: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9594</span>                 :                : </span>
<span id="L9595" title="Line 9595: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9595</span>         [<span class="tlaCBC"> <a href="#L9597" title="CBC: Branch 0 was taken 3551 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9597" title="CBC: Branch 1 was taken 1609 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           5160 :         for (i = 0; i &lt; res_ndigits; i++)</span></span>
<span id="L9596" title="Line 9596: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9596</span>                 :                :         {</span>
<span id="L9597" title="Line 9597: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9597</span>         [<span class="tlaCBC"> <a href="#L9604" title="CBC: Branch 0 was taken 3280 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9604" title="CBC: Branch 1 was taken 271 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3551 :             carry = carry * NBASE + (i &lt; var_ndigits ? var_digits[i] : 0);</span></span>
<span id="L9598" title="Line 9598: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9598</span>                 :<span class="tlaCBC">           3551 :             res_digits[i] = (NumericDigit) (carry / divisor);</span></span>
<span id="L9599" title="Line 9599: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9599</span>                 :<span class="tlaCBC">           3551 :             carry = carry % divisor;</span></span>
<span id="L9600" title="Line 9600: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9600</span>                 :                :         }</span>
<span id="L9601" title="Line 9601: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9601</span>                 :                :     }</span>
<span id="L9602" title="Line 9602: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9602</span>                 :                : </span>
<span id="L9603" title="Line 9603: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9603</span>                 :                :     /* Store the quotient in result */</span>
<span id="L9604" title="Line 9604: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9604</span>         [<span class="tlaCBC"> <a href="#L9612" title="CBC: Branch 0 was taken 10050 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9612" title="CBC: Branch 1 was taken 280900 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         290950 :     digitbuf_free(result-&gt;buf);</span></span>
<span id="L9605" title="Line 9605: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9605</span>                 :<span class="tlaCBC">         290950 :     result-&gt;ndigits = res_ndigits;</span></span>
<span id="L9606" title="Line 9606: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9606</span>                 :<span class="tlaCBC">         290950 :     result-&gt;buf = res_buf;</span></span>
<span id="L9607" title="Line 9607: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9607</span>                 :<span class="tlaCBC">         290950 :     result-&gt;digits = res_digits;</span></span>
<span id="L9608" title="Line 9608: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9608</span>                 :<span class="tlaCBC">         290950 :     result-&gt;weight = res_weight;</span></span>
<span id="L9609" title="Line 9609: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9609</span>                 :<span class="tlaCBC">         290950 :     result-&gt;sign = res_sign;</span></span>
<span id="L9610" title="Line 9610: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9610</span>                 :                : </span>
<span id="L9611" title="Line 9611: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9611</span>                 :                :     /* Round or truncate to target rscale (and set result-&gt;dscale) */</span>
<span id="L9612" title="Line 9612: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9612</span>         [<span class="tlaCBC"> <a href="#L9647" title="CBC: Branch 0 was taken 83346 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9647" title="CBC: Branch 1 was taken 207604 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         290950 :     if (round)</span></span>
<span id="L9613" title="Line 9613: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9613</span>                 :<span class="tlaCBC">          83346 :         round_var(result, rscale);</span></span>
<span id="L9614" title="Line 9614: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9614</span>                 :                :     else</span>
<span id="L9615" title="Line 9615: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9615</span>                 :<span class="tlaCBC">         207604 :         trunc_var(result, rscale);</span></span>
<span id="L9616" title="Line 9616: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9616</span>                 :                : </span>
<span id="L9617" title="Line 9617: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9617</span>                 :                :     /* Strip leading/trailing zeroes */</span>
<span id="L9618" title="Line 9618: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9618</span>                 :<span class="tlaCBC">         290950 :     strip_var(result);</span></span>
<span id="L9619" title="Line 9619: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9619</span>                 :                : }</span>
<span id="L9620" title="Line 9620: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9620</span>                 :                : </span>
<span id="L9621" title="Line 9621: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9621</span>                 :                : </span>
<span id="L9622" title="Line 9622: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9622</span>                 :                : #ifdef HAVE_INT128</span>
<span id="L9623" title="Line 9623: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9623</span>                 :                : /*</span>
<span id="L9624" title="Line 9624: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9624</span>                 :                :  * div_var_int64() -</span>
<span id="L9625" title="Line 9625: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9625</span>                 :                :  *</span>
<span id="L9626" title="Line 9626: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9626</span>                 :                :  *  Divide a numeric variable by a 64-bit integer with the specified weight.</span>
<span id="L9627" title="Line 9627: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9627</span>                 :                :  *  The quotient var / (ival * NBASE^ival_weight) is stored in result.</span>
<span id="L9628" title="Line 9628: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9628</span>                 :                :  *</span>
<span id="L9629" title="Line 9629: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9629</span>                 :                :  *  This duplicates the logic in div_var_int(), so any changes made there</span>
<span id="L9630" title="Line 9630: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9630</span>                 :                :  *  should be made here too.</span>
<span id="L9631" title="Line 9631: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9631</span>                 :                :  */</span>
<span id="L9632" title="Line 9632: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9632</span>                 :                : static void</span>
<span id="L9633" title="Line 9633: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">  946                      <span class="lineNum">    9633</span>                 :<span class="tlaCBC">            264 : div_var_int64(const NumericVar *var, int64 ival, int ival_weight,</span></span>
<span id="L9634" title="Line 9634: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9634</span>                 :                :               NumericVar *result, int rscale, bool round)</span>
<span id="L9635" title="Line 9635: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9635</span>                 :                : {</span>
<span id="L9636" title="Line 9636: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9636</span>                 :<span class="tlaCBC">            264 :     NumericDigit *var_digits = var-&gt;digits;</span></span>
<span id="L9637" title="Line 9637: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9637</span>                 :<span class="tlaCBC">            264 :     int         var_ndigits = var-&gt;ndigits;</span></span>
<span id="L9638" title="Line 9638: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9638</span>                 :                :     int         res_sign;</span>
<span id="L9639" title="Line 9639: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9639</span>                 :                :     int         res_weight;</span>
<span id="L9640" title="Line 9640: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9640</span>                 :                :     int         res_ndigits;</span>
<span id="L9641" title="Line 9641: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9641</span>                 :                :     NumericDigit *res_buf;</span>
<span id="L9642" title="Line 9642: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9642</span>                 :                :     NumericDigit *res_digits;</span>
<span id="L9643" title="Line 9643: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9643</span>                 :                :     uint64      divisor;</span>
<span id="L9644" title="Line 9644: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9644</span>                 :                :     int         i;</span>
<span id="L9645" title="Line 9645: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9645</span>                 :                : </span>
<span id="L9646" title="Line 9646: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9646</span>                 :                :     /* Guard against division by zero */</span>
<span id="L9647" title="Line 9647: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9647</span>         [<span class="tlaUBC"> <a href="#L9648" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L9653" title="CBC: Branch 1 was taken 264 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            264 :     if (ival == 0)</span></span>
<span id="L9648" title="Line 9648: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 946 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">  <a href="#L9871" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">946</a> <a href="#L9871" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    9648</span>         [<span class="tlaUBC"> <a href="#L9770" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L9770" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L9871" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         ereport(ERROR,</span></span>
<span id="L9649" title="Line 9649: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9649</span>                 :                :                 errcode(ERRCODE_DIVISION_BY_ZERO),</span>
<span id="L9650" title="Line 9650: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9650</span>                 :                :                 errmsg(&quot;division by zero&quot;));</span>
<span id="L9651" title="Line 9651: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9651</span>                 :                : </span>
<span id="L9652" title="Line 9652: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9652</span>                 :                :     /* Result zero check */</span>
<span id="L9653" title="Line 9653: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">  <a href="#L9828" title="next CBC in &ldquo;(360..) days&rdquo; bin">946</a> <a href="#L9826" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9653</span>         [<span class="tlaCBC"> <a href="#L9665" title="CBC: Branch 0 was taken 48 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9665" title="CBC: Branch 1 was taken 216 times" class="branchTla">+</a> </span>]:<a href="#L9883" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         264 :     if (var_ndigits == 0)</span></span>
<span id="L9654" title="Line 9654: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9654</span>                 :                :     {</span>
<span id="L9655" title="Line 9655: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9655</span>                 :<span class="tlaCBC">             48 :         zero_var(result);</span></span>
<span id="L9656" title="Line 9656: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9656</span>                 :<span class="tlaCBC">             48 :         result-&gt;dscale = rscale;</span></span>
<span id="L9657" title="Line 9657: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9657</span>                 :<span class="tlaCBC">             48 :         return;</span></span>
<span id="L9658" title="Line 9658: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9658</span>                 :                :     }</span>
<span id="L9659" title="Line 9659: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9659</span>                 :                : </span>
<span id="L9660" title="Line 9660: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9660</span>                 :                :     /*</span>
<span id="L9661" title="Line 9661: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9661</span>                 :                :      * Determine the result sign, weight and number of digits to calculate.</span>
<span id="L9662" title="Line 9662: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9662</span>                 :                :      * The weight figured here is correct if the emitted quotient has no</span>
<span id="L9663" title="Line 9663: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9663</span>                 :                :      * leading zero digits; otherwise strip_var() will fix things up.</span>
<span id="L9664" title="Line 9664: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9664</span>                 :                :      */</span>
<span id="L9665" title="Line 9665: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9665</span>         [<span class="tlaCBC"> <a href="#L9666" title="CBC: Branch 0 was taken 129 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9666" title="CBC: Branch 1 was taken 87 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            216 :     if (var-&gt;sign == NUMERIC_POS)</span></span>
<span id="L9666" title="Line 9666: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9666</span>         [<span class="tlaCBC"> <a href="#L9668" title="CBC: Branch 0 was taken 99 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9668" title="CBC: Branch 1 was taken 30 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            129 :         res_sign = ival &gt; 0 ? NUMERIC_POS : NUMERIC_NEG;</span></span>
<span id="L9667" title="Line 9667: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9667</span>                 :                :     else</span>
<span id="L9668" title="Line 9668: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9668</span>         [<span class="tlaCBC"> <a href="#L9675" title="CBC: Branch 0 was taken 69 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9675" title="CBC: Branch 1 was taken 18 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             87 :         res_sign = ival &gt; 0 ? NUMERIC_NEG : NUMERIC_POS;</span></span>
<span id="L9669" title="Line 9669: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9669</span>                 :<span class="tlaCBC">            216 :     res_weight = var-&gt;weight - ival_weight;</span></span>
<span id="L9670" title="Line 9670: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9670</span>                 :                :     /* The number of accurate result digits we need to produce: */</span>
<span id="L9671" title="Line 9671: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9671</span>                 :<span class="tlaCBC">            216 :     res_ndigits = res_weight + 1 + (rscale + DEC_DIGITS - 1) / DEC_DIGITS;</span></span>
<span id="L9672" title="Line 9672: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9672</span>                 :                :     /* ... but always at least 1 */</span>
<span id="L9673" title="Line 9673: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9673</span>                 :<span class="tlaCBC">            216 :     res_ndigits = Max(res_ndigits, 1);</span></span>
<span id="L9674" title="Line 9674: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9674</span>                 :                :     /* If rounding needed, figure one more digit to ensure correct result */</span>
<span id="L9675" title="Line 9675: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9675</span>         [<span class="tlaCBC"> <a href="#L9694" title="CBC: Branch 0 was taken 213 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9694" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            216 :     if (round)</span></span>
<span id="L9676" title="Line 9676: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9676</span>                 :<span class="tlaCBC">            213 :         res_ndigits++;</span></span>
<span id="L9677" title="Line 9677: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9677</span>                 :                : </span>
<span id="L9678" title="Line 9678: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9678</span>                 :<span class="tlaCBC">            216 :     res_buf = digitbuf_alloc(res_ndigits + 1);</span></span>
<span id="L9679" title="Line 9679: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9679</span>                 :<span class="tlaCBC">            216 :     res_buf[0] = 0;             /* spare digit for later rounding */</span></span>
<span id="L9680" title="Line 9680: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9680</span>                 :<span class="tlaCBC">            216 :     res_digits = res_buf + 1;</span></span>
<span id="L9681" title="Line 9681: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9681</span>                 :                : </span>
<span id="L9682" title="Line 9682: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9682</span>                 :                :     /*</span>
<span id="L9683" title="Line 9683: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9683</span>                 :                :      * Now compute the quotient digits.  This is the short division algorithm</span>
<span id="L9684" title="Line 9684: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9684</span>                 :                :      * described in Knuth volume 2, section 4.3.1 exercise 16, except that we</span>
<span id="L9685" title="Line 9685: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9685</span>                 :                :      * allow the divisor to exceed the internal base.</span>
<span id="L9686" title="Line 9686: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9686</span>                 :                :      *</span>
<span id="L9687" title="Line 9687: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9687</span>                 :                :      * In this algorithm, the carry from one digit to the next is at most</span>
<span id="L9688" title="Line 9688: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9688</span>                 :                :      * divisor - 1.  Therefore, while processing the next digit, carry may</span>
<span id="L9689" title="Line 9689: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9689</span>                 :                :      * become as large as divisor * NBASE - 1, and so it requires a 128-bit</span>
<span id="L9690" title="Line 9690: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9690</span>                 :                :      * integer if this exceeds PG_UINT64_MAX.</span>
<span id="L9691" title="Line 9691: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9691</span>                 :                :      */</span>
<span id="L9692" title="Line 9692: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9692</span>                 :<span class="tlaCBC">            216 :     divisor = i64abs(ival);</span></span>
<span id="L9693" title="Line 9693: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9693</span>                 :                : </span>
<span id="L9694" title="Line 9694: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9694</span>         [<span class="tlaCBC"> <a href="#L9699" title="CBC: Branch 0 was taken 168 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9699" title="CBC: Branch 1 was taken 48 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            216 :     if (divisor &lt;= PG_UINT64_MAX / NBASE)</span></span>
<span id="L9695" title="Line 9695: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9695</span>                 :                :     {</span>
<span id="L9696" title="Line 9696: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9696</span>                 :                :         /* carry cannot overflow 64 bits */</span>
<span id="L9697" title="Line 9697: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9697</span>                 :<span class="tlaCBC">            168 :         uint64      carry = 0;</span></span>
<span id="L9698" title="Line 9698: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9698</span>                 :                : </span>
<span id="L9699" title="Line 9699: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9699</span>         [<span class="tlaCBC"> <a href="#L9701" title="CBC: Branch 0 was taken 1539 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9701" title="CBC: Branch 1 was taken 168 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1707 :         for (i = 0; i &lt; res_ndigits; i++)</span></span>
<span id="L9700" title="Line 9700: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9700</span>                 :                :         {</span>
<span id="L9701" title="Line 9701: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9701</span>         [<span class="tlaCBC"> <a href="#L9711" title="CBC: Branch 0 was taken 516 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9711" title="CBC: Branch 1 was taken 1023 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1539 :             carry = carry * NBASE + (i &lt; var_ndigits ? var_digits[i] : 0);</span></span>
<span id="L9702" title="Line 9702: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9702</span>                 :<span class="tlaCBC">           1539 :             res_digits[i] = (NumericDigit) (carry / divisor);</span></span>
<span id="L9703" title="Line 9703: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9703</span>                 :<span class="tlaCBC">           1539 :             carry = carry % divisor;</span></span>
<span id="L9704" title="Line 9704: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9704</span>                 :                :         }</span>
<span id="L9705" title="Line 9705: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9705</span>                 :                :     }</span>
<span id="L9706" title="Line 9706: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9706</span>                 :                :     else</span>
<span id="L9707" title="Line 9707: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9707</span>                 :                :     {</span>
<span id="L9708" title="Line 9708: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9708</span>                 :                :         /* carry may exceed 64 bits */</span>
<span id="L9709" title="Line 9709: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9709</span>                 :<span class="tlaCBC">             48 :         uint128     carry = 0;</span></span>
<span id="L9710" title="Line 9710: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9710</span>                 :                : </span>
<span id="L9711" title="Line 9711: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9711</span>         [<span class="tlaCBC"> <a href="#L9713" title="CBC: Branch 0 was taken 468 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9713" title="CBC: Branch 1 was taken 48 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            516 :         for (i = 0; i &lt; res_ndigits; i++)</span></span>
<span id="L9712" title="Line 9712: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9712</span>                 :                :         {</span>
<span id="L9713" title="Line 9713: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9713</span>         [<span class="tlaCBC"> <a href="#L9720" title="CBC: Branch 0 was taken 156 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9720" title="CBC: Branch 1 was taken 312 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            468 :             carry = carry * NBASE + (i &lt; var_ndigits ? var_digits[i] : 0);</span></span>
<span id="L9714" title="Line 9714: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9714</span>                 :<span class="tlaCBC">            468 :             res_digits[i] = (NumericDigit) (carry / divisor);</span></span>
<span id="L9715" title="Line 9715: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9715</span>                 :<span class="tlaCBC">            468 :             carry = carry % divisor;</span></span>
<span id="L9716" title="Line 9716: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9716</span>                 :                :         }</span>
<span id="L9717" title="Line 9717: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9717</span>                 :                :     }</span>
<span id="L9718" title="Line 9718: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9718</span>                 :                : </span>
<span id="L9719" title="Line 9719: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9719</span>                 :                :     /* Store the quotient in result */</span>
<span id="L9720" title="Line 9720: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9720</span>         [<span class="tlaCBC"> <a href="#L9728" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9728" title="CBC: Branch 1 was taken 195 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            216 :     digitbuf_free(result-&gt;buf);</span></span>
<span id="L9721" title="Line 9721: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9721</span>                 :<span class="tlaCBC">            216 :     result-&gt;ndigits = res_ndigits;</span></span>
<span id="L9722" title="Line 9722: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9722</span>                 :<span class="tlaCBC">            216 :     result-&gt;buf = res_buf;</span></span>
<span id="L9723" title="Line 9723: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9723</span>                 :<span class="tlaCBC">            216 :     result-&gt;digits = res_digits;</span></span>
<span id="L9724" title="Line 9724: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9724</span>                 :<span class="tlaCBC">            216 :     result-&gt;weight = res_weight;</span></span>
<span id="L9725" title="Line 9725: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9725</span>                 :<span class="tlaCBC">            216 :     result-&gt;sign = res_sign;</span></span>
<span id="L9726" title="Line 9726: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9726</span>                 :                : </span>
<span id="L9727" title="Line 9727: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9727</span>                 :                :     /* Round or truncate to target rscale (and set result-&gt;dscale) */</span>
<span id="L9728" title="Line 9728: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9728</span>         [<span class="tlaCBC"> <a href="#L9767" title="CBC: Branch 0 was taken 213 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9767" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            216 :     if (round)</span></span>
<span id="L9729" title="Line 9729: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9729</span>                 :<span class="tlaCBC">            213 :         round_var(result, rscale);</span></span>
<span id="L9730" title="Line 9730: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9730</span>                 :                :     else</span>
<span id="L9731" title="Line 9731: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9731</span>                 :<span class="tlaCBC">              3 :         trunc_var(result, rscale);</span></span>
<span id="L9732" title="Line 9732: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9732</span>                 :                : </span>
<span id="L9733" title="Line 9733: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9733</span>                 :                :     /* Strip leading/trailing zeroes */</span>
<span id="L9734" title="Line 9734: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9734</span>                 :<span class="tlaCBC">            216 :     strip_var(result);</span></span>
<span id="L9735" title="Line 9735: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9735</span>                 :                : }</span>
<span id="L9736" title="Line 9736: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9736</span>                 :                : #endif</span>
<span id="L9737" title="Line 9737: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9737</span>                 :                : </span>
<span id="L9738" title="Line 9738: commit 0aa38db56bf4 on 2023-01-23 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9738</span>                 :                : </span>
<span id="L9739" title="Line 9739: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9739</span>                 :                : /*</span>
<span id="L9740" title="Line 9740: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9740</span>                 :                :  * Default scale selection for division</span>
<span id="L9741" title="Line 9741: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9741</span>                 :                :  *</span>
<span id="L9742" title="Line 9742: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9742</span>                 :                :  * Returns the appropriate result scale for the division result.</span>
<span id="L9743" title="Line 9743: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9743</span>                 :                :  */</span>
<span id="L9744" title="Line 9744: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9744</span>                 :                : static int</span>
<span id="L9745" title="Line 9745: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L9814" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    9745</span>                 :<span class="tlaCBC">          74813 : select_div_scale(const NumericVar *var1, const NumericVar *var2)</span></span>
<span id="L9746" title="Line 9746: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9746</span>                 :                : {</span>
<span id="L9747" title="Line 9747: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9747</span>                 :                :     int         weight1,</span>
<span id="L9748" title="Line 9748: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9748</span>                 :                :                 weight2,</span>
<span id="L9749" title="Line 9749: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9749</span>                 :                :                 qweight,</span>
<span id="L9750" title="Line 9750: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9750</span>                 :                :                 i;</span>
<span id="L9751" title="Line 9751: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9751</span>                 :                :     NumericDigit firstdigit1,</span>
<span id="L9752" title="Line 9752: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9752</span>                 :                :                 firstdigit2;</span>
<span id="L9753" title="Line 9753: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9753</span>                 :                :     int         rscale;</span>
<span id="L9754" title="Line 9754: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9754</span>                 :                : </span>
<span id="L9755" title="Line 9755: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9755</span>                 :                :     /*</span>
<span id="L9756" title="Line 9756: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    9756</span>                 :                :      * The result scale of a division isn't specified in any SQL standard. For</span>
<span id="L9757" title="Line 9757: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">    9757</span>                 :                :      * PostgreSQL we select a result scale that will give at least</span>
<span id="L9758" title="Line 9758: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9758</span>                 :                :      * NUMERIC_MIN_SIG_DIGITS significant digits, so that numeric gives a</span>
<span id="L9759" title="Line 9759: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9759</span>                 :                :      * result no less accurate than float8; but use a scale not less than</span>
<span id="L9760" title="Line 9760: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9760</span>                 :                :      * either input's display scale.</span>
<span id="L9761" title="Line 9761: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9761</span>                 :                :      */</span>
<span id="L9762" title="Line 9762: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9762</span>                 :                : </span>
<span id="L9763" title="Line 9763: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9763</span>                 :                :     /* Get the actual (normalized) weight and first digit of each input */</span>
<span id="L9764" title="Line 9764: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9764</span>                 :                : </span>
<span id="L9765" title="Line 9765: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us"> 8364 <a href="#L9828" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9765</span>                 :<span class="tlaCBC">          74813 :     weight1 = 0;                /* values to use if var1 is zero */</span></span>
<span id="L9766" title="Line 9766: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9766</span>                 :<span class="tlaCBC">          74813 :     firstdigit1 = 0;</span></span>
<span id="L9767" title="Line 9767: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9767</span>         [<span class="tlaCBC"> <a href="#L9770" title="CBC: Branch 0 was taken 73963 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9770" title="CBC: Branch 1 was taken 850 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          74813 :     for (i = 0; i &lt; var1-&gt;ndigits; i++)</span></span>
<span id="L9768" title="Line 9768: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9768</span>                 :                :     {</span>
<span id="L9769" title="Line 9769: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9769</span>                 :<span class="tlaCBC">          73963 :         firstdigit1 = var1-&gt;digits[i];</span></span>
<span id="L9770" title="Line 9770: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9770</span>         [<span class="tlaCBC"> <a href="#L9779" title="CBC: Branch 0 was taken 73963 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L9782" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">          73963 :         if (firstdigit1 != 0)</span></span>
<span id="L9771" title="Line 9771: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9771</span>                 :                :         {</span>
<span id="L9772" title="Line 9772: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9772</span>                 :<span class="tlaCBC">          73963 :             weight1 = var1-&gt;weight - i;</span></span>
<span id="L9773" title="Line 9773: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9773</span>                 :<span class="tlaCBC">          73963 :             break;</span></span>
<span id="L9774" title="Line 9774: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9774</span>                 :                :         }</span>
<span id="L9775" title="Line 9775: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9775</span>                 :                :     }</span>
<span id="L9776" title="Line 9776: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9776</span>                 :                : </span>
<span id="L9777" title="Line 9777: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9777</span>                 :<span class="tlaCBC">          74813 :     weight2 = 0;                /* values to use if var2 is zero */</span></span>
<span id="L9778" title="Line 9778: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9778</span>                 :<span class="tlaCBC">          74813 :     firstdigit2 = 0;</span></span>
<span id="L9779" title="Line 9779: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9779</span>         [<span class="tlaCBC"> <a href="#L9782" title="CBC: Branch 0 was taken 74788 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9782" title="CBC: Branch 1 was taken 25 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          74813 :     for (i = 0; i &lt; var2-&gt;ndigits; i++)</span></span>
<span id="L9780" title="Line 9780: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9780</span>                 :                :     {</span>
<span id="L9781" title="Line 9781: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9781</span>                 :<span class="tlaCBC">          74788 :         firstdigit2 = var2-&gt;digits[i];</span></span>
<span id="L9782" title="Line 9782: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9782</span>         [<span class="tlaCBC"> <a href="#L9794" title="CBC: Branch 0 was taken 74788 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L9868" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">          74788 :         if (firstdigit2 != 0)</span></span>
<span id="L9783" title="Line 9783: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9783</span>                 :                :         {</span>
<span id="L9784" title="Line 9784: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9784</span>                 :<span class="tlaCBC">          74788 :             weight2 = var2-&gt;weight - i;</span></span>
<span id="L9785" title="Line 9785: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9785</span>                 :<span class="tlaCBC">          74788 :             break;</span></span>
<span id="L9786" title="Line 9786: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9786</span>                 :                :         }</span>
<span id="L9787" title="Line 9787: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9787</span>                 :                :     }</span>
<span id="L9788" title="Line 9788: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9788</span>                 :                : </span>
<span id="L9789" title="Line 9789: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9789</span>                 :                :     /*</span>
<span id="L9790" title="Line 9790: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">    9790</span>                 :                :      * Estimate weight of quotient.  If the two first digits are equal, we</span>
<span id="L9791" title="Line 9791: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">    9791</span>                 :                :      * can't be sure, but assume that var1 is less than var2.</span>
<span id="L9792" title="Line 9792: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9792</span>                 :                :      */</span>
<span id="L9793" title="Line 9793: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9793</span>                 :<span class="tlaCBC">          74813 :     qweight = weight1 - weight2;</span></span>
<span id="L9794" title="Line 9794: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9794</span>         [<span class="tlaCBC"> <a href="#L9868" title="CBC: Branch 0 was taken 66397 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9868" title="CBC: Branch 1 was taken 8416 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          74813 :     if (firstdigit1 &lt;= firstdigit2)</span></span>
<span id="L9795" title="Line 9795: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9795</span>                 :<span class="tlaCBC">          66397 :         qweight--;</span></span>
<span id="L9796" title="Line 9796: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9796</span>                 :                : </span>
<span id="L9797" title="Line 9797: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9797</span>                 :                :     /* Select result scale */</span>
<span id="L9798" title="Line 9798: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">    9798</span>                 :<span class="tlaCBC">          74813 :     rscale = NUMERIC_MIN_SIG_DIGITS - qweight * DEC_DIGITS;</span></span>
<span id="L9799" title="Line 9799: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9799</span>                 :<span class="tlaCBC">          74813 :     rscale = Max(rscale, var1-&gt;dscale);</span></span>
<span id="L9800" title="Line 9800: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9800</span>                 :<span class="tlaCBC">          74813 :     rscale = Max(rscale, var2-&gt;dscale);</span></span>
<span id="L9801" title="Line 9801: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9801</span>                 :<span class="tlaCBC">          74813 :     rscale = Max(rscale, NUMERIC_MIN_DISPLAY_SCALE);</span></span>
<span id="L9802" title="Line 9802: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9802</span>                 :<span class="tlaCBC">          74813 :     rscale = Min(rscale, NUMERIC_MAX_DISPLAY_SCALE);</span></span>
<span id="L9803" title="Line 9803: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9803</span>                 :                : </span>
<span id="L9804" title="Line 9804: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9804</span>                 :<span class="tlaCBC">          74813 :     return rscale;</span></span>
<span id="L9805" title="Line 9805: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9805</span>                 :                : }</span>
<span id="L9806" title="Line 9806: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9806</span>                 :                : </span>
<span id="L9807" title="Line 9807: commit 07009651ce4b on 2001-12-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9807</span>                 :                : </span>
<span id="L9808" title="Line 9808: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9808</span>                 :                : /*</span>
<span id="L9809" title="Line 9809: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9809</span>                 :                :  * mod_var() -</span>
<span id="L9810" title="Line 9810: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9810</span>                 :                :  *</span>
<span id="L9811" title="Line 9811: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9811</span>                 :                :  *  Calculate the modulo of two numerics at variable level</span>
<span id="L9812" title="Line 9812: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9812</span>                 :                :  */</span>
<span id="L9813" title="Line 9813: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9813</span>                 :                : static void</span>
<span id="L9814" title="Line 9814: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L9913" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    9814</span>                 :<span class="tlaCBC">         206842 : mod_var(const NumericVar *var1, const NumericVar *var2, NumericVar *result)</span></span>
<span id="L9815" title="Line 9815: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9815</span>                 :                : {</span>
<span id="L9816" title="Line 9816: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    9816</span>                 :                :     NumericVar  tmp;</span>
<span id="L9817" title="Line 9817: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9817</span>                 :                : </span>
<span id="L9818" title="Line 9818: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L9830" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    9818</span>                 :<span class="tlaCBC">         206842 :     init_var(&amp;tmp);</span></span>
<span id="L9819" title="Line 9819: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9819</span>                 :                : </span>
<span id="L9820" title="Line 9820: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">    9820</span>                 :                :     /* ---------</span>
<span id="L9821" title="Line 9821: commit 286d1fc38238 on 2001-03-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9821</span>                 :                :      * We do this using the equation</span>
<span id="L9822" title="Line 9822: commit 286d1fc38238 on 2001-03-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9822</span>                 :                :      *      mod(x,y) = x - trunc(x/y)*y</span>
<span id="L9823" title="Line 9823: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9823</span>                 :                :      * div_var can be persuaded to give us trunc(x/y) directly.</span>
<span id="L9824" title="Line 9824: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9824</span>                 :                :      * ----------</span>
<span id="L9825" title="Line 9825: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9825</span>                 :                :      */</span>
<span id="L9826" title="Line 9826: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L9857" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L9843" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9826</span>                 :<span class="tlaCBC">         206842 :     div_var(var1, var2, &amp;tmp, 0, false, true);</span></span>
<span id="L9827" title="Line 9827: commit 286d1fc38238 on 2001-03-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9827</span>                 :                : </span>
<span id="L9828" title="Line 9828: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us"> <a href="#L9860" title="next CBC in &ldquo;(360..) days&rdquo; bin">6353</a> <a href="#L9920" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9828</span>                 :<span class="tlaCBC">         206836 :     mul_var(var2, &amp;tmp, &amp;tmp, var2-&gt;dscale);</span></span>
<span id="L9829" title="Line 9829: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9829</span>                 :                : </span>
<span id="L9830" title="Line 9830: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L9917" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    9830</span>                 :<span class="tlaCBC">         206836 :     sub_var(var1, &amp;tmp, result);</span></span>
<span id="L9831" title="Line 9831: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9831</span>                 :                : </span>
<span id="L9832" title="Line 9832: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9832</span>                 :<span class="tlaCBC">         206836 :     free_var(&amp;tmp);</span></span>
<span id="L9833" title="Line 9833: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9833</span>                 :<span class="tlaCBC">         206836 : }</span></span>
<span id="L9834" title="Line 9834: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9834</span>                 :                : </span>
<span id="L9835" title="Line 9835: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9835</span>                 :                : </span>
<span id="L9836" title="Line 9836: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9836</span>                 :                : /*</span>
<span id="L9837" title="Line 9837: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9837</span>                 :                :  * div_mod_var() -</span>
<span id="L9838" title="Line 9838: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9838</span>                 :                :  *</span>
<span id="L9839" title="Line 9839: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9839</span>                 :                :  *  Calculate the truncated integer quotient and numeric remainder of two</span>
<span id="L9840" title="Line 9840: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9840</span>                 :                :  *  numeric variables.  The remainder is precise to var2's dscale.</span>
<span id="L9841" title="Line 9841: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9841</span>                 :                :  */</span>
<span id="L9842" title="Line 9842: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9842</span>                 :                : static void</span>
<span id="L9843" title="Line 9843: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"> 1977 <a href="#L9883" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9843</span>                 :<span class="tlaCBC">           2259 : div_mod_var(const NumericVar *var1, const NumericVar *var2,</span></span>
<span id="L9844" title="Line 9844: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9844</span>                 :                :             NumericVar *quot, NumericVar *rem)</span>
<span id="L9845" title="Line 9845: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9845</span>                 :                : {</span>
<span id="L9846" title="Line 9846: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9846</span>                 :                :     NumericVar  q;</span>
<span id="L9847" title="Line 9847: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9847</span>                 :                :     NumericVar  r;</span>
<span id="L9848" title="Line 9848: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9848</span>                 :                : </span>
<span id="L9849" title="Line 9849: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9849</span>                 :<span class="tlaCBC">           2259 :     init_var(&amp;q);</span></span>
<span id="L9850" title="Line 9850: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9850</span>                 :<span class="tlaCBC">           2259 :     init_var(&amp;r);</span></span>
<span id="L9851" title="Line 9851: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9851</span>                 :                : </span>
<span id="L9852" title="Line 9852: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9852</span>                 :                :     /*</span>
<span id="L9853" title="Line 9853: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9853</span>                 :                :      * Use div_var() with exact = false to get an initial estimate for the</span>
<span id="L9854" title="Line 9854: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9854</span>                 :                :      * integer quotient (truncated towards zero).  This might be slightly</span>
<span id="L9855" title="Line 9855: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9855</span>                 :                :      * inaccurate, but we correct it below.</span>
<span id="L9856" title="Line 9856: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9856</span>                 :                :      */</span>
<span id="L9857" title="Line 9857: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L10800" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a>                      <span class="lineNum">    9857</span>                 :<span class="tlaCBC">           2259 :     div_var(var1, var2, &amp;q, 0, false, false);</span></span>
<span id="L9858" title="Line 9858: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9858</span>                 :                : </span>
<span id="L9859" title="Line 9859: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9859</span>                 :                :     /* Compute initial estimate of remainder using the quotient estimate. */</span>
<span id="L9860" title="Line 9860: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"> <a href="#L9883" title="next CBC in &ldquo;(360..) days&rdquo; bin">1977</a>                      <span class="lineNum">    9860</span>                 :<span class="tlaCBC">           2259 :     mul_var(var2, &amp;q, &amp;r, var2-&gt;dscale);</span></span>
<span id="L9861" title="Line 9861: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9861</span>                 :<span class="tlaCBC">           2259 :     sub_var(var1, &amp;r, &amp;r);</span></span>
<span id="L9862" title="Line 9862: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9862</span>                 :                : </span>
<span id="L9863" title="Line 9863: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9863</span>                 :                :     /*</span>
<span id="L9864" title="Line 9864: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9864</span>                 :                :      * Adjust the results if necessary --- the remainder should have the same</span>
<span id="L9865" title="Line 9865: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9865</span>                 :                :      * sign as var1, and its absolute value should be less than the absolute</span>
<span id="L9866" title="Line 9866: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9866</span>                 :                :      * value of var2.</span>
<span id="L9867" title="Line 9867: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9867</span>                 :                :      */</span>
<span id="L9868" title="Line 9868: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9868</span>   [<span class="tlaCBC"> <a href="#L9883" title="CBC: Branch 0 was taken 2259 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L9871" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L9871" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L9883" title="CBC: Branch 3 was taken 2259 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2259 :     while (r.ndigits != 0 &amp;&amp; r.sign != var1-&gt;sign)</span></span>
<span id="L9869" title="Line 9869: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9869</span>                 :                :     {</span>
<span id="L9870" title="Line 9870: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9870</span>                 :                :         /* The absolute value of the quotient is too large */</span>
<span id="L9871" title="Line 9871: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1977 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L9886" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1977</a> <a href="#L9886" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    9871</span>         [<span class="tlaUBC"> <a href="#L9883" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L9883" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L9886" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         if (var1-&gt;sign == var2-&gt;sign)</span></span>
<span id="L9872" title="Line 9872: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9872</span>                 :                :         {</span>
<span id="L9873" title="Line 9873: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1977 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    9873</span>                 :<span class="tlaUBC">              0 :             sub_var(&amp;q, &amp;const_one, &amp;q);</span></span>
<span id="L9874" title="Line 9874: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1977 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    9874</span>                 :<span class="tlaUBC">              0 :             add_var(&amp;r, var2, &amp;r);</span></span>
<span id="L9875" title="Line 9875: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9875</span>                 :                :         }</span>
<span id="L9876" title="Line 9876: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9876</span>                 :                :         else</span>
<span id="L9877" title="Line 9877: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9877</span>                 :                :         {</span>
<span id="L9878" title="Line 9878: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1977 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    9878</span>                 :<span class="tlaUBC">              0 :             add_var(&amp;q, &amp;const_one, &amp;q);</span></span>
<span id="L9879" title="Line 9879: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1977 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    9879</span>                 :<span class="tlaUBC">              0 :             sub_var(&amp;r, var2, &amp;r);</span></span>
<span id="L9880" title="Line 9880: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9880</span>                 :                :         }</span>
<span id="L9881" title="Line 9881: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9881</span>                 :                :     }</span>
<span id="L9882" title="Line 9882: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9882</span>                 :                : </span>
<span id="L9883" title="Line 9883: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"> <a href="#L9898" title="next CBC in &ldquo;(360..) days&rdquo; bin">1977</a> <a href="#L9898" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9883</span>         [<span class="tlaUBC"> <a href="#L9886" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L9922" title="CBC: Branch 1 was taken 2259 times" class="branchTla">+</a> </span>]:<a href="#L9898" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        2259 :     while (cmp_abs(&amp;r, var2) &gt;= 0)</span></span>
<span id="L9884" title="Line 9884: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9884</span>                 :                :     {</span>
<span id="L9885" title="Line 9885: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9885</span>                 :                :         /* The absolute value of the quotient is too small */</span>
<span id="L9886" title="Line 9886: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1977 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L10092" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1977</a> <a href="#L10092" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">    9886</span>         [<span class="tlaUBC"> <a href="#L10006" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L10006" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L10092" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         if (var1-&gt;sign == var2-&gt;sign)</span></span>
<span id="L9887" title="Line 9887: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9887</span>                 :                :         {</span>
<span id="L9888" title="Line 9888: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1977 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    9888</span>                 :<span class="tlaUBC">              0 :             add_var(&amp;q, &amp;const_one, &amp;q);</span></span>
<span id="L9889" title="Line 9889: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1977 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    9889</span>                 :<span class="tlaUBC">              0 :             sub_var(&amp;r, var2, &amp;r);</span></span>
<span id="L9890" title="Line 9890: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9890</span>                 :                :         }</span>
<span id="L9891" title="Line 9891: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9891</span>                 :                :         else</span>
<span id="L9892" title="Line 9892: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9892</span>                 :                :         {</span>
<span id="L9893" title="Line 9893: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1977 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    9893</span>                 :<span class="tlaUBC">              0 :             sub_var(&amp;q, &amp;const_one, &amp;q);</span></span>
<span id="L9894" title="Line 9894: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1977 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">    9894</span>                 :<span class="tlaUBC">              0 :             add_var(&amp;r, var2, &amp;r);</span></span>
<span id="L9895" title="Line 9895: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9895</span>                 :                :         }</span>
<span id="L9896" title="Line 9896: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9896</span>                 :                :     }</span>
<span id="L9897" title="Line 9897: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9897</span>                 :                : </span>
<span id="L9898" title="Line 9898: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"> <a href="#L10093" title="next CBC in &ldquo;(360..) days&rdquo; bin">1977</a> <a href="#L9960" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9898</span>                 :<a href="#L10093" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        2259 :     set_var_from_var(&amp;q, quot);</span></span>
<span id="L9899" title="Line 9899: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9899</span>                 :<span class="tlaCBC">           2259 :     set_var_from_var(&amp;r, rem);</span></span>
<span id="L9900" title="Line 9900: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9900</span>                 :                : </span>
<span id="L9901" title="Line 9901: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9901</span>                 :<span class="tlaCBC">           2259 :     free_var(&amp;q);</span></span>
<span id="L9902" title="Line 9902: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9902</span>                 :<span class="tlaCBC">           2259 :     free_var(&amp;r);</span></span>
<span id="L9903" title="Line 9903: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9903</span>                 :<span class="tlaCBC">           2259 : }</span></span>
<span id="L9904" title="Line 9904: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9904</span>                 :                : </span>
<span id="L9905" title="Line 9905: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9905</span>                 :                : </span>
<span id="L9906" title="Line 9906: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9906</span>                 :                : /*</span>
<span id="L9907" title="Line 9907: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9907</span>                 :                :  * ceil_var() -</span>
<span id="L9908" title="Line 9908: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9908</span>                 :                :  *</span>
<span id="L9909" title="Line 9909: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9909</span>                 :                :  *  Return the smallest integer greater than or equal to the argument</span>
<span id="L9910" title="Line 9910: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9910</span>                 :                :  *  on variable level</span>
<span id="L9911" title="Line 9911: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9911</span>                 :                :  */</span>
<span id="L9912" title="Line 9912: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9912</span>                 :                : static void</span>
<span id="L9913" title="Line 9913: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L9937" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    9913</span>                 :<span class="tlaCBC">            102 : ceil_var(const NumericVar *var, NumericVar *result)</span></span>
<span id="L9914" title="Line 9914: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9914</span>                 :                : {</span>
<span id="L9915" title="Line 9915: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    9915</span>                 :                :     NumericVar  tmp;</span>
<span id="L9916" title="Line 9916: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9916</span>                 :                : </span>
<span id="L9917" title="Line 9917: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L9923" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    9917</span>                 :<span class="tlaCBC">            102 :     init_var(&amp;tmp);</span></span>
<span id="L9918" title="Line 9918: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9918</span>                 :<span class="tlaCBC">            102 :     set_var_from_var(var, &amp;tmp);</span></span>
<span id="L9919" title="Line 9919: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9919</span>                 :                : </span>
<span id="L9920" title="Line 9920: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L9944" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9920</span>                 :<span class="tlaCBC">            102 :     trunc_var(&amp;tmp, 0);</span></span>
<span id="L9921" title="Line 9921: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9921</span>                 :                : </span>
<span id="L9922" title="Line 9922: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9922</span>   [<span class="tlaCBC"> <a href="#L9946" title="CBC: Branch 0 was taken 60 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9946" title="CBC: Branch 1 was taken 42 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9946" title="CBC: Branch 2 was taken 30 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9946" title="CBC: Branch 3 was taken 30 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            102 :     if (var-&gt;sign == NUMERIC_POS &amp;&amp; cmp_var(var, &amp;tmp) != 0)</span></span>
<span id="L9923" title="Line 9923: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L9941" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    9923</span>                 :<span class="tlaCBC">             30 :         add_var(&amp;tmp, &amp;const_one, &amp;tmp);</span></span>
<span id="L9924" title="Line 9924: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9924</span>                 :                : </span>
<span id="L9925" title="Line 9925: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9925</span>                 :<span class="tlaCBC">            102 :     set_var_from_var(&amp;tmp, result);</span></span>
<span id="L9926" title="Line 9926: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9926</span>                 :<span class="tlaCBC">            102 :     free_var(&amp;tmp);</span></span>
<span id="L9927" title="Line 9927: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9927</span>                 :<span class="tlaCBC">            102 : }</span></span>
<span id="L9928" title="Line 9928: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9928</span>                 :                : </span>
<span id="L9929" title="Line 9929: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9929</span>                 :                : </span>
<span id="L9930" title="Line 9930: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9930</span>                 :                : /*</span>
<span id="L9931" title="Line 9931: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9931</span>                 :                :  * floor_var() -</span>
<span id="L9932" title="Line 9932: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9932</span>                 :                :  *</span>
<span id="L9933" title="Line 9933: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9933</span>                 :                :  *  Return the largest integer equal to or less than the argument</span>
<span id="L9934" title="Line 9934: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9934</span>                 :                :  *  on variable level</span>
<span id="L9935" title="Line 9935: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9935</span>                 :                :  */</span>
<span id="L9936" title="Line 9936: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9936</span>                 :                : static void</span>
<span id="L9937" title="Line 9937: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L10030" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">    9937</span>                 :<span class="tlaCBC">             54 : floor_var(const NumericVar *var, NumericVar *result)</span></span>
<span id="L9938" title="Line 9938: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9938</span>                 :                : {</span>
<span id="L9939" title="Line 9939: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">    9939</span>                 :                :     NumericVar  tmp;</span>
<span id="L9940" title="Line 9940: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9940</span>                 :                : </span>
<span id="L9941" title="Line 9941: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L9947" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    9941</span>                 :<span class="tlaCBC">             54 :     init_var(&amp;tmp);</span></span>
<span id="L9942" title="Line 9942: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9942</span>                 :<span class="tlaCBC">             54 :     set_var_from_var(var, &amp;tmp);</span></span>
<span id="L9943" title="Line 9943: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9943</span>                 :                : </span>
<span id="L9944" title="Line 9944: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L10053" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">    9944</span>                 :<span class="tlaCBC">             54 :     trunc_var(&amp;tmp, 0);</span></span>
<span id="L9945" title="Line 9945: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9945</span>                 :                : </span>
<span id="L9946" title="Line 9946: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">    9946</span>   [<span class="tlaCBC"> <a href="#L9976" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9976" title="CBC: Branch 1 was taken 33 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9976" title="CBC: Branch 2 was taken 15 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9976" title="CBC: Branch 3 was taken 6 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             54 :     if (var-&gt;sign == NUMERIC_NEG &amp;&amp; cmp_var(var, &amp;tmp) != 0)</span></span>
<span id="L9947" title="Line 9947: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L10050" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">    9947</span>                 :<span class="tlaCBC">             15 :         sub_var(&amp;tmp, &amp;const_one, &amp;tmp);</span></span>
<span id="L9948" title="Line 9948: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9948</span>                 :                : </span>
<span id="L9949" title="Line 9949: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9949</span>                 :<span class="tlaCBC">             54 :     set_var_from_var(&amp;tmp, result);</span></span>
<span id="L9950" title="Line 9950: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9950</span>                 :<span class="tlaCBC">             54 :     free_var(&amp;tmp);</span></span>
<span id="L9951" title="Line 9951: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9951</span>                 :<span class="tlaCBC">             54 : }</span></span>
<span id="L9952" title="Line 9952: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9952</span>                 :                : </span>
<span id="L9953" title="Line 9953: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">    9953</span>                 :                : </span>
<span id="L9954" title="Line 9954: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9954</span>                 :                : /*</span>
<span id="L9955" title="Line 9955: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9955</span>                 :                :  * gcd_var() -</span>
<span id="L9956" title="Line 9956: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9956</span>                 :                :  *</span>
<span id="L9957" title="Line 9957: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9957</span>                 :                :  *  Calculate the greatest common divisor of two numerics at variable level</span>
<span id="L9958" title="Line 9958: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9958</span>                 :                :  */</span>
<span id="L9959" title="Line 9959: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9959</span>                 :                : static void</span>
<span id="L9960" title="Line 9960: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com"> 2040 <a href="#L10067" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">    9960</span>                 :<span class="tlaCBC">            111 : gcd_var(const NumericVar *var1, const NumericVar *var2, NumericVar *result)</span></span>
<span id="L9961" title="Line 9961: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9961</span>                 :                : {</span>
<span id="L9962" title="Line 9962: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9962</span>                 :                :     int         res_dscale;</span>
<span id="L9963" title="Line 9963: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9963</span>                 :                :     int         cmp;</span>
<span id="L9964" title="Line 9964: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9964</span>                 :                :     NumericVar  tmp_arg;</span>
<span id="L9965" title="Line 9965: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9965</span>                 :                :     NumericVar  mod;</span>
<span id="L9966" title="Line 9966: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9966</span>                 :                : </span>
<span id="L9967" title="Line 9967: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9967</span>                 :<span class="tlaCBC">            111 :     res_dscale = Max(var1-&gt;dscale, var2-&gt;dscale);</span></span>
<span id="L9968" title="Line 9968: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9968</span>                 :                : </span>
<span id="L9969" title="Line 9969: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9969</span>                 :                :     /*</span>
<span id="L9970" title="Line 9970: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9970</span>                 :                :      * Arrange for var1 to be the number with the greater absolute value.</span>
<span id="L9971" title="Line 9971: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9971</span>                 :                :      *</span>
<span id="L9972" title="Line 9972: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9972</span>                 :                :      * This would happen automatically in the loop below, but avoids an</span>
<span id="L9973" title="Line 9973: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9973</span>                 :                :      * expensive modulo operation.</span>
<span id="L9974" title="Line 9974: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9974</span>                 :                :      */</span>
<span id="L9975" title="Line 9975: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9975</span>                 :<span class="tlaCBC">            111 :     cmp = cmp_abs(var1, var2);</span></span>
<span id="L9976" title="Line 9976: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9976</span>         [<span class="tlaCBC"> <a href="#L9988" title="CBC: Branch 0 was taken 42 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L9988" title="CBC: Branch 1 was taken 69 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            111 :     if (cmp &lt; 0)</span></span>
<span id="L9977" title="Line 9977: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9977</span>                 :                :     {</span>
<span id="L9978" title="Line 9978: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9978</span>                 :<span class="tlaCBC">             42 :         const NumericVar *tmp = var1;</span></span>
<span id="L9979" title="Line 9979: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9979</span>                 :                : </span>
<span id="L9980" title="Line 9980: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9980</span>                 :<span class="tlaCBC">             42 :         var1 = var2;</span></span>
<span id="L9981" title="Line 9981: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9981</span>                 :<span class="tlaCBC">             42 :         var2 = tmp;</span></span>
<span id="L9982" title="Line 9982: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9982</span>                 :                :     }</span>
<span id="L9983" title="Line 9983: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9983</span>                 :                : </span>
<span id="L9984" title="Line 9984: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9984</span>                 :                :     /*</span>
<span id="L9985" title="Line 9985: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9985</span>                 :                :      * Also avoid the taking the modulo if the inputs have the same absolute</span>
<span id="L9986" title="Line 9986: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9986</span>                 :                :      * value, or if the smaller input is zero.</span>
<span id="L9987" title="Line 9987: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9987</span>                 :                :      */</span>
<span id="L9988" title="Line 9988: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9988</span>   [<span class="tlaCBC"> <a href="#L10006" title="CBC: Branch 0 was taken 87 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10006" title="CBC: Branch 1 was taken 24 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10006" title="CBC: Branch 2 was taken 12 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10006" title="CBC: Branch 3 was taken 75 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            111 :     if (cmp == 0 || var2-&gt;ndigits == 0)</span></span>
<span id="L9989" title="Line 9989: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9989</span>                 :                :     {</span>
<span id="L9990" title="Line 9990: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9990</span>                 :<span class="tlaCBC">             36 :         set_var_from_var(var1, result);</span></span>
<span id="L9991" title="Line 9991: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9991</span>                 :<span class="tlaCBC">             36 :         result-&gt;sign = NUMERIC_POS;</span></span>
<span id="L9992" title="Line 9992: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9992</span>                 :<span class="tlaCBC">             36 :         result-&gt;dscale = res_dscale;</span></span>
<span id="L9993" title="Line 9993: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9993</span>                 :<span class="tlaCBC">             36 :         return;</span></span>
<span id="L9994" title="Line 9994: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9994</span>                 :                :     }</span>
<span id="L9995" title="Line 9995: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9995</span>                 :                : </span>
<span id="L9996" title="Line 9996: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9996</span>                 :<span class="tlaCBC">             75 :     init_var(&amp;tmp_arg);</span></span>
<span id="L9997" title="Line 9997: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9997</span>                 :<span class="tlaCBC">             75 :     init_var(&amp;mod);</span></span>
<span id="L9998" title="Line 9998: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9998</span>                 :                : </span>
<span id="L9999" title="Line 9999: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">    9999</span>                 :                :     /* Use the Euclidean algorithm to find the GCD */</span>
<span id="L10000" title="Line 10000: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10000</span>                 :<span class="tlaCBC">             75 :     set_var_from_var(var1, &amp;tmp_arg);</span></span>
<span id="L10001" title="Line 10001: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10001</span>                 :<span class="tlaCBC">             75 :     set_var_from_var(var2, result);</span></span>
<span id="L10002" title="Line 10002: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10002</span>                 :                : </span>
<span id="L10003" title="Line 10003: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10003</span>                 :                :     for (;;)</span>
<span id="L10004" title="Line 10004: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10004</span>                 :                :     {</span>
<span id="L10005" title="Line 10005: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10005</span>                 :                :         /* this loop can take a while, so allow it to be interrupted */</span>
<span id="L10006" title="Line 10006: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10006</span>         [<span class="tlaUBC"> <a href="#L10063" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L10009" title="CBC: Branch 1 was taken 294 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            294 :         CHECK_FOR_INTERRUPTS();</span></span>
<span id="L10007" title="Line 10007: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10007</span>                 :                : </span>
<span id="L10008" title="Line 10008: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10008</span>                 :<span class="tlaCBC">            294 :         mod_var(&amp;tmp_arg, result, &amp;mod);</span></span>
<span id="L10009" title="Line 10009: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10009</span>         [<span class="tlaCBC"> <a href="#L10051" title="CBC: Branch 0 was taken 75 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10051" title="CBC: Branch 1 was taken 219 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            294 :         if (mod.ndigits == 0)</span></span>
<span id="L10010" title="Line 10010: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10010</span>                 :<span class="tlaCBC">             75 :             break;</span></span>
<span id="L10011" title="Line 10011: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10011</span>                 :<span class="tlaCBC">            219 :         set_var_from_var(result, &amp;tmp_arg);</span></span>
<span id="L10012" title="Line 10012: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10012</span>                 :<span class="tlaCBC">            219 :         set_var_from_var(&amp;mod, result);</span></span>
<span id="L10013" title="Line 10013: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10013</span>                 :                :     }</span>
<span id="L10014" title="Line 10014: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10014</span>                 :<span class="tlaCBC">             75 :     result-&gt;sign = NUMERIC_POS;</span></span>
<span id="L10015" title="Line 10015: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10015</span>                 :<span class="tlaCBC">             75 :     result-&gt;dscale = res_dscale;</span></span>
<span id="L10016" title="Line 10016: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10016</span>                 :                : </span>
<span id="L10017" title="Line 10017: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10017</span>                 :<span class="tlaCBC">             75 :     free_var(&amp;tmp_arg);</span></span>
<span id="L10018" title="Line 10018: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10018</span>                 :<span class="tlaCBC">             75 :     free_var(&amp;mod);</span></span>
<span id="L10019" title="Line 10019: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10019</span>                 :                : }</span>
<span id="L10020" title="Line 10020: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10020</span>                 :                : </span>
<span id="L10021" title="Line 10021: commit 13661ddd7eae on 2020-01-25 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10021</span>                 :                : </span>
<span id="L10022" title="Line 10022: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10022</span>                 :                : /*</span>
<span id="L10023" title="Line 10023: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10023</span>                 :                :  * sqrt_var() -</span>
<span id="L10024" title="Line 10024: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10024</span>                 :                :  *</span>
<span id="L10025" title="Line 10025: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10025</span>                 :                :  *  Compute the square root of x using the Karatsuba Square Root algorithm.</span>
<span id="L10026" title="Line 10026: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10026</span>                 :                :  *  NOTE: we allow rscale &lt; 0 here, implying rounding before the decimal</span>
<span id="L10027" title="Line 10027: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10027</span>                 :                :  *  point.</span>
<span id="L10028" title="Line 10028: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10028</span>                 :                :  */</span>
<span id="L10029" title="Line 10029: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10029</span>                 :                : static void</span>
<span id="L10030" title="Line 10030: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L10510" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">   10030</span>                 :<span class="tlaCBC">           2097 : sqrt_var(const NumericVar *arg, NumericVar *result, int rscale)</span></span>
<span id="L10031" title="Line 10031: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10031</span>                 :                : {</span>
<span id="L10032" title="Line 10032: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   10032</span>                 :                :     int         stat;</span>
<span id="L10033" title="Line 10033: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10033</span>                 :                :     int         res_weight;</span>
<span id="L10034" title="Line 10034: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10034</span>                 :                :     int         res_ndigits;</span>
<span id="L10035" title="Line 10035: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10035</span>                 :                :     int         src_ndigits;</span>
<span id="L10036" title="Line 10036: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10036</span>                 :                :     int         step;</span>
<span id="L10037" title="Line 10037: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10037</span>                 :                :     int         ndigits[32];</span>
<span id="L10038" title="Line 10038: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10038</span>                 :                :     int         blen;</span>
<span id="L10039" title="Line 10039: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10039</span>                 :                :     int64       arg_int64;</span>
<span id="L10040" title="Line 10040: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10040</span>                 :                :     int         src_idx;</span>
<span id="L10041" title="Line 10041: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10041</span>                 :                :     int64       s_int64;</span>
<span id="L10042" title="Line 10042: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10042</span>                 :                :     int64       r_int64;</span>
<span id="L10043" title="Line 10043: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10043</span>                 :                :     NumericVar  s_var;</span>
<span id="L10044" title="Line 10044: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10044</span>                 :                :     NumericVar  r_var;</span>
<span id="L10045" title="Line 10045: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10045</span>                 :                :     NumericVar  a0_var;</span>
<span id="L10046" title="Line 10046: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10046</span>                 :                :     NumericVar  a1_var;</span>
<span id="L10047" title="Line 10047: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10047</span>                 :                :     NumericVar  q_var;</span>
<span id="L10048" title="Line 10048: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10048</span>                 :                :     NumericVar  u_var;</span>
<span id="L10049" title="Line 10049: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10049</span>                 :                : </span>
<span id="L10050" title="Line 10050: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L10055" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   10050</span>                 :<span class="tlaCBC">           2097 :     stat = cmp_var(arg, &amp;const_zero);</span></span>
<span id="L10051" title="Line 10051: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10051</span>         [<span class="tlaCBC"> <a href="#L10062" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10062" title="CBC: Branch 1 was taken 2088 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2097 :     if (stat == 0)</span></span>
<span id="L10052" title="Line 10052: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10052</span>                 :                :     {</span>
<span id="L10053" title="Line 10053: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L10063" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10053</span>                 :<span class="tlaCBC">              9 :         zero_var(result);</span></span>
<span id="L10054" title="Line 10054: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10054</span>                 :<span class="tlaCBC">              9 :         result-&gt;dscale = rscale;</span></span>
<span id="L10055" title="Line 10055: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L10521" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   10055</span>                 :<span class="tlaCBC">              9 :         return;</span></span>
<span id="L10056" title="Line 10056: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10056</span>                 :                :     }</span>
<span id="L10057" title="Line 10057: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10057</span>                 :                : </span>
<span id="L10058" title="Line 10058: commit 132d09054ee1 on 2004-05-19 by neilc@samurai.com">                           <span class="lineNum">   10058</span>                 :                :     /*</span>
<span id="L10059" title="Line 10059: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">   10059</span>                 :                :      * SQL2003 defines sqrt() in terms of power, so we need to emit the right</span>
<span id="L10060" title="Line 10060: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">   10060</span>                 :                :      * SQLSTATE error code if the operand is negative.</span>
<span id="L10061" title="Line 10061: commit 132d09054ee1 on 2004-05-19 by neilc@samurai.com">                           <span class="lineNum">   10061</span>                 :                :      */</span>
<span id="L10062" title="Line 10062: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10062</span>         [<span class="tlaCBC"> <a href="#L10063" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10063" title="CBC: Branch 1 was taken 2085 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2088 :     if (stat &lt; 0)</span></span>
<span id="L10063" title="Line 10063: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us"> 8066 <a href="#L10490" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10063</span>         [<span class="tlaCBC"> <a href="#L10078" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L10089" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :         ereport(ERROR,</span></span>
<span id="L10064" title="Line 10064: commit 132d09054ee1 on 2004-05-19 by neilc@samurai.com">                           <span class="lineNum">   10064</span>                 :                :                 (errcode(ERRCODE_INVALID_ARGUMENT_FOR_POWER_FUNCTION),</span>
<span id="L10065" title="Line 10065: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10065</span>                 :                :                  errmsg(&quot;cannot take square root of a negative number&quot;)));</span>
<span id="L10066" title="Line 10066: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10066</span>                 :                : </span>
<span id="L10067" title="Line 10067: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"> 1977 <a href="#L10093" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10067</span>                 :<span class="tlaCBC">           2085 :     init_var(&amp;s_var);</span></span>
<span id="L10068" title="Line 10068: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10068</span>                 :<span class="tlaCBC">           2085 :     init_var(&amp;r_var);</span></span>
<span id="L10069" title="Line 10069: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10069</span>                 :<span class="tlaCBC">           2085 :     init_var(&amp;a0_var);</span></span>
<span id="L10070" title="Line 10070: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10070</span>                 :<span class="tlaCBC">           2085 :     init_var(&amp;a1_var);</span></span>
<span id="L10071" title="Line 10071: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10071</span>                 :<span class="tlaCBC">           2085 :     init_var(&amp;q_var);</span></span>
<span id="L10072" title="Line 10072: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10072</span>                 :<span class="tlaCBC">           2085 :     init_var(&amp;u_var);</span></span>
<span id="L10073" title="Line 10073: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10073</span>                 :                : </span>
<span id="L10074" title="Line 10074: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10074</span>                 :                :     /*</span>
<span id="L10075" title="Line 10075: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10075</span>                 :                :      * The result weight is half the input weight, rounded towards minus</span>
<span id="L10076" title="Line 10076: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10076</span>                 :                :      * infinity --- res_weight = floor(arg-&gt;weight / 2).</span>
<span id="L10077" title="Line 10077: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10077</span>                 :                :      */</span>
<span id="L10078" title="Line 10078: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10078</span>         [<span class="tlaCBC"> <a href="#L10089" title="CBC: Branch 0 was taken 1929 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10089" title="CBC: Branch 1 was taken 156 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2085 :     if (arg-&gt;weight &gt;= 0)</span></span>
<span id="L10079" title="Line 10079: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10079</span>                 :<span class="tlaCBC">           1929 :         res_weight = arg-&gt;weight / 2;</span></span>
<span id="L10080" title="Line 10080: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10080</span>                 :                :     else</span>
<span id="L10081" title="Line 10081: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10081</span>                 :<span class="tlaCBC">            156 :         res_weight = -((-arg-&gt;weight - 1) / 2 + 1);</span></span>
<span id="L10082" title="Line 10082: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10082</span>                 :                : </span>
<span id="L10083" title="Line 10083: commit 0686d49da0a3 on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">   10083</span>                 :                :     /*</span>
<span id="L10084" title="Line 10084: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10084</span>                 :                :      * Number of NBASE digits to compute.  To ensure correct rounding, compute</span>
<span id="L10085" title="Line 10085: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10085</span>                 :                :      * at least 1 extra decimal digit.  We explicitly allow rscale to be</span>
<span id="L10086" title="Line 10086: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10086</span>                 :                :      * negative here, but must always compute at least 1 NBASE digit.  Thus</span>
<span id="L10087" title="Line 10087: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10087</span>                 :                :      * res_ndigits = res_weight + 1 + ceil((rscale + 1) / DEC_DIGITS) or 1.</span>
<span id="L10088" title="Line 10088: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10088</span>                 :                :      */</span>
<span id="L10089" title="Line 10089: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10089</span>         [<span class="tlaCBC"> <a href="#L10172" title="CBC: Branch 0 was taken 2085 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L10213" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">           2085 :     if (rscale + 1 &gt;= 0)</span></span>
<span id="L10090" title="Line 10090: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10090</span>                 :<span class="tlaCBC">           2085 :         res_ndigits = res_weight + 1 + (rscale + DEC_DIGITS) / DEC_DIGITS;</span></span>
<span id="L10091" title="Line 10091: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10091</span>                 :                :     else</span>
<span id="L10092" title="Line 10092: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1977 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L10215" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1977</a> <a href="#L10215" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">   10092</span>                 :<a href="#L10215" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         res_ndigits = res_weight + 1 - (-rscale - 1) / DEC_DIGITS;</span></span>
<span id="L10093" title="Line 10093: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"> <a href="#L10238" title="next CBC in &ldquo;(360..) days&rdquo; bin">1977</a> <a href="#L10238" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10093</span>                 :<a href="#L10238" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        2085 :     res_ndigits = Max(res_ndigits, 1);</span></span>
<span id="L10094" title="Line 10094: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10094</span>                 :                : </span>
<span id="L10095" title="Line 10095: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10095</span>                 :                :     /*</span>
<span id="L10096" title="Line 10096: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10096</span>                 :                :      * Number of source NBASE digits logically required to produce a result</span>
<span id="L10097" title="Line 10097: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10097</span>                 :                :      * with this precision --- every digit before the decimal point, plus 2</span>
<span id="L10098" title="Line 10098: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10098</span>                 :                :      * for each result digit after the decimal point (or minus 2 for each</span>
<span id="L10099" title="Line 10099: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10099</span>                 :                :      * result digit we round before the decimal point).</span>
<span id="L10100" title="Line 10100: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10100</span>                 :                :      */</span>
<span id="L10101" title="Line 10101: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10101</span>                 :<span class="tlaCBC">           2085 :     src_ndigits = arg-&gt;weight + 1 + (res_ndigits - res_weight - 1) * 2;</span></span>
<span id="L10102" title="Line 10102: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10102</span>                 :<span class="tlaCBC">           2085 :     src_ndigits = Max(src_ndigits, 1);</span></span>
<span id="L10103" title="Line 10103: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10103</span>                 :                : </span>
<span id="L10104" title="Line 10104: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10104</span>                 :                :     /* ----------</span>
<span id="L10105" title="Line 10105: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10105</span>                 :                :      * From this point on, we treat the input and the result as integers and</span>
<span id="L10106" title="Line 10106: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10106</span>                 :                :      * compute the integer square root and remainder using the Karatsuba</span>
<span id="L10107" title="Line 10107: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10107</span>                 :                :      * Square Root algorithm, which may be written recursively as follows:</span>
<span id="L10108" title="Line 10108: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10108</span>                 :                :      *</span>
<span id="L10109" title="Line 10109: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10109</span>                 :                :      *  SqrtRem(n = a3*b^3 + a2*b^2 + a1*b + a0):</span>
<span id="L10110" title="Line 10110: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10110</span>                 :                :      *      [ for some base b, and coefficients a0,a1,a2,a3 chosen so that</span>
<span id="L10111" title="Line 10111: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10111</span>                 :                :      *        0 &lt;= a0,a1,a2 &lt; b and a3 &gt;= b/4 ]</span>
<span id="L10112" title="Line 10112: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10112</span>                 :                :      *      Let (s,r) = SqrtRem(a3*b + a2)</span>
<span id="L10113" title="Line 10113: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10113</span>                 :                :      *      Let (q,u) = DivRem(r*b + a1, 2*s)</span>
<span id="L10114" title="Line 10114: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10114</span>                 :                :      *      Let s = s*b + q</span>
<span id="L10115" title="Line 10115: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10115</span>                 :                :      *      Let r = u*b + a0 - q^2</span>
<span id="L10116" title="Line 10116: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10116</span>                 :                :      *      If r &lt; 0 Then</span>
<span id="L10117" title="Line 10117: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10117</span>                 :                :      *          Let r = r + s</span>
<span id="L10118" title="Line 10118: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10118</span>                 :                :      *          Let s = s - 1</span>
<span id="L10119" title="Line 10119: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10119</span>                 :                :      *          Let r = r + s</span>
<span id="L10120" title="Line 10120: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10120</span>                 :                :      *      Return (s,r)</span>
<span id="L10121" title="Line 10121: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10121</span>                 :                :      *</span>
<span id="L10122" title="Line 10122: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10122</span>                 :                :      * See &quot;Karatsuba Square Root&quot;, Paul Zimmermann, INRIA Research Report</span>
<span id="L10123" title="Line 10123: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10123</span>                 :                :      * RR-3805, November 1999.  At the time of writing this was available</span>
<span id="L10124" title="Line 10124: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10124</span>                 :                :      * on the net at &lt;https://hal.inria.fr/inria-00072854&gt;.</span>
<span id="L10125" title="Line 10125: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10125</span>                 :                :      *</span>
<span id="L10126" title="Line 10126: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10126</span>                 :                :      * The way to read the assumption &quot;n = a3*b^3 + a2*b^2 + a1*b + a0&quot; is</span>
<span id="L10127" title="Line 10127: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10127</span>                 :                :      * &quot;choose a base b such that n requires at least four base-b digits to</span>
<span id="L10128" title="Line 10128: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10128</span>                 :                :      * express; then those digits are a3,a2,a1,a0, with a3 possibly larger</span>
<span id="L10129" title="Line 10129: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10129</span>                 :                :      * than b&quot;.  For optimal performance, b should have approximately a</span>
<span id="L10130" title="Line 10130: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10130</span>                 :                :      * quarter the number of digits in the input, so that the outer square</span>
<span id="L10131" title="Line 10131: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10131</span>                 :                :      * root computes roughly twice as many digits as the inner one.  For</span>
<span id="L10132" title="Line 10132: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10132</span>                 :                :      * simplicity, we choose b = NBASE^blen, an integer power of NBASE.</span>
<span id="L10133" title="Line 10133: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10133</span>                 :                :      *</span>
<span id="L10134" title="Line 10134: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10134</span>                 :                :      * We implement the algorithm iteratively rather than recursively, to</span>
<span id="L10135" title="Line 10135: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10135</span>                 :                :      * allow the working variables to be reused.  With this approach, each</span>
<span id="L10136" title="Line 10136: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10136</span>                 :                :      * digit of the input is read precisely once --- src_idx tracks the number</span>
<span id="L10137" title="Line 10137: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10137</span>                 :                :      * of input digits used so far.</span>
<span id="L10138" title="Line 10138: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10138</span>                 :                :      *</span>
<span id="L10139" title="Line 10139: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10139</span>                 :                :      * The array ndigits[] holds the number of NBASE digits of the input that</span>
<span id="L10140" title="Line 10140: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10140</span>                 :                :      * will have been used at the end of each iteration, which roughly doubles</span>
<span id="L10141" title="Line 10141: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10141</span>                 :                :      * each time.  Note that the array elements are stored in reverse order,</span>
<span id="L10142" title="Line 10142: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10142</span>                 :                :      * so if the final iteration requires src_ndigits = 37 input digits, the</span>
<span id="L10143" title="Line 10143: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10143</span>                 :                :      * array will contain [37,19,11,7,5,3], and we would start by computing</span>
<span id="L10144" title="Line 10144: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10144</span>                 :                :      * the square root of the 3 most significant NBASE digits.</span>
<span id="L10145" title="Line 10145: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10145</span>                 :                :      *</span>
<span id="L10146" title="Line 10146: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10146</span>                 :                :      * In each iteration, we choose blen to be the largest integer for which</span>
<span id="L10147" title="Line 10147: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10147</span>                 :                :      * the input number has a3 &gt;= b/4, when written in the form above.  In</span>
<span id="L10148" title="Line 10148: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10148</span>                 :                :      * general, this means blen = src_ndigits / 4 (truncated), but if</span>
<span id="L10149" title="Line 10149: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10149</span>                 :                :      * src_ndigits is a multiple of 4, that might lead to the coefficient a3</span>
<span id="L10150" title="Line 10150: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10150</span>                 :                :      * being less than b/4 (if the first input digit is less than NBASE/4), in</span>
<span id="L10151" title="Line 10151: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10151</span>                 :                :      * which case we choose blen = src_ndigits / 4 - 1.  The number of digits</span>
<span id="L10152" title="Line 10152: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10152</span>                 :                :      * in the inner square root is then src_ndigits - 2*blen.  So, for</span>
<span id="L10153" title="Line 10153: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10153</span>                 :                :      * example, if we have src_ndigits = 26 initially, the array ndigits[]</span>
<span id="L10154" title="Line 10154: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10154</span>                 :                :      * will be either [26,14,8,4] or [26,14,8,6,4], depending on the size of</span>
<span id="L10155" title="Line 10155: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10155</span>                 :                :      * the first input digit.</span>
<span id="L10156" title="Line 10156: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10156</span>                 :                :      *</span>
<span id="L10157" title="Line 10157: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10157</span>                 :                :      * Additionally, we can put an upper bound on the number of steps required</span>
<span id="L10158" title="Line 10158: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10158</span>                 :                :      * as follows --- suppose that the number of source digits is an n-bit</span>
<span id="L10159" title="Line 10159: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10159</span>                 :                :      * number in the range [2^(n-1), 2^n-1], then blen will be in the range</span>
<span id="L10160" title="Line 10160: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10160</span>                 :                :      * [2^(n-3)-1, 2^(n-2)-1] and the number of digits in the inner square</span>
<span id="L10161" title="Line 10161: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10161</span>                 :                :      * root will be in the range [2^(n-2), 2^(n-1)+1].  In the next step, blen</span>
<span id="L10162" title="Line 10162: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10162</span>                 :                :      * will be in the range [2^(n-4)-1, 2^(n-3)] and the number of digits in</span>
<span id="L10163" title="Line 10163: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10163</span>                 :                :      * the next inner square root will be in the range [2^(n-3), 2^(n-2)+1].</span>
<span id="L10164" title="Line 10164: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10164</span>                 :                :      * This pattern repeats, and in the worst case the array ndigits[] will</span>
<span id="L10165" title="Line 10165: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10165</span>                 :                :      * contain [2^n-1, 2^(n-1)+1, 2^(n-2)+1, ... 9, 5, 3], and the computation</span>
<span id="L10166" title="Line 10166: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10166</span>                 :                :      * will require n steps.  Therefore, since all digit array sizes are</span>
<span id="L10167" title="Line 10167: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10167</span>                 :                :      * signed 32-bit integers, the number of steps required is guaranteed to</span>
<span id="L10168" title="Line 10168: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10168</span>                 :                :      * be less than 32.</span>
<span id="L10169" title="Line 10169: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10169</span>                 :                :      * ----------</span>
<span id="L10170" title="Line 10170: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10170</span>                 :                :      */</span>
<span id="L10171" title="Line 10171: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10171</span>                 :<span class="tlaCBC">           2085 :     step = 0;</span></span>
<span id="L10172" title="Line 10172: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10172</span>         [<span class="tlaCBC"> <a href="#L10176" title="CBC: Branch 0 was taken 7896 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10176" title="CBC: Branch 1 was taken 2085 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           9981 :     while ((ndigits[step] = src_ndigits) &gt; 4)</span></span>
<span id="L10173" title="Line 10173: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10173</span>                 :                :     {</span>
<span id="L10174" title="Line 10174: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10174</span>                 :                :         /* Choose b so that a3 &gt;= b/4, as described above */</span>
<span id="L10175" title="Line 10175: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10175</span>                 :<span class="tlaCBC">           7896 :         blen = src_ndigits / 4;</span></span>
<span id="L10176" title="Line 10176: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10176</span>   [<span class="tlaCBC"> <a href="#L10193" title="CBC: Branch 0 was taken 294 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10193" title="CBC: Branch 1 was taken 7602 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10193" title="CBC: Branch 2 was taken 162 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10193" title="CBC: Branch 3 was taken 132 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           7896 :         if (blen * 4 == src_ndigits &amp;&amp; arg-&gt;digits[0] &lt; NBASE / 4)</span></span>
<span id="L10177" title="Line 10177: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10177</span>                 :<span class="tlaCBC">            162 :             blen--;</span></span>
<span id="L10178" title="Line 10178: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10178</span>                 :                : </span>
<span id="L10179" title="Line 10179: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10179</span>                 :                :         /* Number of digits in the next step (inner square root) */</span>
<span id="L10180" title="Line 10180: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10180</span>                 :<span class="tlaCBC">           7896 :         src_ndigits -= 2 * blen;</span></span>
<span id="L10181" title="Line 10181: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10181</span>                 :<span class="tlaCBC">           7896 :         step++;</span></span>
<span id="L10182" title="Line 10182: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10182</span>                 :                :     }</span>
<span id="L10183" title="Line 10183: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10183</span>                 :                : </span>
<span id="L10184" title="Line 10184: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10184</span>                 :                :     /*</span>
<span id="L10185" title="Line 10185: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10185</span>                 :                :      * First iteration (innermost square root and remainder):</span>
<span id="L10186" title="Line 10186: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10186</span>                 :                :      *</span>
<span id="L10187" title="Line 10187: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10187</span>                 :                :      * Here src_ndigits &lt;= 4, and the input fits in an int64.  Its square root</span>
<span id="L10188" title="Line 10188: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10188</span>                 :                :      * has at most 9 decimal digits, so estimate it using double precision</span>
<span id="L10189" title="Line 10189: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10189</span>                 :                :      * arithmetic, which will in fact almost certainly return the correct</span>
<span id="L10190" title="Line 10190: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10190</span>                 :                :      * result with no further correction required.</span>
<span id="L10191" title="Line 10191: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10191</span>                 :                :      */</span>
<span id="L10192" title="Line 10192: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10192</span>                 :<span class="tlaCBC">           2085 :     arg_int64 = arg-&gt;digits[0];</span></span>
<span id="L10193" title="Line 10193: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10193</span>         [<span class="tlaCBC"> <a href="#L10196" title="CBC: Branch 0 was taken 4572 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10196" title="CBC: Branch 1 was taken 2085 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           6657 :     for (src_idx = 1; src_idx &lt; src_ndigits; src_idx++)</span></span>
<span id="L10194" title="Line 10194: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10194</span>                 :                :     {</span>
<span id="L10195" title="Line 10195: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10195</span>                 :<span class="tlaCBC">           4572 :         arg_int64 *= NBASE;</span></span>
<span id="L10196" title="Line 10196: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10196</span>         [<span class="tlaCBC"> <a href="#L10213" title="CBC: Branch 0 was taken 3843 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10213" title="CBC: Branch 1 was taken 729 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           4572 :         if (src_idx &lt; arg-&gt;ndigits)</span></span>
<span id="L10197" title="Line 10197: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10197</span>                 :<span class="tlaCBC">           3843 :             arg_int64 += arg-&gt;digits[src_idx];</span></span>
<span id="L10198" title="Line 10198: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10198</span>                 :                :     }</span>
<span id="L10199" title="Line 10199: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10199</span>                 :                : </span>
<span id="L10200" title="Line 10200: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10200</span>                 :<span class="tlaCBC">           2085 :     s_int64 = (int64) sqrt((double) arg_int64);</span></span>
<span id="L10201" title="Line 10201: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10201</span>                 :<span class="tlaCBC">           2085 :     r_int64 = arg_int64 - s_int64 * s_int64;</span></span>
<span id="L10202" title="Line 10202: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10202</span>                 :                : </span>
<span id="L10203" title="Line 10203: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10203</span>                 :                :     /*</span>
<span id="L10204" title="Line 10204: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10204</span>                 :                :      * Use Newton's method to correct the result, if necessary.</span>
<span id="L10205" title="Line 10205: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10205</span>                 :                :      *</span>
<span id="L10206" title="Line 10206: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10206</span>                 :                :      * This uses integer division with truncation to compute the truncated</span>
<span id="L10207" title="Line 10207: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10207</span>                 :                :      * integer square root by iterating using the formula x -&gt; (x + n/x) / 2.</span>
<span id="L10208" title="Line 10208: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10208</span>                 :                :      * This is known to converge to isqrt(n), unless n+1 is a perfect square.</span>
<span id="L10209" title="Line 10209: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10209</span>                 :                :      * If n+1 is a perfect square, the sequence will oscillate between the two</span>
<span id="L10210" title="Line 10210: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10210</span>                 :                :      * values isqrt(n) and isqrt(n)+1, so we can be assured of convergence by</span>
<span id="L10211" title="Line 10211: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10211</span>                 :                :      * checking the remainder.</span>
<span id="L10212" title="Line 10212: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10212</span>                 :                :      */</span>
<span id="L10213" title="Line 10213: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10213</span>   [<span class="tlaUBC"> <a href="#L10239" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L10239" title="CBC: Branch 1 was taken 2085 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L10239" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L10239" title="CBC: Branch 3 was taken 2085 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2085 :     while (r_int64 &lt; 0 || r_int64 &gt; 2 * s_int64)</span></span>
<span id="L10214" title="Line 10214: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10214</span>                 :                :     {</span>
<span id="L10215" title="Line 10215: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1977 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L10380" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1977</a> <a href="#L10380" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">   10215</span>                 :<a href="#L10380" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         s_int64 = (s_int64 + arg_int64 / s_int64) / 2;</span></span>
<span id="L10216" title="Line 10216: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1977 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">   10216</span>                 :<span class="tlaUBC">              0 :         r_int64 = arg_int64 - s_int64 * s_int64;</span></span>
<span id="L10217" title="Line 10217: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10217</span>                 :                :     }</span>
<span id="L10218" title="Line 10218: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10218</span>                 :                : </span>
<span id="L10219" title="Line 10219: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10219</span>                 :                :     /*</span>
<span id="L10220" title="Line 10220: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10220</span>                 :                :      * Iterations with src_ndigits &lt;= 8:</span>
<span id="L10221" title="Line 10221: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10221</span>                 :                :      *</span>
<span id="L10222" title="Line 10222: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10222</span>                 :                :      * The next 1 or 2 iterations compute larger (outer) square roots with</span>
<span id="L10223" title="Line 10223: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10223</span>                 :                :      * src_ndigits &lt;= 8, so the result still fits in an int64 (even though the</span>
<span id="L10224" title="Line 10224: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10224</span>                 :                :      * input no longer does) and we can continue to compute using int64</span>
<span id="L10225" title="Line 10225: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10225</span>                 :                :      * variables to avoid more expensive numeric computations.</span>
<span id="L10226" title="Line 10226: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10226</span>                 :                :      *</span>
<span id="L10227" title="Line 10227: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10227</span>                 :                :      * It is fairly easy to see that there is no risk of the intermediate</span>
<span id="L10228" title="Line 10228: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10228</span>                 :                :      * values below overflowing 64-bit integers.  In the worst case, the</span>
<span id="L10229" title="Line 10229: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10229</span>                 :                :      * previous iteration will have computed a 3-digit square root (of a</span>
<span id="L10230" title="Line 10230: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10230</span>                 :                :      * 6-digit input less than NBASE^6 / 4), so at the start of this</span>
<span id="L10231" title="Line 10231: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10231</span>                 :                :      * iteration, s will be less than NBASE^3 / 2 = 10^12 / 2, and r will be</span>
<span id="L10232" title="Line 10232: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10232</span>                 :                :      * less than 10^12.  In this case, blen will be 1, so numer will be less</span>
<span id="L10233" title="Line 10233: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10233</span>                 :                :      * than 10^17, and denom will be less than 10^12 (and hence u will also be</span>
<span id="L10234" title="Line 10234: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10234</span>                 :                :      * less than 10^12).  Finally, since q^2 = u*b + a0 - r, we can also be</span>
<span id="L10235" title="Line 10235: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10235</span>                 :                :      * sure that q^2 &lt; 10^17.  Therefore all these quantities fit comfortably</span>
<span id="L10236" title="Line 10236: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10236</span>                 :                :      * in 64-bit integers.</span>
<span id="L10237" title="Line 10237: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10237</span>                 :                :      */</span>
<span id="L10238" title="Line 10238: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"> <a href="#L10393" title="next CBC in &ldquo;(360..) days&rdquo; bin">1977</a> <a href="#L10393" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10238</span>                 :<a href="#L10393" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        2085 :     step--;</span></span>
<span id="L10239" title="Line 10239: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10239</span>   [<span class="tlaCBC"> <a href="#L10257" title="CBC: Branch 0 was taken 5283 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L10290" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L10257" title="CBC: Branch 2 was taken 3198 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10257" title="CBC: Branch 3 was taken 2085 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           5283 :     while (step &gt;= 0 &amp;&amp; (src_ndigits = ndigits[step]) &lt;= 8)</span></span>
<span id="L10240" title="Line 10240: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10240</span>                 :                :     {</span>
<span id="L10241" title="Line 10241: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10241</span>                 :                :         int         b;</span>
<span id="L10242" title="Line 10242: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10242</span>                 :                :         int         a0;</span>
<span id="L10243" title="Line 10243: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10243</span>                 :                :         int         a1;</span>
<span id="L10244" title="Line 10244: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10244</span>                 :                :         int         i;</span>
<span id="L10245" title="Line 10245: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10245</span>                 :                :         int64       numer;</span>
<span id="L10246" title="Line 10246: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10246</span>                 :                :         int64       denom;</span>
<span id="L10247" title="Line 10247: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10247</span>                 :                :         int64       q;</span>
<span id="L10248" title="Line 10248: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10248</span>                 :                :         int64       u;</span>
<span id="L10249" title="Line 10249: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10249</span>                 :                : </span>
<span id="L10250" title="Line 10250: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10250</span>                 :<span class="tlaCBC">           3198 :         blen = (src_ndigits - src_idx) / 2;</span></span>
<span id="L10251" title="Line 10251: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10251</span>                 :                : </span>
<span id="L10252" title="Line 10252: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10252</span>                 :                :         /* Extract a1 and a0, and compute b */</span>
<span id="L10253" title="Line 10253: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10253</span>                 :<span class="tlaCBC">           3198 :         a0 = 0;</span></span>
<span id="L10254" title="Line 10254: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10254</span>                 :<span class="tlaCBC">           3198 :         a1 = 0;</span></span>
<span id="L10255" title="Line 10255: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10255</span>                 :<span class="tlaCBC">           3198 :         b = 1;</span></span>
<span id="L10256" title="Line 10256: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10256</span>                 :                : </span>
<span id="L10257" title="Line 10257: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10257</span>         [<span class="tlaCBC"> <a href="#L10261" title="CBC: Branch 0 was taken 3270 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10261" title="CBC: Branch 1 was taken 3198 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           6468 :         for (i = 0; i &lt; blen; i++, src_idx++)</span></span>
<span id="L10258" title="Line 10258: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10258</span>                 :                :         {</span>
<span id="L10259" title="Line 10259: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10259</span>                 :<span class="tlaCBC">           3270 :             b *= NBASE;</span></span>
<span id="L10260" title="Line 10260: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10260</span>                 :<span class="tlaCBC">           3270 :             a1 *= NBASE;</span></span>
<span id="L10261" title="Line 10261: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10261</span>         [<span class="tlaCBC"> <a href="#L10265" title="CBC: Branch 0 was taken 2400 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10265" title="CBC: Branch 1 was taken 870 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3270 :             if (src_idx &lt; arg-&gt;ndigits)</span></span>
<span id="L10262" title="Line 10262: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10262</span>                 :<span class="tlaCBC">           2400 :                 a1 += arg-&gt;digits[src_idx];</span></span>
<span id="L10263" title="Line 10263: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10263</span>                 :                :         }</span>
<span id="L10264" title="Line 10264: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10264</span>                 :                : </span>
<span id="L10265" title="Line 10265: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10265</span>         [<span class="tlaCBC"> <a href="#L10268" title="CBC: Branch 0 was taken 3270 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10268" title="CBC: Branch 1 was taken 3198 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           6468 :         for (i = 0; i &lt; blen; i++, src_idx++)</span></span>
<span id="L10266" title="Line 10266: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10266</span>                 :                :         {</span>
<span id="L10267" title="Line 10267: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10267</span>                 :<span class="tlaCBC">           3270 :             a0 *= NBASE;</span></span>
<span id="L10268" title="Line 10268: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10268</span>         [<span class="tlaCBC"> <a href="#L10282" title="CBC: Branch 0 was taken 2322 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10282" title="CBC: Branch 1 was taken 948 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3270 :             if (src_idx &lt; arg-&gt;ndigits)</span></span>
<span id="L10269" title="Line 10269: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10269</span>                 :<span class="tlaCBC">           2322 :                 a0 += arg-&gt;digits[src_idx];</span></span>
<span id="L10270" title="Line 10270: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10270</span>                 :                :         }</span>
<span id="L10271" title="Line 10271: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10271</span>                 :                : </span>
<span id="L10272" title="Line 10272: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10272</span>                 :                :         /* Compute (q,u) = DivRem(r*b + a1, 2*s) */</span>
<span id="L10273" title="Line 10273: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10273</span>                 :<span class="tlaCBC">           3198 :         numer = r_int64 * b + a1;</span></span>
<span id="L10274" title="Line 10274: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10274</span>                 :<span class="tlaCBC">           3198 :         denom = 2 * s_int64;</span></span>
<span id="L10275" title="Line 10275: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10275</span>                 :<span class="tlaCBC">           3198 :         q = numer / denom;</span></span>
<span id="L10276" title="Line 10276: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10276</span>                 :<span class="tlaCBC">           3198 :         u = numer - q * denom;</span></span>
<span id="L10277" title="Line 10277: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10277</span>                 :                : </span>
<span id="L10278" title="Line 10278: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10278</span>                 :                :         /* Compute s = s*b + q and r = u*b + a0 - q^2 */</span>
<span id="L10279" title="Line 10279: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10279</span>                 :<span class="tlaCBC">           3198 :         s_int64 = s_int64 * b + q;</span></span>
<span id="L10280" title="Line 10280: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10280</span>                 :<span class="tlaCBC">           3198 :         r_int64 = u * b + a0 - q * q;</span></span>
<span id="L10281" title="Line 10281: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10281</span>                 :                : </span>
<span id="L10282" title="Line 10282: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10282</span>         [<span class="tlaCBC"> <a href="#L10290" title="CBC: Branch 0 was taken 105 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10290" title="CBC: Branch 1 was taken 3093 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3198 :         if (r_int64 &lt; 0)</span></span>
<span id="L10283" title="Line 10283: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10283</span>                 :                :         {</span>
<span id="L10284" title="Line 10284: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10284</span>                 :                :             /* s is too large by 1; set r += s, s--, r += s */</span>
<span id="L10285" title="Line 10285: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10285</span>                 :<span class="tlaCBC">            105 :             r_int64 += s_int64;</span></span>
<span id="L10286" title="Line 10286: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10286</span>                 :<span class="tlaCBC">            105 :             s_int64--;</span></span>
<span id="L10287" title="Line 10287: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10287</span>                 :<span class="tlaCBC">            105 :             r_int64 += s_int64;</span></span>
<span id="L10288" title="Line 10288: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10288</span>                 :                :         }</span>
<span id="L10289" title="Line 10289: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10289</span>                 :                : </span>
<span id="L10290" title="Line 10290: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10290</span>         [<span class="tlaUBC"> <a href="#L10299" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L10299" title="CBC: Branch 1 was taken 3198 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           3198 :         Assert(src_idx == src_ndigits); /* All input digits consumed */</span></span>
<span id="L10291" title="Line 10291: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10291</span>                 :<span class="tlaCBC">           3198 :         step--;</span></span>
<span id="L10292" title="Line 10292: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10292</span>                 :                :     }</span>
<span id="L10293" title="Line 10293: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10293</span>                 :                : </span>
<span id="L10294" title="Line 10294: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10294</span>                 :                :     /*</span>
<span id="L10295" title="Line 10295: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10295</span>                 :                :      * On platforms with 128-bit integer support, we can further delay the</span>
<span id="L10296" title="Line 10296: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10296</span>                 :                :      * need to use numeric variables.</span>
<span id="L10297" title="Line 10297: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10297</span>                 :                :      */</span>
<span id="L10298" title="Line 10298: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10298</span>                 :                : #ifdef HAVE_INT128</span>
<span id="L10299" title="Line 10299: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10299</span>         [<span class="tlaCBC"> <a href="#L10313" title="CBC: Branch 0 was taken 2085 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L10364" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">           2085 :     if (step &gt;= 0)</span></span>
<span id="L10300" title="Line 10300: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10300</span>                 :                :     {</span>
<span id="L10301" title="Line 10301: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10301</span>                 :                :         int128      s_int128;</span>
<span id="L10302" title="Line 10302: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10302</span>                 :                :         int128      r_int128;</span>
<span id="L10303" title="Line 10303: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10303</span>                 :                : </span>
<span id="L10304" title="Line 10304: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10304</span>                 :<span class="tlaCBC">           2085 :         s_int128 = s_int64;</span></span>
<span id="L10305" title="Line 10305: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10305</span>                 :<span class="tlaCBC">           2085 :         r_int128 = r_int64;</span></span>
<span id="L10306" title="Line 10306: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10306</span>                 :                : </span>
<span id="L10307" title="Line 10307: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10307</span>                 :                :         /*</span>
<span id="L10308" title="Line 10308: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10308</span>                 :                :          * Iterations with src_ndigits &lt;= 16:</span>
<span id="L10309" title="Line 10309: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10309</span>                 :                :          *</span>
<span id="L10310" title="Line 10310: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10310</span>                 :                :          * The result fits in an int128 (even though the input doesn't) so we</span>
<span id="L10311" title="Line 10311: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10311</span>                 :                :          * use int128 variables to avoid more expensive numeric computations.</span>
<span id="L10312" title="Line 10312: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10312</span>                 :                :          */</span>
<span id="L10313" title="Line 10313: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10313</span>   [<span class="tlaCBC"> <a href="#L10331" title="CBC: Branch 0 was taken 3801 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10331" title="CBC: Branch 1 was taken 723 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10331" title="CBC: Branch 2 was taken 2439 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10331" title="CBC: Branch 3 was taken 1362 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           4524 :         while (step &gt;= 0 &amp;&amp; (src_ndigits = ndigits[step]) &lt;= 16)</span></span>
<span id="L10314" title="Line 10314: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10314</span>                 :                :         {</span>
<span id="L10315" title="Line 10315: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10315</span>                 :                :             int64       b;</span>
<span id="L10316" title="Line 10316: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10316</span>                 :                :             int64       a0;</span>
<span id="L10317" title="Line 10317: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10317</span>                 :                :             int64       a1;</span>
<span id="L10318" title="Line 10318: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10318</span>                 :                :             int64       i;</span>
<span id="L10319" title="Line 10319: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10319</span>                 :                :             int128      numer;</span>
<span id="L10320" title="Line 10320: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10320</span>                 :                :             int128      denom;</span>
<span id="L10321" title="Line 10321: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10321</span>                 :                :             int128      q;</span>
<span id="L10322" title="Line 10322: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10322</span>                 :                :             int128      u;</span>
<span id="L10323" title="Line 10323: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10323</span>                 :                : </span>
<span id="L10324" title="Line 10324: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10324</span>                 :<span class="tlaCBC">           2439 :             blen = (src_ndigits - src_idx) / 2;</span></span>
<span id="L10325" title="Line 10325: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10325</span>                 :                : </span>
<span id="L10326" title="Line 10326: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10326</span>                 :                :             /* Extract a1 and a0, and compute b */</span>
<span id="L10327" title="Line 10327: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10327</span>                 :<span class="tlaCBC">           2439 :             a0 = 0;</span></span>
<span id="L10328" title="Line 10328: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10328</span>                 :<span class="tlaCBC">           2439 :             a1 = 0;</span></span>
<span id="L10329" title="Line 10329: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10329</span>                 :<span class="tlaCBC">           2439 :             b = 1;</span></span>
<span id="L10330" title="Line 10330: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10330</span>                 :                : </span>
<span id="L10331" title="Line 10331: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10331</span>         [<span class="tlaCBC"> <a href="#L10335" title="CBC: Branch 0 was taken 5601 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10335" title="CBC: Branch 1 was taken 2439 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           8040 :             for (i = 0; i &lt; blen; i++, src_idx++)</span></span>
<span id="L10332" title="Line 10332: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10332</span>                 :                :             {</span>
<span id="L10333" title="Line 10333: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10333</span>                 :<span class="tlaCBC">           5601 :                 b *= NBASE;</span></span>
<span id="L10334" title="Line 10334: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10334</span>                 :<span class="tlaCBC">           5601 :                 a1 *= NBASE;</span></span>
<span id="L10335" title="Line 10335: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10335</span>         [<span class="tlaCBC"> <a href="#L10339" title="CBC: Branch 0 was taken 3303 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10339" title="CBC: Branch 1 was taken 2298 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           5601 :                 if (src_idx &lt; arg-&gt;ndigits)</span></span>
<span id="L10336" title="Line 10336: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10336</span>                 :<span class="tlaCBC">           3303 :                     a1 += arg-&gt;digits[src_idx];</span></span>
<span id="L10337" title="Line 10337: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10337</span>                 :                :             }</span>
<span id="L10338" title="Line 10338: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10338</span>                 :                : </span>
<span id="L10339" title="Line 10339: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10339</span>         [<span class="tlaCBC"> <a href="#L10342" title="CBC: Branch 0 was taken 5601 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10342" title="CBC: Branch 1 was taken 2439 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           8040 :             for (i = 0; i &lt; blen; i++, src_idx++)</span></span>
<span id="L10340" title="Line 10340: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10340</span>                 :                :             {</span>
<span id="L10341" title="Line 10341: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10341</span>                 :<span class="tlaCBC">           5601 :                 a0 *= NBASE;</span></span>
<span id="L10342" title="Line 10342: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10342</span>         [<span class="tlaCBC"> <a href="#L10356" title="CBC: Branch 0 was taken 2235 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10356" title="CBC: Branch 1 was taken 3366 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           5601 :                 if (src_idx &lt; arg-&gt;ndigits)</span></span>
<span id="L10343" title="Line 10343: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10343</span>                 :<span class="tlaCBC">           2235 :                     a0 += arg-&gt;digits[src_idx];</span></span>
<span id="L10344" title="Line 10344: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10344</span>                 :                :             }</span>
<span id="L10345" title="Line 10345: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10345</span>                 :                : </span>
<span id="L10346" title="Line 10346: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10346</span>                 :                :             /* Compute (q,u) = DivRem(r*b + a1, 2*s) */</span>
<span id="L10347" title="Line 10347: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10347</span>                 :<span class="tlaCBC">           2439 :             numer = r_int128 * b + a1;</span></span>
<span id="L10348" title="Line 10348: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10348</span>                 :<span class="tlaCBC">           2439 :             denom = 2 * s_int128;</span></span>
<span id="L10349" title="Line 10349: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10349</span>                 :<span class="tlaCBC">           2439 :             q = numer / denom;</span></span>
<span id="L10350" title="Line 10350: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10350</span>                 :<span class="tlaCBC">           2439 :             u = numer - q * denom;</span></span>
<span id="L10351" title="Line 10351: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10351</span>                 :                : </span>
<span id="L10352" title="Line 10352: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10352</span>                 :                :             /* Compute s = s*b + q and r = u*b + a0 - q^2 */</span>
<span id="L10353" title="Line 10353: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10353</span>                 :<span class="tlaCBC">           2439 :             s_int128 = s_int128 * b + q;</span></span>
<span id="L10354" title="Line 10354: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10354</span>                 :<span class="tlaCBC">           2439 :             r_int128 = u * b + a0 - q * q;</span></span>
<span id="L10355" title="Line 10355: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10355</span>                 :                : </span>
<span id="L10356" title="Line 10356: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10356</span>         [<span class="tlaCBC"> <a href="#L10364" title="CBC: Branch 0 was taken 96 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10364" title="CBC: Branch 1 was taken 2343 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2439 :             if (r_int128 &lt; 0)</span></span>
<span id="L10357" title="Line 10357: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10357</span>                 :                :             {</span>
<span id="L10358" title="Line 10358: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10358</span>                 :                :                 /* s is too large by 1; set r += s, s--, r += s */</span>
<span id="L10359" title="Line 10359: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10359</span>                 :<span class="tlaCBC">             96 :                 r_int128 += s_int128;</span></span>
<span id="L10360" title="Line 10360: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10360</span>                 :<span class="tlaCBC">             96 :                 s_int128--;</span></span>
<span id="L10361" title="Line 10361: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10361</span>                 :<span class="tlaCBC">             96 :                 r_int128 += s_int128;</span></span>
<span id="L10362" title="Line 10362: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10362</span>                 :                :             }</span>
<span id="L10363" title="Line 10363: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10363</span>                 :                : </span>
<span id="L10364" title="Line 10364: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10364</span>         [<span class="tlaUBC"> <a href="#L10478" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L10375" title="CBC: Branch 1 was taken 2439 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2439 :             Assert(src_idx == src_ndigits); /* All input digits consumed */</span></span>
<span id="L10365" title="Line 10365: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10365</span>                 :<span class="tlaCBC">           2439 :             step--;</span></span>
<span id="L10366" title="Line 10366: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10366</span>                 :                :         }</span>
<span id="L10367" title="Line 10367: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10367</span>                 :                : </span>
<span id="L10368" title="Line 10368: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10368</span>                 :                :         /*</span>
<span id="L10369" title="Line 10369: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10369</span>                 :                :          * All remaining iterations require numeric variables.  Convert the</span>
<span id="L10370" title="Line 10370: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10370</span>                 :                :          * integer values to NumericVar and continue.  Note that in the final</span>
<span id="L10371" title="Line 10371: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10371</span>                 :                :          * iteration we don't need the remainder, so we can save a few cycles</span>
<span id="L10372" title="Line 10372: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10372</span>                 :                :          * there by not fully computing it.</span>
<span id="L10373" title="Line 10373: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10373</span>                 :                :          */</span>
<span id="L10374" title="Line 10374: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10374</span>                 :<span class="tlaCBC">           2085 :         int128_to_numericvar(s_int128, &amp;s_var);</span></span>
<span id="L10375" title="Line 10375: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10375</span>         [<span class="tlaCBC"> <a href="#L10393" title="CBC: Branch 0 was taken 1362 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10393" title="CBC: Branch 1 was taken 723 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2085 :         if (step &gt;= 0)</span></span>
<span id="L10376" title="Line 10376: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10376</span>                 :<span class="tlaCBC">           1362 :             int128_to_numericvar(r_int128, &amp;r_var);</span></span>
<span id="L10377" title="Line 10377: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10377</span>                 :                :     }</span>
<span id="L10378" title="Line 10378: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10378</span>                 :                :     else</span>
<span id="L10379" title="Line 10379: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10379</span>                 :                :     {</span>
<span id="L10380" title="Line 10380: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1977 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L10537" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1977</a> <a href="#L10537" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">   10380</span>                 :<a href="#L10537" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         int64_to_numericvar(s_int64, &amp;s_var);</span></span>
<span id="L10381" title="Line 10381: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10381</span>                 :                :         /* step &lt; 0, so we certainly don't need r */</span>
<span id="L10382" title="Line 10382: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10382</span>                 :                :     }</span>
<span id="L10383" title="Line 10383: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10383</span>                 :                : #else                           /* !HAVE_INT128 */</span>
<span id="L10384" title="Line 10384: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10384</span>                 :                :     int64_to_numericvar(s_int64, &amp;s_var);</span>
<span id="L10385" title="Line 10385: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10385</span>                 :                :     if (step &gt;= 0)</span>
<span id="L10386" title="Line 10386: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10386</span>                 :                :         int64_to_numericvar(r_int64, &amp;r_var);</span>
<span id="L10387" title="Line 10387: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10387</span>                 :                : #endif                          /* HAVE_INT128 */</span>
<span id="L10388" title="Line 10388: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10388</span>                 :                : </span>
<span id="L10389" title="Line 10389: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10389</span>                 :                :     /*</span>
<span id="L10390" title="Line 10390: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10390</span>                 :                :      * The remaining iterations with src_ndigits &gt; 8 (or 16, if have int128)</span>
<span id="L10391" title="Line 10391: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10391</span>                 :                :      * use numeric variables.</span>
<span id="L10392" title="Line 10392: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10392</span>                 :                :      */</span>
<span id="L10393" title="Line 10393: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"> <a href="#L10540" title="next CBC in &ldquo;(360..) days&rdquo; bin">1977</a> <a href="#L10493" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10393</span>         [<span class="tlaCBC"> <a href="#L10401" title="CBC: Branch 0 was taken 2259 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10401" title="CBC: Branch 1 was taken 2085 times" class="branchTla">+</a> </span>]:<a href="#L10540" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">        4344 :     while (step &gt;= 0)</span></span>
<span id="L10394" title="Line 10394: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10394</span>                 :                :     {</span>
<span id="L10395" title="Line 10395: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10395</span>                 :                :         int         tmp_len;</span>
<span id="L10396" title="Line 10396: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10396</span>                 :                : </span>
<span id="L10397" title="Line 10397: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10397</span>                 :<span class="tlaCBC">           2259 :         src_ndigits = ndigits[step];</span></span>
<span id="L10398" title="Line 10398: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10398</span>                 :<span class="tlaCBC">           2259 :         blen = (src_ndigits - src_idx) / 2;</span></span>
<span id="L10399" title="Line 10399: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10399</span>                 :                : </span>
<span id="L10400" title="Line 10400: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10400</span>                 :                :         /* Extract a1 and a0 */</span>
<span id="L10401" title="Line 10401: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10401</span>         [<span class="tlaCBC"> <a href="#L10419" title="CBC: Branch 0 was taken 756 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10419" title="CBC: Branch 1 was taken 1503 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2259 :         if (src_idx &lt; arg-&gt;ndigits)</span></span>
<span id="L10402" title="Line 10402: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10402</span>                 :                :         {</span>
<span id="L10403" title="Line 10403: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10403</span>                 :<span class="tlaCBC">            756 :             tmp_len = Min(blen, arg-&gt;ndigits - src_idx);</span></span>
<span id="L10404" title="Line 10404: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10404</span>                 :<span class="tlaCBC">            756 :             alloc_var(&amp;a1_var, tmp_len);</span></span>
<span id="L10405" title="Line 10405: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10405</span>                 :<span class="tlaCBC">            756 :             memcpy(a1_var.digits, arg-&gt;digits + src_idx,</span></span>
<span id="L10406" title="Line 10406: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10406</span>                 :                :                    tmp_len * sizeof(NumericDigit));</span>
<span id="L10407" title="Line 10407: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10407</span>                 :<span class="tlaCBC">            756 :             a1_var.weight = blen - 1;</span></span>
<span id="L10408" title="Line 10408: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10408</span>                 :<span class="tlaCBC">            756 :             a1_var.sign = NUMERIC_POS;</span></span>
<span id="L10409" title="Line 10409: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10409</span>                 :<span class="tlaCBC">            756 :             a1_var.dscale = 0;</span></span>
<span id="L10410" title="Line 10410: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10410</span>                 :<span class="tlaCBC">            756 :             strip_var(&amp;a1_var);</span></span>
<span id="L10411" title="Line 10411: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10411</span>                 :                :         }</span>
<span id="L10412" title="Line 10412: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10412</span>                 :                :         else</span>
<span id="L10413" title="Line 10413: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10413</span>                 :                :         {</span>
<span id="L10414" title="Line 10414: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10414</span>                 :<span class="tlaCBC">           1503 :             zero_var(&amp;a1_var);</span></span>
<span id="L10415" title="Line 10415: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10415</span>                 :<span class="tlaCBC">           1503 :             a1_var.dscale = 0;</span></span>
<span id="L10416" title="Line 10416: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10416</span>                 :                :         }</span>
<span id="L10417" title="Line 10417: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10417</span>                 :<span class="tlaCBC">           2259 :         src_idx += blen;</span></span>
<span id="L10418" title="Line 10418: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10418</span>                 :                : </span>
<span id="L10419" title="Line 10419: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10419</span>         [<span class="tlaCBC"> <a href="#L10459" title="CBC: Branch 0 was taken 756 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10459" title="CBC: Branch 1 was taken 1503 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2259 :         if (src_idx &lt; arg-&gt;ndigits)</span></span>
<span id="L10420" title="Line 10420: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10420</span>                 :                :         {</span>
<span id="L10421" title="Line 10421: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10421</span>                 :<span class="tlaCBC">            756 :             tmp_len = Min(blen, arg-&gt;ndigits - src_idx);</span></span>
<span id="L10422" title="Line 10422: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10422</span>                 :<span class="tlaCBC">            756 :             alloc_var(&amp;a0_var, tmp_len);</span></span>
<span id="L10423" title="Line 10423: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10423</span>                 :<span class="tlaCBC">            756 :             memcpy(a0_var.digits, arg-&gt;digits + src_idx,</span></span>
<span id="L10424" title="Line 10424: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10424</span>                 :                :                    tmp_len * sizeof(NumericDigit));</span>
<span id="L10425" title="Line 10425: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10425</span>                 :<span class="tlaCBC">            756 :             a0_var.weight = blen - 1;</span></span>
<span id="L10426" title="Line 10426: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10426</span>                 :<span class="tlaCBC">            756 :             a0_var.sign = NUMERIC_POS;</span></span>
<span id="L10427" title="Line 10427: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10427</span>                 :<span class="tlaCBC">            756 :             a0_var.dscale = 0;</span></span>
<span id="L10428" title="Line 10428: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10428</span>                 :<span class="tlaCBC">            756 :             strip_var(&amp;a0_var);</span></span>
<span id="L10429" title="Line 10429: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10429</span>                 :                :         }</span>
<span id="L10430" title="Line 10430: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10430</span>                 :                :         else</span>
<span id="L10431" title="Line 10431: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10431</span>                 :                :         {</span>
<span id="L10432" title="Line 10432: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10432</span>                 :<span class="tlaCBC">           1503 :             zero_var(&amp;a0_var);</span></span>
<span id="L10433" title="Line 10433: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10433</span>                 :<span class="tlaCBC">           1503 :             a0_var.dscale = 0;</span></span>
<span id="L10434" title="Line 10434: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10434</span>                 :                :         }</span>
<span id="L10435" title="Line 10435: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10435</span>                 :<span class="tlaCBC">           2259 :         src_idx += blen;</span></span>
<span id="L10436" title="Line 10436: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10436</span>                 :                : </span>
<span id="L10437" title="Line 10437: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10437</span>                 :                :         /* Compute (q,u) = DivRem(r*b + a1, 2*s) */</span>
<span id="L10438" title="Line 10438: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10438</span>                 :<span class="tlaCBC">           2259 :         set_var_from_var(&amp;r_var, &amp;q_var);</span></span>
<span id="L10439" title="Line 10439: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10439</span>                 :<span class="tlaCBC">           2259 :         q_var.weight += blen;</span></span>
<span id="L10440" title="Line 10440: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10440</span>                 :<span class="tlaCBC">           2259 :         add_var(&amp;q_var, &amp;a1_var, &amp;q_var);</span></span>
<span id="L10441" title="Line 10441: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10441</span>                 :<span class="tlaCBC">           2259 :         add_var(&amp;s_var, &amp;s_var, &amp;u_var);</span></span>
<span id="L10442" title="Line 10442: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10442</span>                 :<span class="tlaCBC">           2259 :         div_mod_var(&amp;q_var, &amp;u_var, &amp;q_var, &amp;u_var);</span></span>
<span id="L10443" title="Line 10443: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10443</span>                 :                : </span>
<span id="L10444" title="Line 10444: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10444</span>                 :                :         /* Compute s = s*b + q */</span>
<span id="L10445" title="Line 10445: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10445</span>                 :<span class="tlaCBC">           2259 :         s_var.weight += blen;</span></span>
<span id="L10446" title="Line 10446: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10446</span>                 :<span class="tlaCBC">           2259 :         add_var(&amp;s_var, &amp;q_var, &amp;s_var);</span></span>
<span id="L10447" title="Line 10447: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10447</span>                 :                : </span>
<span id="L10448" title="Line 10448: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10448</span>                 :                :         /*</span>
<span id="L10449" title="Line 10449: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10449</span>                 :                :          * Compute r = u*b + a0 - q^2.</span>
<span id="L10450" title="Line 10450: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10450</span>                 :                :          *</span>
<span id="L10451" title="Line 10451: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10451</span>                 :                :          * In the final iteration, we don't actually need r; we just need to</span>
<span id="L10452" title="Line 10452: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10452</span>                 :                :          * know whether it is negative, so that we know whether to adjust s.</span>
<span id="L10453" title="Line 10453: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10453</span>                 :                :          * So instead of the final subtraction we can just compare.</span>
<span id="L10454" title="Line 10454: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10454</span>                 :                :          */</span>
<span id="L10455" title="Line 10455: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10455</span>                 :<span class="tlaCBC">           2259 :         u_var.weight += blen;</span></span>
<span id="L10456" title="Line 10456: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10456</span>                 :<span class="tlaCBC">           2259 :         add_var(&amp;u_var, &amp;a0_var, &amp;u_var);</span></span>
<span id="L10457" title="Line 10457: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10457</span>                 :<span class="tlaCBC">           2259 :         mul_var(&amp;q_var, &amp;q_var, &amp;q_var, 0);</span></span>
<span id="L10458" title="Line 10458: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10458</span>                 :                : </span>
<span id="L10459" title="Line 10459: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10459</span>         [<span class="tlaCBC"> <a href="#L10463" title="CBC: Branch 0 was taken 897 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10463" title="CBC: Branch 1 was taken 1362 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2259 :         if (step &gt; 0)</span></span>
<span id="L10460" title="Line 10460: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10460</span>                 :                :         {</span>
<span id="L10461" title="Line 10461: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10461</span>                 :                :             /* Need r for later iterations */</span>
<span id="L10462" title="Line 10462: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10462</span>                 :<span class="tlaCBC">            897 :             sub_var(&amp;u_var, &amp;q_var, &amp;r_var);</span></span>
<span id="L10463" title="Line 10463: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10463</span>         [<span class="tlaCBC"> <a href="#L10474" title="CBC: Branch 0 was taken 60 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10474" title="CBC: Branch 1 was taken 837 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            897 :             if (r_var.sign == NUMERIC_NEG)</span></span>
<span id="L10464" title="Line 10464: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10464</span>                 :                :             {</span>
<span id="L10465" title="Line 10465: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10465</span>                 :                :                 /* s is too large by 1; set r += s, s--, r += s */</span>
<span id="L10466" title="Line 10466: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10466</span>                 :<span class="tlaCBC">             60 :                 add_var(&amp;r_var, &amp;s_var, &amp;r_var);</span></span>
<span id="L10467" title="Line 10467: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10467</span>                 :<span class="tlaCBC">             60 :                 sub_var(&amp;s_var, &amp;const_one, &amp;s_var);</span></span>
<span id="L10468" title="Line 10468: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10468</span>                 :<span class="tlaCBC">             60 :                 add_var(&amp;r_var, &amp;s_var, &amp;r_var);</span></span>
<span id="L10469" title="Line 10469: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10469</span>                 :                :             }</span>
<span id="L10470" title="Line 10470: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10470</span>                 :                :         }</span>
<span id="L10471" title="Line 10471: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10471</span>                 :                :         else</span>
<span id="L10472" title="Line 10472: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10472</span>                 :                :         {</span>
<span id="L10473" title="Line 10473: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10473</span>                 :                :             /* Don't need r anymore, except to test if s is too large by 1 */</span>
<span id="L10474" title="Line 10474: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10474</span>         [<span class="tlaCBC"> <a href="#L10478" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10478" title="CBC: Branch 1 was taken 1344 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           1362 :             if (cmp_var(&amp;u_var, &amp;q_var) &lt; 0)</span></span>
<span id="L10475" title="Line 10475: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10475</span>                 :<span class="tlaCBC">             18 :                 sub_var(&amp;s_var, &amp;const_one, &amp;s_var);</span></span>
<span id="L10476" title="Line 10476: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10476</span>                 :                :         }</span>
<span id="L10477" title="Line 10477: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10477</span>                 :                : </span>
<span id="L10478" title="Line 10478: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10478</span>         [<span class="tlaUBC"> <a href="#L10536" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L10534" title="CBC: Branch 1 was taken 2259 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2259 :         Assert(src_idx == src_ndigits); /* All input digits consumed */</span></span>
<span id="L10479" title="Line 10479: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10479</span>                 :<span class="tlaCBC">           2259 :         step--;</span></span>
<span id="L10480" title="Line 10480: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10480</span>                 :                :     }</span>
<span id="L10481" title="Line 10481: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10481</span>                 :                : </span>
<span id="L10482" title="Line 10482: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10482</span>                 :                :     /*</span>
<span id="L10483" title="Line 10483: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10483</span>                 :                :      * Construct the final result, rounding it to the requested precision.</span>
<span id="L10484" title="Line 10484: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10484</span>                 :                :      */</span>
<span id="L10485" title="Line 10485: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10485</span>                 :<span class="tlaCBC">           2085 :     set_var_from_var(&amp;s_var, result);</span></span>
<span id="L10486" title="Line 10486: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10486</span>                 :<span class="tlaCBC">           2085 :     result-&gt;weight = res_weight;</span></span>
<span id="L10487" title="Line 10487: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10487</span>                 :<span class="tlaCBC">           2085 :     result-&gt;sign = NUMERIC_POS;</span></span>
<span id="L10488" title="Line 10488: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10488</span>                 :                : </span>
<span id="L10489" title="Line 10489: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10489</span>                 :                :     /* Round to target rscale (and set result-&gt;dscale) */</span>
<span id="L10490" title="Line 10490: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L10522" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10490</span>                 :<span class="tlaCBC">           2085 :     round_var(result, rscale);</span></span>
<span id="L10491" title="Line 10491: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10491</span>                 :                : </span>
<span id="L10492" title="Line 10492: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10492</span>                 :                :     /* Strip leading and trailing zeroes */</span>
<span id="L10493" title="Line 10493: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com"> 1977 <a href="#L10536" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10493</span>                 :<span class="tlaCBC">           2085 :     strip_var(result);</span></span>
<span id="L10494" title="Line 10494: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10494</span>                 :                : </span>
<span id="L10495" title="Line 10495: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10495</span>                 :<span class="tlaCBC">           2085 :     free_var(&amp;s_var);</span></span>
<span id="L10496" title="Line 10496: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10496</span>                 :<span class="tlaCBC">           2085 :     free_var(&amp;r_var);</span></span>
<span id="L10497" title="Line 10497: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10497</span>                 :<span class="tlaCBC">           2085 :     free_var(&amp;a0_var);</span></span>
<span id="L10498" title="Line 10498: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10498</span>                 :<span class="tlaCBC">           2085 :     free_var(&amp;a1_var);</span></span>
<span id="L10499" title="Line 10499: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10499</span>                 :<span class="tlaCBC">           2085 :     free_var(&amp;q_var);</span></span>
<span id="L10500" title="Line 10500: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10500</span>                 :<span class="tlaCBC">           2085 :     free_var(&amp;u_var);</span></span>
<span id="L10501" title="Line 10501: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10501</span>                 :                : }</span>
<span id="L10502" title="Line 10502: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10502</span>                 :                : </span>
<span id="L10503" title="Line 10503: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10503</span>                 :                : </span>
<span id="L10504" title="Line 10504: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10504</span>                 :                : /*</span>
<span id="L10505" title="Line 10505: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10505</span>                 :                :  * exp_var() -</span>
<span id="L10506" title="Line 10506: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10506</span>                 :                :  *</span>
<span id="L10507" title="Line 10507: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10507</span>                 :                :  *  Raise e to the power of x, computed to rscale fractional digits</span>
<span id="L10508" title="Line 10508: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10508</span>                 :                :  */</span>
<span id="L10509" title="Line 10509: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10509</span>                 :                : static void</span>
<span id="L10510" title="Line 10510: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L10639" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">   10510</span>                 :<span class="tlaCBC">             90 : exp_var(const NumericVar *arg, NumericVar *result, int rscale)</span></span>
<span id="L10511" title="Line 10511: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   10511</span>                 :                : {</span>
<span id="L10512" title="Line 10512: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   10512</span>                 :                :     NumericVar  x;</span>
<span id="L10513" title="Line 10513: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10513</span>                 :                :     NumericVar  elem;</span>
<span id="L10514" title="Line 10514: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10514</span>                 :                :     int         ni;</span>
<span id="L10515" title="Line 10515: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10515</span>                 :                :     double      val;</span>
<span id="L10516" title="Line 10516: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10516</span>                 :                :     int         dweight;</span>
<span id="L10517" title="Line 10517: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10517</span>                 :                :     int         ndiv2;</span>
<span id="L10518" title="Line 10518: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10518</span>                 :                :     int         sig_digits;</span>
<span id="L10519" title="Line 10519: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10519</span>                 :                :     int         local_rscale;</span>
<span id="L10520" title="Line 10520: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10520</span>                 :                : </span>
<span id="L10521" title="Line 10521: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L10524" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   10521</span>                 :<span class="tlaCBC">             90 :     init_var(&amp;x);</span></span>
<span id="L10522" title="Line 10522: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L10530" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10522</span>                 :<span class="tlaCBC">             90 :     init_var(&amp;elem);</span></span>
<span id="L10523" title="Line 10523: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10523</span>                 :                : </span>
<span id="L10524" title="Line 10524: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L10592" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   10524</span>                 :<span class="tlaCBC">             90 :     set_var_from_var(arg, &amp;x);</span></span>
<span id="L10525" title="Line 10525: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10525</span>                 :                : </span>
<span id="L10526" title="Line 10526: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10526</span>                 :                :     /*</span>
<span id="L10527" title="Line 10527: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10527</span>                 :                :      * Estimate the dweight of the result using floating point arithmetic, so</span>
<span id="L10528" title="Line 10528: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10528</span>                 :                :      * that we can choose an appropriate local rscale for the calculation.</span>
<span id="L10529" title="Line 10529: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10529</span>                 :                :      */</span>
<span id="L10530" title="Line 10530: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L10546" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10530</span>                 :<span class="tlaCBC">             90 :     val = numericvar_to_double_no_overflow(&amp;x);</span></span>
<span id="L10531" title="Line 10531: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10531</span>                 :                : </span>
<span id="L10532" title="Line 10532: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10532</span>                 :                :     /* Guard against overflow/underflow */</span>
<span id="L10533" title="Line 10533: commit 18a02ad2a506 on 2016-05-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10533</span>                 :                :     /* If you change this limit, see also power_var()'s limit */</span>
<span id="L10534" title="Line 10534: commit f14aad5169ba on 2022-10-07 by peter@eisentraut.org"> 1054 <a href="#L10555" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">   10534</span>         [<span class="tlaCBC"> <a href="#L10536" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10536" title="CBC: Branch 1 was taken 87 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             90 :     if (fabs(val) &gt;= NUMERIC_MAX_RESULT_SCALE * 3)</span></span>
<span id="L10535" title="Line 10535: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10535</span>                 :                :     {</span>
<span id="L10536" title="Line 10536: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com"> 1487 <a href="#L10540" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10536</span>         [<span class="tlaUBC"> <a href="#L10537" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L10555" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              3 :         if (val &gt; 0)</span></span>
<span id="L10537" title="Line 10537: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1487 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L10818" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1487</a> <a href="#L11012" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">   10537</span>         [<span class="tlaUBC"> <a href="#L10734" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L10734" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L10818" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             ereport(ERROR,</span></span>
<span id="L10538" title="Line 10538: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10538</span>                 :                :                     (errcode(ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE),</span>
<span id="L10539" title="Line 10539: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10539</span>                 :                :                      errmsg(&quot;value overflows numeric format&quot;)));</span>
<span id="L10540" title="Line 10540: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com"> <a href="#L10801" title="next CBC in &ldquo;(360..) days&rdquo; bin">1487</a> <a href="#L10567" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10540</span>                 :<a href="#L10822" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           3 :         zero_var(result);</span></span>
<span id="L10541" title="Line 10541: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10541</span>                 :<span class="tlaCBC">              3 :         result-&gt;dscale = rscale;</span></span>
<span id="L10542" title="Line 10542: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10542</span>                 :<span class="tlaCBC">              3 :         return;</span></span>
<span id="L10543" title="Line 10543: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10543</span>                 :                :     }</span>
<span id="L10544" title="Line 10544: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10544</span>                 :                : </span>
<span id="L10545" title="Line 10545: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10545</span>                 :                :     /* decimal weight = log10(e^x) = x * log10(e) */</span>
<span id="L10546" title="Line 10546: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L10557" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10546</span>                 :<span class="tlaCBC">             87 :     dweight = (int) (val * 0.434294481903252);</span></span>
<span id="L10547" title="Line 10547: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10547</span>                 :                : </span>
<span id="L10548" title="Line 10548: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10548</span>                 :                :     /*</span>
<span id="L10549" title="Line 10549: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10549</span>                 :                :      * Reduce x to the range -0.01 &lt;= x &lt;= 0.01 (approximately) by dividing by</span>
<span id="L10550" title="Line 10550: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10550</span>                 :                :      * 2^ndiv2, to improve the convergence rate of the Taylor series.</span>
<span id="L10551" title="Line 10551: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10551</span>                 :                :      *</span>
<span id="L10552" title="Line 10552: commit f14aad5169ba on 2022-10-07 by peter@eisentraut.org">                           <span class="lineNum">   10552</span>                 :                :      * Note that the overflow check above ensures that fabs(x) &lt; 6000, which</span>
<span id="L10553" title="Line 10553: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10553</span>                 :                :      * means that ndiv2 &lt;= 20 here.</span>
<span id="L10554" title="Line 10554: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10554</span>                 :                :      */</span>
<span id="L10555" title="Line 10555: commit f14aad5169ba on 2022-10-07 by peter@eisentraut.org"> 1054 <a href="#L10560" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">   10555</span>         [<span class="tlaCBC"> <a href="#L10560" title="CBC: Branch 0 was taken 72 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10560" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             87 :     if (fabs(val) &gt; 0.01)</span></span>
<span id="L10556" title="Line 10556: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10556</span>                 :                :     {</span>
<span id="L10557" title="Line 10557: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L10562" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10557</span>                 :<span class="tlaCBC">             72 :         ndiv2 = 1;</span></span>
<span id="L10558" title="Line 10558: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10558</span>                 :<span class="tlaCBC">             72 :         val /= 2;</span></span>
<span id="L10559" title="Line 10559: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10559</span>                 :                : </span>
<span id="L10560" title="Line 10560: commit f14aad5169ba on 2022-10-07 by peter@eisentraut.org"> 1054 <a href="#L10702" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">   10560</span>         [<span class="tlaCBC"> <a href="#L10598" title="CBC: Branch 0 was taken 837 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10598" title="CBC: Branch 1 was taken 72 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            909 :         while (fabs(val) &gt; 0.01)</span></span>
<span id="L10561" title="Line 10561: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10561</span>                 :                :         {</span>
<span id="L10562" title="Line 10562: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L10570" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10562</span>                 :<span class="tlaCBC">            837 :             ndiv2++;</span></span>
<span id="L10563" title="Line 10563: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10563</span>                 :<span class="tlaCBC">            837 :             val /= 2;</span></span>
<span id="L10564" title="Line 10564: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10564</span>                 :                :         }</span>
<span id="L10565" title="Line 10565: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10565</span>                 :                : </span>
<span id="L10566" title="Line 10566: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10566</span>                 :<span class="tlaCBC">             72 :         local_rscale = x.dscale + ndiv2;</span></span>
<span id="L10567" title="Line 10567: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com"> 1276 <a href="#L10595" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10567</span>                 :<span class="tlaCBC">             72 :         div_var_int(&amp;x, 1 &lt;&lt; ndiv2, 0, &amp;x, local_rscale, true);</span></span>
<span id="L10568" title="Line 10568: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10568</span>                 :                :     }</span>
<span id="L10569" title="Line 10569: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10569</span>                 :                :     else</span>
<span id="L10570" title="Line 10570: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L10594" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10570</span>                 :<span class="tlaCBC">             15 :         ndiv2 = 0;</span></span>
<span id="L10571" title="Line 10571: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10571</span>                 :                : </span>
<span id="L10572" title="Line 10572: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10572</span>                 :                :     /*</span>
<span id="L10573" title="Line 10573: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10573</span>                 :                :      * Set the scale for the Taylor series expansion.  The final result has</span>
<span id="L10574" title="Line 10574: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10574</span>                 :                :      * (dweight + rscale + 1) significant digits.  In addition, we have to</span>
<span id="L10575" title="Line 10575: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10575</span>                 :                :      * raise the Taylor series result to the power 2^ndiv2, which introduces</span>
<span id="L10576" title="Line 10576: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10576</span>                 :                :      * an error of up to around log10(2^ndiv2) digits, so work with this many</span>
<span id="L10577" title="Line 10577: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10577</span>                 :                :      * extra digits of precision (plus a few more for good measure).</span>
<span id="L10578" title="Line 10578: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10578</span>                 :                :      */</span>
<span id="L10579" title="Line 10579: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10579</span>                 :<span class="tlaCBC">             87 :     sig_digits = 1 + dweight + rscale + (int) (ndiv2 * 0.301029995663981);</span></span>
<span id="L10580" title="Line 10580: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10580</span>                 :<span class="tlaCBC">             87 :     sig_digits = Max(sig_digits, 0) + 8;</span></span>
<span id="L10581" title="Line 10581: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10581</span>                 :                : </span>
<span id="L10582" title="Line 10582: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10582</span>                 :<span class="tlaCBC">             87 :     local_rscale = sig_digits - 1;</span></span>
<span id="L10583" title="Line 10583: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10583</span>                 :                : </span>
<span id="L10584" title="Line 10584: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10584</span>                 :                :     /*</span>
<span id="L10585" title="Line 10585: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10585</span>                 :                :      * Use the Taylor series</span>
<span id="L10586" title="Line 10586: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10586</span>                 :                :      *</span>
<span id="L10587" title="Line 10587: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">   10587</span>                 :                :      * exp(x) = 1 + x + x^2/2! + x^3/3! + ...</span>
<span id="L10588" title="Line 10588: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10588</span>                 :                :      *</span>
<span id="L10589" title="Line 10589: commit 436a2956d80d on 2005-11-22 by bruce@momjian.us">                           <span class="lineNum">   10589</span>                 :                :      * Given the limited range of x, this should converge reasonably quickly.</span>
<span id="L10590" title="Line 10590: commit 436a2956d80d on 2005-11-22 by bruce@momjian.us">                           <span class="lineNum">   10590</span>                 :                :      * We run the series until the terms fall below the local_rscale limit.</span>
<span id="L10591" title="Line 10591: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10591</span>                 :                :      */</span>
<span id="L10592" title="Line 10592: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L10600" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   10592</span>                 :<span class="tlaCBC">             87 :     add_var(&amp;const_one, &amp;x, result);</span></span>
<span id="L10593" title="Line 10593: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10593</span>                 :                : </span>
<span id="L10594" title="Line 10594: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L10598" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10594</span>                 :<span class="tlaCBC">             87 :     mul_var(&amp;x, &amp;x, &amp;elem, local_rscale);</span></span>
<span id="L10595" title="Line 10595: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com"> 1276 <a href="#L10603" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10595</span>                 :<span class="tlaCBC">             87 :     ni = 2;</span></span>
<span id="L10596" title="Line 10596: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10596</span>                 :<span class="tlaCBC">             87 :     div_var_int(&amp;elem, ni, 0, &amp;elem, local_rscale, true);</span></span>
<span id="L10597" title="Line 10597: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10597</span>                 :                : </span>
<span id="L10598" title="Line 10598: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L10602" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10598</span>         [<span class="tlaCBC"> <a href="#L10612" title="CBC: Branch 0 was taken 2409 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10612" title="CBC: Branch 1 was taken 87 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2496 :     while (elem.ndigits != 0)</span></span>
<span id="L10599" title="Line 10599: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10599</span>                 :                :     {</span>
<span id="L10600" title="Line 10600: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L10612" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   10600</span>                 :<span class="tlaCBC">           2409 :         add_var(result, &amp;elem, result);</span></span>
<span id="L10601" title="Line 10601: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10601</span>                 :                : </span>
<span id="L10602" title="Line 10602: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L10614" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10602</span>                 :<span class="tlaCBC">           2409 :         mul_var(&amp;elem, &amp;x, &amp;elem, local_rscale);</span></span>
<span id="L10603" title="Line 10603: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com"> 1276 <a href="#L10765" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10603</span>                 :<span class="tlaCBC">           2409 :         ni++;</span></span>
<span id="L10604" title="Line 10604: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10604</span>                 :<span class="tlaCBC">           2409 :         div_var_int(&amp;elem, ni, 0, &amp;elem, local_rscale, true);</span></span>
<span id="L10605" title="Line 10605: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10605</span>                 :                :     }</span>
<span id="L10606" title="Line 10606: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10606</span>                 :                : </span>
<span id="L10607" title="Line 10607: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10607</span>                 :                :     /*</span>
<span id="L10608" title="Line 10608: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10608</span>                 :                :      * Compensate for the argument range reduction.  Since the weight of the</span>
<span id="L10609" title="Line 10609: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10609</span>                 :                :      * result doubles with each multiplication, we can reduce the local rscale</span>
<span id="L10610" title="Line 10610: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10610</span>                 :                :      * as we proceed.</span>
<span id="L10611" title="Line 10611: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10611</span>                 :                :      */</span>
<span id="L10612" title="Line 10612: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L10622" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   10612</span>         [<span class="tlaCBC"> <a href="#L10644" title="CBC: Branch 0 was taken 909 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10644" title="CBC: Branch 1 was taken 87 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            996 :     while (ndiv2-- &gt; 0)</span></span>
<span id="L10613" title="Line 10613: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10613</span>                 :                :     {</span>
<span id="L10614" title="Line 10614: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L10644" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10614</span>                 :<span class="tlaCBC">            909 :         local_rscale = sig_digits - result-&gt;weight * 2 * DEC_DIGITS;</span></span>
<span id="L10615" title="Line 10615: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10615</span>                 :<span class="tlaCBC">            909 :         local_rscale = Max(local_rscale, NUMERIC_MIN_DISPLAY_SCALE);</span></span>
<span id="L10616" title="Line 10616: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">   10616</span>                 :<span class="tlaCBC">            909 :         mul_var(result, result, result, local_rscale);</span></span>
<span id="L10617" title="Line 10617: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10617</span>                 :                :     }</span>
<span id="L10618" title="Line 10618: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10618</span>                 :                : </span>
<span id="L10619" title="Line 10619: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10619</span>                 :                :     /* Round to requested rscale */</span>
<span id="L10620" title="Line 10620: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573                      <span class="lineNum">   10620</span>                 :<span class="tlaCBC">             87 :     round_var(result, rscale);</span></span>
<span id="L10621" title="Line 10621: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10621</span>                 :                : </span>
<span id="L10622" title="Line 10622: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L10742" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   10622</span>                 :<span class="tlaCBC">             87 :     free_var(&amp;x);</span></span>
<span id="L10623" title="Line 10623: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10623</span>                 :<span class="tlaCBC">             87 :     free_var(&amp;elem);</span></span>
<span id="L10624" title="Line 10624: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10624</span>                 :                : }</span>
<span id="L10625" title="Line 10625: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10625</span>                 :                : </span>
<span id="L10626" title="Line 10626: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10626</span>                 :                : </span>
<span id="L10627" title="Line 10627: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10627</span>                 :                : /*</span>
<span id="L10628" title="Line 10628: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10628</span>                 :                :  * Estimate the dweight of the most significant decimal digit of the natural</span>
<span id="L10629" title="Line 10629: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10629</span>                 :                :  * logarithm of a number.</span>
<span id="L10630" title="Line 10630: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10630</span>                 :                :  *</span>
<span id="L10631" title="Line 10631: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10631</span>                 :                :  * Essentially, we're approximating log10(abs(ln(var))).  This is used to</span>
<span id="L10632" title="Line 10632: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10632</span>                 :                :  * determine the appropriate rscale when computing natural logarithms.</span>
<span id="L10633" title="Line 10633: commit 46ab07ffda9d on 2022-03-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10633</span>                 :                :  *</span>
<span id="L10634" title="Line 10634: commit 46ab07ffda9d on 2022-03-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10634</span>                 :                :  * Note: many callers call this before range-checking the input.  Therefore,</span>
<span id="L10635" title="Line 10635: commit 46ab07ffda9d on 2022-03-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10635</span>                 :                :  * we must be robust against values that are invalid to apply ln() to.</span>
<span id="L10636" title="Line 10636: commit 46ab07ffda9d on 2022-03-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10636</span>                 :                :  * We don't wish to throw an error here, so just return zero in such cases.</span>
<span id="L10637" title="Line 10637: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10637</span>                 :                :  */</span>
<span id="L10638" title="Line 10638: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10638</span>                 :                : static int</span>
<span id="L10639" title="Line 10639: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L10721" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">   10639</span>                 :<span class="tlaCBC">            369 : estimate_ln_dweight(const NumericVar *var)</span></span>
<span id="L10640" title="Line 10640: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10640</span>                 :                : {</span>
<span id="L10641" title="Line 10641: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10641</span>                 :                :     int         ln_dweight;</span>
<span id="L10642" title="Line 10642: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10642</span>                 :                : </span>
<span id="L10643" title="Line 10643: commit 46ab07ffda9d on 2022-03-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10643</span>                 :                :     /* Caller should fail on ln(negative), but for the moment return zero */</span>
<span id="L10644" title="Line 10644: commit 46ab07ffda9d on 2022-03-03 by tgl@sss.pgh.pa.us"> 1272 <a href="#L10707" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10644</span>         [<span class="tlaCBC"> <a href="#L10647" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10647" title="CBC: Branch 1 was taken 348 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            369 :     if (var-&gt;sign != NUMERIC_POS)</span></span>
<span id="L10645" title="Line 10645: commit 46ab07ffda9d on 2022-03-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10645</span>                 :<span class="tlaCBC">             21 :         return 0;</span></span>
<span id="L10646" title="Line 10646: commit 46ab07ffda9d on 2022-03-03 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10646</span>                 :                : </span>
<span id="L10647" title="Line 10647: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573                      <span class="lineNum">   10647</span>   [<span class="tlaCBC"> <a href="#L10661" title="CBC: Branch 0 was taken 309 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10661" title="CBC: Branch 1 was taken 39 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10661" title="CBC: Branch 2 was taken 45 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10661" title="CBC: Branch 3 was taken 264 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            657 :     if (cmp_var(var, &amp;const_zero_point_nine) &gt;= 0 &amp;&amp;</span></span>
<span id="L10648" title="Line 10648: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10648</span>                 :<span class="tlaCBC">            309 :         cmp_var(var, &amp;const_one_point_one) &lt;= 0)</span></span>
<span id="L10649" title="Line 10649: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10649</span>                 :<span class="tlaCBC">             45 :     {</span></span>
<span id="L10650" title="Line 10650: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10650</span>                 :                :         /*</span>
<span id="L10651" title="Line 10651: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10651</span>                 :                :          * 0.9 &lt;= var &lt;= 1.1</span>
<span id="L10652" title="Line 10652: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10652</span>                 :                :          *</span>
<span id="L10653" title="Line 10653: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10653</span>                 :                :          * ln(var) has a negative weight (possibly very large).  To get a</span>
<span id="L10654" title="Line 10654: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10654</span>                 :                :          * reasonably accurate result, estimate it using ln(1+x) ~= x.</span>
<span id="L10655" title="Line 10655: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10655</span>                 :                :          */</span>
<span id="L10656" title="Line 10656: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10656</span>                 :                :         NumericVar  x;</span>
<span id="L10657" title="Line 10657: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10657</span>                 :                : </span>
<span id="L10658" title="Line 10658: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10658</span>                 :<span class="tlaCBC">             45 :         init_var(&amp;x);</span></span>
<span id="L10659" title="Line 10659: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10659</span>                 :<span class="tlaCBC">             45 :         sub_var(var, &amp;const_one, &amp;x);</span></span>
<span id="L10660" title="Line 10660: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10660</span>                 :                : </span>
<span id="L10661" title="Line 10661: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10661</span>         [<span class="tlaCBC"> <a href="#L10681" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10681" title="CBC: Branch 1 was taken 24 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             45 :         if (x.ndigits &gt; 0)</span></span>
<span id="L10662" title="Line 10662: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10662</span>                 :                :         {</span>
<span id="L10663" title="Line 10663: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10663</span>                 :                :             /* Use weight of most significant decimal digit of x */</span>
<span id="L10664" title="Line 10664: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10664</span>                 :<span class="tlaCBC">             21 :             ln_dweight = x.weight * DEC_DIGITS + (int) log10(x.digits[0]);</span></span>
<span id="L10665" title="Line 10665: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10665</span>                 :                :         }</span>
<span id="L10666" title="Line 10666: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10666</span>                 :                :         else</span>
<span id="L10667" title="Line 10667: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10667</span>                 :                :         {</span>
<span id="L10668" title="Line 10668: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10668</span>                 :                :             /* x = 0.  Since ln(1) = 0 exactly, we don't need extra digits */</span>
<span id="L10669" title="Line 10669: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10669</span>                 :<span class="tlaCBC">             24 :             ln_dweight = 0;</span></span>
<span id="L10670" title="Line 10670: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10670</span>                 :                :         }</span>
<span id="L10671" title="Line 10671: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10671</span>                 :                : </span>
<span id="L10672" title="Line 10672: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10672</span>                 :<span class="tlaCBC">             45 :         free_var(&amp;x);</span></span>
<span id="L10673" title="Line 10673: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10673</span>                 :                :     }</span>
<span id="L10674" title="Line 10674: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10674</span>                 :                :     else</span>
<span id="L10675" title="Line 10675: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10675</span>                 :                :     {</span>
<span id="L10676" title="Line 10676: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10676</span>                 :                :         /*</span>
<span id="L10677" title="Line 10677: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10677</span>                 :                :          * Estimate the logarithm using the first couple of digits from the</span>
<span id="L10678" title="Line 10678: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10678</span>                 :                :          * input number.  This will give an accurate result whenever the input</span>
<span id="L10679" title="Line 10679: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10679</span>                 :                :          * is not too close to 1.</span>
<span id="L10680" title="Line 10680: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10680</span>                 :                :          */</span>
<span id="L10681" title="Line 10681: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10681</span>         [<span class="tlaCBC"> <a href="#L10690" title="CBC: Branch 0 was taken 282 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10690" title="CBC: Branch 1 was taken 21 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            303 :         if (var-&gt;ndigits &gt; 0)</span></span>
<span id="L10682" title="Line 10682: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10682</span>                 :                :         {</span>
<span id="L10683" title="Line 10683: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10683</span>                 :                :             int         digits;</span>
<span id="L10684" title="Line 10684: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10684</span>                 :                :             int         dweight;</span>
<span id="L10685" title="Line 10685: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10685</span>                 :                :             double      ln_var;</span>
<span id="L10686" title="Line 10686: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10686</span>                 :                : </span>
<span id="L10687" title="Line 10687: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10687</span>                 :<span class="tlaCBC">            282 :             digits = var-&gt;digits[0];</span></span>
<span id="L10688" title="Line 10688: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10688</span>                 :<span class="tlaCBC">            282 :             dweight = var-&gt;weight * DEC_DIGITS;</span></span>
<span id="L10689" title="Line 10689: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10689</span>                 :                : </span>
<span id="L10690" title="Line 10690: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10690</span>         [<span class="tlaCBC"> <a href="#L10733" title="CBC: Branch 0 was taken 171 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10733" title="CBC: Branch 1 was taken 111 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            282 :             if (var-&gt;ndigits &gt; 1)</span></span>
<span id="L10691" title="Line 10691: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10691</span>                 :                :             {</span>
<span id="L10692" title="Line 10692: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10692</span>                 :<span class="tlaCBC">            171 :                 digits = digits * NBASE + var-&gt;digits[1];</span></span>
<span id="L10693" title="Line 10693: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10693</span>                 :<span class="tlaCBC">            171 :                 dweight -= DEC_DIGITS;</span></span>
<span id="L10694" title="Line 10694: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10694</span>                 :                :             }</span>
<span id="L10695" title="Line 10695: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10695</span>                 :                : </span>
<span id="L10696" title="Line 10696: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10696</span>                 :                :             /*----------</span>
<span id="L10697" title="Line 10697: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10697</span>                 :                :              * We have var ~= digits * 10^dweight</span>
<span id="L10698" title="Line 10698: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10698</span>                 :                :              * so ln(var) ~= ln(digits) + dweight * ln(10)</span>
<span id="L10699" title="Line 10699: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10699</span>                 :                :              *----------</span>
<span id="L10700" title="Line 10700: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10700</span>                 :                :              */</span>
<span id="L10701" title="Line 10701: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10701</span>                 :<span class="tlaCBC">            282 :             ln_var = log((double) digits) + dweight * 2.302585092994046;</span></span>
<span id="L10702" title="Line 10702: commit f14aad5169ba on 2022-10-07 by peter@eisentraut.org"> 1054 <a href="#L11009" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">   10702</span>                 :<span class="tlaCBC">            282 :             ln_dweight = (int) log10(fabs(ln_var));</span></span>
<span id="L10703" title="Line 10703: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10703</span>                 :                :         }</span>
<span id="L10704" title="Line 10704: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10704</span>                 :                :         else</span>
<span id="L10705" title="Line 10705: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10705</span>                 :                :         {</span>
<span id="L10706" title="Line 10706: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10706</span>                 :                :             /* Caller should fail on ln(0), but for the moment return zero */</span>
<span id="L10707" title="Line 10707: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L10734" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10707</span>                 :<span class="tlaCBC">             21 :             ln_dweight = 0;</span></span>
<span id="L10708" title="Line 10708: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10708</span>                 :                :         }</span>
<span id="L10709" title="Line 10709: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10709</span>                 :                :     }</span>
<span id="L10710" title="Line 10710: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10710</span>                 :                : </span>
<span id="L10711" title="Line 10711: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10711</span>                 :<span class="tlaCBC">            348 :     return ln_dweight;</span></span>
<span id="L10712" title="Line 10712: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10712</span>                 :                : }</span>
<span id="L10713" title="Line 10713: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10713</span>                 :                : </span>
<span id="L10714" title="Line 10714: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10714</span>                 :                : </span>
<span id="L10715" title="Line 10715: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10715</span>                 :                : /*</span>
<span id="L10716" title="Line 10716: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10716</span>                 :                :  * ln_var() -</span>
<span id="L10717" title="Line 10717: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10717</span>                 :                :  *</span>
<span id="L10718" title="Line 10718: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10718</span>                 :                :  *  Compute the natural log of x</span>
<span id="L10719" title="Line 10719: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10719</span>                 :                :  */</span>
<span id="L10720" title="Line 10720: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10720</span>                 :                : static void</span>
<span id="L10721" title="Line 10721: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L10839" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">   10721</span>                 :<span class="tlaCBC">            417 : ln_var(const NumericVar *arg, NumericVar *result, int rscale)</span></span>
<span id="L10722" title="Line 10722: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10722</span>                 :                : {</span>
<span id="L10723" title="Line 10723: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   10723</span>                 :                :     NumericVar  x;</span>
<span id="L10724" title="Line 10724: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   10724</span>                 :                :     NumericVar  xx;</span>
<span id="L10725" title="Line 10725: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10725</span>                 :                :     int         ni;</span>
<span id="L10726" title="Line 10726: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   10726</span>                 :                :     NumericVar  elem;</span>
<span id="L10727" title="Line 10727: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   10727</span>                 :                :     NumericVar  fact;</span>
<span id="L10728" title="Line 10728: commit 43a899f41f46 on 2020-03-01 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10728</span>                 :                :     int         nsqrt;</span>
<span id="L10729" title="Line 10729: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10729</span>                 :                :     int         local_rscale;</span>
<span id="L10730" title="Line 10730: commit 2871f60f232a on 2004-05-16 by neilc@samurai.com">                           <span class="lineNum">   10730</span>                 :                :     int         cmp;</span>
<span id="L10731" title="Line 10731: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10731</span>                 :                : </span>
<span id="L10732" title="Line 10732: commit 2871f60f232a on 2004-05-16 by neilc@samurai.com"> 7772 <a href="#L10737" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">   10732</span>                 :<span class="tlaCBC">            417 :     cmp = cmp_var(arg, &amp;const_zero);</span></span>
<span id="L10733" title="Line 10733: commit 2871f60f232a on 2004-05-16 by neilc@samurai.com">                           <span class="lineNum">   10733</span>         [<span class="tlaCBC"> <a href="#L10734" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10734" title="CBC: Branch 1 was taken 396 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            417 :     if (cmp == 0)</span></span>
<span id="L10734" title="Line 10734: commit b6a1d25b0aa1 on 2003-07-27 by tgl@sss.pgh.pa.us"> 8066 <a href="#L10748" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10734</span>         [<span class="tlaCBC"> <a href="#L10737" title="CBC: Branch 0 was taken 21 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L10738" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             21 :         ereport(ERROR,</span></span>
<span id="L10735" title="Line 10735: commit 2871f60f232a on 2004-05-16 by neilc@samurai.com">                           <span class="lineNum">   10735</span>                 :                :                 (errcode(ERRCODE_INVALID_ARGUMENT_FOR_LOG),</span>
<span id="L10736" title="Line 10736: commit 2871f60f232a on 2004-05-16 by neilc@samurai.com">                           <span class="lineNum">   10736</span>                 :                :                  errmsg(&quot;cannot take logarithm of zero&quot;)));</span>
<span id="L10737" title="Line 10737: commit 2871f60f232a on 2004-05-16 by neilc@samurai.com"> 7772 <a href="#top" title="next CBC in &ldquo;neilc@samurai.com&rdquo; bin">neilc@samurai.com</a>    <span class="lineNum">   10737</span>         [<span class="tlaCBC"> <a href="#L10738" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10738" title="CBC: Branch 1 was taken 378 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            396 :     else if (cmp &lt; 0)</span></span>
<span id="L10738" title="Line 10738: commit 2871f60f232a on 2004-05-16 by neilc@samurai.com">                           <span class="lineNum">   10738</span>         [<span class="tlaCBC"> <a href="#L10766" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L10817" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             18 :         ereport(ERROR,</span></span>
<span id="L10739" title="Line 10739: commit 2871f60f232a on 2004-05-16 by neilc@samurai.com">                           <span class="lineNum">   10739</span>                 :                :                 (errcode(ERRCODE_INVALID_ARGUMENT_FOR_LOG),</span>
<span id="L10740" title="Line 10740: commit feb4f44d296b on 2003-09-25 by peter_e@gmx.net">                           <span class="lineNum">   10740</span>                 :                :                  errmsg(&quot;cannot take logarithm of a negative number&quot;)));</span>
<span id="L10741" title="Line 10741: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10741</span>                 :                : </span>
<span id="L10742" title="Line 10742: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L10798" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   10742</span>                 :<span class="tlaCBC">            378 :     init_var(&amp;x);</span></span>
<span id="L10743" title="Line 10743: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10743</span>                 :<span class="tlaCBC">            378 :     init_var(&amp;xx);</span></span>
<span id="L10744" title="Line 10744: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10744</span>                 :<span class="tlaCBC">            378 :     init_var(&amp;elem);</span></span>
<span id="L10745" title="Line 10745: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10745</span>                 :<span class="tlaCBC">            378 :     init_var(&amp;fact);</span></span>
<span id="L10746" title="Line 10746: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10746</span>                 :                : </span>
<span id="L10747" title="Line 10747: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10747</span>                 :<span class="tlaCBC">            378 :     set_var_from_var(arg, &amp;x);</span></span>
<span id="L10748" title="Line 10748: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L10766" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10748</span>                 :<span class="tlaCBC">            378 :     set_var_from_var(&amp;const_two, &amp;fact);</span></span>
<span id="L10749" title="Line 10749: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10749</span>                 :                : </span>
<span id="L10750" title="Line 10750: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10750</span>                 :                :     /*</span>
<span id="L10751" title="Line 10751: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10751</span>                 :                :      * Reduce input into range 0.9 &lt; x &lt; 1.1 with repeated sqrt() operations.</span>
<span id="L10752" title="Line 10752: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10752</span>                 :                :      *</span>
<span id="L10753" title="Line 10753: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10753</span>                 :                :      * The final logarithm will have up to around rscale+6 significant digits.</span>
<span id="L10754" title="Line 10754: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10754</span>                 :                :      * Each sqrt() will roughly halve the weight of x, so adjust the local</span>
<span id="L10755" title="Line 10755: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10755</span>                 :                :      * rscale as we work so that we keep this many significant digits at each</span>
<span id="L10756" title="Line 10756: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10756</span>                 :                :      * step (plus a few more for good measure).</span>
<span id="L10757" title="Line 10757: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10757</span>                 :                :      *</span>
<span id="L10758" title="Line 10758: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10758</span>                 :                :      * Note that we allow local_rscale &lt; 0 during this input reduction</span>
<span id="L10759" title="Line 10759: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10759</span>                 :                :      * process, which implies rounding before the decimal point.  sqrt_var()</span>
<span id="L10760" title="Line 10760: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10760</span>                 :                :      * explicitly supports this, and it significantly reduces the work</span>
<span id="L10761" title="Line 10761: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10761</span>                 :                :      * required to reduce very large inputs to the required range.  Once the</span>
<span id="L10762" title="Line 10762: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10762</span>                 :                :      * input reduction is complete, x.weight will be 0 and its display scale</span>
<span id="L10763" title="Line 10763: commit 4083f445c0cb on 2020-03-28 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10763</span>                 :                :      * will be non-negative again.</span>
<span id="L10764" title="Line 10764: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10764</span>                 :                :      */</span>
<span id="L10765" title="Line 10765: commit 43a899f41f46 on 2020-03-01 by dean.a.rasheed@gmail.com"> 2004 <a href="#L10771" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10765</span>                 :<span class="tlaCBC">            378 :     nsqrt = 0;</span></span>
<span id="L10766" title="Line 10766: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us"> 8364 <a href="#L10773" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10766</span>         [<span class="tlaCBC"> <a href="#L10773" title="CBC: Branch 0 was taken 156 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10773" title="CBC: Branch 1 was taken 378 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            534 :     while (cmp_var(&amp;x, &amp;const_zero_point_nine) &lt;= 0)</span></span>
<span id="L10767" title="Line 10767: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10767</span>                 :                :     {</span>
<span id="L10768" title="Line 10768: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573                      <span class="lineNum">   10768</span>                 :<span class="tlaCBC">            156 :         local_rscale = rscale - x.weight * DEC_DIGITS / 2 + 8;</span></span>
<span id="L10769" title="Line 10769: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">   10769</span>                 :<span class="tlaCBC">            156 :         sqrt_var(&amp;x, &amp;x, local_rscale);</span></span>
<span id="L10770" title="Line 10770: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10770</span>                 :<span class="tlaCBC">            156 :         mul_var(&amp;fact, &amp;const_two, &amp;fact, 0);</span></span>
<span id="L10771" title="Line 10771: commit 43a899f41f46 on 2020-03-01 by dean.a.rasheed@gmail.com"> 2004 <a href="#L10778" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10771</span>                 :<span class="tlaCBC">            156 :         nsqrt++;</span></span>
<span id="L10772" title="Line 10772: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10772</span>                 :                :     }</span>
<span id="L10773" title="Line 10773: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us"> 8364 <a href="#L10802" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10773</span>         [<span class="tlaCBC"> <a href="#L10812" title="CBC: Branch 0 was taken 1686 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10812" title="CBC: Branch 1 was taken 378 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2064 :     while (cmp_var(&amp;x, &amp;const_one_point_one) &gt;= 0)</span></span>
<span id="L10774" title="Line 10774: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10774</span>                 :                :     {</span>
<span id="L10775" title="Line 10775: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573                      <span class="lineNum">   10775</span>                 :<span class="tlaCBC">           1686 :         local_rscale = rscale - x.weight * DEC_DIGITS / 2 + 8;</span></span>
<span id="L10776" title="Line 10776: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">   10776</span>                 :<span class="tlaCBC">           1686 :         sqrt_var(&amp;x, &amp;x, local_rscale);</span></span>
<span id="L10777" title="Line 10777: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10777</span>                 :<span class="tlaCBC">           1686 :         mul_var(&amp;fact, &amp;const_two, &amp;fact, 0);</span></span>
<span id="L10778" title="Line 10778: commit 43a899f41f46 on 2020-03-01 by dean.a.rasheed@gmail.com"> 2004 <a href="#L10800" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10778</span>                 :<span class="tlaCBC">           1686 :         nsqrt++;</span></span>
<span id="L10779" title="Line 10779: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10779</span>                 :                :     }</span>
<span id="L10780" title="Line 10780: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10780</span>                 :                : </span>
<span id="L10781" title="Line 10781: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10781</span>                 :                :     /*</span>
<span id="L10782" title="Line 10782: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10782</span>                 :                :      * We use the Taylor series for 0.5 * ln((1+z)/(1-z)),</span>
<span id="L10783" title="Line 10783: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10783</span>                 :                :      *</span>
<span id="L10784" title="Line 10784: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">   10784</span>                 :                :      * z + z^3/3 + z^5/5 + ...</span>
<span id="L10785" title="Line 10785: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10785</span>                 :                :      *</span>
<span id="L10786" title="Line 10786: commit 436a2956d80d on 2005-11-22 by bruce@momjian.us">                           <span class="lineNum">   10786</span>                 :                :      * where z = (x-1)/(x+1) is in the range (approximately) -0.053 .. 0.048</span>
<span id="L10787" title="Line 10787: commit 436a2956d80d on 2005-11-22 by bruce@momjian.us">                           <span class="lineNum">   10787</span>                 :                :      * due to the above range-reduction of x.</span>
<span id="L10788" title="Line 10788: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10788</span>                 :                :      *</span>
<span id="L10789" title="Line 10789: commit 436a2956d80d on 2005-11-22 by bruce@momjian.us">                           <span class="lineNum">   10789</span>                 :                :      * The convergence of this is not as fast as one would like, but is</span>
<span id="L10790" title="Line 10790: commit 436a2956d80d on 2005-11-22 by bruce@momjian.us">                           <span class="lineNum">   10790</span>                 :                :      * tolerable given that z is small.</span>
<span id="L10791" title="Line 10791: commit 43a899f41f46 on 2020-03-01 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10791</span>                 :                :      *</span>
<span id="L10792" title="Line 10792: commit 43a899f41f46 on 2020-03-01 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10792</span>                 :                :      * The Taylor series result will be multiplied by 2^(nsqrt+1), which has a</span>
<span id="L10793" title="Line 10793: commit 43a899f41f46 on 2020-03-01 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10793</span>                 :                :      * decimal weight of (nsqrt+1) * log10(2), so work with this many extra</span>
<span id="L10794" title="Line 10794: commit 43a899f41f46 on 2020-03-01 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10794</span>                 :                :      * digits of precision (plus a few more for good measure).</span>
<span id="L10795" title="Line 10795: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10795</span>                 :                :      */</span>
<span id="L10796" title="Line 10796: commit 43a899f41f46 on 2020-03-01 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10796</span>                 :<span class="tlaCBC">            378 :     local_rscale = rscale + (int) ((nsqrt + 1) * 0.301029995663981) + 8;</span></span>
<span id="L10797" title="Line 10797: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10797</span>                 :                : </span>
<span id="L10798" title="Line 10798: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L10801" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   10798</span>                 :<span class="tlaCBC">            378 :     sub_var(&amp;x, &amp;const_one, result);</span></span>
<span id="L10799" title="Line 10799: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10799</span>                 :<span class="tlaCBC">            378 :     add_var(&amp;x, &amp;const_one, &amp;elem);</span></span>
<span id="L10800" title="Line 10800: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L10884" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L10804" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10800</span>                 :<span class="tlaCBC">            378 :     div_var(result, &amp;elem, result, local_rscale, true, false);</span></span>
<span id="L10801" title="Line 10801: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> <a href="#L10822" title="next CBC in &ldquo;(360..) days&rdquo; bin">9736</a> <a href="#L10813" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   10801</span>                 :<span class="tlaCBC">            378 :     set_var_from_var(result, &amp;xx);</span></span>
<span id="L10802" title="Line 10802: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L10809" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10802</span>                 :<span class="tlaCBC">            378 :     mul_var(result, result, &amp;x, local_rscale);</span></span>
<span id="L10803" title="Line 10803: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10803</span>                 :                : </span>
<span id="L10804" title="Line 10804: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com"> 1276 <a href="#L10810" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10804</span>                 :<span class="tlaCBC">            378 :     ni = 1;</span></span>
<span id="L10805" title="Line 10805: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10805</span>                 :                : </span>
<span id="L10806" title="Line 10806: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10806</span>                 :                :     for (;;)</span>
<span id="L10807" title="Line 10807: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10807</span>                 :                :     {</span>
<span id="L10808" title="Line 10808: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10808</span>                 :<span class="tlaCBC">           7011 :         ni += 2;</span></span>
<span id="L10809" title="Line 10809: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L10812" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10809</span>                 :<span class="tlaCBC">           7011 :         mul_var(&amp;xx, &amp;x, &amp;xx, local_rscale);</span></span>
<span id="L10810" title="Line 10810: commit d1b307eef281 on 2022-02-27 by dean.a.rasheed@gmail.com"> 1276 <a href="#L10884" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10810</span>                 :<span class="tlaCBC">           7011 :         div_var_int(&amp;xx, ni, 0, &amp;elem, local_rscale, true);</span></span>
<span id="L10811" title="Line 10811: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10811</span>                 :                : </span>
<span id="L10812" title="Line 10812: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us"> 8364 <a href="#L10822" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10812</span>         [<span class="tlaCBC"> <a href="#L10817" title="CBC: Branch 0 was taken 378 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10817" title="CBC: Branch 1 was taken 6633 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           7011 :         if (elem.ndigits == 0)</span></span>
<span id="L10813" title="Line 10813: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L10824" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   10813</span>                 :<span class="tlaCBC">            378 :             break;</span></span>
<span id="L10814" title="Line 10814: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10814</span>                 :                : </span>
<span id="L10815" title="Line 10815: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10815</span>                 :<span class="tlaCBC">           6633 :         add_var(result, &amp;elem, result);</span></span>
<span id="L10816" title="Line 10816: commit 2a1ef30b5779 on 2003-03-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10816</span>                 :                : </span>
<span id="L10817" title="Line 10817: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> 8058 <a href="#L10932" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   10817</span>         [<span class="tlaUBC"> <a href="#L10919" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L10912" title="CBC: Branch 1 was taken 6633 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           6633 :         if (elem.weight &lt; (result-&gt;weight - local_rscale * 2 / DEC_DIGITS))</span></span>
<span id="L10818" title="Line 10818: commit 2a1ef30b5779 on 2003-03-14 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 8201 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L11012" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">8201</a> </span><a href="#L11158" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 8201 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">   10818</span>                 :<a href="#L11012" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             break;</span></span>
<span id="L10819" title="Line 10819: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10819</span>                 :                :     }</span>
<span id="L10820" title="Line 10820: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10820</span>                 :                : </span>
<span id="L10821" title="Line 10821: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10821</span>                 :                :     /* Compensate for argument range reduction, round to requested rscale */</span>
<span id="L10822" title="Line 10822: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L10886" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L10854" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10822</span>                 :<a href="#L11015" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         378 :     mul_var(result, &amp;fact, result, rscale);</span></span>
<span id="L10823" title="Line 10823: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10823</span>                 :                : </span>
<span id="L10824" title="Line 10824: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L10850" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   10824</span>                 :<span class="tlaCBC">            378 :     free_var(&amp;x);</span></span>
<span id="L10825" title="Line 10825: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10825</span>                 :<span class="tlaCBC">            378 :     free_var(&amp;xx);</span></span>
<span id="L10826" title="Line 10826: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10826</span>                 :<span class="tlaCBC">            378 :     free_var(&amp;elem);</span></span>
<span id="L10827" title="Line 10827: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10827</span>                 :<span class="tlaCBC">            378 :     free_var(&amp;fact);</span></span>
<span id="L10828" title="Line 10828: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10828</span>                 :<span class="tlaCBC">            378 : }</span></span>
<span id="L10829" title="Line 10829: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10829</span>                 :                : </span>
<span id="L10830" title="Line 10830: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10830</span>                 :                : </span>
<span id="L10831" title="Line 10831: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10831</span>                 :                : /*</span>
<span id="L10832" title="Line 10832: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10832</span>                 :                :  * log_var() -</span>
<span id="L10833" title="Line 10833: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10833</span>                 :                :  *</span>
<span id="L10834" title="Line 10834: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10834</span>                 :                :  *  Compute the logarithm of num in a given base.</span>
<span id="L10835" title="Line 10835: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10835</span>                 :                :  *</span>
<span id="L10836" title="Line 10836: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10836</span>                 :                :  *  Note: this routine chooses dscale of the result.</span>
<span id="L10837" title="Line 10837: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10837</span>                 :                :  */</span>
<span id="L10838" title="Line 10838: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10838</span>                 :                : static void</span>
<span id="L10839" title="Line 10839: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L10899" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">   10839</span>                 :<span class="tlaCBC">            108 : log_var(const NumericVar *base, const NumericVar *num, NumericVar *result)</span></span>
<span id="L10840" title="Line 10840: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10840</span>                 :                : {</span>
<span id="L10841" title="Line 10841: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10841</span>                 :                :     NumericVar  ln_base;</span>
<span id="L10842" title="Line 10842: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10842</span>                 :                :     NumericVar  ln_num;</span>
<span id="L10843" title="Line 10843: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10843</span>                 :                :     int         ln_base_dweight;</span>
<span id="L10844" title="Line 10844: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10844</span>                 :                :     int         ln_num_dweight;</span>
<span id="L10845" title="Line 10845: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10845</span>                 :                :     int         result_dweight;</span>
<span id="L10846" title="Line 10846: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10846</span>                 :                :     int         rscale;</span>
<span id="L10847" title="Line 10847: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10847</span>                 :                :     int         ln_base_rscale;</span>
<span id="L10848" title="Line 10848: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10848</span>                 :                :     int         ln_num_rscale;</span>
<span id="L10849" title="Line 10849: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10849</span>                 :                : </span>
<span id="L10850" title="Line 10850: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L10886" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   10850</span>                 :<span class="tlaCBC">            108 :     init_var(&amp;ln_base);</span></span>
<span id="L10851" title="Line 10851: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10851</span>                 :<span class="tlaCBC">            108 :     init_var(&amp;ln_num);</span></span>
<span id="L10852" title="Line 10852: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10852</span>                 :                : </span>
<span id="L10853" title="Line 10853: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10853</span>                 :                :     /* Estimated dweights of ln(base), ln(num) and the final result */</span>
<span id="L10854" title="Line 10854: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L10912" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10854</span>                 :<span class="tlaCBC">            108 :     ln_base_dweight = estimate_ln_dweight(base);</span></span>
<span id="L10855" title="Line 10855: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10855</span>                 :<span class="tlaCBC">            108 :     ln_num_dweight = estimate_ln_dweight(num);</span></span>
<span id="L10856" title="Line 10856: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10856</span>                 :<span class="tlaCBC">            108 :     result_dweight = ln_num_dweight - ln_base_dweight;</span></span>
<span id="L10857" title="Line 10857: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10857</span>                 :                : </span>
<span id="L10858" title="Line 10858: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10858</span>                 :                :     /*</span>
<span id="L10859" title="Line 10859: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10859</span>                 :                :      * Select the scale of the result so that it will have at least</span>
<span id="L10860" title="Line 10860: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10860</span>                 :                :      * NUMERIC_MIN_SIG_DIGITS significant digits and is not less than either</span>
<span id="L10861" title="Line 10861: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10861</span>                 :                :      * input's display scale.</span>
<span id="L10862" title="Line 10862: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10862</span>                 :                :      */</span>
<span id="L10863" title="Line 10863: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10863</span>                 :<span class="tlaCBC">            108 :     rscale = NUMERIC_MIN_SIG_DIGITS - result_dweight;</span></span>
<span id="L10864" title="Line 10864: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">   10864</span>                 :<span class="tlaCBC">            108 :     rscale = Max(rscale, base-&gt;dscale);</span></span>
<span id="L10865" title="Line 10865: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10865</span>                 :<span class="tlaCBC">            108 :     rscale = Max(rscale, num-&gt;dscale);</span></span>
<span id="L10866" title="Line 10866: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10866</span>                 :<span class="tlaCBC">            108 :     rscale = Max(rscale, NUMERIC_MIN_DISPLAY_SCALE);</span></span>
<span id="L10867" title="Line 10867: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10867</span>                 :<span class="tlaCBC">            108 :     rscale = Min(rscale, NUMERIC_MAX_DISPLAY_SCALE);</span></span>
<span id="L10868" title="Line 10868: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10868</span>                 :                : </span>
<span id="L10869" title="Line 10869: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10869</span>                 :                :     /*</span>
<span id="L10870" title="Line 10870: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10870</span>                 :                :      * Set the scales for ln(base) and ln(num) so that they each have more</span>
<span id="L10871" title="Line 10871: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10871</span>                 :                :      * significant digits than the final result.</span>
<span id="L10872" title="Line 10872: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10872</span>                 :                :      */</span>
<span id="L10873" title="Line 10873: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573                      <span class="lineNum">   10873</span>                 :<span class="tlaCBC">            108 :     ln_base_rscale = rscale + result_dweight - ln_base_dweight + 8;</span></span>
<span id="L10874" title="Line 10874: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10874</span>                 :<span class="tlaCBC">            108 :     ln_base_rscale = Max(ln_base_rscale, NUMERIC_MIN_DISPLAY_SCALE);</span></span>
<span id="L10875" title="Line 10875: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10875</span>                 :                : </span>
<span id="L10876" title="Line 10876: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10876</span>                 :<span class="tlaCBC">            108 :     ln_num_rscale = rscale + result_dweight - ln_num_dweight + 8;</span></span>
<span id="L10877" title="Line 10877: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10877</span>                 :<span class="tlaCBC">            108 :     ln_num_rscale = Max(ln_num_rscale, NUMERIC_MIN_DISPLAY_SCALE);</span></span>
<span id="L10878" title="Line 10878: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10878</span>                 :                : </span>
<span id="L10879" title="Line 10879: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10879</span>                 :                :     /* Form natural logarithms */</span>
<span id="L10880" title="Line 10880: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10880</span>                 :<span class="tlaCBC">            108 :     ln_var(base, &amp;ln_base, ln_base_rscale);</span></span>
<span id="L10881" title="Line 10881: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10881</span>                 :<span class="tlaCBC">             96 :     ln_var(num, &amp;ln_num, ln_num_rscale);</span></span>
<span id="L10882" title="Line 10882: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   10882</span>                 :                : </span>
<span id="L10883" title="Line 10883: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10883</span>                 :                :     /* Divide and round to the required scale */</span>
<span id="L10884" title="Line 10884: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L11146" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L10919" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10884</span>                 :<span class="tlaCBC">             81 :     div_var(&amp;ln_num, &amp;ln_base, result, rscale, true, false);</span></span>
<span id="L10885" title="Line 10885: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10885</span>                 :                : </span>
<span id="L10886" title="Line 10886: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> <a href="#L11015" title="next CBC in &ldquo;(360..) days&rdquo; bin">9736</a> <a href="#L10940" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   10886</span>                 :<span class="tlaCBC">             78 :     free_var(&amp;ln_num);</span></span>
<span id="L10887" title="Line 10887: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10887</span>                 :<span class="tlaCBC">             78 :     free_var(&amp;ln_base);</span></span>
<span id="L10888" title="Line 10888: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10888</span>                 :<span class="tlaCBC">             78 : }</span></span>
<span id="L10889" title="Line 10889: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10889</span>                 :                : </span>
<span id="L10890" title="Line 10890: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10890</span>                 :                : </span>
<span id="L10891" title="Line 10891: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10891</span>                 :                : /*</span>
<span id="L10892" title="Line 10892: commit 5df20d4449f5 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10892</span>                 :                :  * power_var() -</span>
<span id="L10893" title="Line 10893: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10893</span>                 :                :  *</span>
<span id="L10894" title="Line 10894: commit 5df20d4449f5 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10894</span>                 :                :  *  Raise base to the power of exp</span>
<span id="L10895" title="Line 10895: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10895</span>                 :                :  *</span>
<span id="L10896" title="Line 10896: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10896</span>                 :                :  *  Note: this routine chooses dscale of the result.</span>
<span id="L10897" title="Line 10897: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10897</span>                 :                :  */</span>
<span id="L10898" title="Line 10898: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10898</span>                 :                : static void</span>
<span id="L10899" title="Line 10899: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L10917" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">   10899</span>                 :<span class="tlaCBC">            699 : power_var(const NumericVar *base, const NumericVar *exp, NumericVar *result)</span></span>
<span id="L10900" title="Line 10900: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10900</span>                 :                : {</span>
<span id="L10901" title="Line 10901: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10901</span>                 :                :     int         res_sign;</span>
<span id="L10902" title="Line 10902: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10902</span>                 :                :     NumericVar  abs_base;</span>
<span id="L10903" title="Line 10903: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10903</span>                 :                :     NumericVar  ln_base;</span>
<span id="L10904" title="Line 10904: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10904</span>                 :                :     NumericVar  ln_num;</span>
<span id="L10905" title="Line 10905: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10905</span>                 :                :     int         ln_dweight;</span>
<span id="L10906" title="Line 10906: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10906</span>                 :                :     int         rscale;</span>
<span id="L10907" title="Line 10907: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10907</span>                 :                :     int         sig_digits;</span>
<span id="L10908" title="Line 10908: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10908</span>                 :                :     int         local_rscale;</span>
<span id="L10909" title="Line 10909: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10909</span>                 :                :     double      val;</span>
<span id="L10910" title="Line 10910: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10910</span>                 :                : </span>
<span id="L10911" title="Line 10911: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10911</span>                 :                :     /* If exp can be represented as an integer, use power_var_int */</span>
<span id="L10912" title="Line 10912: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L10923" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10912</span>   [<span class="tlaCBC"> <a href="#L10917" title="CBC: Branch 0 was taken 663 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10917" title="CBC: Branch 1 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10917" title="CBC: Branch 2 was taken 600 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10917" title="CBC: Branch 3 was taken 63 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            699 :     if (exp-&gt;ndigits == 0 || exp-&gt;ndigits &lt;= exp-&gt;weight + 1)</span></span>
<span id="L10913" title="Line 10913: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10913</span>                 :                :     {</span>
<span id="L10914" title="Line 10914: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10914</span>                 :                :         /* exact integer, but does it fit in int? */</span>
<span id="L10915" title="Line 10915: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10915</span>                 :                :         int64       expval64;</span>
<span id="L10916" title="Line 10916: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10916</span>                 :                : </span>
<span id="L10917" title="Line 10917: commit 959277a4f579 on 2015-03-20 by andres@anarazel.de"> 3812 <a href="#L11474" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">   10917</span>         [<span class="tlaCBC"> <a href="#L10919" title="CBC: Branch 0 was taken 633 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10919" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            636 :         if (numericvar_to_int64(exp, &amp;expval64))</span></span>
<span id="L10918" title="Line 10918: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10918</span>                 :                :         {</span>
<span id="L10919" title="Line 10919: commit 2642df9fac09 on 2021-08-06 by dean.a.rasheed@gmail.com"> 1481 <a href="#L10939" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10919</span>   [<span class="tlaCBC"> <a href="#L10932" title="CBC: Branch 0 was taken 633 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L10953" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L10932" title="CBC: Branch 2 was taken 618 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10932" title="CBC: Branch 3 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            633 :             if (expval64 &gt;= PG_INT32_MIN &amp;&amp; expval64 &lt;= PG_INT32_MAX)</span></span>
<span id="L10920" title="Line 10920: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10920</span>                 :                :             {</span>
<span id="L10921" title="Line 10921: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10921</span>                 :                :                 /* Okay, use power_var_int */</span>
<span id="L10922" title="Line 10922: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com"> 1041                      <span class="lineNum">   10922</span>                 :<span class="tlaCBC">            618 :                 power_var_int(base, (int) expval64, exp-&gt;dscale, result);</span></span>
<span id="L10923" title="Line 10923: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L10935" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10923</span>                 :<span class="tlaCBC">            612 :                 return;</span></span>
<span id="L10924" title="Line 10924: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10924</span>                 :                :             }</span>
<span id="L10925" title="Line 10925: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10925</span>                 :                :         }</span>
<span id="L10926" title="Line 10926: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10926</span>                 :                :     }</span>
<span id="L10927" title="Line 10927: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10927</span>                 :                : </span>
<span id="L10928" title="Line 10928: commit 4a586bd405c2 on 2008-05-08 by bruce@momjian.us">                           <span class="lineNum">   10928</span>                 :                :     /*</span>
<span id="L10929" title="Line 10929: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10929</span>                 :                :      * This avoids log(0) for cases of 0 raised to a non-integer.  0 ^ 0 is</span>
<span id="L10930" title="Line 10930: commit d74714027942 on 2009-06-11 by bruce@momjian.us">                           <span class="lineNum">   10930</span>                 :                :      * handled by power_var_int().</span>
<span id="L10931" title="Line 10931: commit 4a586bd405c2 on 2008-05-08 by bruce@momjian.us">                           <span class="lineNum">   10931</span>                 :                :      */</span>
<span id="L10932" title="Line 10932: commit 4a586bd405c2 on 2008-05-08 by bruce@momjian.us"> 6319 <a href="#L10936" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   10932</span>         [<span class="tlaCBC"> <a href="#L10947" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10947" title="CBC: Branch 1 was taken 72 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             81 :     if (cmp_var(base, &amp;const_zero) == 0)</span></span>
<span id="L10933" title="Line 10933: commit 4a586bd405c2 on 2008-05-08 by bruce@momjian.us">                           <span class="lineNum">   10933</span>                 :                :     {</span>
<span id="L10934" title="Line 10934: commit 4a586bd405c2 on 2008-05-08 by bruce@momjian.us">                           <span class="lineNum">   10934</span>                 :<span class="tlaCBC">              9 :         set_var_from_var(&amp;const_zero, result);</span></span>
<span id="L10935" title="Line 10935: commit c7b8998ebbf3 on 2017-06-21 by tgl@sss.pgh.pa.us"> 2988 <a href="#L10991" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10935</span>                 :<span class="tlaCBC">              9 :         result-&gt;dscale = NUMERIC_MIN_SIG_DIGITS; /* no need to round */</span></span>
<span id="L10936" title="Line 10936: commit 4a586bd405c2 on 2008-05-08 by bruce@momjian.us"> 6319 <a href="#L11139" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   10936</span>                 :<span class="tlaCBC">              9 :         return;</span></span>
<span id="L10937" title="Line 10937: commit 4a586bd405c2 on 2008-05-08 by bruce@momjian.us">                           <span class="lineNum">   10937</span>                 :                :     }</span>
<span id="L10938" title="Line 10938: commit d74714027942 on 2009-06-11 by bruce@momjian.us">                           <span class="lineNum">   10938</span>                 :                : </span>
<span id="L10939" title="Line 10939: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com"> 1487 <a href="#L10947" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10939</span>                 :<span class="tlaCBC">             72 :     init_var(&amp;abs_base);</span></span>
<span id="L10940" title="Line 10940: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L11517" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   10940</span>                 :<span class="tlaCBC">             72 :     init_var(&amp;ln_base);</span></span>
<span id="L10941" title="Line 10941: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10941</span>                 :<span class="tlaCBC">             72 :     init_var(&amp;ln_num);</span></span>
<span id="L10942" title="Line 10942: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   10942</span>                 :                : </span>
<span id="L10943" title="Line 10943: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10943</span>                 :                :     /*</span>
<span id="L10944" title="Line 10944: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10944</span>                 :                :      * If base is negative, insist that exp be an integer.  The result is then</span>
<span id="L10945" title="Line 10945: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10945</span>                 :                :      * positive if exp is even and negative if exp is odd.</span>
<span id="L10946" title="Line 10946: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10946</span>                 :                :      */</span>
<span id="L10947" title="Line 10947: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com"> 1487 <a href="#L11011" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   10947</span>         [<span class="tlaCBC"> <a href="#L10953" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10953" title="CBC: Branch 1 was taken 54 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             72 :     if (base-&gt;sign == NUMERIC_NEG)</span></span>
<span id="L10948" title="Line 10948: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10948</span>                 :                :     {</span>
<span id="L10949" title="Line 10949: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10949</span>                 :                :         /*</span>
<span id="L10950" title="Line 10950: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10950</span>                 :                :          * Check that exp is an integer.  This error code is defined by the</span>
<span id="L10951" title="Line 10951: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10951</span>                 :                :          * SQL standard, and matches other errors in numeric_power().</span>
<span id="L10952" title="Line 10952: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10952</span>                 :                :          */</span>
<span id="L10953" title="Line 10953: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10953</span>   [<span class="tlaCBC"> <a href="#L10954" title="CBC: Branch 0 was taken 18 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L10954" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L10954" title="CBC: Branch 2 was taken 9 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10954" title="CBC: Branch 3 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             18 :         if (exp-&gt;ndigits &gt; 0 &amp;&amp; exp-&gt;ndigits &gt; exp-&gt;weight + 1)</span></span>
<span id="L10954" title="Line 10954: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10954</span>         [<span class="tlaCBC"> <a href="#L10959" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L10959" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              9 :             ereport(ERROR,</span></span>
<span id="L10955" title="Line 10955: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10955</span>                 :                :                     (errcode(ERRCODE_INVALID_ARGUMENT_FOR_POWER_FUNCTION),</span>
<span id="L10956" title="Line 10956: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10956</span>                 :                :                      errmsg(&quot;a negative number raised to a non-integer power yields a complex result&quot;)));</span>
<span id="L10957" title="Line 10957: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10957</span>                 :                : </span>
<span id="L10958" title="Line 10958: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10958</span>                 :                :         /* Test if exp is odd or even */</span>
<span id="L10959" title="Line 10959: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10959</span>   [<span class="tlaCBC"> <a href="#L10960" title="CBC: Branch 0 was taken 9 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L11011" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L10960" title="CBC: Branch 2 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L10960" title="CBC: Branch 3 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              9 :         if (exp-&gt;ndigits &gt; 0 &amp;&amp; exp-&gt;ndigits == exp-&gt;weight + 1 &amp;&amp;</span></span>
<span id="L10960" title="Line 10960: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10960</span>         [<span class="tlaCBC"> <a href="#L11009" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11009" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              6 :             (exp-&gt;digits[exp-&gt;ndigits - 1] &amp; 1))</span></span>
<span id="L10961" title="Line 10961: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10961</span>                 :<span class="tlaCBC">              3 :             res_sign = NUMERIC_NEG;</span></span>
<span id="L10962" title="Line 10962: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10962</span>                 :                :         else</span>
<span id="L10963" title="Line 10963: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10963</span>                 :<span class="tlaCBC">              6 :             res_sign = NUMERIC_POS;</span></span>
<span id="L10964" title="Line 10964: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10964</span>                 :                : </span>
<span id="L10965" title="Line 10965: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10965</span>                 :                :         /* Then work with abs(base) below */</span>
<span id="L10966" title="Line 10966: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10966</span>                 :<span class="tlaCBC">              9 :         set_var_from_var(base, &amp;abs_base);</span></span>
<span id="L10967" title="Line 10967: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10967</span>                 :<span class="tlaCBC">              9 :         abs_base.sign = NUMERIC_POS;</span></span>
<span id="L10968" title="Line 10968: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10968</span>                 :<span class="tlaCBC">              9 :         base = &amp;abs_base;</span></span>
<span id="L10969" title="Line 10969: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10969</span>                 :                :     }</span>
<span id="L10970" title="Line 10970: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10970</span>                 :                :     else</span>
<span id="L10971" title="Line 10971: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10971</span>                 :<span class="tlaCBC">             54 :         res_sign = NUMERIC_POS;</span></span>
<span id="L10972" title="Line 10972: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10972</span>                 :                : </span>
<span id="L10973" title="Line 10973: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10973</span>                 :                :     /*----------</span>
<span id="L10974" title="Line 10974: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10974</span>                 :                :      * Decide on the scale for the ln() calculation.  For this we need an</span>
<span id="L10975" title="Line 10975: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10975</span>                 :                :      * estimate of the weight of the result, which we obtain by doing an</span>
<span id="L10976" title="Line 10976: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10976</span>                 :                :      * initial low-precision calculation of exp * ln(base).</span>
<span id="L10977" title="Line 10977: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10977</span>                 :                :      *</span>
<span id="L10978" title="Line 10978: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10978</span>                 :                :      * We want result = e ^ (exp * ln(base))</span>
<span id="L10979" title="Line 10979: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10979</span>                 :                :      * so result dweight = log10(result) = exp * ln(base) * log10(e)</span>
<span id="L10980" title="Line 10980: commit 18a02ad2a506 on 2016-05-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10980</span>                 :                :      *</span>
<span id="L10981" title="Line 10981: commit 18a02ad2a506 on 2016-05-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10981</span>                 :                :      * We also perform a crude overflow test here so that we can exit early if</span>
<span id="L10982" title="Line 10982: commit 18a02ad2a506 on 2016-05-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10982</span>                 :                :      * the full-precision result is sure to overflow, and to guard against</span>
<span id="L10983" title="Line 10983: commit 18a02ad2a506 on 2016-05-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10983</span>                 :                :      * integer overflow when determining the scale for the real calculation.</span>
<span id="L10984" title="Line 10984: commit 18a02ad2a506 on 2016-05-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10984</span>                 :                :      * exp_var() supports inputs up to NUMERIC_MAX_RESULT_SCALE * 3, so the</span>
<span id="L10985" title="Line 10985: commit 18a02ad2a506 on 2016-05-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10985</span>                 :                :      * result will overflow if exp * ln(base) &gt;= NUMERIC_MAX_RESULT_SCALE * 3.</span>
<span id="L10986" title="Line 10986: commit 18a02ad2a506 on 2016-05-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10986</span>                 :                :      * Since the values here are only approximations, we apply a small fuzz</span>
<span id="L10987" title="Line 10987: commit 18a02ad2a506 on 2016-05-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10987</span>                 :                :      * factor to this overflow test and let exp_var() determine the exact</span>
<span id="L10988" title="Line 10988: commit 18a02ad2a506 on 2016-05-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10988</span>                 :                :      * overflow threshold so that it is consistent for all inputs.</span>
<span id="L10989" title="Line 10989: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10989</span>                 :                :      *----------</span>
<span id="L10990" title="Line 10990: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10990</span>                 :                :      */</span>
<span id="L10991" title="Line 10991: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L11023" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   10991</span>                 :<span class="tlaCBC">             63 :     ln_dweight = estimate_ln_dweight(base);</span></span>
<span id="L10992" title="Line 10992: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10992</span>                 :                : </span>
<span id="L10993" title="Line 10993: commit e54a758d24da on 2021-10-06 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10993</span>                 :                :     /*</span>
<span id="L10994" title="Line 10994: commit e54a758d24da on 2021-10-06 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10994</span>                 :                :      * Set the scale for the low-precision calculation, computing ln(base) to</span>
<span id="L10995" title="Line 10995: commit e54a758d24da on 2021-10-06 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10995</span>                 :                :      * around 8 significant digits.  Note that ln_dweight may be as small as</span>
<span id="L10996" title="Line 10996: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10996</span>                 :                :      * -NUMERIC_DSCALE_MAX, so the scale may exceed NUMERIC_MAX_DISPLAY_SCALE</span>
<span id="L10997" title="Line 10997: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10997</span>                 :                :      * here.</span>
<span id="L10998" title="Line 10998: commit e54a758d24da on 2021-10-06 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   10998</span>                 :                :      */</span>
<span id="L10999" title="Line 10999: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   10999</span>                 :<span class="tlaCBC">             63 :     local_rscale = 8 - ln_dweight;</span></span>
<span id="L11000" title="Line 11000: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11000</span>                 :<span class="tlaCBC">             63 :     local_rscale = Max(local_rscale, NUMERIC_MIN_DISPLAY_SCALE);</span></span>
<span id="L11001" title="Line 11001: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11001</span>                 :                : </span>
<span id="L11002" title="Line 11002: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">   11002</span>                 :<span class="tlaCBC">             63 :     ln_var(base, &amp;ln_base, local_rscale);</span></span>
<span id="L11003" title="Line 11003: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11003</span>                 :                : </span>
<span id="L11004" title="Line 11004: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11004</span>                 :<span class="tlaCBC">             63 :     mul_var(&amp;ln_base, exp, &amp;ln_num, local_rscale);</span></span>
<span id="L11005" title="Line 11005: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11005</span>                 :                : </span>
<span id="L11006" title="Line 11006: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us"> 8364                      <span class="lineNum">   11006</span>                 :<span class="tlaCBC">             63 :     val = numericvar_to_double_no_overflow(&amp;ln_num);</span></span>
<span id="L11007" title="Line 11007: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11007</span>                 :                : </span>
<span id="L11008" title="Line 11008: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11008</span>                 :                :     /* initial overflow/underflow test with fuzz factor */</span>
<span id="L11009" title="Line 11009: commit f14aad5169ba on 2022-10-07 by peter@eisentraut.org"> 1054 <a href="#top" title="next CBC in &ldquo;peter@eisentraut.org&rdquo; bin">peter@eisentraut.org</a> <span class="lineNum">   11009</span>         [<span class="tlaCBC"> <a href="#L11011" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11011" title="CBC: Branch 1 was taken 60 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             63 :     if (fabs(val) &gt; NUMERIC_MAX_RESULT_SCALE * 3.01)</span></span>
<span id="L11010" title="Line 11010: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11010</span>                 :                :     {</span>
<span id="L11011" title="Line 11011: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com"> 1487 <a href="#L11015" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   11011</span>         [<span class="tlaUBC"> <a href="#L11012" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L11045" title="CBC: Branch 1 was taken 3 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">              3 :         if (val &gt; 0)</span></span>
<span id="L11012" title="Line 11012: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com"><span title="dean.a.rasheed@gmail.com 1487 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L11158" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">1487</a> <a href="#top" title="next UBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin" class="tlaBgUBC">dean.a.rasheed@gmail</a></span> <span class="lineNum">   11012</span>         [<span class="tlaUBC"> <a href="#L11045" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L11045" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L11158" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             ereport(ERROR,</span></span>
<span id="L11013" title="Line 11013: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11013</span>                 :                :                     (errcode(ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE),</span>
<span id="L11014" title="Line 11014: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11014</span>                 :                :                      errmsg(&quot;value overflows numeric format&quot;)));</span>
<span id="L11015" title="Line 11015: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com"> <a href="#L11147" title="next CBC in &ldquo;(360..) days&rdquo; bin">1487</a> <a href="#L11030" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   11015</span>                 :<a href="#L11181" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">           3 :         zero_var(result);</span></span>
<span id="L11016" title="Line 11016: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11016</span>                 :<span class="tlaCBC">              3 :         result-&gt;dscale = NUMERIC_MAX_DISPLAY_SCALE;</span></span>
<span id="L11017" title="Line 11017: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11017</span>                 :<span class="tlaCBC">              3 :         return;</span></span>
<span id="L11018" title="Line 11018: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11018</span>                 :                :     }</span>
<span id="L11019" title="Line 11019: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11019</span>                 :                : </span>
<span id="L11020" title="Line 11020: commit 18a02ad2a506 on 2016-05-05 by dean.a.rasheed@gmail.com"> 3400                      <span class="lineNum">   11020</span>                 :<span class="tlaCBC">             60 :     val *= 0.434294481903252;   /* approximate decimal result weight */</span></span>
<span id="L11021" title="Line 11021: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11021</span>                 :                : </span>
<span id="L11022" title="Line 11022: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11022</span>                 :                :     /* choose the result scale */</span>
<span id="L11023" title="Line 11023: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11035" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11023</span>                 :<span class="tlaCBC">             60 :     rscale = NUMERIC_MIN_SIG_DIGITS - (int) val;</span></span>
<span id="L11024" title="Line 11024: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11024</span>                 :<span class="tlaCBC">             60 :     rscale = Max(rscale, base-&gt;dscale);</span></span>
<span id="L11025" title="Line 11025: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11025</span>                 :<span class="tlaCBC">             60 :     rscale = Max(rscale, exp-&gt;dscale);</span></span>
<span id="L11026" title="Line 11026: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11026</span>                 :<span class="tlaCBC">             60 :     rscale = Max(rscale, NUMERIC_MIN_DISPLAY_SCALE);</span></span>
<span id="L11027" title="Line 11027: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11027</span>                 :<span class="tlaCBC">             60 :     rscale = Min(rscale, NUMERIC_MAX_DISPLAY_SCALE);</span></span>
<span id="L11028" title="Line 11028: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11028</span>                 :                : </span>
<span id="L11029" title="Line 11029: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11029</span>                 :                :     /* significant digits required in the result */</span>
<span id="L11030" title="Line 11030: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com"> 1487 <a href="#L11045" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   11030</span>                 :<span class="tlaCBC">             60 :     sig_digits = rscale + (int) val;</span></span>
<span id="L11031" title="Line 11031: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11031</span>                 :<span class="tlaCBC">             60 :     sig_digits = Max(sig_digits, 0);</span></span>
<span id="L11032" title="Line 11032: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11032</span>                 :                : </span>
<span id="L11033" title="Line 11033: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11033</span>                 :                :     /* set the scale for the real exp * ln(base) calculation */</span>
<span id="L11034" title="Line 11034: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11034</span>                 :<span class="tlaCBC">             60 :     local_rscale = sig_digits - ln_dweight + 8;</span></span>
<span id="L11035" title="Line 11035: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573 <a href="#L11048" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11035</span>                 :<span class="tlaCBC">             60 :     local_rscale = Max(local_rscale, NUMERIC_MIN_DISPLAY_SCALE);</span></span>
<span id="L11036" title="Line 11036: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11036</span>                 :                : </span>
<span id="L11037" title="Line 11037: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11037</span>                 :                :     /* and do the real calculation */</span>
<span id="L11038" title="Line 11038: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11038</span>                 :                : </span>
<span id="L11039" title="Line 11039: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11039</span>                 :<span class="tlaCBC">             60 :     ln_var(base, &amp;ln_base, local_rscale);</span></span>
<span id="L11040" title="Line 11040: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11040</span>                 :                : </span>
<span id="L11041" title="Line 11041: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11041</span>                 :<span class="tlaCBC">             60 :     mul_var(&amp;ln_base, exp, &amp;ln_num, local_rscale);</span></span>
<span id="L11042" title="Line 11042: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11042</span>                 :                : </span>
<span id="L11043" title="Line 11043: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">   11043</span>                 :<span class="tlaCBC">             60 :     exp_var(&amp;ln_num, result, rscale);</span></span>
<span id="L11044" title="Line 11044: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11044</span>                 :                : </span>
<span id="L11045" title="Line 11045: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com"> 1487 <a href="#L11050" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   11045</span>   [<span class="tlaCBC"> <a href="#L11083" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11083" title="CBC: Branch 1 was taken 57 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11083" title="CBC: Branch 2 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L11093" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">             60 :     if (res_sign == NUMERIC_NEG &amp;&amp; result-&gt;ndigits &gt; 0)</span></span>
<span id="L11046" title="Line 11046: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11046</span>                 :<span class="tlaCBC">              3 :         result-&gt;sign = NUMERIC_NEG;</span></span>
<span id="L11047" title="Line 11047: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11047</span>                 :                : </span>
<span id="L11048" title="Line 11048: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11128" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11048</span>                 :<span class="tlaCBC">             60 :     free_var(&amp;ln_num);</span></span>
<span id="L11049" title="Line 11049: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11049</span>                 :<span class="tlaCBC">             60 :     free_var(&amp;ln_base);</span></span>
<span id="L11050" title="Line 11050: commit 4dd5ce2fd9b9 on 2021-07-31 by dean.a.rasheed@gmail.com"> 1487 <a href="#L11146" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   11050</span>                 :<span class="tlaCBC">             60 :     free_var(&amp;abs_base);</span></span>
<span id="L11051" title="Line 11051: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11051</span>                 :                : }</span>
<span id="L11052" title="Line 11052: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11052</span>                 :                : </span>
<span id="L11053" title="Line 11053: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11053</span>                 :                : /*</span>
<span id="L11054" title="Line 11054: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11054</span>                 :                :  * power_var_int() -</span>
<span id="L11055" title="Line 11055: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11055</span>                 :                :  *</span>
<span id="L11056" title="Line 11056: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11056</span>                 :                :  *  Raise base to the power of exp, where exp is an integer.</span>
<span id="L11057" title="Line 11057: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11057</span>                 :                :  *</span>
<span id="L11058" title="Line 11058: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11058</span>                 :                :  *  Note: this routine chooses dscale of the result.</span>
<span id="L11059" title="Line 11059: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11059</span>                 :                :  */</span>
<span id="L11060" title="Line 11060: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11060</span>                 :                : static void</span>
<span id="L11061" title="Line 11061: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com"> 1041                      <span class="lineNum">   11061</span>                 :<span class="tlaCBC">            618 : power_var_int(const NumericVar *base, int exp, int exp_dscale,</span></span>
<span id="L11062" title="Line 11062: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11062</span>                 :                :               NumericVar *result)</span>
<span id="L11063" title="Line 11063: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11063</span>                 :                : {</span>
<span id="L11064" title="Line 11064: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11064</span>                 :                :     double      f;</span>
<span id="L11065" title="Line 11065: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11065</span>                 :                :     int         p;</span>
<span id="L11066" title="Line 11066: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11066</span>                 :                :     int         i;</span>
<span id="L11067" title="Line 11067: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11067</span>                 :                :     int         rscale;</span>
<span id="L11068" title="Line 11068: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11068</span>                 :                :     int         sig_digits;</span>
<span id="L11069" title="Line 11069: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11069</span>                 :                :     unsigned int mask;</span>
<span id="L11070" title="Line 11070: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11070</span>                 :                :     bool        neg;</span>
<span id="L11071" title="Line 11071: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11071</span>                 :                :     NumericVar  base_prod;</span>
<span id="L11072" title="Line 11072: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11072</span>                 :                :     int         local_rscale;</span>
<span id="L11073" title="Line 11073: commit b813d143aec2 on 2002-10-02 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11073</span>                 :                : </span>
<span id="L11074" title="Line 11074: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11074</span>                 :                :     /*</span>
<span id="L11075" title="Line 11075: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11075</span>                 :                :      * Choose the result scale.  For this we need an estimate of the decimal</span>
<span id="L11076" title="Line 11076: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11076</span>                 :                :      * weight of the result, which we obtain by approximating using double</span>
<span id="L11077" title="Line 11077: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11077</span>                 :                :      * precision arithmetic.</span>
<span id="L11078" title="Line 11078: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11078</span>                 :                :      *</span>
<span id="L11079" title="Line 11079: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11079</span>                 :                :      * We also perform crude overflow/underflow tests here so that we can exit</span>
<span id="L11080" title="Line 11080: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11080</span>                 :                :      * early if the result is sure to overflow/underflow, and to guard against</span>
<span id="L11081" title="Line 11081: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11081</span>                 :                :      * integer overflow when choosing the result scale.</span>
<span id="L11082" title="Line 11082: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11082</span>                 :                :      */</span>
<span id="L11083" title="Line 11083: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11083</span>         [<span class="tlaCBC"> <a href="#L11093" title="CBC: Branch 0 was taken 603 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11093" title="CBC: Branch 1 was taken 15 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            618 :     if (base-&gt;ndigits != 0)</span></span>
<span id="L11084" title="Line 11084: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11084</span>                 :                :     {</span>
<span id="L11085" title="Line 11085: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11085</span>                 :                :         /*----------</span>
<span id="L11086" title="Line 11086: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11086</span>                 :                :          * Choose f (double) and p (int) such that base ~= f * 10^p.</span>
<span id="L11087" title="Line 11087: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11087</span>                 :                :          * Then log10(result) = log10(base^exp) ~= exp * (log10(f) + p).</span>
<span id="L11088" title="Line 11088: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11088</span>                 :                :          *----------</span>
<span id="L11089" title="Line 11089: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11089</span>                 :                :          */</span>
<span id="L11090" title="Line 11090: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11090</span>                 :<span class="tlaCBC">            603 :         f = base-&gt;digits[0];</span></span>
<span id="L11091" title="Line 11091: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11091</span>                 :<span class="tlaCBC">            603 :         p = base-&gt;weight * DEC_DIGITS;</span></span>
<span id="L11092" title="Line 11092: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11092</span>                 :                : </span>
<span id="L11093" title="Line 11093: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11093</span>   [<span class="tlaCBC"> <a href="#L11105" title="CBC: Branch 0 was taken 42 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11105" title="CBC: Branch 1 was taken 603 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11105" title="CBC: Branch 2 was taken 42 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L11106" title="UBC: Branch 3 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">            645 :         for (i = 1; i &lt; base-&gt;ndigits &amp;&amp; i * DEC_DIGITS &lt; 16; i++)</span></span>
<span id="L11094" title="Line 11094: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11094</span>                 :                :         {</span>
<span id="L11095" title="Line 11095: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11095</span>                 :<span class="tlaCBC">             42 :             f = f * NBASE + base-&gt;digits[i];</span></span>
<span id="L11096" title="Line 11096: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11096</span>                 :<span class="tlaCBC">             42 :             p -= DEC_DIGITS;</span></span>
<span id="L11097" title="Line 11097: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11097</span>                 :                :         }</span>
<span id="L11098" title="Line 11098: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11098</span>                 :                : </span>
<span id="L11099" title="Line 11099: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11099</span>                 :<span class="tlaCBC">            603 :         f = exp * (log10(f) + p);   /* approximate decimal result weight */</span></span>
<span id="L11100" title="Line 11100: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11100</span>                 :                :     }</span>
<span id="L11101" title="Line 11101: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11101</span>                 :                :     else</span>
<span id="L11102" title="Line 11102: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11102</span>                 :<span class="tlaCBC">             15 :         f = 0;                  /* result is 0 or 1 (weight 0), or error */</span></span>
<span id="L11103" title="Line 11103: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11103</span>                 :                : </span>
<span id="L11104" title="Line 11104: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11104</span>                 :                :     /* overflow/underflow tests with fuzz factors */</span>
<span id="L11105" title="Line 11105: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">  414                      <span class="lineNum">   11105</span>         [<span class="tlaCBC"> <a href="#L11106" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11106" title="CBC: Branch 1 was taken 612 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            618 :     if (f &gt; (NUMERIC_WEIGHT_MAX + 1) * DEC_DIGITS)</span></span>
<span id="L11106" title="Line 11106: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com"> 1041                      <span class="lineNum">   11106</span>         [<span class="tlaCBC"> <a href="#L11109" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L11156" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              6 :         ereport(ERROR,</span></span>
<span id="L11107" title="Line 11107: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11107</span>                 :                :                 (errcode(ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE),</span>
<span id="L11108" title="Line 11108: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11108</span>                 :                :                  errmsg(&quot;value overflows numeric format&quot;)));</span>
<span id="L11109" title="Line 11109: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11109</span>         [<span class="tlaCBC"> <a href="#L11128" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11128" title="CBC: Branch 1 was taken 606 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            612 :     if (f + 1 &lt; -NUMERIC_MAX_DISPLAY_SCALE)</span></span>
<span id="L11110" title="Line 11110: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11110</span>                 :                :     {</span>
<span id="L11111" title="Line 11111: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11111</span>                 :<span class="tlaCBC">              6 :         zero_var(result);</span></span>
<span id="L11112" title="Line 11112: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11112</span>                 :<span class="tlaCBC">              6 :         result-&gt;dscale = NUMERIC_MAX_DISPLAY_SCALE;</span></span>
<span id="L11113" title="Line 11113: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11113</span>                 :<span class="tlaCBC">            108 :         return;</span></span>
<span id="L11114" title="Line 11114: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11114</span>                 :                :     }</span>
<span id="L11115" title="Line 11115: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11115</span>                 :                : </span>
<span id="L11116" title="Line 11116: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11116</span>                 :                :     /*</span>
<span id="L11117" title="Line 11117: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11117</span>                 :                :      * Choose the result scale in the same way as power_var(), so it has at</span>
<span id="L11118" title="Line 11118: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11118</span>                 :                :      * least NUMERIC_MIN_SIG_DIGITS significant digits and is not less than</span>
<span id="L11119" title="Line 11119: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11119</span>                 :                :      * either input's display scale.</span>
<span id="L11120" title="Line 11120: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11120</span>                 :                :      */</span>
<span id="L11121" title="Line 11121: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11121</span>                 :<span class="tlaCBC">            606 :     rscale = NUMERIC_MIN_SIG_DIGITS - (int) f;</span></span>
<span id="L11122" title="Line 11122: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11122</span>                 :<span class="tlaCBC">            606 :     rscale = Max(rscale, base-&gt;dscale);</span></span>
<span id="L11123" title="Line 11123: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11123</span>                 :<span class="tlaCBC">            606 :     rscale = Max(rscale, exp_dscale);</span></span>
<span id="L11124" title="Line 11124: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11124</span>                 :<span class="tlaCBC">            606 :     rscale = Max(rscale, NUMERIC_MIN_DISPLAY_SCALE);</span></span>
<span id="L11125" title="Line 11125: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11125</span>                 :<span class="tlaCBC">            606 :     rscale = Min(rscale, NUMERIC_MAX_DISPLAY_SCALE);</span></span>
<span id="L11126" title="Line 11126: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11126</span>                 :                : </span>
<span id="L11127" title="Line 11127: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11127</span>                 :                :     /* Handle some common special cases, as well as corner cases */</span>
<span id="L11128" title="Line 11128: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11140" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11128</span>   [<span class="tlaCBC"> <a href="#L11156" title="CBC: Branch 0 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11156" title="CBC: Branch 1 was taken 24 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11156" title="CBC: Branch 2 was taken 15 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11156" title="CBC: Branch 3 was taken 27 times" class="branchTla">+</a> </span> :<span class="tlaCBC">            606 :     switch (exp)</span></span>
                           <span class="lineNum">        </span>             <span class="tlaCBC"> <a href="#L11156" title="CBC: Branch 4 was taken 504 times" class="branchTla">+</a> </span>]
<span id="L11129" title="Line 11129: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11129</span>                 :                :     {</span>
<span id="L11130" title="Line 11130: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11130</span>                 :<span class="tlaCBC">             36 :         case 0:</span></span>
<span id="L11131" title="Line 11131: commit d74714027942 on 2009-06-11 by bruce@momjian.us">                           <span class="lineNum">   11131</span>                 :                : </span>
<span id="L11132" title="Line 11132: commit 4a586bd405c2 on 2008-05-08 by bruce@momjian.us">                           <span class="lineNum">   11132</span>                 :                :             /*</span>
<span id="L11133" title="Line 11133: commit d74714027942 on 2009-06-11 by bruce@momjian.us">                           <span class="lineNum">   11133</span>                 :                :              * While 0 ^ 0 can be either 1 or indeterminate (error), we treat</span>
<span id="L11134" title="Line 11134: commit d74714027942 on 2009-06-11 by bruce@momjian.us">                           <span class="lineNum">   11134</span>                 :                :              * it as 1 because most programming languages do this. SQL:2003</span>
<span id="L11135" title="Line 11135: commit d74714027942 on 2009-06-11 by bruce@momjian.us">                           <span class="lineNum">   11135</span>                 :                :              * also requires a return value of 1.</span>
<span id="L11136" title="Line 11136: commit a06e56b247fe on 2018-07-16 by peter_e@gmx.net">                           <span class="lineNum">   11136</span>                 :                :              * https://en.wikipedia.org/wiki/Exponentiation#Zero_to_the_zero_power</span>
<span id="L11137" title="Line 11137: commit 4a586bd405c2 on 2008-05-08 by bruce@momjian.us">                           <span class="lineNum">   11137</span>                 :                :              */</span>
<span id="L11138" title="Line 11138: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11138</span>                 :<span class="tlaCBC">             36 :             set_var_from_var(&amp;const_one, result);</span></span>
<span id="L11139" title="Line 11139: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> 8058 <a href="#L11476" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11139</span>                 :<span class="tlaCBC">             36 :             result-&gt;dscale = rscale; /* no need to round */</span></span>
<span id="L11140" title="Line 11140: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11147" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11140</span>                 :<span class="tlaCBC">             36 :             return;</span></span>
<span id="L11141" title="Line 11141: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11141</span>                 :<span class="tlaCBC">             24 :         case 1:</span></span>
<span id="L11142" title="Line 11142: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11142</span>                 :<span class="tlaCBC">             24 :             set_var_from_var(base, result);</span></span>
<span id="L11143" title="Line 11143: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11143</span>                 :<span class="tlaCBC">             24 :             round_var(result, rscale);</span></span>
<span id="L11144" title="Line 11144: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11144</span>                 :<span class="tlaCBC">             24 :             return;</span></span>
<span id="L11145" title="Line 11145: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11145</span>                 :<span class="tlaCBC">             15 :         case -1:</span></span>
<span id="L11146" title="Line 11146: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#L11254" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L11188" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   11146</span>                 :<span class="tlaCBC">             15 :             div_var(&amp;const_one, base, result, rscale, true, true);</span></span>
<span id="L11147" title="Line 11147: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L11181" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L11181" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11147</span>                 :<span class="tlaCBC">             15 :             return;</span></span>
<span id="L11148" title="Line 11148: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11148</span>                 :<span class="tlaCBC">             27 :         case 2:</span></span>
<span id="L11149" title="Line 11149: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11149</span>                 :<span class="tlaCBC">             27 :             mul_var(base, base, result, rscale);</span></span>
<span id="L11150" title="Line 11150: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11150</span>                 :<span class="tlaCBC">             27 :             return;</span></span>
<span id="L11151" title="Line 11151: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11151</span>                 :<span class="tlaCBC">            504 :         default:</span></span>
<span id="L11152" title="Line 11152: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11152</span>                 :<span class="tlaCBC">            504 :             break;</span></span>
<span id="L11153" title="Line 11153: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11153</span>                 :                :     }</span>
<span id="L11154" title="Line 11154: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11154</span>                 :                : </span>
<span id="L11155" title="Line 11155: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11155</span>                 :                :     /* Handle the special case where the base is zero */</span>
<span id="L11156" title="Line 11156: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573                      <span class="lineNum">   11156</span>         [<span class="tlaUBC"> <a href="#L11158" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L11199" title="CBC: Branch 1 was taken 504 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            504 :     if (base-&gt;ndigits == 0)</span></span>
<span id="L11157" title="Line 11157: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11157</span>                 :                :     {</span>
<span id="L11158" title="Line 11158: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 3573 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L11240" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3573</a> </span><a href="#L11240" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 3573 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">   11158</span>         [<span class="tlaUBC"> <a href="#L11159" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L11159" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L11240" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         if (exp &lt; 0)</span></span>
<span id="L11159" title="Line 11159: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 3573 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">   11159</span>         [<span class="tlaUBC"> <a href="#L11236" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L11236" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :             ereport(ERROR,</span></span>
<span id="L11160" title="Line 11160: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11160</span>                 :                :                     (errcode(ERRCODE_DIVISION_BY_ZERO),</span>
<span id="L11161" title="Line 11161: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11161</span>                 :                :                      errmsg(&quot;division by zero&quot;)));</span>
<span id="L11162" title="Line 11162: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 3573 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">   11162</span>                 :<span class="tlaUBC">              0 :         zero_var(result);</span></span>
<span id="L11163" title="Line 11163: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 3573 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">   11163</span>                 :<span class="tlaUBC">              0 :         result-&gt;dscale = rscale;</span></span>
<span id="L11164" title="Line 11164: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 3573 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">   11164</span>                 :<span class="tlaUBC">              0 :         return;</span></span>
<span id="L11165" title="Line 11165: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11165</span>                 :                :     }</span>
<span id="L11166" title="Line 11166: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11166</span>                 :                : </span>
<span id="L11167" title="Line 11167: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11167</span>                 :                :     /*</span>
<span id="L11168" title="Line 11168: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">   11168</span>                 :                :      * The general case repeatedly multiplies base according to the bit</span>
<span id="L11169" title="Line 11169: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11169</span>                 :                :      * pattern of exp.</span>
<span id="L11170" title="Line 11170: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11170</span>                 :                :      *</span>
<span id="L11171" title="Line 11171: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11171</span>                 :                :      * The local rscale used for each multiplication is varied to keep a fixed</span>
<span id="L11172" title="Line 11172: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11172</span>                 :                :      * number of significant digits, sufficient to give the required result</span>
<span id="L11173" title="Line 11173: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11173</span>                 :                :      * scale.</span>
<span id="L11174" title="Line 11174: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11174</span>                 :                :      */</span>
<span id="L11175" title="Line 11175: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11175</span>                 :                : </span>
<span id="L11176" title="Line 11176: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11176</span>                 :                :     /*</span>
<span id="L11177" title="Line 11177: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11177</span>                 :                :      * Approximate number of significant digits in the result.  Note that the</span>
<span id="L11178" title="Line 11178: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11178</span>                 :                :      * underflow test above, together with the choice of rscale, ensures that</span>
<span id="L11179" title="Line 11179: commit 40c7fcbbed5d on 2022-10-20 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11179</span>                 :                :      * this approximation is necessarily &gt; 0.</span>
<span id="L11180" title="Line 11180: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11180</span>                 :                :      */</span>
<span id="L11181" title="Line 11181: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> <a href="#L11250" title="next CBC in &ldquo;(360..) days&rdquo; bin">3573</a> <a href="#L11193" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11181</span>                 :<a href="#L11250" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         504 :     sig_digits = 1 + rscale + (int) f;</span></span>
<span id="L11182" title="Line 11182: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11182</span>                 :                : </span>
<span id="L11183" title="Line 11183: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11183</span>                 :                :     /*</span>
<span id="L11184" title="Line 11184: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11184</span>                 :                :      * The multiplications to produce the result may introduce an error of up</span>
<span id="L11185" title="Line 11185: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11185</span>                 :                :      * to around log10(abs(exp)) digits, so work with this many extra digits</span>
<span id="L11186" title="Line 11186: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11186</span>                 :                :      * of precision (plus a few more for good measure).</span>
<span id="L11187" title="Line 11187: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11187</span>                 :                :      */</span>
<span id="L11188" title="Line 11188: commit fead67c24ada on 2021-01-05 by dean.a.rasheed@gmail.com"> 1694 <a href="#L11236" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   11188</span>                 :<span class="tlaCBC">            504 :     sig_digits += (int) log(fabs((double) exp)) + 8;</span></span>
<span id="L11189" title="Line 11189: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11189</span>                 :                : </span>
<span id="L11190" title="Line 11190: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11190</span>                 :                :     /*</span>
<span id="L11191" title="Line 11191: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11191</span>                 :                :      * Now we can proceed with the multiplications.</span>
<span id="L11192" title="Line 11192: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11192</span>                 :                :      */</span>
<span id="L11193" title="Line 11193: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11196" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11193</span>                 :<span class="tlaCBC">            504 :     neg = (exp &lt; 0);</span></span>
<span id="L11194" title="Line 11194: commit 9e9a2b7031f6 on 2024-08-15 by nathan@postgresql.org">  376 <a href="#top" title="next CBC in &ldquo;nathan@postgresql.org&rdquo; bin">nathan@postgresql.or</a> <span class="lineNum">   11194</span>                 :<span class="tlaCBC">            504 :     mask = pg_abs_s32(exp);</span></span>
<span id="L11195" title="Line 11195: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11195</span>                 :                : </span>
<span id="L11196" title="Line 11196: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11250" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11196</span>                 :<span class="tlaCBC">            504 :     init_var(&amp;base_prod);</span></span>
<span id="L11197" title="Line 11197: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11197</span>                 :<span class="tlaCBC">            504 :     set_var_from_var(base, &amp;base_prod);</span></span>
<span id="L11198" title="Line 11198: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11198</span>                 :                : </span>
<span id="L11199" title="Line 11199: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us"> 4002                      <span class="lineNum">   11199</span>         [<span class="tlaCBC"> <a href="#L11204" title="CBC: Branch 0 was taken 249 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11204" title="CBC: Branch 1 was taken 255 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            504 :     if (mask &amp; 1)</span></span>
<span id="L11200" title="Line 11200: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">   11200</span>                 :<span class="tlaCBC">            249 :         set_var_from_var(base, result);</span></span>
<span id="L11201" title="Line 11201: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11201</span>                 :                :     else</span>
<span id="L11202" title="Line 11202: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11202</span>                 :<span class="tlaCBC">            255 :         set_var_from_var(&amp;const_one, result);</span></span>
<span id="L11203" title="Line 11203: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11203</span>                 :                : </span>
<span id="L11204" title="Line 11204: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us"> 4002                      <span class="lineNum">   11204</span>         [<span class="tlaCBC"> <a href="#L11217" title="CBC: Branch 0 was taken 2034 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11217" title="CBC: Branch 1 was taken 504 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2538 :     while ((mask &gt;&gt;= 1) &gt; 0)</span></span>
<span id="L11205" title="Line 11205: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11205</span>                 :                :     {</span>
<span id="L11206" title="Line 11206: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11206</span>                 :                :         /*</span>
<span id="L11207" title="Line 11207: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11207</span>                 :                :          * Do the multiplications using rscales large enough to hold the</span>
<span id="L11208" title="Line 11208: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11208</span>                 :                :          * results to the required number of significant digits, but don't</span>
<span id="L11209" title="Line 11209: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11209</span>                 :                :          * waste time by exceeding the scales of the numbers themselves.</span>
<span id="L11210" title="Line 11210: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11210</span>                 :                :          */</span>
<span id="L11211" title="Line 11211: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573                      <span class="lineNum">   11211</span>                 :<span class="tlaCBC">           2034 :         local_rscale = sig_digits - 2 * base_prod.weight * DEC_DIGITS;</span></span>
<span id="L11212" title="Line 11212: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11212</span>                 :<span class="tlaCBC">           2034 :         local_rscale = Min(local_rscale, 2 * base_prod.dscale);</span></span>
<span id="L11213" title="Line 11213: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11213</span>                 :<span class="tlaCBC">           2034 :         local_rscale = Max(local_rscale, NUMERIC_MIN_DISPLAY_SCALE);</span></span>
<span id="L11214" title="Line 11214: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11214</span>                 :                : </span>
<span id="L11215" title="Line 11215: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">   11215</span>                 :<span class="tlaCBC">           2034 :         mul_var(&amp;base_prod, &amp;base_prod, &amp;base_prod, local_rscale);</span></span>
<span id="L11216" title="Line 11216: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11216</span>                 :                : </span>
<span id="L11217" title="Line 11217: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us"> 4002                      <span class="lineNum">   11217</span>         [<span class="tlaCBC"> <a href="#L11236" title="CBC: Branch 0 was taken 1329 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11236" title="CBC: Branch 1 was taken 705 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2034 :         if (mask &amp; 1)</span></span>
<span id="L11218" title="Line 11218: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11218</span>                 :                :         {</span>
<span id="L11219" title="Line 11219: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us"> 3573                      <span class="lineNum">   11219</span>                 :<span class="tlaCBC">           1329 :             local_rscale = sig_digits -</span></span>
<span id="L11220" title="Line 11220: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11220</span>                 :<span class="tlaCBC">           1329 :                 (base_prod.weight + result-&gt;weight) * DEC_DIGITS;</span></span>
<span id="L11221" title="Line 11221: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11221</span>                 :<span class="tlaCBC">           1329 :             local_rscale = Min(local_rscale,</span></span>
<span id="L11222" title="Line 11222: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11222</span>                 :                :                                base_prod.dscale + result-&gt;dscale);</span>
<span id="L11223" title="Line 11223: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11223</span>                 :<span class="tlaCBC">           1329 :             local_rscale = Max(local_rscale, NUMERIC_MIN_DISPLAY_SCALE);</span></span>
<span id="L11224" title="Line 11224: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11224</span>                 :                : </span>
<span id="L11225" title="Line 11225: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">   11225</span>                 :<span class="tlaCBC">           1329 :             mul_var(&amp;base_prod, result, result, local_rscale);</span></span>
<span id="L11226" title="Line 11226: commit 7d9a4737c268 on 2015-11-14 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11226</span>                 :                :         }</span>
<span id="L11227" title="Line 11227: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11227</span>                 :                : </span>
<span id="L11228" title="Line 11228: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11228</span>                 :                :         /*</span>
<span id="L11229" title="Line 11229: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11229</span>                 :                :          * When abs(base) &gt; 1, the number of digits to the left of the decimal</span>
<span id="L11230" title="Line 11230: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11230</span>                 :                :          * point in base_prod doubles at each iteration, so if exp is large we</span>
<span id="L11231" title="Line 11231: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11231</span>                 :                :          * could easily spend large amounts of time and memory space doing the</span>
<span id="L11232" title="Line 11232: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11232</span>                 :                :          * multiplications.  But once the weight exceeds what will fit in</span>
<span id="L11233" title="Line 11233: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11233</span>                 :                :          * int16, the final result is guaranteed to overflow (or underflow, if</span>
<span id="L11234" title="Line 11234: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11234</span>                 :                :          * exp &lt; 0), so we can give up before wasting too many cycles.</span>
<span id="L11235" title="Line 11235: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11235</span>                 :                :          */</span>
<span id="L11236" title="Line 11236: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">  414 <a href="#L11254" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   11236</span>         [<span class="tlaCBC"> <a href="#L11237" title="CBC: Branch 0 was taken 2034 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L11237" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">           2034 :         if (base_prod.weight &gt; NUMERIC_WEIGHT_MAX ||</span></span>
<span id="L11237" title="Line 11237: commit 1ff39f4ff2b6 on 2024-07-08 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11237</span>         [<span class="tlaUBC"> <a href="#L11240" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L11253" title="CBC: Branch 1 was taken 2034 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           2034 :             result-&gt;weight &gt; NUMERIC_WEIGHT_MAX)</span></span>
<span id="L11238" title="Line 11238: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11238</span>                 :                :         {</span>
<span id="L11239" title="Line 11239: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11239</span>                 :                :             /* overflow, unless neg, in which case result should be 0 */</span>
<span id="L11240" title="Line 11240: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 4002 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L11500" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">4002</a> </span><a href="#L11584" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 4002 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">   11240</span>         [<span class="tlaUBC"> <a href="#L11241" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L11241" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<a href="#L11500" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :             if (!neg)</span></span>
<span id="L11241" title="Line 11241: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 4002 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">   11241</span>         [<span class="tlaUBC"> <a href="#L11310" title="UBC: Branch 0 was not executed" class="branchTla">#</a> </span><span class="tlaUBC"> <a href="#L11310" title="UBC: Branch 1 was not executed" class="branchTla">#</a> </span>]:<span class="tlaUBC">              0 :                 ereport(ERROR,</span></span>
<span id="L11242" title="Line 11242: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11242</span>                 :                :                         (errcode(ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE),</span>
<span id="L11243" title="Line 11243: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11243</span>                 :                :                          errmsg(&quot;value overflows numeric format&quot;)));</span>
<span id="L11244" title="Line 11244: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 4002 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">   11244</span>                 :<span class="tlaUBC">              0 :             zero_var(result);</span></span>
<span id="L11245" title="Line 11245: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 4002 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">   11245</span>                 :<span class="tlaUBC">              0 :             neg = false;</span></span>
<span id="L11246" title="Line 11246: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 4002 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">   11246</span>                 :<span class="tlaUBC">              0 :             break;</span></span>
<span id="L11247" title="Line 11247: commit 1d352325b88a on 2014-09-11 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11247</span>                 :                :         }</span>
<span id="L11248" title="Line 11248: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11248</span>                 :                :     }</span>
<span id="L11249" title="Line 11249: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11249</span>                 :                : </span>
<span id="L11250" title="Line 11250: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L11256" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L11256" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11250</span>                 :<a href="#L11502" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">         504 :     free_var(&amp;base_prod);</span></span>
<span id="L11251" title="Line 11251: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11251</span>                 :                : </span>
<span id="L11252" title="Line 11252: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11252</span>                 :                :     /* Compensate for input sign, and round to requested rscale */</span>
<span id="L11253" title="Line 11253: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11253</span>         [<span class="tlaCBC"> <a href="#L11272" title="CBC: Branch 0 was taken 243 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11272" title="CBC: Branch 1 was taken 261 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            504 :     if (neg)</span></span>
<span id="L11254" title="Line 11254: commit 9428c001f675 on 2024-10-04 by dean.a.rasheed@gmail.com">  <a href="#top" title="next CBC in &ldquo;(30,360] days&rdquo; bin">326</a> <a href="#L11266" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   11254</span>                 :<span class="tlaCBC">            243 :         div_var(&amp;const_one, result, result, rscale, true, false);</span></span>
<span id="L11255" title="Line 11255: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11255</span>                 :                :     else</span>
<span id="L11256" title="Line 11256: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L11502" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L11498" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11256</span>                 :<span class="tlaCBC">            261 :         round_var(result, rscale);</span></span>
<span id="L11257" title="Line 11257: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11257</span>                 :                : }</span>
<span id="L11258" title="Line 11258: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11258</span>                 :                : </span>
<span id="L11259" title="Line 11259: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11259</span>                 :                : /*</span>
<span id="L11260" title="Line 11260: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11260</span>                 :                :  * power_ten_int() -</span>
<span id="L11261" title="Line 11261: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11261</span>                 :                :  *</span>
<span id="L11262" title="Line 11262: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11262</span>                 :                :  *  Raise ten to the power of exp, where exp is an integer.  Note that unlike</span>
<span id="L11263" title="Line 11263: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11263</span>                 :                :  *  power_var_int(), this does no overflow/underflow checking or rounding.</span>
<span id="L11264" title="Line 11264: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11264</span>                 :                :  */</span>
<span id="L11265" title="Line 11265: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11265</span>                 :                : static void</span>
<span id="L11266" title="Line 11266: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com"> 1482 <a href="#top" title="next CBC in &ldquo;dean.a.rasheed@gmail.com&rdquo; bin">dean.a.rasheed@gmail</a> <span class="lineNum">   11266</span>                 :<span class="tlaCBC">            114 : power_ten_int(int exp, NumericVar *result)</span></span>
<span id="L11267" title="Line 11267: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11267</span>                 :                : {</span>
<span id="L11268" title="Line 11268: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11268</span>                 :                :     /* Construct the result directly, starting from 10^0 = 1 */</span>
<span id="L11269" title="Line 11269: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11269</span>                 :<span class="tlaCBC">            114 :     set_var_from_var(&amp;const_one, result);</span></span>
<span id="L11270" title="Line 11270: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11270</span>                 :                : </span>
<span id="L11271" title="Line 11271: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11271</span>                 :                :     /* Scale needed to represent the result exactly */</span>
<span id="L11272" title="Line 11272: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11272</span>         [<span class="tlaCBC"> <a href="#L11275" title="CBC: Branch 0 was taken 33 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11275" title="CBC: Branch 1 was taken 81 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            114 :     result-&gt;dscale = exp &lt; 0 ? -exp : 0;</span></span>
<span id="L11273" title="Line 11273: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11273</span>                 :                : </span>
<span id="L11274" title="Line 11274: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11274</span>                 :                :     /* Base-NBASE weight of result and remaining exponent */</span>
<span id="L11275" title="Line 11275: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11275</span>         [<span class="tlaCBC"> <a href="#L11283" title="CBC: Branch 0 was taken 81 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11283" title="CBC: Branch 1 was taken 33 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            114 :     if (exp &gt;= 0)</span></span>
<span id="L11276" title="Line 11276: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11276</span>                 :<span class="tlaCBC">             81 :         result-&gt;weight = exp / DEC_DIGITS;</span></span>
<span id="L11277" title="Line 11277: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11277</span>                 :                :     else</span>
<span id="L11278" title="Line 11278: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11278</span>                 :<span class="tlaCBC">             33 :         result-&gt;weight = (exp + 1) / DEC_DIGITS - 1;</span></span>
<span id="L11279" title="Line 11279: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11279</span>                 :                : </span>
<span id="L11280" title="Line 11280: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11280</span>                 :<span class="tlaCBC">            114 :     exp -= result-&gt;weight * DEC_DIGITS;</span></span>
<span id="L11281" title="Line 11281: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11281</span>                 :                : </span>
<span id="L11282" title="Line 11282: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11282</span>                 :                :     /* Final adjustment of the result's single NBASE digit */</span>
<span id="L11283" title="Line 11283: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11283</span>         [<span class="tlaCBC"> <a href="#L11309" title="CBC: Branch 0 was taken 183 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11309" title="CBC: Branch 1 was taken 114 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            297 :     while (exp-- &gt; 0)</span></span>
<span id="L11284" title="Line 11284: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11284</span>                 :<span class="tlaCBC">            183 :         result-&gt;digits[0] *= 10;</span></span>
<span id="L11285" title="Line 11285: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11285</span>                 :<span class="tlaCBC">            114 : }</span></span>
<span id="L11286" title="Line 11286: commit 226ec49ffd78 on 2021-08-05 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11286</span>                 :                : </span>
<span id="L11287" title="Line 11287: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11287</span>                 :                : /*</span>
<span id="L11288" title="Line 11288: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11288</span>                 :                :  * random_var() - return a random value in the range [rmin, rmax].</span>
<span id="L11289" title="Line 11289: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11289</span>                 :                :  */</span>
<span id="L11290" title="Line 11290: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11290</span>                 :                : static void</span>
<span id="L11291" title="Line 11291: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">  517                      <span class="lineNum">   11291</span>                 :<span class="tlaCBC">          16719 : random_var(pg_prng_state *state, const NumericVar *rmin,</span></span>
<span id="L11292" title="Line 11292: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11292</span>                 :                :            const NumericVar *rmax, NumericVar *result)</span>
<span id="L11293" title="Line 11293: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11293</span>                 :                : {</span>
<span id="L11294" title="Line 11294: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11294</span>                 :                :     int         rscale;</span>
<span id="L11295" title="Line 11295: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11295</span>                 :                :     NumericVar  rlen;</span>
<span id="L11296" title="Line 11296: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11296</span>                 :                :     int         res_ndigits;</span>
<span id="L11297" title="Line 11297: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11297</span>                 :                :     int         n;</span>
<span id="L11298" title="Line 11298: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11298</span>                 :                :     int         pow10;</span>
<span id="L11299" title="Line 11299: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11299</span>                 :                :     int         i;</span>
<span id="L11300" title="Line 11300: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11300</span>                 :                :     uint64      rlen64;</span>
<span id="L11301" title="Line 11301: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11301</span>                 :                :     int         rlen64_ndigits;</span>
<span id="L11302" title="Line 11302: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11302</span>                 :                : </span>
<span id="L11303" title="Line 11303: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11303</span>                 :<span class="tlaCBC">          16719 :     rscale = Max(rmin-&gt;dscale, rmax-&gt;dscale);</span></span>
<span id="L11304" title="Line 11304: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11304</span>                 :                : </span>
<span id="L11305" title="Line 11305: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11305</span>                 :                :     /* Compute rlen = rmax - rmin and check the range bounds */</span>
<span id="L11306" title="Line 11306: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11306</span>                 :<span class="tlaCBC">          16719 :     init_var(&amp;rlen);</span></span>
<span id="L11307" title="Line 11307: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11307</span>                 :<span class="tlaCBC">          16719 :     sub_var(rmax, rmin, &amp;rlen);</span></span>
<span id="L11308" title="Line 11308: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11308</span>                 :                : </span>
<span id="L11309" title="Line 11309: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11309</span>         [<span class="tlaCBC"> <a href="#L11310" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11310" title="CBC: Branch 1 was taken 16716 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          16719 :     if (rlen.sign == NUMERIC_NEG)</span></span>
<span id="L11310" title="Line 11310: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11310</span>         [<span class="tlaCBC"> <a href="#L11315" title="CBC: Branch 0 was taken 3 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L11446" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">              3 :         ereport(ERROR,</span></span>
<span id="L11311" title="Line 11311: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11311</span>                 :                :                 errcode(ERRCODE_INVALID_PARAMETER_VALUE),</span>
<span id="L11312" title="Line 11312: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11312</span>                 :                :                 errmsg(&quot;lower bound must be less than or equal to upper bound&quot;));</span>
<span id="L11313" title="Line 11313: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11313</span>                 :                : </span>
<span id="L11314" title="Line 11314: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11314</span>                 :                :     /* Special case for an empty range */</span>
<span id="L11315" title="Line 11315: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11315</span>         [<span class="tlaCBC"> <a href="#L11337" title="CBC: Branch 0 was taken 6 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11337" title="CBC: Branch 1 was taken 16710 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          16716 :     if (rlen.ndigits == 0)</span></span>
<span id="L11316" title="Line 11316: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11316</span>                 :                :     {</span>
<span id="L11317" title="Line 11317: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11317</span>                 :<span class="tlaCBC">              6 :         set_var_from_var(rmin, result);</span></span>
<span id="L11318" title="Line 11318: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11318</span>                 :<span class="tlaCBC">              6 :         result-&gt;dscale = rscale;</span></span>
<span id="L11319" title="Line 11319: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11319</span>                 :<span class="tlaCBC">              6 :         free_var(&amp;rlen);</span></span>
<span id="L11320" title="Line 11320: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11320</span>                 :<span class="tlaCBC">              6 :         return;</span></span>
<span id="L11321" title="Line 11321: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11321</span>                 :                :     }</span>
<span id="L11322" title="Line 11322: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11322</span>                 :                : </span>
<span id="L11323" title="Line 11323: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11323</span>                 :                :     /*</span>
<span id="L11324" title="Line 11324: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11324</span>                 :                :      * Otherwise, select a random value in the range [0, rlen = rmax - rmin],</span>
<span id="L11325" title="Line 11325: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11325</span>                 :                :      * and shift it to the required range by adding rmin.</span>
<span id="L11326" title="Line 11326: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11326</span>                 :                :      */</span>
<span id="L11327" title="Line 11327: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11327</span>                 :                : </span>
<span id="L11328" title="Line 11328: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11328</span>                 :                :     /* Required result digits */</span>
<span id="L11329" title="Line 11329: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11329</span>                 :<span class="tlaCBC">          16710 :     res_ndigits = rlen.weight + 1 + (rscale + DEC_DIGITS - 1) / DEC_DIGITS;</span></span>
<span id="L11330" title="Line 11330: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11330</span>                 :                : </span>
<span id="L11331" title="Line 11331: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11331</span>                 :                :     /*</span>
<span id="L11332" title="Line 11332: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11332</span>                 :                :      * To get the required rscale, the final result digit must be a multiple</span>
<span id="L11333" title="Line 11333: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11333</span>                 :                :      * of pow10 = 10^n, where n = (-rscale) mod DEC_DIGITS.</span>
<span id="L11334" title="Line 11334: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11334</span>                 :                :      */</span>
<span id="L11335" title="Line 11335: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11335</span>                 :<span class="tlaCBC">          16710 :     n = ((rscale + DEC_DIGITS - 1) / DEC_DIGITS) * DEC_DIGITS - rscale;</span></span>
<span id="L11336" title="Line 11336: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11336</span>                 :<span class="tlaCBC">          16710 :     pow10 = 1;</span></span>
<span id="L11337" title="Line 11337: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11337</span>         [<span class="tlaCBC"> <a href="#L11365" title="CBC: Branch 0 was taken 27240 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11365" title="CBC: Branch 1 was taken 16710 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          43950 :     for (i = 0; i &lt; n; i++)</span></span>
<span id="L11338" title="Line 11338: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11338</span>                 :<span class="tlaCBC">          27240 :         pow10 *= 10;</span></span>
<span id="L11339" title="Line 11339: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11339</span>                 :                : </span>
<span id="L11340" title="Line 11340: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11340</span>                 :                :     /*</span>
<span id="L11341" title="Line 11341: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11341</span>                 :                :      * To choose a random value uniformly from the range [0, rlen], we choose</span>
<span id="L11342" title="Line 11342: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11342</span>                 :                :      * from the slightly larger range [0, rlen2], where rlen2 is formed from</span>
<span id="L11343" title="Line 11343: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11343</span>                 :                :      * rlen by copying the first 4 NBASE digits, and setting all remaining</span>
<span id="L11344" title="Line 11344: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11344</span>                 :                :      * decimal digits to &quot;9&quot;.</span>
<span id="L11345" title="Line 11345: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11345</span>                 :                :      *</span>
<span id="L11346" title="Line 11346: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11346</span>                 :                :      * Without loss of generality, we can ignore the weight of rlen2 and treat</span>
<span id="L11347" title="Line 11347: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11347</span>                 :                :      * it as a pure integer for the purposes of this discussion.  The process</span>
<span id="L11348" title="Line 11348: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11348</span>                 :                :      * above gives rlen2 + 1 = rlen64 * 10^N, for some integer N, where rlen64</span>
<span id="L11349" title="Line 11349: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11349</span>                 :                :      * is a 64-bit integer formed from the first 4 NBASE digits copied from</span>
<span id="L11350" title="Line 11350: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11350</span>                 :                :      * rlen.  Since this trivially factors into smaller pieces that fit in</span>
<span id="L11351" title="Line 11351: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11351</span>                 :                :      * 64-bit integers, the task of choosing a random value uniformly from the</span>
<span id="L11352" title="Line 11352: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11352</span>                 :                :      * rlen2 + 1 possible values in [0, rlen2] is much simpler.</span>
<span id="L11353" title="Line 11353: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11353</span>                 :                :      *</span>
<span id="L11354" title="Line 11354: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11354</span>                 :                :      * If the random value selected is too large, it is rejected, and we try</span>
<span id="L11355" title="Line 11355: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11355</span>                 :                :      * again until we get a result &lt;= rlen, ensuring that the overall result</span>
<span id="L11356" title="Line 11356: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11356</span>                 :                :      * is uniform (no particular value is any more likely than any other).</span>
<span id="L11357" title="Line 11357: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11357</span>                 :                :      *</span>
<span id="L11358" title="Line 11358: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11358</span>                 :                :      * Since rlen64 holds 4 NBASE digits from rlen, it contains at least</span>
<span id="L11359" title="Line 11359: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11359</span>                 :                :      * DEC_DIGITS * 3 + 1 decimal digits (i.e., at least 13 decimal digits,</span>
<span id="L11360" title="Line 11360: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11360</span>                 :                :      * when DEC_DIGITS is 4). Therefore the probability of needing to reject</span>
<span id="L11361" title="Line 11361: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11361</span>                 :                :      * the value chosen and retry is less than 1e-13.</span>
<span id="L11362" title="Line 11362: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11362</span>                 :                :      */</span>
<span id="L11363" title="Line 11363: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11363</span>                 :<span class="tlaCBC">          16710 :     rlen64 = (uint64) rlen.digits[0];</span></span>
<span id="L11364" title="Line 11364: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11364</span>                 :<span class="tlaCBC">          16710 :     rlen64_ndigits = 1;</span></span>
<span id="L11365" title="Line 11365: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11365</span>   [<span class="tlaCBC"> <a href="#L11368" title="CBC: Branch 0 was taken 27480 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11368" title="CBC: Branch 1 was taken 10626 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11368" title="CBC: Branch 2 was taken 21396 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11368" title="CBC: Branch 3 was taken 6084 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          38106 :     while (rlen64_ndigits &lt; res_ndigits &amp;&amp; rlen64_ndigits &lt; 4)</span></span>
<span id="L11366" title="Line 11366: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11366</span>                 :                :     {</span>
<span id="L11367" title="Line 11367: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11367</span>                 :<span class="tlaCBC">          21396 :         rlen64 *= NBASE;</span></span>
<span id="L11368" title="Line 11368: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11368</span>         [<span class="tlaCBC"> <a href="#L11393" title="CBC: Branch 0 was taken 3306 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11393" title="CBC: Branch 1 was taken 18090 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          21396 :         if (rlen64_ndigits &lt; rlen.ndigits)</span></span>
<span id="L11369" title="Line 11369: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11369</span>                 :<span class="tlaCBC">           3306 :             rlen64 += rlen.digits[rlen64_ndigits];</span></span>
<span id="L11370" title="Line 11370: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11370</span>                 :<span class="tlaCBC">          21396 :         rlen64_ndigits++;</span></span>
<span id="L11371" title="Line 11371: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11371</span>                 :                :     }</span>
<span id="L11372" title="Line 11372: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11372</span>                 :                : </span>
<span id="L11373" title="Line 11373: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11373</span>                 :                :     /* Loop until we get a result &lt;= rlen */</span>
<span id="L11374" title="Line 11374: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11374</span>                 :                :     do</span>
<span id="L11375" title="Line 11375: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11375</span>                 :                :     {</span>
<span id="L11376" title="Line 11376: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11376</span>                 :                :         NumericDigit *res_digits;</span>
<span id="L11377" title="Line 11377: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11377</span>                 :                :         uint64      rand;</span>
<span id="L11378" title="Line 11378: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11378</span>                 :                :         int         whole_ndigits;</span>
<span id="L11379" title="Line 11379: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11379</span>                 :                : </span>
<span id="L11380" title="Line 11380: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11380</span>                 :<span class="tlaCBC">          16710 :         alloc_var(result, res_ndigits);</span></span>
<span id="L11381" title="Line 11381: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11381</span>                 :<span class="tlaCBC">          16710 :         result-&gt;sign = NUMERIC_POS;</span></span>
<span id="L11382" title="Line 11382: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11382</span>                 :<span class="tlaCBC">          16710 :         result-&gt;weight = rlen.weight;</span></span>
<span id="L11383" title="Line 11383: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11383</span>                 :<span class="tlaCBC">          16710 :         result-&gt;dscale = rscale;</span></span>
<span id="L11384" title="Line 11384: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11384</span>                 :<span class="tlaCBC">          16710 :         res_digits = result-&gt;digits;</span></span>
<span id="L11385" title="Line 11385: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11385</span>                 :                : </span>
<span id="L11386" title="Line 11386: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11386</span>                 :                :         /*</span>
<span id="L11387" title="Line 11387: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11387</span>                 :                :          * Set the first rlen64_ndigits using a random value in [0, rlen64].</span>
<span id="L11388" title="Line 11388: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11388</span>                 :                :          *</span>
<span id="L11389" title="Line 11389: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11389</span>                 :                :          * If this is the whole result, and rscale is not a multiple of</span>
<span id="L11390" title="Line 11390: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11390</span>                 :                :          * DEC_DIGITS (pow10 from above is not 1), then we need this to be a</span>
<span id="L11391" title="Line 11391: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11391</span>                 :                :          * multiple of pow10.</span>
<span id="L11392" title="Line 11392: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11392</span>                 :                :          */</span>
<span id="L11393" title="Line 11393: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11393</span>   [<span class="tlaCBC"> <a href="#L11398" title="CBC: Branch 0 was taken 10626 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11398" title="CBC: Branch 1 was taken 6084 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11398" title="CBC: Branch 2 was taken 10566 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11398" title="CBC: Branch 3 was taken 60 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          16710 :         if (rlen64_ndigits == res_ndigits &amp;&amp; pow10 != 1)</span></span>
<span id="L11394" title="Line 11394: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11394</span>                 :<span class="tlaCBC">          10566 :             rand = pg_prng_uint64_range(state, 0, rlen64 / pow10) * pow10;</span></span>
<span id="L11395" title="Line 11395: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11395</span>                 :                :         else</span>
<span id="L11396" title="Line 11396: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11396</span>                 :<span class="tlaCBC">           6144 :             rand = pg_prng_uint64_range(state, 0, rlen64);</span></span>
<span id="L11397" title="Line 11397: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11397</span>                 :                : </span>
<span id="L11398" title="Line 11398: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11398</span>         [<span class="tlaCBC"> <a href="#L11409" title="CBC: Branch 0 was taken 38106 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11409" title="CBC: Branch 1 was taken 16710 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          54816 :         for (i = rlen64_ndigits - 1; i &gt;= 0; i--)</span></span>
<span id="L11399" title="Line 11399: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11399</span>                 :                :         {</span>
<span id="L11400" title="Line 11400: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11400</span>                 :<span class="tlaCBC">          38106 :             res_digits[i] = (NumericDigit) (rand % NBASE);</span></span>
<span id="L11401" title="Line 11401: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11401</span>                 :<span class="tlaCBC">          38106 :             rand = rand / NBASE;</span></span>
<span id="L11402" title="Line 11402: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11402</span>                 :                :         }</span>
<span id="L11403" title="Line 11403: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11403</span>                 :                : </span>
<span id="L11404" title="Line 11404: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11404</span>                 :                :         /*</span>
<span id="L11405" title="Line 11405: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11405</span>                 :                :          * Set the remaining digits to random values in range [0, NBASE),</span>
<span id="L11406" title="Line 11406: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11406</span>                 :                :          * noting that the last digit needs to be a multiple of pow10.</span>
<span id="L11407" title="Line 11407: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11407</span>                 :                :          */</span>
<span id="L11408" title="Line 11408: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11408</span>                 :<span class="tlaCBC">          16710 :         whole_ndigits = res_ndigits;</span></span>
<span id="L11409" title="Line 11409: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11409</span>         [<span class="tlaCBC"> <a href="#L11414" title="CBC: Branch 0 was taken 16605 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11414" title="CBC: Branch 1 was taken 105 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          16710 :         if (pow10 != 1)</span></span>
<span id="L11410" title="Line 11410: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11410</span>                 :<span class="tlaCBC">          16605 :             whole_ndigits--;</span></span>
<span id="L11411" title="Line 11411: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11411</span>                 :                : </span>
<span id="L11412" title="Line 11412: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11412</span>                 :                :         /* Set whole digits in groups of 4 for best performance */</span>
<span id="L11413" title="Line 11413: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11413</span>                 :<span class="tlaCBC">          16710 :         i = rlen64_ndigits;</span></span>
<span id="L11414" title="Line 11414: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11414</span>         [<span class="tlaCBC"> <a href="#L11428" title="CBC: Branch 0 was taken 30 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11428" title="CBC: Branch 1 was taken 16710 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          16740 :         while (i &lt; whole_ndigits - 3)</span></span>
<span id="L11415" title="Line 11415: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11415</span>                 :                :         {</span>
<span id="L11416" title="Line 11416: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11416</span>                 :<span class="tlaCBC">             30 :             rand = pg_prng_uint64_range(state, 0,</span></span>
<span id="L11417" title="Line 11417: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11417</span>                 :                :                                         (uint64) NBASE * NBASE * NBASE * NBASE - 1);</span>
<span id="L11418" title="Line 11418: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11418</span>                 :<span class="tlaCBC">             30 :             res_digits[i++] = (NumericDigit) (rand % NBASE);</span></span>
<span id="L11419" title="Line 11419: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11419</span>                 :<span class="tlaCBC">             30 :             rand = rand / NBASE;</span></span>
<span id="L11420" title="Line 11420: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11420</span>                 :<span class="tlaCBC">             30 :             res_digits[i++] = (NumericDigit) (rand % NBASE);</span></span>
<span id="L11421" title="Line 11421: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11421</span>                 :<span class="tlaCBC">             30 :             rand = rand / NBASE;</span></span>
<span id="L11422" title="Line 11422: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11422</span>                 :<span class="tlaCBC">             30 :             res_digits[i++] = (NumericDigit) (rand % NBASE);</span></span>
<span id="L11423" title="Line 11423: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11423</span>                 :<span class="tlaCBC">             30 :             rand = rand / NBASE;</span></span>
<span id="L11424" title="Line 11424: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11424</span>                 :<span class="tlaCBC">             30 :             res_digits[i++] = (NumericDigit) rand;</span></span>
<span id="L11425" title="Line 11425: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11425</span>                 :                :         }</span>
<span id="L11426" title="Line 11426: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11426</span>                 :                : </span>
<span id="L11427" title="Line 11427: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11427</span>                 :                :         /* Remaining whole digits */</span>
<span id="L11428" title="Line 11428: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11428</span>         [<span class="tlaCBC"> <a href="#L11435" title="CBC: Branch 0 was taken 105 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11435" title="CBC: Branch 1 was taken 16710 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          16815 :         while (i &lt; whole_ndigits)</span></span>
<span id="L11429" title="Line 11429: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11429</span>                 :                :         {</span>
<span id="L11430" title="Line 11430: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11430</span>                 :<span class="tlaCBC">            105 :             rand = pg_prng_uint64_range(state, 0, NBASE - 1);</span></span>
<span id="L11431" title="Line 11431: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11431</span>                 :<span class="tlaCBC">            105 :             res_digits[i++] = (NumericDigit) rand;</span></span>
<span id="L11432" title="Line 11432: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11432</span>                 :                :         }</span>
<span id="L11433" title="Line 11433: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11433</span>                 :                : </span>
<span id="L11434" title="Line 11434: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11434</span>                 :                :         /* Final partial digit (multiple of pow10) */</span>
<span id="L11435" title="Line 11435: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11435</span>         [<span class="tlaCBC"> <a href="#L11446" title="CBC: Branch 0 was taken 6039 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11446" title="CBC: Branch 1 was taken 10671 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          16710 :         if (i &lt; res_ndigits)</span></span>
<span id="L11436" title="Line 11436: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11436</span>                 :                :         {</span>
<span id="L11437" title="Line 11437: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11437</span>                 :<span class="tlaCBC">           6039 :             rand = pg_prng_uint64_range(state, 0, NBASE / pow10 - 1) * pow10;</span></span>
<span id="L11438" title="Line 11438: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11438</span>                 :<span class="tlaCBC">           6039 :             res_digits[i] = (NumericDigit) rand;</span></span>
<span id="L11439" title="Line 11439: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11439</span>                 :                :         }</span>
<span id="L11440" title="Line 11440: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11440</span>                 :                : </span>
<span id="L11441" title="Line 11441: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11441</span>                 :                :         /* Remove leading/trailing zeroes */</span>
<span id="L11442" title="Line 11442: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11442</span>                 :<span class="tlaCBC">          16710 :         strip_var(result);</span></span>
<span id="L11443" title="Line 11443: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11443</span>                 :                : </span>
<span id="L11444" title="Line 11444: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11444</span>                 :                :         /* If result &gt; rlen, try again */</span>
<span id="L11445" title="Line 11445: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11445</span>                 :                : </span>
<span id="L11446" title="Line 11446: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11446</span>         [<span class="tlaUBC"> <a href="#L11498" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L11496" title="CBC: Branch 1 was taken 16710 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          16710 :     } while (cmp_var(result, &amp;rlen) &gt; 0);</span></span>
<span id="L11447" title="Line 11447: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11447</span>                 :                : </span>
<span id="L11448" title="Line 11448: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11448</span>                 :                :     /* Offset the result to the required range */</span>
<span id="L11449" title="Line 11449: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11449</span>                 :<span class="tlaCBC">          16710 :     add_var(result, rmin, result);</span></span>
<span id="L11450" title="Line 11450: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11450</span>                 :                : </span>
<span id="L11451" title="Line 11451: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11451</span>                 :<span class="tlaCBC">          16710 :     free_var(&amp;rlen);</span></span>
<span id="L11452" title="Line 11452: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11452</span>                 :                : }</span>
<span id="L11453" title="Line 11453: commit e6341323a8da on 2024-03-27 by dean.a.rasheed@gmail.com">                           <span class="lineNum">   11453</span>                 :                : </span>
<span id="L11454" title="Line 11454: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11454</span>                 :                : </span>
<span id="L11455" title="Line 11455: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11455</span>                 :                : /* ----------------------------------------------------------------------</span>
<span id="L11456" title="Line 11456: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11456</span>                 :                :  *</span>
<span id="L11457" title="Line 11457: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11457</span>                 :                :  * Following are the lowest level functions that operate unsigned</span>
<span id="L11458" title="Line 11458: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11458</span>                 :                :  * on the variable level</span>
<span id="L11459" title="Line 11459: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11459</span>                 :                :  *</span>
<span id="L11460" title="Line 11460: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11460</span>                 :                :  * ----------------------------------------------------------------------</span>
<span id="L11461" title="Line 11461: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11461</span>                 :                :  */</span>
<span id="L11462" title="Line 11462: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11462</span>                 :                : </span>
<span id="L11463" title="Line 11463: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11463</span>                 :                : </span>
<span id="L11464" title="Line 11464: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11464</span>                 :                : /* ----------</span>
<span id="L11465" title="Line 11465: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11465</span>                 :                :  * cmp_abs() -</span>
<span id="L11466" title="Line 11466: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11466</span>                 :                :  *</span>
<span id="L11467" title="Line 11467: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11467</span>                 :                :  *  Compare the absolute values of var1 and var2</span>
<span id="L11468" title="Line 11468: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11468</span>                 :                :  *  Returns:    -1 for ABS(var1) &lt; ABS(var2)</span>
<span id="L11469" title="Line 11469: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11469</span>                 :                :  *              0  for ABS(var1) == ABS(var2)</span>
<span id="L11470" title="Line 11470: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11470</span>                 :                :  *              1  for ABS(var1) &gt; ABS(var2)</span>
<span id="L11471" title="Line 11471: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11471</span>                 :                :  * ----------</span>
<span id="L11472" title="Line 11472: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11472</span>                 :                :  */</span>
<span id="L11473" title="Line 11473: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11473</span>                 :                : static int</span>
<span id="L11474" title="Line 11474: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L11552" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">   11474</span>                 :<span class="tlaCBC">         354747 : cmp_abs(const NumericVar *var1, const NumericVar *var2)</span></span>
<span id="L11475" title="Line 11475: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11475</span>                 :                : {</span>
<span id="L11476" title="Line 11476: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us"> 7140 <a href="#L11499" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11476</span>                 :<span class="tlaCBC">         709494 :     return cmp_abs_common(var1-&gt;digits, var1-&gt;ndigits, var1-&gt;weight,</span></span>
<span id="L11477" title="Line 11477: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">   11477</span>                 :<span class="tlaCBC">         354747 :                           var2-&gt;digits, var2-&gt;ndigits, var2-&gt;weight);</span></span>
<span id="L11478" title="Line 11478: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">   11478</span>                 :                : }</span>
<span id="L11479" title="Line 11479: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">   11479</span>                 :                : </span>
<span id="L11480" title="Line 11480: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">   11480</span>                 :                : /* ----------</span>
<span id="L11481" title="Line 11481: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">   11481</span>                 :                :  * cmp_abs_common() -</span>
<span id="L11482" title="Line 11482: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">   11482</span>                 :                :  *</span>
<span id="L11483" title="Line 11483: commit f99a569a2ee3 on 2006-10-04 by bruce@momjian.us">                           <span class="lineNum">   11483</span>                 :                :  *  Main routine of cmp_abs(). This function can be used by both</span>
<span id="L11484" title="Line 11484: commit f99a569a2ee3 on 2006-10-04 by bruce@momjian.us">                           <span class="lineNum">   11484</span>                 :                :  *  NumericVar and Numeric.</span>
<span id="L11485" title="Line 11485: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">   11485</span>                 :                :  * ----------</span>
<span id="L11486" title="Line 11486: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">   11486</span>                 :                :  */</span>
<span id="L11487" title="Line 11487: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">   11487</span>                 :                : static int</span>
<span id="L11488" title="Line 11488: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">   11488</span>                 :<span class="tlaCBC">       10000271 : cmp_abs_common(const NumericDigit *var1digits, int var1ndigits, int var1weight,</span></span>
<span id="L11489" title="Line 11489: commit 382ceffdf7f6 on 2017-06-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11489</span>                 :                :                const NumericDigit *var2digits, int var2ndigits, int var2weight)</span>
<span id="L11490" title="Line 11490: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">   11490</span>                 :                : {</span>
<span id="L11491" title="Line 11491: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590                      <span class="lineNum">   11491</span>                 :<span class="tlaCBC">       10000271 :     int         i1 = 0;</span></span>
<span id="L11492" title="Line 11492: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11492</span>                 :<span class="tlaCBC">       10000271 :     int         i2 = 0;</span></span>
<span id="L11493" title="Line 11493: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11493</span>                 :                : </span>
<span id="L11494" title="Line 11494: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11494</span>                 :                :     /* Check any digits before the first common digit */</span>
<span id="L11495" title="Line 11495: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11495</span>                 :                : </span>
<span id="L11496" title="Line 11496: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us"> 7140                      <span class="lineNum">   11496</span>   [<span class="tlaCBC"> <a href="#L11498" title="CBC: Branch 0 was taken 13641 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11498" title="CBC: Branch 1 was taken 9986630 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11498" title="CBC: Branch 2 was taken 13555 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11498" title="CBC: Branch 3 was taken 86 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">       10000271 :     while (var1weight &gt; var2weight &amp;&amp; i1 &lt; var1ndigits)</span></span>
<span id="L11497" title="Line 11497: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11497</span>                 :                :     {</span>
<span id="L11498" title="Line 11498: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11504" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11498</span>         [<span class="tlaCBC"> <a href="#L11502" title="CBC: Branch 0 was taken 13555 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L11504" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">          13555 :         if (var1digits[i1++] != 0)</span></span>
<span id="L11499" title="Line 11499: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L11502" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11499</span>                 :<span class="tlaCBC">          13555 :             return 1;</span></span>
<span id="L11500" title="Line 11500: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us"><span title="bruce@momjian.us 7140 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L11506" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">7140</a> </span><a href="#L11506" title="next UBC in &ldquo;bruce@momjian.us&rdquo; bin" class="tlaBgUBC">bruce@momjian.us</a><span title="bruce@momjian.us 7140 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">    </span> <span class="lineNum">   11500</span>                 :<a href="#L11506" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         var1weight--;</span></span>
<span id="L11501" title="Line 11501: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11501</span>                 :                :     }</span>
<span id="L11502" title="Line 11502: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us"> <a href="#L11511" title="next CBC in &ldquo;(360..) days&rdquo; bin">7140</a> <a href="#L11505" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11502</span>   [<span class="tlaCBC"> <a href="#L11504" title="CBC: Branch 0 was taken 79621 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11504" title="CBC: Branch 1 was taken 9907095 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11504" title="CBC: Branch 2 was taken 76522 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11504" title="CBC: Branch 3 was taken 3099 times" class="branchTla">+</a> </span>]:<a href="#L11511" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">     9986716 :     while (var2weight &gt; var1weight &amp;&amp; i2 &lt; var2ndigits)</span></span>
<span id="L11503" title="Line 11503: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11503</span>                 :                :     {</span>
<span id="L11504" title="Line 11504: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11515" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11504</span>         [<span class="tlaCBC"> <a href="#L11511" title="CBC: Branch 0 was taken 76522 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L11583" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span>]:<span class="tlaCBC">          76522 :         if (var2digits[i2++] != 0)</span></span>
<span id="L11505" title="Line 11505: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L11511" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11505</span>                 :<span class="tlaCBC">          76522 :             return -1;</span></span>
<span id="L11506" title="Line 11506: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us"><span title="bruce@momjian.us 7140 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L11584" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">7140</a> </span><a href="#top" title="next UBC in &ldquo;bruce@momjian.us&rdquo; bin" class="tlaBgUBC">bruce@momjian.us</a><span title="bruce@momjian.us 7140 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">    </span> <span class="lineNum">   11506</span>                 :<a href="#L11584" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         var2weight--;</span></span>
<span id="L11507" title="Line 11507: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11507</span>                 :                :     }</span>
<span id="L11508" title="Line 11508: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11508</span>                 :                : </span>
<span id="L11509" title="Line 11509: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11509</span>                 :                :     /* At this point, either w1 == w2 or we've run out of digits */</span>
<span id="L11510" title="Line 11510: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11510</span>                 :                : </span>
<span id="L11511" title="Line 11511: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us"> <a href="#L11586" title="next CBC in &ldquo;(360..) days&rdquo; bin">7140</a> <a href="#L11530" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11511</span>         [<span class="tlaCBC"> <a href="#L11513" title="CBC: Branch 0 was taken 9907009 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11513" title="CBC: Branch 1 was taken 3185 times" class="branchTla">+</a> </span>]:<a href="#L11586" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">     9910194 :     if (var1weight == var2weight)</span></span>
<span id="L11512" title="Line 11512: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11512</span>                 :                :     {</span>
<span id="L11513" title="Line 11513: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us">                           <span class="lineNum">   11513</span>   [<span class="tlaCBC"> <a href="#L11517" title="CBC: Branch 0 was taken 10700091 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11517" title="CBC: Branch 1 was taken 5440478 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11517" title="CBC: Branch 2 was taken 10698597 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11517" title="CBC: Branch 3 was taken 1494 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">       16140569 :         while (i1 &lt; var1ndigits &amp;&amp; i2 &lt; var2ndigits)</span></span>
<span id="L11514" title="Line 11514: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11514</span>                 :                :         {</span>
<span id="L11515" title="Line 11515: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11532" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11515</span>                 :<span class="tlaCBC">       10698597 :             int         stat = var1digits[i1++] - var2digits[i2++];</span></span>
<span id="L11516" title="Line 11516: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11516</span>                 :                : </span>
<span id="L11517" title="Line 11517: commit 1bbe55c79f8c on 1999-01-04 by JanWieck@Yahoo.com"> 9731 <a href="#L11533" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   11517</span>         [<span class="tlaCBC"> <a href="#L11519" title="CBC: Branch 0 was taken 4465037 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11519" title="CBC: Branch 1 was taken 6233560 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">       10698597 :             if (stat)</span></span>
<span id="L11518" title="Line 11518: commit 1bbe55c79f8c on 1999-01-04 by JanWieck@Yahoo.com">                           <span class="lineNum">   11518</span>                 :                :             {</span>
<span id="L11519" title="Line 11519: commit 1bbe55c79f8c on 1999-01-04 by JanWieck@Yahoo.com">                           <span class="lineNum">   11519</span>         [<span class="tlaCBC"> <a href="#L11530" title="CBC: Branch 0 was taken 2664287 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11530" title="CBC: Branch 1 was taken 1800750 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        4465037 :                 if (stat &gt; 0)</span></span>
<span id="L11520" title="Line 11520: commit 1bbe55c79f8c on 1999-01-04 by JanWieck@Yahoo.com">                           <span class="lineNum">   11520</span>                 :<span class="tlaCBC">        2664287 :                     return 1;</span></span>
<span id="L11521" title="Line 11521: commit 1bbe55c79f8c on 1999-01-04 by JanWieck@Yahoo.com">                           <span class="lineNum">   11521</span>                 :<span class="tlaCBC">        1800750 :                 return -1;</span></span>
<span id="L11522" title="Line 11522: commit 1bbe55c79f8c on 1999-01-04 by JanWieck@Yahoo.com">                           <span class="lineNum">   11522</span>                 :                :             }</span>
<span id="L11523" title="Line 11523: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11523</span>                 :                :         }</span>
<span id="L11524" title="Line 11524: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11524</span>                 :                :     }</span>
<span id="L11525" title="Line 11525: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11525</span>                 :                : </span>
<span id="L11526" title="Line 11526: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11526</span>                 :                :     /*</span>
<span id="L11527" title="Line 11527: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">   11527</span>                 :                :      * At this point, we've run out of digits on one side or the other; so any</span>
<span id="L11528" title="Line 11528: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">   11528</span>                 :                :      * remaining nonzero digits imply that side is larger</span>
<span id="L11529" title="Line 11529: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11529</span>                 :                :      */</span>
<span id="L11530" title="Line 11530: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us"> 7140 <a href="#L11535" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11530</span>         [<span class="tlaCBC"> <a href="#L11532" title="CBC: Branch 0 was taken 4761 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11532" title="CBC: Branch 1 was taken 5440564 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        5445325 :     while (i1 &lt; var1ndigits)</span></span>
<span id="L11531" title="Line 11531: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11531</span>                 :                :     {</span>
<span id="L11532" title="Line 11532: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11537" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11532</span>         [<span class="tlaCBC"> <a href="#L11535" title="CBC: Branch 0 was taken 4593 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11535" title="CBC: Branch 1 was taken 168 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           4761 :         if (var1digits[i1++] != 0)</span></span>
<span id="L11533" title="Line 11533: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L11538" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   11533</span>                 :<span class="tlaCBC">           4593 :             return 1;</span></span>
<span id="L11534" title="Line 11534: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11534</span>                 :                :     }</span>
<span id="L11535" title="Line 11535: commit e7a9ccdb6c5a on 2006-02-07 by bruce@momjian.us"> 7140 <a href="#L11565" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11535</span>         [<span class="tlaCBC"> <a href="#L11537" title="CBC: Branch 0 was taken 615 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11537" title="CBC: Branch 1 was taken 5440111 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        5440726 :     while (i2 &lt; var2ndigits)</span></span>
<span id="L11536" title="Line 11536: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11536</span>                 :                :     {</span>
<span id="L11537" title="Line 11537: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11568" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11537</span>         [<span class="tlaCBC"> <a href="#L11583" title="CBC: Branch 0 was taken 453 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11583" title="CBC: Branch 1 was taken 162 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">            615 :         if (var2digits[i2++] != 0)</span></span>
<span id="L11538" title="Line 11538: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L11582" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   11538</span>                 :<span class="tlaCBC">            453 :             return -1;</span></span>
<span id="L11539" title="Line 11539: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11539</span>                 :                :     }</span>
<span id="L11540" title="Line 11540: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11540</span>                 :                : </span>
<span id="L11541" title="Line 11541: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11541</span>                 :<span class="tlaCBC">        5440111 :     return 0;</span></span>
<span id="L11542" title="Line 11542: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11542</span>                 :                : }</span>
<span id="L11543" title="Line 11543: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11543</span>                 :                : </span>
<span id="L11544" title="Line 11544: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11544</span>                 :                : </span>
<span id="L11545" title="Line 11545: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11545</span>                 :                : /*</span>
<span id="L11546" title="Line 11546: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11546</span>                 :                :  * add_abs() -</span>
<span id="L11547" title="Line 11547: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11547</span>                 :                :  *</span>
<span id="L11548" title="Line 11548: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11548</span>                 :                :  *  Add the absolute values of two variables into result.</span>
<span id="L11549" title="Line 11549: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11549</span>                 :                :  *  result might point to one of the operands without danger.</span>
<span id="L11550" title="Line 11550: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11550</span>                 :                :  */</span>
<span id="L11551" title="Line 11551: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11551</span>                 :                : static void</span>
<span id="L11552" title="Line 11552: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L11637" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">   11552</span>                 :<span class="tlaCBC">         222975 : add_abs(const NumericVar *var1, const NumericVar *var2, NumericVar *result)</span></span>
<span id="L11553" title="Line 11553: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11553</span>                 :                : {</span>
<span id="L11554" title="Line 11554: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11554</span>                 :                :     NumericDigit *res_buf;</span>
<span id="L11555" title="Line 11555: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11555</span>                 :                :     NumericDigit *res_digits;</span>
<span id="L11556" title="Line 11556: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11556</span>                 :                :     int         res_ndigits;</span>
<span id="L11557" title="Line 11557: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11557</span>                 :                :     int         res_weight;</span>
<span id="L11558" title="Line 11558: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11558</span>                 :                :     int         res_rscale,</span>
<span id="L11559" title="Line 11559: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11559</span>                 :                :                 rscale1,</span>
<span id="L11560" title="Line 11560: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11560</span>                 :                :                 rscale2;</span>
<span id="L11561" title="Line 11561: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11561</span>                 :                :     int         res_dscale;</span>
<span id="L11562" title="Line 11562: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11562</span>                 :                :     int         i,</span>
<span id="L11563" title="Line 11563: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11563</span>                 :                :                 i1,</span>
<span id="L11564" title="Line 11564: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11564</span>                 :                :                 i2;</span>
<span id="L11565" title="Line 11565: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L11573" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11565</span>                 :<span class="tlaCBC">         222975 :     int         carry = 0;</span></span>
<span id="L11566" title="Line 11566: commit 9e1552607a9d on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">   11566</span>                 :                : </span>
<span id="L11567" title="Line 11567: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11567</span>                 :                :     /* copy these values into local vars for speed in inner loop */</span>
<span id="L11568" title="Line 11568: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L11578" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11568</span>                 :<span class="tlaCBC">         222975 :     int         var1ndigits = var1-&gt;ndigits;</span></span>
<span id="L11569" title="Line 11569: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11569</span>                 :<span class="tlaCBC">         222975 :     int         var2ndigits = var2-&gt;ndigits;</span></span>
<span id="L11570" title="Line 11570: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11570</span>                 :<span class="tlaCBC">         222975 :     NumericDigit *var1digits = var1-&gt;digits;</span></span>
<span id="L11571" title="Line 11571: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11571</span>                 :<span class="tlaCBC">         222975 :     NumericDigit *var2digits = var2-&gt;digits;</span></span>
<span id="L11572" title="Line 11572: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11572</span>                 :                : </span>
<span id="L11573" title="Line 11573: commit b4a5fa451879 on 2002-02-18 by bruce@momjian.us"> 8590 <a href="#L11617" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11573</span>                 :<span class="tlaCBC">         222975 :     res_weight = Max(var1-&gt;weight, var2-&gt;weight) + 1;</span></span>
<span id="L11574" title="Line 11574: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11574</span>                 :                : </span>
<span id="L11575" title="Line 11575: commit b4a5fa451879 on 2002-02-18 by bruce@momjian.us">                           <span class="lineNum">   11575</span>                 :<span class="tlaCBC">         222975 :     res_dscale = Max(var1-&gt;dscale, var2-&gt;dscale);</span></span>
<span id="L11576" title="Line 11576: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11576</span>                 :                : </span>
<span id="L11577" title="Line 11577: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11577</span>                 :                :     /* Note: here we are figuring rscale in base-NBASE digits */</span>
<span id="L11578" title="Line 11578: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11583" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11578</span>                 :<span class="tlaCBC">         222975 :     rscale1 = var1-&gt;ndigits - var1-&gt;weight - 1;</span></span>
<span id="L11579" title="Line 11579: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11579</span>                 :<span class="tlaCBC">         222975 :     rscale2 = var2-&gt;ndigits - var2-&gt;weight - 1;</span></span>
<span id="L11580" title="Line 11580: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11580</span>                 :<span class="tlaCBC">         222975 :     res_rscale = Max(rscale1, rscale2);</span></span>
<span id="L11581" title="Line 11581: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11581</span>                 :                : </span>
<span id="L11582" title="Line 11582: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L11590" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   11582</span>                 :<span class="tlaCBC">         222975 :     res_ndigits = res_rscale + res_weight + 1;</span></span>
<span id="L11583" title="Line 11583: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352 <a href="#L11586" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11583</span>         [<span class="tlaUBC"> <a href="#L11613" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L11592" title="CBC: Branch 1 was taken 222975 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         222975 :     if (res_ndigits &lt;= 0)</span></span>
<span id="L11584" title="Line 11584: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 9352 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L11669" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">9352</a> </span><a href="#L11669" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 9352 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">   11584</span>                 :<a href="#L11669" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         res_ndigits = 1;</span></span>
<span id="L11585" title="Line 11585: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11585</span>                 :                : </span>
<span id="L11586" title="Line 11586: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L11671" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L11596" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11586</span>                 :<a href="#L11671" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">      222975 :     res_buf = digitbuf_alloc(res_ndigits + 1);</span></span>
<span id="L11587" title="Line 11587: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11587</span>                 :<span class="tlaCBC">         222975 :     res_buf[0] = 0;             /* spare digit for later rounding */</span></span>
<span id="L11588" title="Line 11588: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11588</span>                 :<span class="tlaCBC">         222975 :     res_digits = res_buf + 1;</span></span>
<span id="L11589" title="Line 11589: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11589</span>                 :                : </span>
<span id="L11590" title="Line 11590: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L11615" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   11590</span>                 :<span class="tlaCBC">         222975 :     i1 = res_rscale + var1-&gt;weight + 1;</span></span>
<span id="L11591" title="Line 11591: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11591</span>                 :<span class="tlaCBC">         222975 :     i2 = res_rscale + var2-&gt;weight + 1;</span></span>
<span id="L11592" title="Line 11592: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11592</span>         [<span class="tlaCBC"> <a href="#L11596" title="CBC: Branch 0 was taken 1595853 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11596" title="CBC: Branch 1 was taken 222975 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1818828 :     for (i = res_ndigits - 1; i &gt;= 0; i--)</span></span>
<span id="L11593" title="Line 11593: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11593</span>                 :                :     {</span>
<span id="L11594" title="Line 11594: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11594</span>                 :<span class="tlaCBC">        1595853 :         i1--;</span></span>
<span id="L11595" title="Line 11595: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11595</span>                 :<span class="tlaCBC">        1595853 :         i2--;</span></span>
<span id="L11596" title="Line 11596: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L11623" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11596</span>   [<span class="tlaCBC"> <a href="#L11598" title="CBC: Branch 0 was taken 1369216 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11598" title="CBC: Branch 1 was taken 226637 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11598" title="CBC: Branch 2 was taken 708093 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11598" title="CBC: Branch 3 was taken 661123 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1595853 :         if (i1 &gt;= 0 &amp;&amp; i1 &lt; var1ndigits)</span></span>
<span id="L11597" title="Line 11597: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11597</span>                 :<span class="tlaCBC">         708093 :             carry += var1digits[i1];</span></span>
<span id="L11598" title="Line 11598: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11598</span>   [<span class="tlaCBC"> <a href="#L11601" title="CBC: Branch 0 was taken 588367 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11601" title="CBC: Branch 1 was taken 1007486 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11601" title="CBC: Branch 2 was taken 567849 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11601" title="CBC: Branch 3 was taken 20518 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1595853 :         if (i2 &gt;= 0 &amp;&amp; i2 &lt; var2ndigits)</span></span>
<span id="L11599" title="Line 11599: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11599</span>                 :<span class="tlaCBC">         567849 :             carry += var2digits[i2];</span></span>
<span id="L11600" title="Line 11600: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11600</span>                 :                : </span>
<span id="L11601" title="Line 11601: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194                      <span class="lineNum">   11601</span>         [<span class="tlaCBC"> <a href="#L11613" title="CBC: Branch 0 was taken 112858 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11613" title="CBC: Branch 1 was taken 1482995 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1595853 :         if (carry &gt;= NBASE)</span></span>
<span id="L11602" title="Line 11602: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11602</span>                 :                :         {</span>
<span id="L11603" title="Line 11603: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11603</span>                 :<span class="tlaCBC">         112858 :             res_digits[i] = carry - NBASE;</span></span>
<span id="L11604" title="Line 11604: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171                      <span class="lineNum">   11604</span>                 :<span class="tlaCBC">         112858 :             carry = 1;</span></span>
<span id="L11605" title="Line 11605: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11605</span>                 :                :         }</span>
<span id="L11606" title="Line 11606: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11606</span>                 :                :         else</span>
<span id="L11607" title="Line 11607: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11607</span>                 :                :         {</span>
<span id="L11608" title="Line 11608: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11608</span>                 :<span class="tlaCBC">        1482995 :             res_digits[i] = carry;</span></span>
<span id="L11609" title="Line 11609: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11609</span>                 :<span class="tlaCBC">        1482995 :             carry = 0;</span></span>
<span id="L11610" title="Line 11610: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11610</span>                 :                :         }</span>
<span id="L11611" title="Line 11611: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11611</span>                 :                :     }</span>
<span id="L11612" title="Line 11612: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11612</span>                 :                : </span>
<span id="L11613" title="Line 11613: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11613</span>         [<span class="tlaUBC"> <a href="#L11668" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L11615" title="CBC: Branch 1 was taken 222975 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         222975 :     Assert(carry == 0);         /* else we failed to allow for carry out */</span></span>
<span id="L11614" title="Line 11614: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11614</span>                 :                : </span>
<span id="L11615" title="Line 11615: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L11624" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   11615</span>         [<span class="tlaCBC"> <a href="#L11668" title="CBC: Branch 0 was taken 80388 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11668" title="CBC: Branch 1 was taken 142587 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         222975 :     digitbuf_free(result-&gt;buf);</span></span>
<span id="L11616" title="Line 11616: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11616</span>                 :<span class="tlaCBC">         222975 :     result-&gt;ndigits = res_ndigits;</span></span>
<span id="L11617" title="Line 11617: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L11650" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11617</span>                 :<span class="tlaCBC">         222975 :     result-&gt;buf = res_buf;</span></span>
<span id="L11618" title="Line 11618: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11618</span>                 :<span class="tlaCBC">         222975 :     result-&gt;digits = res_digits;</span></span>
<span id="L11619" title="Line 11619: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11619</span>                 :<span class="tlaCBC">         222975 :     result-&gt;weight = res_weight;</span></span>
<span id="L11620" title="Line 11620: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11620</span>                 :<span class="tlaCBC">         222975 :     result-&gt;dscale = res_dscale;</span></span>
<span id="L11621" title="Line 11621: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11621</span>                 :                : </span>
<span id="L11622" title="Line 11622: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11622</span>                 :                :     /* Remove leading/trailing zeroes */</span>
<span id="L11623" title="Line 11623: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11653" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11623</span>                 :<span class="tlaCBC">         222975 :     strip_var(result);</span></span>
<span id="L11624" title="Line 11624: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L11658" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   11624</span>                 :<span class="tlaCBC">         222975 : }</span></span>
<span id="L11625" title="Line 11625: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11625</span>                 :                : </span>
<span id="L11626" title="Line 11626: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11626</span>                 :                : </span>
<span id="L11627" title="Line 11627: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11627</span>                 :                : /*</span>
<span id="L11628" title="Line 11628: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11628</span>                 :                :  * sub_abs()</span>
<span id="L11629" title="Line 11629: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11629</span>                 :                :  *</span>
<span id="L11630" title="Line 11630: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11630</span>                 :                :  *  Subtract the absolute value of var2 from the absolute value of var1</span>
<span id="L11631" title="Line 11631: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11631</span>                 :                :  *  and store in result. result might point to one of the operands</span>
<span id="L11632" title="Line 11632: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11632</span>                 :                :  *  without danger.</span>
<span id="L11633" title="Line 11633: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11633</span>                 :                :  *</span>
<span id="L11634" title="Line 11634: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11634</span>                 :                :  *  ABS(var1) MUST BE GREATER OR EQUAL ABS(var2) !!!</span>
<span id="L11635" title="Line 11635: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11635</span>                 :                :  */</span>
<span id="L11636" title="Line 11636: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11636</span>                 :                : static void</span>
<span id="L11637" title="Line 11637: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L11944" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">   11637</span>                 :<span class="tlaCBC">         327238 : sub_abs(const NumericVar *var1, const NumericVar *var2, NumericVar *result)</span></span>
<span id="L11638" title="Line 11638: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11638</span>                 :                : {</span>
<span id="L11639" title="Line 11639: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11639</span>                 :                :     NumericDigit *res_buf;</span>
<span id="L11640" title="Line 11640: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11640</span>                 :                :     NumericDigit *res_digits;</span>
<span id="L11641" title="Line 11641: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11641</span>                 :                :     int         res_ndigits;</span>
<span id="L11642" title="Line 11642: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11642</span>                 :                :     int         res_weight;</span>
<span id="L11643" title="Line 11643: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11643</span>                 :                :     int         res_rscale,</span>
<span id="L11644" title="Line 11644: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11644</span>                 :                :                 rscale1,</span>
<span id="L11645" title="Line 11645: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11645</span>                 :                :                 rscale2;</span>
<span id="L11646" title="Line 11646: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11646</span>                 :                :     int         res_dscale;</span>
<span id="L11647" title="Line 11647: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11647</span>                 :                :     int         i,</span>
<span id="L11648" title="Line 11648: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11648</span>                 :                :                 i1,</span>
<span id="L11649" title="Line 11649: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11649</span>                 :                :                 i2;</span>
<span id="L11650" title="Line 11650: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L11660" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11650</span>                 :<span class="tlaCBC">         327238 :     int         borrow = 0;</span></span>
<span id="L11651" title="Line 11651: commit 9e1552607a9d on 2001-03-22 by bruce@momjian.us">                           <span class="lineNum">   11651</span>                 :                : </span>
<span id="L11652" title="Line 11652: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11652</span>                 :                :     /* copy these values into local vars for speed in inner loop */</span>
<span id="L11653" title="Line 11653: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L11663" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11653</span>                 :<span class="tlaCBC">         327238 :     int         var1ndigits = var1-&gt;ndigits;</span></span>
<span id="L11654" title="Line 11654: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11654</span>                 :<span class="tlaCBC">         327238 :     int         var2ndigits = var2-&gt;ndigits;</span></span>
<span id="L11655" title="Line 11655: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11655</span>                 :<span class="tlaCBC">         327238 :     NumericDigit *var1digits = var1-&gt;digits;</span></span>
<span id="L11656" title="Line 11656: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11656</span>                 :<span class="tlaCBC">         327238 :     NumericDigit *var2digits = var2-&gt;digits;</span></span>
<span id="L11657" title="Line 11657: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11657</span>                 :                : </span>
<span id="L11658" title="Line 11658: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L11667" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   11658</span>                 :<span class="tlaCBC">         327238 :     res_weight = var1-&gt;weight;</span></span>
<span id="L11659" title="Line 11659: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11659</span>                 :                : </span>
<span id="L11660" title="Line 11660: commit b4a5fa451879 on 2002-02-18 by bruce@momjian.us"> 8590 <a href="#L11702" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11660</span>                 :<span class="tlaCBC">         327238 :     res_dscale = Max(var1-&gt;dscale, var2-&gt;dscale);</span></span>
<span id="L11661" title="Line 11661: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11661</span>                 :                : </span>
<span id="L11662" title="Line 11662: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11662</span>                 :                :     /* Note: here we are figuring rscale in base-NBASE digits */</span>
<span id="L11663" title="Line 11663: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11668" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11663</span>                 :<span class="tlaCBC">         327238 :     rscale1 = var1-&gt;ndigits - var1-&gt;weight - 1;</span></span>
<span id="L11664" title="Line 11664: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11664</span>                 :<span class="tlaCBC">         327238 :     rscale2 = var2-&gt;ndigits - var2-&gt;weight - 1;</span></span>
<span id="L11665" title="Line 11665: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11665</span>                 :<span class="tlaCBC">         327238 :     res_rscale = Max(rscale1, rscale2);</span></span>
<span id="L11666" title="Line 11666: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11666</span>                 :                : </span>
<span id="L11667" title="Line 11667: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L11675" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   11667</span>                 :<span class="tlaCBC">         327238 :     res_ndigits = res_rscale + res_weight + 1;</span></span>
<span id="L11668" title="Line 11668: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"> 9352 <a href="#L11671" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11668</span>         [<span class="tlaUBC"> <a href="#L11681" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L11677" title="CBC: Branch 1 was taken 327238 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         327238 :     if (res_ndigits &lt;= 0)</span></span>
<span id="L11669" title="Line 11669: commit d58fa7611b37 on 2000-01-18 by tgl@sss.pgh.pa.us"><span title="tgl@sss.pgh.pa.us 9352 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#L12162" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">9352</a> </span><a href="#top" title="next UBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin" class="tlaBgUBC">tgl@sss.pgh.pa.us</a><span title="tgl@sss.pgh.pa.us 9352 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC">   </span> <span class="lineNum">   11669</span>                 :<a href="#L12162" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         res_ndigits = 1;</span></span>
<span id="L11670" title="Line 11670: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11670</span>                 :                : </span>
<span id="L11671" title="Line 11671: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> <a href="#L12167" title="next CBC in &ldquo;(360..) days&rdquo; bin">8194</a> <a href="#L11681" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11671</span>                 :<a href="#L12167" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">      327238 :     res_buf = digitbuf_alloc(res_ndigits + 1);</span></span>
<span id="L11672" title="Line 11672: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11672</span>                 :<span class="tlaCBC">         327238 :     res_buf[0] = 0;             /* spare digit for later rounding */</span></span>
<span id="L11673" title="Line 11673: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11673</span>                 :<span class="tlaCBC">         327238 :     res_digits = res_buf + 1;</span></span>
<span id="L11674" title="Line 11674: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11674</span>                 :                : </span>
<span id="L11675" title="Line 11675: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L11686" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   11675</span>                 :<span class="tlaCBC">         327238 :     i1 = res_rscale + var1-&gt;weight + 1;</span></span>
<span id="L11676" title="Line 11676: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11676</span>                 :<span class="tlaCBC">         327238 :     i2 = res_rscale + var2-&gt;weight + 1;</span></span>
<span id="L11677" title="Line 11677: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11677</span>         [<span class="tlaCBC"> <a href="#L11681" title="CBC: Branch 0 was taken 2265830 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11681" title="CBC: Branch 1 was taken 327238 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        2593068 :     for (i = res_ndigits - 1; i &gt;= 0; i--)</span></span>
<span id="L11678" title="Line 11678: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11678</span>                 :                :     {</span>
<span id="L11679" title="Line 11679: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11679</span>                 :<span class="tlaCBC">        2265830 :         i1--;</span></span>
<span id="L11680" title="Line 11680: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11680</span>                 :<span class="tlaCBC">        2265830 :         i2--;</span></span>
<span id="L11681" title="Line 11681: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L11688" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11681</span>   [<span class="tlaCBC"> <a href="#L11683" title="CBC: Branch 0 was taken 2265830 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L11698" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L11683" title="CBC: Branch 2 was taken 2055884 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11683" title="CBC: Branch 3 was taken 209946 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        2265830 :         if (i1 &gt;= 0 &amp;&amp; i1 &lt; var1ndigits)</span></span>
<span id="L11682" title="Line 11682: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11682</span>                 :<span class="tlaCBC">        2055884 :             borrow += var1digits[i1];</span></span>
<span id="L11683" title="Line 11683: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11683</span>   [<span class="tlaCBC"> <a href="#L11686" title="CBC: Branch 0 was taken 2092394 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11686" title="CBC: Branch 1 was taken 173436 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11686" title="CBC: Branch 2 was taken 2014510 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11686" title="CBC: Branch 3 was taken 77884 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        2265830 :         if (i2 &gt;= 0 &amp;&amp; i2 &lt; var2ndigits)</span></span>
<span id="L11684" title="Line 11684: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11684</span>                 :<span class="tlaCBC">        2014510 :             borrow -= var2digits[i2];</span></span>
<span id="L11685" title="Line 11685: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11685</span>                 :                : </span>
<span id="L11686" title="Line 11686: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L11689" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   11686</span>         [<span class="tlaCBC"> <a href="#L11698" title="CBC: Branch 0 was taken 226496 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11698" title="CBC: Branch 1 was taken 2039334 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        2265830 :         if (borrow &lt; 0)</span></span>
<span id="L11687" title="Line 11687: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11687</span>                 :                :         {</span>
<span id="L11688" title="Line 11688: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11698" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11688</span>                 :<span class="tlaCBC">         226496 :             res_digits[i] = borrow + NBASE;</span></span>
<span id="L11689" title="Line 11689: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L11700" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   11689</span>                 :<span class="tlaCBC">         226496 :             borrow = -1;</span></span>
<span id="L11690" title="Line 11690: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11690</span>                 :                :         }</span>
<span id="L11691" title="Line 11691: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11691</span>                 :                :         else</span>
<span id="L11692" title="Line 11692: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11692</span>                 :                :         {</span>
<span id="L11693" title="Line 11693: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11693</span>                 :<span class="tlaCBC">        2039334 :             res_digits[i] = borrow;</span></span>
<span id="L11694" title="Line 11694: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11694</span>                 :<span class="tlaCBC">        2039334 :             borrow = 0;</span></span>
<span id="L11695" title="Line 11695: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11695</span>                 :                :         }</span>
<span id="L11696" title="Line 11696: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11696</span>                 :                :     }</span>
<span id="L11697" title="Line 11697: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11697</span>                 :                : </span>
<span id="L11698" title="Line 11698: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us"> 9171 <a href="#L11708" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11698</span>         [<span class="tlaUBC"> <a href="#L11807" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L11700" title="CBC: Branch 1 was taken 327238 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         327238 :     Assert(borrow == 0);        /* else caller gave us var1 &lt; var2 */</span></span>
<span id="L11699" title="Line 11699: commit bec98a31c55a on 2000-07-17 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11699</span>                 :                : </span>
<span id="L11700" title="Line 11700: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#L11913" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   11700</span>         [<span class="tlaCBC"> <a href="#L11735" title="CBC: Branch 0 was taken 17516 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11735" title="CBC: Branch 1 was taken 309722 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         327238 :     digitbuf_free(result-&gt;buf);</span></span>
<span id="L11701" title="Line 11701: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com">                           <span class="lineNum">   11701</span>                 :<span class="tlaCBC">         327238 :     result-&gt;ndigits = res_ndigits;</span></span>
<span id="L11702" title="Line 11702: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us"> 9590 <a href="#L11721" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11702</span>                 :<span class="tlaCBC">         327238 :     result-&gt;buf = res_buf;</span></span>
<span id="L11703" title="Line 11703: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11703</span>                 :<span class="tlaCBC">         327238 :     result-&gt;digits = res_digits;</span></span>
<span id="L11704" title="Line 11704: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11704</span>                 :<span class="tlaCBC">         327238 :     result-&gt;weight = res_weight;</span></span>
<span id="L11705" title="Line 11705: commit 07842084fe3e on 1999-05-25 by bruce@momjian.us">                           <span class="lineNum">   11705</span>                 :<span class="tlaCBC">         327238 :     result-&gt;dscale = res_dscale;</span></span>
<span id="L11706" title="Line 11706: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11706</span>                 :                : </span>
<span id="L11707" title="Line 11707: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11707</span>                 :                :     /* Remove leading/trailing zeroes */</span>
<span id="L11708" title="Line 11708: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11726" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11708</span>                 :<span class="tlaCBC">         327238 :     strip_var(result);</span></span>
<span id="L11709" title="Line 11709: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11709</span>                 :<span class="tlaCBC">         327238 : }</span></span>
<span id="L11710" title="Line 11710: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11710</span>                 :                : </span>
<span id="L11711" title="Line 11711: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11711</span>                 :                : /*</span>
<span id="L11712" title="Line 11712: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11712</span>                 :                :  * round_var</span>
<span id="L11713" title="Line 11713: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11713</span>                 :                :  *</span>
<span id="L11714" title="Line 11714: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11714</span>                 :                :  * Round the value of a variable to no more than rscale decimal digits</span>
<span id="L11715" title="Line 11715: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11715</span>                 :                :  * after the decimal point.  NOTE: we allow rscale &lt; 0 here, implying</span>
<span id="L11716" title="Line 11716: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11716</span>                 :                :  * rounding before the decimal point.</span>
<span id="L11717" title="Line 11717: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11717</span>                 :                :  */</span>
<span id="L11718" title="Line 11718: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11718</span>                 :                : static void</span>
<span id="L11719" title="Line 11719: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11719</span>                 :<span class="tlaCBC">         124341 : round_var(NumericVar *var, int rscale)</span></span>
<span id="L11720" title="Line 11720: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11720</span>                 :                : {</span>
<span id="L11721" title="Line 11721: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> 8058 <a href="#L11744" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11721</span>                 :<span class="tlaCBC">         124341 :     NumericDigit *digits = var-&gt;digits;</span></span>
<span id="L11722" title="Line 11722: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11722</span>                 :                :     int         di;</span>
<span id="L11723" title="Line 11723: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11723</span>                 :                :     int         ndigits;</span>
<span id="L11724" title="Line 11724: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11724</span>                 :                :     int         carry;</span>
<span id="L11725" title="Line 11725: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11725</span>                 :                : </span>
<span id="L11726" title="Line 11726: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11747" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11726</span>                 :<span class="tlaCBC">         124341 :     var-&gt;dscale = rscale;</span></span>
<span id="L11727" title="Line 11727: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11727</span>                 :                : </span>
<span id="L11728" title="Line 11728: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11728</span>                 :                :     /* decimal digits wanted */</span>
<span id="L11729" title="Line 11729: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11729</span>                 :<span class="tlaCBC">         124341 :     di = (var-&gt;weight + 1) * DEC_DIGITS + rscale;</span></span>
<span id="L11730" title="Line 11730: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11730</span>                 :                : </span>
<span id="L11731" title="Line 11731: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11731</span>                 :                :     /*</span>
<span id="L11732" title="Line 11732: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">   11732</span>                 :                :      * If di = 0, the value loses all digits, but could round up to 1 if its</span>
<span id="L11733" title="Line 11733: commit 1dc34982511d on 2005-10-15 by bruce@momjian.us">                           <span class="lineNum">   11733</span>                 :                :      * first extra digit is &gt;= 5.  If di &lt; 0 the result must be 0.</span>
<span id="L11734" title="Line 11734: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11734</span>                 :                :      */</span>
<span id="L11735" title="Line 11735: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11735</span>         [<span class="tlaCBC"> <a href="#L11749" title="CBC: Branch 0 was taken 52 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11749" title="CBC: Branch 1 was taken 124289 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         124341 :     if (di &lt; 0)</span></span>
<span id="L11736" title="Line 11736: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11736</span>                 :                :     {</span>
<span id="L11737" title="Line 11737: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11737</span>                 :<span class="tlaCBC">             52 :         var-&gt;ndigits = 0;</span></span>
<span id="L11738" title="Line 11738: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11738</span>                 :<span class="tlaCBC">             52 :         var-&gt;weight = 0;</span></span>
<span id="L11739" title="Line 11739: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11739</span>                 :<span class="tlaCBC">             52 :         var-&gt;sign = NUMERIC_POS;</span></span>
<span id="L11740" title="Line 11740: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11740</span>                 :                :     }</span>
<span id="L11741" title="Line 11741: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11741</span>                 :                :     else</span>
<span id="L11742" title="Line 11742: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11742</span>                 :                :     {</span>
<span id="L11743" title="Line 11743: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11743</span>                 :                :         /* NBASE digits wanted */</span>
<span id="L11744" title="Line 11744: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> 8058 <a href="#L11776" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11744</span>                 :<span class="tlaCBC">         124289 :         ndigits = (di + DEC_DIGITS - 1) / DEC_DIGITS;</span></span>
<span id="L11745" title="Line 11745: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11745</span>                 :                : </span>
<span id="L11746" title="Line 11746: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11746</span>                 :                :         /* 0, or number of decimal digits to keep in last NBASE digit */</span>
<span id="L11747" title="Line 11747: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11778" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11747</span>                 :<span class="tlaCBC">         124289 :         di %= DEC_DIGITS;</span></span>
<span id="L11748" title="Line 11748: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11748</span>                 :                : </span>
<span id="L11749" title="Line 11749: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11749</span>         [<span class="tlaCBC"> <a href="#L11750" title="CBC: Branch 0 was taken 22891 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11750" title="CBC: Branch 1 was taken 101398 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         124289 :         if (ndigits &lt; var-&gt;ndigits ||</span></span>
<span id="L11750" title="Line 11750: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11750</span>   [<span class="tlaCBC"> <a href="#L11758" title="CBC: Branch 0 was taken 17918 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11758" title="CBC: Branch 1 was taken 4973 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11758" title="CBC: Branch 2 was taken 1734 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11758" title="CBC: Branch 3 was taken 16184 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          22891 :             (ndigits == var-&gt;ndigits &amp;&amp; di &gt; 0))</span></span>
<span id="L11751" title="Line 11751: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11751</span>                 :                :         {</span>
<span id="L11752" title="Line 11752: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11752</span>                 :<span class="tlaCBC">         103132 :             var-&gt;ndigits = ndigits;</span></span>
<span id="L11753" title="Line 11753: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11753</span>                 :                : </span>
<span id="L11754" title="Line 11754: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11754</span>                 :                : #if DEC_DIGITS == 1</span>
<span id="L11755" title="Line 11755: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11755</span>                 :                :             /* di must be zero */</span>
<span id="L11756" title="Line 11756: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11756</span>                 :                :             carry = (digits[ndigits] &gt;= HALF_NBASE) ? 1 : 0;</span>
<span id="L11757" title="Line 11757: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11757</span>                 :                : #else</span>
<span id="L11758" title="Line 11758: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11758</span>         [<span class="tlaCBC"> <a href="#L11776" title="CBC: Branch 0 was taken 82188 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11776" title="CBC: Branch 1 was taken 20944 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         103132 :             if (di == 0)</span></span>
<span id="L11759" title="Line 11759: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11759</span>                 :<span class="tlaCBC">          82188 :                 carry = (digits[ndigits] &gt;= HALF_NBASE) ? 1 : 0;</span></span>
<span id="L11760" title="Line 11760: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11760</span>                 :                :             else</span>
<span id="L11761" title="Line 11761: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11761</span>                 :                :             {</span>
<span id="L11762" title="Line 11762: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11762</span>                 :                :                 /* Must round within last NBASE digit */</span>
<span id="L11763" title="Line 11763: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">   11763</span>                 :                :                 int         extra,</span>
<span id="L11764" title="Line 11764: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">   11764</span>                 :                :                             pow10;</span>
<span id="L11765" title="Line 11765: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11765</span>                 :                : </span>
<span id="L11766" title="Line 11766: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11766</span>                 :                : #if DEC_DIGITS == 4</span>
<span id="L11767" title="Line 11767: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11767</span>                 :<span class="tlaCBC">          20944 :                 pow10 = round_powers[di];</span></span>
<span id="L11768" title="Line 11768: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11768</span>                 :                : #elif DEC_DIGITS == 2</span>
<span id="L11769" title="Line 11769: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11769</span>                 :                :                 pow10 = 10;</span>
<span id="L11770" title="Line 11770: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11770</span>                 :                : #else</span>
<span id="L11771" title="Line 11771: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11771</span>                 :                : #error unsupported NBASE</span>
<span id="L11772" title="Line 11772: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11772</span>                 :                : #endif</span>
<span id="L11773" title="Line 11773: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11773</span>                 :<span class="tlaCBC">          20944 :                 extra = digits[--ndigits] % pow10;</span></span>
<span id="L11774" title="Line 11774: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11774</span>                 :<span class="tlaCBC">          20944 :                 digits[ndigits] -= extra;</span></span>
<span id="L11775" title="Line 11775: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11775</span>                 :<span class="tlaCBC">          20944 :                 carry = 0;</span></span>
<span id="L11776" title="Line 11776: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> 8058 <a href="#L11847" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11776</span>         [<span class="tlaCBC"> <a href="#L11779" title="CBC: Branch 0 was taken 9724 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11779" title="CBC: Branch 1 was taken 11220 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          20944 :                 if (extra &gt;= pow10 / 2)</span></span>
<span id="L11777" title="Line 11777: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11777</span>                 :                :                 {</span>
<span id="L11778" title="Line 11778: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11849" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11778</span>                 :<span class="tlaCBC">           9724 :                     pow10 += digits[ndigits];</span></span>
<span id="L11779" title="Line 11779: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11779</span>         [<span class="tlaCBC"> <a href="#L11790" title="CBC: Branch 0 was taken 406 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11790" title="CBC: Branch 1 was taken 9318 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">           9724 :                     if (pow10 &gt;= NBASE)</span></span>
<span id="L11780" title="Line 11780: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11780</span>                 :                :                     {</span>
<span id="L11781" title="Line 11781: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11781</span>                 :<span class="tlaCBC">            406 :                         pow10 -= NBASE;</span></span>
<span id="L11782" title="Line 11782: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11782</span>                 :<span class="tlaCBC">            406 :                         carry = 1;</span></span>
<span id="L11783" title="Line 11783: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11783</span>                 :                :                     }</span>
<span id="L11784" title="Line 11784: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11784</span>                 :<span class="tlaCBC">           9724 :                     digits[ndigits] = pow10;</span></span>
<span id="L11785" title="Line 11785: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11785</span>                 :                :                 }</span>
<span id="L11786" title="Line 11786: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11786</span>                 :                :             }</span>
<span id="L11787" title="Line 11787: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11787</span>                 :                : #endif</span>
<span id="L11788" title="Line 11788: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11788</span>                 :                : </span>
<span id="L11789" title="Line 11789: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11789</span>                 :                :             /* Propagate carry if needed */</span>
<span id="L11790" title="Line 11790: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11790</span>         [<span class="tlaCBC"> <a href="#L11793" title="CBC: Branch 0 was taken 16811 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11793" title="CBC: Branch 1 was taken 103132 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         119943 :             while (carry)</span></span>
<span id="L11791" title="Line 11791: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11791</span>                 :                :             {</span>
<span id="L11792" title="Line 11792: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11792</span>                 :<span class="tlaCBC">          16811 :                 carry += digits[--ndigits];</span></span>
<span id="L11793" title="Line 11793: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11793</span>         [<span class="tlaCBC"> <a href="#L11805" title="CBC: Branch 0 was taken 12313 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11805" title="CBC: Branch 1 was taken 4498 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          16811 :                 if (carry &gt;= NBASE)</span></span>
<span id="L11794" title="Line 11794: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11794</span>                 :                :                 {</span>
<span id="L11795" title="Line 11795: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11795</span>                 :<span class="tlaCBC">          12313 :                     digits[ndigits] = carry - NBASE;</span></span>
<span id="L11796" title="Line 11796: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11796</span>                 :<span class="tlaCBC">          12313 :                     carry = 1;</span></span>
<span id="L11797" title="Line 11797: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11797</span>                 :                :                 }</span>
<span id="L11798" title="Line 11798: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11798</span>                 :                :                 else</span>
<span id="L11799" title="Line 11799: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11799</span>                 :                :                 {</span>
<span id="L11800" title="Line 11800: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11800</span>                 :<span class="tlaCBC">           4498 :                     digits[ndigits] = carry;</span></span>
<span id="L11801" title="Line 11801: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11801</span>                 :<span class="tlaCBC">           4498 :                     carry = 0;</span></span>
<span id="L11802" title="Line 11802: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11802</span>                 :                :                 }</span>
<span id="L11803" title="Line 11803: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11803</span>                 :                :             }</span>
<span id="L11804" title="Line 11804: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11804</span>                 :                : </span>
<span id="L11805" title="Line 11805: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11805</span>         [<span class="tlaCBC"> <a href="#L11807" title="CBC: Branch 0 was taken 48 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11807" title="CBC: Branch 1 was taken 103084 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         103132 :             if (ndigits &lt; 0)</span></span>
<span id="L11806" title="Line 11806: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11806</span>                 :                :             {</span>
<span id="L11807" title="Line 11807: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11807</span>         [<span class="tlaUBC"> <a href="#L11808" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L11808" title="CBC: Branch 1 was taken 48 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             48 :                 Assert(ndigits == -1);  /* better not have added &gt; 1 digit */</span></span>
<span id="L11808" title="Line 11808: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11808</span>         [<span class="tlaUBC"> <a href="#L12014" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L11838" title="CBC: Branch 1 was taken 48 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             48 :                 Assert(var-&gt;digits &gt; var-&gt;buf);</span></span>
<span id="L11809" title="Line 11809: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11809</span>                 :<span class="tlaCBC">             48 :                 var-&gt;digits--;</span></span>
<span id="L11810" title="Line 11810: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11810</span>                 :<span class="tlaCBC">             48 :                 var-&gt;ndigits++;</span></span>
<span id="L11811" title="Line 11811: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11811</span>                 :<span class="tlaCBC">             48 :                 var-&gt;weight++;</span></span>
<span id="L11812" title="Line 11812: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11812</span>                 :                :             }</span>
<span id="L11813" title="Line 11813: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11813</span>                 :                :         }</span>
<span id="L11814" title="Line 11814: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11814</span>                 :                :     }</span>
<span id="L11815" title="Line 11815: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11815</span>                 :<span class="tlaCBC">         124341 : }</span></span>
<span id="L11816" title="Line 11816: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11816</span>                 :                : </span>
<span id="L11817" title="Line 11817: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11817</span>                 :                : /*</span>
<span id="L11818" title="Line 11818: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11818</span>                 :                :  * trunc_var</span>
<span id="L11819" title="Line 11819: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11819</span>                 :                :  *</span>
<span id="L11820" title="Line 11820: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11820</span>                 :                :  * Truncate (towards zero) the value of a variable at rscale decimal digits</span>
<span id="L11821" title="Line 11821: commit a0fad9762a22 on 2008-04-04 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11821</span>                 :                :  * after the decimal point.  NOTE: we allow rscale &lt; 0 here, implying</span>
<span id="L11822" title="Line 11822: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11822</span>                 :                :  * truncation before the decimal point.</span>
<span id="L11823" title="Line 11823: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11823</span>                 :                :  */</span>
<span id="L11824" title="Line 11824: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11824</span>                 :                : static void</span>
<span id="L11825" title="Line 11825: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11825</span>                 :<span class="tlaCBC">         210398 : trunc_var(NumericVar *var, int rscale)</span></span>
<span id="L11826" title="Line 11826: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11826</span>                 :                : {</span>
<span id="L11827" title="Line 11827: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11827</span>                 :                :     int         di;</span>
<span id="L11828" title="Line 11828: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11828</span>                 :                :     int         ndigits;</span>
<span id="L11829" title="Line 11829: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11829</span>                 :                : </span>
<span id="L11830" title="Line 11830: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11830</span>                 :<span class="tlaCBC">         210398 :     var-&gt;dscale = rscale;</span></span>
<span id="L11831" title="Line 11831: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11831</span>                 :                : </span>
<span id="L11832" title="Line 11832: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11832</span>                 :                :     /* decimal digits wanted */</span>
<span id="L11833" title="Line 11833: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11833</span>                 :<span class="tlaCBC">         210398 :     di = (var-&gt;weight + 1) * DEC_DIGITS + rscale;</span></span>
<span id="L11834" title="Line 11834: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11834</span>                 :                : </span>
<span id="L11835" title="Line 11835: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11835</span>                 :                :     /*</span>
<span id="L11836" title="Line 11836: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11836</span>                 :                :      * If di &lt;= 0, the value loses all digits.</span>
<span id="L11837" title="Line 11837: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11837</span>                 :                :      */</span>
<span id="L11838" title="Line 11838: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11838</span>         [<span class="tlaCBC"> <a href="#L11849" title="CBC: Branch 0 was taken 45 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11849" title="CBC: Branch 1 was taken 210353 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         210398 :     if (di &lt;= 0)</span></span>
<span id="L11839" title="Line 11839: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11839</span>                 :                :     {</span>
<span id="L11840" title="Line 11840: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11840</span>                 :<span class="tlaCBC">             45 :         var-&gt;ndigits = 0;</span></span>
<span id="L11841" title="Line 11841: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11841</span>                 :<span class="tlaCBC">             45 :         var-&gt;weight = 0;</span></span>
<span id="L11842" title="Line 11842: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11842</span>                 :<span class="tlaCBC">             45 :         var-&gt;sign = NUMERIC_POS;</span></span>
<span id="L11843" title="Line 11843: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11843</span>                 :                :     }</span>
<span id="L11844" title="Line 11844: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11844</span>                 :                :     else</span>
<span id="L11845" title="Line 11845: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11845</span>                 :                :     {</span>
<span id="L11846" title="Line 11846: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11846</span>                 :                :         /* NBASE digits wanted */</span>
<span id="L11847" title="Line 11847: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> 8058 <a href="#L11862" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11847</span>                 :<span class="tlaCBC">         210353 :         ndigits = (di + DEC_DIGITS - 1) / DEC_DIGITS;</span></span>
<span id="L11848" title="Line 11848: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11848</span>                 :                : </span>
<span id="L11849" title="Line 11849: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11867" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11849</span>         [<span class="tlaCBC"> <a href="#L11859" title="CBC: Branch 0 was taken 210218 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11859" title="CBC: Branch 1 was taken 135 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         210353 :         if (ndigits &lt;= var-&gt;ndigits)</span></span>
<span id="L11850" title="Line 11850: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11850</span>                 :                :         {</span>
<span id="L11851" title="Line 11851: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11851</span>                 :<span class="tlaCBC">         210218 :             var-&gt;ndigits = ndigits;</span></span>
<span id="L11852" title="Line 11852: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11852</span>                 :                : </span>
<span id="L11853" title="Line 11853: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11853</span>                 :                : #if DEC_DIGITS == 1</span>
<span id="L11854" title="Line 11854: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11854</span>                 :                :             /* no within-digit stuff to worry about */</span>
<span id="L11855" title="Line 11855: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11855</span>                 :                : #else</span>
<span id="L11856" title="Line 11856: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11856</span>                 :                :             /* 0, or number of decimal digits to keep in last NBASE digit */</span>
<span id="L11857" title="Line 11857: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11857</span>                 :<span class="tlaCBC">         210218 :             di %= DEC_DIGITS;</span></span>
<span id="L11858" title="Line 11858: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11858</span>                 :                : </span>
<span id="L11859" title="Line 11859: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11859</span>         [<span class="tlaCBC"> <a href="#L11893" title="CBC: Branch 0 was taken 53 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11893" title="CBC: Branch 1 was taken 210165 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         210218 :             if (di &gt; 0)</span></span>
<span id="L11860" title="Line 11860: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11860</span>                 :                :             {</span>
<span id="L11861" title="Line 11861: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11861</span>                 :                :                 /* Must truncate within last NBASE digit */</span>
<span id="L11862" title="Line 11862: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> 8058 <a href="#L11889" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11862</span>                 :<span class="tlaCBC">             53 :                 NumericDigit *digits = var-&gt;digits;</span></span>
<span id="L11863" title="Line 11863: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">   11863</span>                 :                :                 int         extra,</span>
<span id="L11864" title="Line 11864: commit 089003fb462f on 2003-08-04 by bruce@momjian.us">                           <span class="lineNum">   11864</span>                 :                :                             pow10;</span>
<span id="L11865" title="Line 11865: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11865</span>                 :                : </span>
<span id="L11866" title="Line 11866: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11866</span>                 :                : #if DEC_DIGITS == 4</span>
<span id="L11867" title="Line 11867: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#L11890" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11867</span>                 :<span class="tlaCBC">             53 :                 pow10 = round_powers[di];</span></span>
<span id="L11868" title="Line 11868: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11868</span>                 :                : #elif DEC_DIGITS == 2</span>
<span id="L11869" title="Line 11869: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11869</span>                 :                :                 pow10 = 10;</span>
<span id="L11870" title="Line 11870: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11870</span>                 :                : #else</span>
<span id="L11871" title="Line 11871: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11871</span>                 :                : #error unsupported NBASE</span>
<span id="L11872" title="Line 11872: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11872</span>                 :                : #endif</span>
<span id="L11873" title="Line 11873: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11873</span>                 :<span class="tlaCBC">             53 :                 extra = digits[--ndigits] % pow10;</span></span>
<span id="L11874" title="Line 11874: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11874</span>                 :<span class="tlaCBC">             53 :                 digits[ndigits] -= extra;</span></span>
<span id="L11875" title="Line 11875: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11875</span>                 :                :             }</span>
<span id="L11876" title="Line 11876: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11876</span>                 :                : #endif</span>
<span id="L11877" title="Line 11877: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11877</span>                 :                :         }</span>
<span id="L11878" title="Line 11878: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11878</span>                 :                :     }</span>
<span id="L11879" title="Line 11879: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11879</span>                 :<span class="tlaCBC">         210398 : }</span></span>
<span id="L11880" title="Line 11880: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11880</span>                 :                : </span>
<span id="L11881" title="Line 11881: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11881</span>                 :                : /*</span>
<span id="L11882" title="Line 11882: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11882</span>                 :                :  * strip_var</span>
<span id="L11883" title="Line 11883: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11883</span>                 :                :  *</span>
<span id="L11884" title="Line 11884: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11884</span>                 :                :  * Strip any leading and trailing zeroes from a numeric variable</span>
<span id="L11885" title="Line 11885: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11885</span>                 :                :  */</span>
<span id="L11886" title="Line 11886: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11886</span>                 :                : static void</span>
<span id="L11887" title="Line 11887: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11887</span>                 :<span class="tlaCBC">        1642024 : strip_var(NumericVar *var)</span></span>
<span id="L11888" title="Line 11888: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11888</span>                 :                : {</span>
<span id="L11889" title="Line 11889: commit 089003fb462f on 2003-08-04 by bruce@momjian.us"> 8058 <a href="#top" title="next CBC in &ldquo;bruce@momjian.us&rdquo; bin">bruce@momjian.us</a>     <span class="lineNum">   11889</span>                 :<span class="tlaCBC">        1642024 :     NumericDigit *digits = var-&gt;digits;</span></span>
<span id="L11890" title="Line 11890: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us"> 8194 <a href="#top" title="next CBC in &ldquo;tgl@sss.pgh.pa.us&rdquo; bin">tgl@sss.pgh.pa.us</a>    <span class="lineNum">   11890</span>                 :<span class="tlaCBC">        1642024 :     int         ndigits = var-&gt;ndigits;</span></span>
<span id="L11891" title="Line 11891: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11891</span>                 :                : </span>
<span id="L11892" title="Line 11892: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11892</span>                 :                :     /* Strip leading zeroes */</span>
<span id="L11893" title="Line 11893: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11893</span>   [<span class="tlaCBC"> <a href="#L11901" title="CBC: Branch 0 was taken 2789625 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11901" title="CBC: Branch 1 was taken 25227 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11901" title="CBC: Branch 2 was taken 1172828 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11901" title="CBC: Branch 3 was taken 1616797 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        2814852 :     while (ndigits &gt; 0 &amp;&amp; *digits == 0)</span></span>
<span id="L11894" title="Line 11894: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11894</span>                 :                :     {</span>
<span id="L11895" title="Line 11895: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11895</span>                 :<span class="tlaCBC">        1172828 :         digits++;</span></span>
<span id="L11896" title="Line 11896: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11896</span>                 :<span class="tlaCBC">        1172828 :         var-&gt;weight--;</span></span>
<span id="L11897" title="Line 11897: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11897</span>                 :<span class="tlaCBC">        1172828 :         ndigits--;</span></span>
<span id="L11898" title="Line 11898: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11898</span>                 :                :     }</span>
<span id="L11899" title="Line 11899: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11899</span>                 :                : </span>
<span id="L11900" title="Line 11900: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11900</span>                 :                :     /* Strip trailing zeroes */</span>
<span id="L11901" title="Line 11901: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11901</span>   [<span class="tlaCBC"> <a href="#L11905" title="CBC: Branch 0 was taken 1953760 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11905" title="CBC: Branch 1 was taken 25227 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11905" title="CBC: Branch 2 was taken 336963 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11905" title="CBC: Branch 3 was taken 1616797 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1978987 :     while (ndigits &gt; 0 &amp;&amp; digits[ndigits - 1] == 0)</span></span>
<span id="L11902" title="Line 11902: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11902</span>                 :<span class="tlaCBC">         336963 :         ndigits--;</span></span>
<span id="L11903" title="Line 11903: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11903</span>                 :                : </span>
<span id="L11904" title="Line 11904: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11904</span>                 :                :     /* If it's zero, normalize the sign and weight */</span>
<span id="L11905" title="Line 11905: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11905</span>         [<span class="tlaCBC"> <a href="#L11933" title="CBC: Branch 0 was taken 25227 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11933" title="CBC: Branch 1 was taken 1616797 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1642024 :     if (ndigits == 0)</span></span>
<span id="L11906" title="Line 11906: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11906</span>                 :                :     {</span>
<span id="L11907" title="Line 11907: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11907</span>                 :<span class="tlaCBC">          25227 :         var-&gt;sign = NUMERIC_POS;</span></span>
<span id="L11908" title="Line 11908: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11908</span>                 :<span class="tlaCBC">          25227 :         var-&gt;weight = 0;</span></span>
<span id="L11909" title="Line 11909: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11909</span>                 :                :     }</span>
<span id="L11910" title="Line 11910: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11910</span>                 :                : </span>
<span id="L11911" title="Line 11911: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11911</span>                 :<span class="tlaCBC">        1642024 :     var-&gt;digits = digits;</span></span>
<span id="L11912" title="Line 11912: commit d72f6c75038d on 2003-03-21 by tgl@sss.pgh.pa.us">                           <span class="lineNum">   11912</span>                 :<span class="tlaCBC">        1642024 :     var-&gt;ndigits = ndigits;</span></span>
<span id="L11913" title="Line 11913: commit 0e9d75c6ac97 on 1998-12-30 by JanWieck@Yahoo.com"> 9736 <a href="#top" title="next CBC in &ldquo;JanWieck@Yahoo.com&rdquo; bin">JanWieck@Yahoo.com</a>   <span class="lineNum">   11913</span>                 :<span class="tlaCBC">        1642024 : }</span></span>
<span id="L11914" title="Line 11914: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11914</span>                 :                : </span>
<span id="L11915" title="Line 11915: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11915</span>                 :                : </span>
<span id="L11916" title="Line 11916: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11916</span>                 :                : /* ----------------------------------------------------------------------</span>
<span id="L11917" title="Line 11917: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11917</span>                 :                :  *</span>
<span id="L11918" title="Line 11918: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11918</span>                 :                :  * Fast sum accumulator functions</span>
<span id="L11919" title="Line 11919: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11919</span>                 :                :  *</span>
<span id="L11920" title="Line 11920: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11920</span>                 :                :  * ----------------------------------------------------------------------</span>
<span id="L11921" title="Line 11921: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11921</span>                 :                :  */</span>
<span id="L11922" title="Line 11922: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11922</span>                 :                : </span>
<span id="L11923" title="Line 11923: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11923</span>                 :                : /*</span>
<span id="L11924" title="Line 11924: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11924</span>                 :                :  * Reset the accumulator's value to zero.  The buffers to hold the digits</span>
<span id="L11925" title="Line 11925: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11925</span>                 :                :  * are not free'd.</span>
<span id="L11926" title="Line 11926: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11926</span>                 :                :  */</span>
<span id="L11927" title="Line 11927: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11927</span>                 :                : static void</span>
<span id="L11928" title="Line 11928: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L11959" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">   11928</span>                 :<span class="tlaCBC">              9 : accum_sum_reset(NumericSumAccum *accum)</span></span>
<span id="L11929" title="Line 11929: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11929</span>                 :                : {</span>
<span id="L11930" title="Line 11930: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11930</span>                 :                :     int         i;</span>
<span id="L11931" title="Line 11931: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11931</span>                 :                : </span>
<span id="L11932" title="Line 11932: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11932</span>                 :<span class="tlaCBC">              9 :     accum-&gt;dscale = 0;</span></span>
<span id="L11933" title="Line 11933: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11933</span>         [<span class="tlaCBC"> <a href="#L11959" title="CBC: Branch 0 was taken 24 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11959" title="CBC: Branch 1 was taken 9 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">             33 :     for (i = 0; i &lt; accum-&gt;ndigits; i++)</span></span>
<span id="L11934" title="Line 11934: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11934</span>                 :                :     {</span>
<span id="L11935" title="Line 11935: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11935</span>                 :<span class="tlaCBC">             24 :         accum-&gt;pos_digits[i] = 0;</span></span>
<span id="L11936" title="Line 11936: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11936</span>                 :<span class="tlaCBC">             24 :         accum-&gt;neg_digits[i] = 0;</span></span>
<span id="L11937" title="Line 11937: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11937</span>                 :                :     }</span>
<span id="L11938" title="Line 11938: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11938</span>                 :<span class="tlaCBC">              9 : }</span></span>
<span id="L11939" title="Line 11939: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11939</span>                 :                : </span>
<span id="L11940" title="Line 11940: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11940</span>                 :                : /*</span>
<span id="L11941" title="Line 11941: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11941</span>                 :                :  * Accumulate a new value.</span>
<span id="L11942" title="Line 11942: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11942</span>                 :                :  */</span>
<span id="L11943" title="Line 11943: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11943</span>                 :                : static void</span>
<span id="L11944" title="Line 11944: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#L12065" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">   11944</span>                 :<span class="tlaCBC">        1177858 : accum_sum_add(NumericSumAccum *accum, const NumericVar *val)</span></span>
<span id="L11945" title="Line 11945: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11945</span>                 :                : {</span>
<span id="L11946" title="Line 11946: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11946</span>                 :                :     int32      *accum_digits;</span>
<span id="L11947" title="Line 11947: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11947</span>                 :                :     int         i,</span>
<span id="L11948" title="Line 11948: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11948</span>                 :                :                 val_i;</span>
<span id="L11949" title="Line 11949: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11949</span>                 :                :     int         val_ndigits;</span>
<span id="L11950" title="Line 11950: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11950</span>                 :                :     NumericDigit *val_digits;</span>
<span id="L11951" title="Line 11951: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11951</span>                 :                : </span>
<span id="L11952" title="Line 11952: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11952</span>                 :                :     /*</span>
<span id="L11953" title="Line 11953: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11953</span>                 :                :      * If we have accumulated too many values since the last carry</span>
<span id="L11954" title="Line 11954: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11954</span>                 :                :      * propagation, do it now, to avoid overflowing.  (We could allow more</span>
<span id="L11955" title="Line 11955: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11955</span>                 :                :      * than NBASE - 1, if we reserved two extra digits, rather than one, for</span>
<span id="L11956" title="Line 11956: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11956</span>                 :                :      * carry propagation.  But even with NBASE - 1, this needs to be done so</span>
<span id="L11957" title="Line 11957: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11957</span>                 :                :      * seldom, that the performance difference is negligible.)</span>
<span id="L11958" title="Line 11958: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11958</span>                 :                :      */</span>
<span id="L11959" title="Line 11959: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L12067" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">   11959</span>         [<span class="tlaCBC"> <a href="#L11969" title="CBC: Branch 0 was taken 75 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11969" title="CBC: Branch 1 was taken 1177783 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1177858 :     if (accum-&gt;num_uncarried == NBASE - 1)</span></span>
<span id="L11960" title="Line 11960: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11960</span>                 :<span class="tlaCBC">             75 :         accum_sum_carry(accum);</span></span>
<span id="L11961" title="Line 11961: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11961</span>                 :                : </span>
<span id="L11962" title="Line 11962: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11962</span>                 :                :     /*</span>
<span id="L11963" title="Line 11963: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11963</span>                 :                :      * Adjust the weight or scale of the old value, so that it can accommodate</span>
<span id="L11964" title="Line 11964: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11964</span>                 :                :      * the new value.</span>
<span id="L11965" title="Line 11965: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11965</span>                 :                :      */</span>
<span id="L11966" title="Line 11966: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11966</span>                 :<span class="tlaCBC">        1177858 :     accum_sum_rescale(accum, val);</span></span>
<span id="L11967" title="Line 11967: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11967</span>                 :                : </span>
<span id="L11968" title="Line 11968: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11968</span>                 :                :     /* */</span>
<span id="L11969" title="Line 11969: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11969</span>         [<span class="tlaCBC"> <a href="#L11979" title="CBC: Branch 0 was taken 877519 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L11979" title="CBC: Branch 1 was taken 300339 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1177858 :     if (val-&gt;sign == NUMERIC_POS)</span></span>
<span id="L11970" title="Line 11970: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11970</span>                 :<span class="tlaCBC">         877519 :         accum_digits = accum-&gt;pos_digits;</span></span>
<span id="L11971" title="Line 11971: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11971</span>                 :                :     else</span>
<span id="L11972" title="Line 11972: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11972</span>                 :<span class="tlaCBC">         300339 :         accum_digits = accum-&gt;neg_digits;</span></span>
<span id="L11973" title="Line 11973: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11973</span>                 :                : </span>
<span id="L11974" title="Line 11974: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11974</span>                 :                :     /* copy these values into local vars for speed in loop */</span>
<span id="L11975" title="Line 11975: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11975</span>                 :<span class="tlaCBC">        1177858 :     val_ndigits = val-&gt;ndigits;</span></span>
<span id="L11976" title="Line 11976: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11976</span>                 :<span class="tlaCBC">        1177858 :     val_digits = val-&gt;digits;</span></span>
<span id="L11977" title="Line 11977: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11977</span>                 :                : </span>
<span id="L11978" title="Line 11978: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11978</span>                 :<span class="tlaCBC">        1177858 :     i = accum-&gt;weight - val-&gt;weight;</span></span>
<span id="L11979" title="Line 11979: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11979</span>         [<span class="tlaCBC"> <a href="#L12004" title="CBC: Branch 0 was taken 4767129 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L12004" title="CBC: Branch 1 was taken 1177858 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        5944987 :     for (val_i = 0; val_i &lt; val_ndigits; val_i++)</span></span>
<span id="L11980" title="Line 11980: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11980</span>                 :                :     {</span>
<span id="L11981" title="Line 11981: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11981</span>                 :<span class="tlaCBC">        4767129 :         accum_digits[i] += (int32) val_digits[val_i];</span></span>
<span id="L11982" title="Line 11982: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11982</span>                 :<span class="tlaCBC">        4767129 :         i++;</span></span>
<span id="L11983" title="Line 11983: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11983</span>                 :                :     }</span>
<span id="L11984" title="Line 11984: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11984</span>                 :                : </span>
<span id="L11985" title="Line 11985: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11985</span>                 :<span class="tlaCBC">        1177858 :     accum-&gt;num_uncarried++;</span></span>
<span id="L11986" title="Line 11986: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11986</span>                 :<span class="tlaCBC">        1177858 : }</span></span>
<span id="L11987" title="Line 11987: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11987</span>                 :                : </span>
<span id="L11988" title="Line 11988: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11988</span>                 :                : /*</span>
<span id="L11989" title="Line 11989: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11989</span>                 :                :  * Propagate carries.</span>
<span id="L11990" title="Line 11990: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11990</span>                 :                :  */</span>
<span id="L11991" title="Line 11991: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11991</span>                 :                : static void</span>
<span id="L11992" title="Line 11992: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11992</span>                 :<span class="tlaCBC">          86382 : accum_sum_carry(NumericSumAccum *accum)</span></span>
<span id="L11993" title="Line 11993: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11993</span>                 :                : {</span>
<span id="L11994" title="Line 11994: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11994</span>                 :                :     int         i;</span>
<span id="L11995" title="Line 11995: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11995</span>                 :                :     int         ndigits;</span>
<span id="L11996" title="Line 11996: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11996</span>                 :                :     int32      *dig;</span>
<span id="L11997" title="Line 11997: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11997</span>                 :                :     int32       carry;</span>
<span id="L11998" title="Line 11998: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11998</span>                 :<span class="tlaCBC">          86382 :     int32       newdig = 0;</span></span>
<span id="L11999" title="Line 11999: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   11999</span>                 :                : </span>
<span id="L12000" title="Line 12000: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12000</span>                 :                :     /*</span>
<span id="L12001" title="Line 12001: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12001</span>                 :                :      * If no new values have been added since last carry propagation, nothing</span>
<span id="L12002" title="Line 12002: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12002</span>                 :                :      * to do.</span>
<span id="L12003" title="Line 12003: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12003</span>                 :                :      */</span>
<span id="L12004" title="Line 12004: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12004</span>         [<span class="tlaCBC"> <a href="#L12014" title="CBC: Branch 0 was taken 36 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L12014" title="CBC: Branch 1 was taken 86346 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          86382 :     if (accum-&gt;num_uncarried == 0)</span></span>
<span id="L12005" title="Line 12005: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12005</span>                 :<span class="tlaCBC">             36 :         return;</span></span>
<span id="L12006" title="Line 12006: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12006</span>                 :                : </span>
<span id="L12007" title="Line 12007: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12007</span>                 :                :     /*</span>
<span id="L12008" title="Line 12008: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12008</span>                 :                :      * We maintain that the weight of the accumulator is always one larger</span>
<span id="L12009" title="Line 12009: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12009</span>                 :                :      * than needed to hold the current value, before carrying, to make sure</span>
<span id="L12010" title="Line 12010: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12010</span>                 :                :      * there is enough space for the possible extra digit when carry is</span>
<span id="L12011" title="Line 12011: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12011</span>                 :                :      * propagated.  We cannot expand the buffer here, unless we require</span>
<span id="L12012" title="Line 12012: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12012</span>                 :                :      * callers of accum_sum_final() to switch to the right memory context.</span>
<span id="L12013" title="Line 12013: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12013</span>                 :                :      */</span>
<span id="L12014" title="Line 12014: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12014</span>   [<span class="tlaCBC"> <a href="#L12021" title="CBC: Branch 0 was taken 86346 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L12109" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L12109" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L12021" title="CBC: Branch 3 was taken 86346 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          86346 :     Assert(accum-&gt;pos_digits[0] == 0 &amp;&amp; accum-&gt;neg_digits[0] == 0);</span></span>
<span id="L12015" title="Line 12015: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12015</span>                 :                : </span>
<span id="L12016" title="Line 12016: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12016</span>                 :<span class="tlaCBC">          86346 :     ndigits = accum-&gt;ndigits;</span></span>
<span id="L12017" title="Line 12017: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12017</span>                 :                : </span>
<span id="L12018" title="Line 12018: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12018</span>                 :                :     /* Propagate carry in the positive sum */</span>
<span id="L12019" title="Line 12019: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12019</span>                 :<span class="tlaCBC">          86346 :     dig = accum-&gt;pos_digits;</span></span>
<span id="L12020" title="Line 12020: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12020</span>                 :<span class="tlaCBC">          86346 :     carry = 0;</span></span>
<span id="L12021" title="Line 12021: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12021</span>         [<span class="tlaCBC"> <a href="#L12024" title="CBC: Branch 0 was taken 1216426 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L12024" title="CBC: Branch 1 was taken 86346 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1302772 :     for (i = ndigits - 1; i &gt;= 0; i--)</span></span>
<span id="L12022" title="Line 12022: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12022</span>                 :                :     {</span>
<span id="L12023" title="Line 12023: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12023</span>                 :<span class="tlaCBC">        1216426 :         newdig = dig[i] + carry;</span></span>
<span id="L12024" title="Line 12024: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12024</span>         [<span class="tlaCBC"> <a href="#L12034" title="CBC: Branch 0 was taken 55403 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L12034" title="CBC: Branch 1 was taken 1161023 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1216426 :         if (newdig &gt;= NBASE)</span></span>
<span id="L12025" title="Line 12025: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12025</span>                 :                :         {</span>
<span id="L12026" title="Line 12026: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12026</span>                 :<span class="tlaCBC">          55403 :             carry = newdig / NBASE;</span></span>
<span id="L12027" title="Line 12027: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12027</span>                 :<span class="tlaCBC">          55403 :             newdig -= carry * NBASE;</span></span>
<span id="L12028" title="Line 12028: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12028</span>                 :                :         }</span>
<span id="L12029" title="Line 12029: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12029</span>                 :                :         else</span>
<span id="L12030" title="Line 12030: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12030</span>                 :<span class="tlaCBC">        1161023 :             carry = 0;</span></span>
<span id="L12031" title="Line 12031: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12031</span>                 :<span class="tlaCBC">        1216426 :         dig[i] = newdig;</span></span>
<span id="L12032" title="Line 12032: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12032</span>                 :                :     }</span>
<span id="L12033" title="Line 12033: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12033</span>                 :                :     /* Did we use up the digit reserved for carry propagation? */</span>
<span id="L12034" title="Line 12034: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12034</span>         [<span class="tlaCBC"> <a href="#L12040" title="CBC: Branch 0 was taken 1320 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L12040" title="CBC: Branch 1 was taken 85026 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          86346 :     if (newdig &gt; 0)</span></span>
<span id="L12035" title="Line 12035: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12035</span>                 :<span class="tlaCBC">           1320 :         accum-&gt;have_carry_space = false;</span></span>
<span id="L12036" title="Line 12036: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12036</span>                 :                : </span>
<span id="L12037" title="Line 12037: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12037</span>                 :                :     /* And the same for the negative sum */</span>
<span id="L12038" title="Line 12038: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12038</span>                 :<span class="tlaCBC">          86346 :     dig = accum-&gt;neg_digits;</span></span>
<span id="L12039" title="Line 12039: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12039</span>                 :<span class="tlaCBC">          86346 :     carry = 0;</span></span>
<span id="L12040" title="Line 12040: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12040</span>         [<span class="tlaCBC"> <a href="#L12043" title="CBC: Branch 0 was taken 1216426 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L12043" title="CBC: Branch 1 was taken 86346 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1302772 :     for (i = ndigits - 1; i &gt;= 0; i--)</span></span>
<span id="L12041" title="Line 12041: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12041</span>                 :                :     {</span>
<span id="L12042" title="Line 12042: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12042</span>                 :<span class="tlaCBC">        1216426 :         newdig = dig[i] + carry;</span></span>
<span id="L12043" title="Line 12043: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12043</span>         [<span class="tlaCBC"> <a href="#L12052" title="CBC: Branch 0 was taken 99 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L12052" title="CBC: Branch 1 was taken 1216327 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1216426 :         if (newdig &gt;= NBASE)</span></span>
<span id="L12044" title="Line 12044: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12044</span>                 :                :         {</span>
<span id="L12045" title="Line 12045: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12045</span>                 :<span class="tlaCBC">             99 :             carry = newdig / NBASE;</span></span>
<span id="L12046" title="Line 12046: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12046</span>                 :<span class="tlaCBC">             99 :             newdig -= carry * NBASE;</span></span>
<span id="L12047" title="Line 12047: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12047</span>                 :                :         }</span>
<span id="L12048" title="Line 12048: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12048</span>                 :                :         else</span>
<span id="L12049" title="Line 12049: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12049</span>                 :<span class="tlaCBC">        1216327 :             carry = 0;</span></span>
<span id="L12050" title="Line 12050: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12050</span>                 :<span class="tlaCBC">        1216426 :         dig[i] = newdig;</span></span>
<span id="L12051" title="Line 12051: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12051</span>                 :                :     }</span>
<span id="L12052" title="Line 12052: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12052</span>         [<span class="tlaCBC"> <a href="#L12086" title="CBC: Branch 0 was taken 15 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L12086" title="CBC: Branch 1 was taken 86331 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          86346 :     if (newdig &gt; 0)</span></span>
<span id="L12053" title="Line 12053: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12053</span>                 :<span class="tlaCBC">             15 :         accum-&gt;have_carry_space = false;</span></span>
<span id="L12054" title="Line 12054: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12054</span>                 :                : </span>
<span id="L12055" title="Line 12055: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12055</span>                 :<span class="tlaCBC">          86346 :     accum-&gt;num_uncarried = 0;</span></span>
<span id="L12056" title="Line 12056: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12056</span>                 :                : }</span>
<span id="L12057" title="Line 12057: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12057</span>                 :                : </span>
<span id="L12058" title="Line 12058: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12058</span>                 :                : /*</span>
<span id="L12059" title="Line 12059: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12059</span>                 :                :  * Re-scale accumulator to accommodate new value.</span>
<span id="L12060" title="Line 12060: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12060</span>                 :                :  *</span>
<span id="L12061" title="Line 12061: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12061</span>                 :                :  * If the new value has more digits than the current digit buffers in the</span>
<span id="L12062" title="Line 12062: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12062</span>                 :                :  * accumulator, enlarge the buffers.</span>
<span id="L12063" title="Line 12063: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12063</span>                 :                :  */</span>
<span id="L12064" title="Line 12064: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12064</span>                 :                : static void</span>
<span id="L12065" title="Line 12065: commit c1898c3e1e23 on 2017-09-10 by andres@anarazel.de"> 2907 <a href="#top" title="next CBC in &ldquo;andres@anarazel.de&rdquo; bin">andres@anarazel.de</a>   <span class="lineNum">   12065</span>                 :<span class="tlaCBC">        1177858 : accum_sum_rescale(NumericSumAccum *accum, const NumericVar *val)</span></span>
<span id="L12066" title="Line 12066: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12066</span>                 :                : {</span>
<span id="L12067" title="Line 12067: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> 3280 <a href="#L12167" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">   12067</span>                 :<span class="tlaCBC">        1177858 :     int         old_weight = accum-&gt;weight;</span></span>
<span id="L12068" title="Line 12068: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12068</span>                 :<span class="tlaCBC">        1177858 :     int         old_ndigits = accum-&gt;ndigits;</span></span>
<span id="L12069" title="Line 12069: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12069</span>                 :                :     int         accum_ndigits;</span>
<span id="L12070" title="Line 12070: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12070</span>                 :                :     int         accum_weight;</span>
<span id="L12071" title="Line 12071: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12071</span>                 :                :     int         accum_rscale;</span>
<span id="L12072" title="Line 12072: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12072</span>                 :                :     int         val_rscale;</span>
<span id="L12073" title="Line 12073: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12073</span>                 :                : </span>
<span id="L12074" title="Line 12074: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12074</span>                 :<span class="tlaCBC">        1177858 :     accum_weight = old_weight;</span></span>
<span id="L12075" title="Line 12075: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12075</span>                 :<span class="tlaCBC">        1177858 :     accum_ndigits = old_ndigits;</span></span>
<span id="L12076" title="Line 12076: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12076</span>                 :                : </span>
<span id="L12077" title="Line 12077: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12077</span>                 :                :     /*</span>
<span id="L12078" title="Line 12078: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12078</span>                 :                :      * Does the new value have a larger weight? If so, enlarge the buffers,</span>
<span id="L12079" title="Line 12079: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12079</span>                 :                :      * and shift the existing value to the new weight, by adding leading</span>
<span id="L12080" title="Line 12080: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12080</span>                 :                :      * zeros.</span>
<span id="L12081" title="Line 12081: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12081</span>                 :                :      *</span>
<span id="L12082" title="Line 12082: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12082</span>                 :                :      * We enforce that the accumulator always has a weight one larger than</span>
<span id="L12083" title="Line 12083: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12083</span>                 :                :      * needed for the inputs, so that we have space for an extra digit at the</span>
<span id="L12084" title="Line 12084: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12084</span>                 :                :      * final carry-propagation phase, if necessary.</span>
<span id="L12085" title="Line 12085: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12085</span>                 :                :      */</span>
<span id="L12086" title="Line 12086: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12086</span>         [<span class="tlaCBC"> <a href="#L12097" title="CBC: Branch 0 was taken 131118 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L12097" title="CBC: Branch 1 was taken 1046740 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1177858 :     if (val-&gt;weight &gt;= accum_weight)</span></span>
<span id="L12087" title="Line 12087: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12087</span>                 :                :     {</span>
<span id="L12088" title="Line 12088: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12088</span>                 :<span class="tlaCBC">         131118 :         accum_weight = val-&gt;weight + 1;</span></span>
<span id="L12089" title="Line 12089: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12089</span>                 :<span class="tlaCBC">         131118 :         accum_ndigits = accum_ndigits + (accum_weight - old_weight);</span></span>
<span id="L12090" title="Line 12090: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12090</span>                 :                :     }</span>
<span id="L12091" title="Line 12091: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12091</span>                 :                : </span>
<span id="L12092" title="Line 12092: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12092</span>                 :                :     /*</span>
<span id="L12093" title="Line 12093: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12093</span>                 :                :      * Even though the new value is small, we might've used up the space</span>
<span id="L12094" title="Line 12094: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12094</span>                 :                :      * reserved for the carry digit in the last call to accum_sum_carry().  If</span>
<span id="L12095" title="Line 12095: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12095</span>                 :                :      * so, enlarge to make room for another one.</span>
<span id="L12096" title="Line 12096: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12096</span>                 :                :      */</span>
<span id="L12097" title="Line 12097: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12097</span>         [<span class="tlaCBC"> <a href="#L12106" title="CBC: Branch 0 was taken 39 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L12106" title="CBC: Branch 1 was taken 1046701 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1046740 :     else if (!accum-&gt;have_carry_space)</span></span>
<span id="L12098" title="Line 12098: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12098</span>                 :                :     {</span>
<span id="L12099" title="Line 12099: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12099</span>                 :<span class="tlaCBC">             39 :         accum_weight++;</span></span>
<span id="L12100" title="Line 12100: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12100</span>                 :<span class="tlaCBC">             39 :         accum_ndigits++;</span></span>
<span id="L12101" title="Line 12101: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12101</span>                 :                :     }</span>
<span id="L12102" title="Line 12102: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12102</span>                 :                : </span>
<span id="L12103" title="Line 12103: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12103</span>                 :                :     /* Is the new value wider on the right side? */</span>
<span id="L12104" title="Line 12104: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12104</span>                 :<span class="tlaCBC">        1177858 :     accum_rscale = accum_ndigits - accum_weight - 1;</span></span>
<span id="L12105" title="Line 12105: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12105</span>                 :<span class="tlaCBC">        1177858 :     val_rscale = val-&gt;ndigits - val-&gt;weight - 1;</span></span>
<span id="L12106" title="Line 12106: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12106</span>         [<span class="tlaCBC"> <a href="#L12109" title="CBC: Branch 0 was taken 86129 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L12109" title="CBC: Branch 1 was taken 1091729 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1177858 :     if (val_rscale &gt; accum_rscale)</span></span>
<span id="L12107" title="Line 12107: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12107</span>                 :<span class="tlaCBC">          86129 :         accum_ndigits = accum_ndigits + (val_rscale - accum_rscale);</span></span>
<span id="L12108" title="Line 12108: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12108</span>                 :                : </span>
<span id="L12109" title="Line 12109: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12109</span>   [<span class="tlaCBC"> <a href="#L12121" title="CBC: Branch 0 was taken 1046563 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L12121" title="CBC: Branch 1 was taken 131295 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L12138" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L12121" title="CBC: Branch 3 was taken 1046563 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1177858 :     if (accum_ndigits != old_ndigits ||</span></span>
<span id="L12110" title="Line 12110: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12110</span>                 :                :         accum_weight != old_weight)</span>
<span id="L12111" title="Line 12111: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12111</span>                 :                :     {</span>
<span id="L12112" title="Line 12112: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12112</span>                 :                :         int32      *new_pos_digits;</span>
<span id="L12113" title="Line 12113: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12113</span>                 :                :         int32      *new_neg_digits;</span>
<span id="L12114" title="Line 12114: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12114</span>                 :                :         int         weightdiff;</span>
<span id="L12115" title="Line 12115: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12115</span>                 :                : </span>
<span id="L12116" title="Line 12116: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12116</span>                 :<span class="tlaCBC">         131295 :         weightdiff = accum_weight - old_weight;</span></span>
<span id="L12117" title="Line 12117: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12117</span>                 :                : </span>
<span id="L12118" title="Line 12118: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12118</span>                 :<span class="tlaCBC">         131295 :         new_pos_digits = palloc0(accum_ndigits * sizeof(int32));</span></span>
<span id="L12119" title="Line 12119: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12119</span>                 :<span class="tlaCBC">         131295 :         new_neg_digits = palloc0(accum_ndigits * sizeof(int32));</span></span>
<span id="L12120" title="Line 12120: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12120</span>                 :                : </span>
<span id="L12121" title="Line 12121: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12121</span>         [<span class="tlaCBC"> <a href="#L12138" title="CBC: Branch 0 was taken 45201 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L12138" title="CBC: Branch 1 was taken 86094 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         131295 :         if (accum-&gt;pos_digits)</span></span>
<span id="L12122" title="Line 12122: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12122</span>                 :                :         {</span>
<span id="L12123" title="Line 12123: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12123</span>                 :<span class="tlaCBC">          45201 :             memcpy(&amp;new_pos_digits[weightdiff], accum-&gt;pos_digits,</span></span>
<span id="L12124" title="Line 12124: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12124</span>                 :                :                    old_ndigits * sizeof(int32));</span>
<span id="L12125" title="Line 12125: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12125</span>                 :<span class="tlaCBC">          45201 :             pfree(accum-&gt;pos_digits);</span></span>
<span id="L12126" title="Line 12126: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12126</span>                 :                : </span>
<span id="L12127" title="Line 12127: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12127</span>                 :<span class="tlaCBC">          45201 :             memcpy(&amp;new_neg_digits[weightdiff], accum-&gt;neg_digits,</span></span>
<span id="L12128" title="Line 12128: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12128</span>                 :                :                    old_ndigits * sizeof(int32));</span>
<span id="L12129" title="Line 12129: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12129</span>                 :<span class="tlaCBC">          45201 :             pfree(accum-&gt;neg_digits);</span></span>
<span id="L12130" title="Line 12130: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12130</span>                 :                :         }</span>
<span id="L12131" title="Line 12131: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12131</span>                 :                : </span>
<span id="L12132" title="Line 12132: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12132</span>                 :<span class="tlaCBC">         131295 :         accum-&gt;pos_digits = new_pos_digits;</span></span>
<span id="L12133" title="Line 12133: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12133</span>                 :<span class="tlaCBC">         131295 :         accum-&gt;neg_digits = new_neg_digits;</span></span>
<span id="L12134" title="Line 12134: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12134</span>                 :                : </span>
<span id="L12135" title="Line 12135: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12135</span>                 :<span class="tlaCBC">         131295 :         accum-&gt;weight = accum_weight;</span></span>
<span id="L12136" title="Line 12136: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12136</span>                 :<span class="tlaCBC">         131295 :         accum-&gt;ndigits = accum_ndigits;</span></span>
<span id="L12137" title="Line 12137: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12137</span>                 :                : </span>
<span id="L12138" title="Line 12138: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12138</span>   [<span class="tlaCBC"> <a href="#L12142" title="CBC: Branch 0 was taken 131295 times" class="branchTla">+</a> </span><span class="tlaUBC"> <a href="#L12160" title="UBC: Branch 1 was not taken" class="branchTla">-</a> </span><span class="tlaUBC"> <a href="#L12160" title="UBC: Branch 2 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L12142" title="CBC: Branch 3 was taken 131295 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">         131295 :         Assert(accum-&gt;pos_digits[0] == 0 &amp;&amp; accum-&gt;neg_digits[0] == 0);</span></span>
<span id="L12139" title="Line 12139: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12139</span>                 :<span class="tlaCBC">         131295 :         accum-&gt;have_carry_space = true;</span></span>
<span id="L12140" title="Line 12140: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12140</span>                 :                :     }</span>
<span id="L12141" title="Line 12141: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12141</span>                 :                : </span>
<span id="L12142" title="Line 12142: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12142</span>         [<span class="tlaCBC"> <a href="#L12160" title="CBC: Branch 0 was taken 150 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L12160" title="CBC: Branch 1 was taken 1177708 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1177858 :     if (val-&gt;dscale &gt; accum-&gt;dscale)</span></span>
<span id="L12143" title="Line 12143: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12143</span>                 :<span class="tlaCBC">            150 :         accum-&gt;dscale = val-&gt;dscale;</span></span>
<span id="L12144" title="Line 12144: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12144</span>                 :<span class="tlaCBC">        1177858 : }</span></span>
<span id="L12145" title="Line 12145: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12145</span>                 :                : </span>
<span id="L12146" title="Line 12146: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12146</span>                 :                : /*</span>
<span id="L12147" title="Line 12147: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12147</span>                 :                :  * Return the current value of the accumulator.  This perform final carry</span>
<span id="L12148" title="Line 12148: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12148</span>                 :                :  * propagation, and adds together the positive and negative sums.</span>
<span id="L12149" title="Line 12149: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12149</span>                 :                :  *</span>
<span id="L12150" title="Line 12150: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12150</span>                 :                :  * Unlike all the other routines, the caller is not required to switch to</span>
<span id="L12151" title="Line 12151: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12151</span>                 :                :  * the memory context that holds the accumulator.</span>
<span id="L12152" title="Line 12152: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12152</span>                 :                :  */</span>
<span id="L12153" title="Line 12153: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12153</span>                 :                : static void</span>
<span id="L12154" title="Line 12154: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12154</span>                 :<span class="tlaCBC">          86307 : accum_sum_final(NumericSumAccum *accum, NumericVar *result)</span></span>
<span id="L12155" title="Line 12155: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12155</span>                 :                : {</span>
<span id="L12156" title="Line 12156: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12156</span>                 :                :     int         i;</span>
<span id="L12157" title="Line 12157: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12157</span>                 :                :     NumericVar  pos_var;</span>
<span id="L12158" title="Line 12158: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12158</span>                 :                :     NumericVar  neg_var;</span>
<span id="L12159" title="Line 12159: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12159</span>                 :                : </span>
<span id="L12160" title="Line 12160: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12160</span>         [<span class="tlaUBC"> <a href="#L12184" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L12182" title="CBC: Branch 1 was taken 86307 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">          86307 :     if (accum-&gt;ndigits == 0)</span></span>
<span id="L12161" title="Line 12161: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12161</span>                 :                :     {</span>
<span id="L12162" title="Line 12162: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"><span title="heikki.linnakangas@iki.fi 3280 days ago (bin 4: (360..) days)" class="tlaUBC tlaBgUBC"> <a href="#top" title="next UBC in &ldquo;(360..) days&rdquo; bin" class="tlaBgUBC">3280</a> <a href="#top" title="next UBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin" class="tlaBgUBC">heikki.linnakangas@i</a></span> <span class="lineNum">   12162</span>                 :<a href="#top" class="tlaBgUBC"  title="Next UBC group">UBC</a><span class="tlaUBC tlaBgUBC">           0 :         set_var_from_var(&amp;const_zero, result);</span></span>
<span id="L12163" title="Line 12163: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"><span title="heikki.linnakangas@iki.fi 3280 days ago (bin 4: (360..) days)" class="tlaUBC">                          </span> <span class="lineNum">   12163</span>                 :<span class="tlaUBC">              0 :         return;</span></span>
<span id="L12164" title="Line 12164: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12164</span>                 :                :     }</span>
<span id="L12165" title="Line 12165: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12165</span>                 :                : </span>
<span id="L12166" title="Line 12166: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12166</span>                 :                :     /* Perform final carry */</span>
<span id="L12167" title="Line 12167: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi"> <a href="#top" title="next CBC in &ldquo;(360..) days&rdquo; bin">3280</a> <a href="#top" title="next CBC in &ldquo;heikki.linnakangas@iki.fi&rdquo; bin">heikki.linnakangas@i</a> <span class="lineNum">   12167</span>                 :<a href="#top" class="tlaBgCBC"  title="Next CBC group">CBC</a><span class="tlaCBC tlaBgCBC">       86307 :     accum_sum_carry(accum);</span></span>
<span id="L12168" title="Line 12168: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12168</span>                 :                : </span>
<span id="L12169" title="Line 12169: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12169</span>                 :                :     /* Create NumericVars representing the positive and negative sums */</span>
<span id="L12170" title="Line 12170: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12170</span>                 :<span class="tlaCBC">          86307 :     init_var(&amp;pos_var);</span></span>
<span id="L12171" title="Line 12171: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12171</span>                 :<span class="tlaCBC">          86307 :     init_var(&amp;neg_var);</span></span>
<span id="L12172" title="Line 12172: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12172</span>                 :                : </span>
<span id="L12173" title="Line 12173: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12173</span>                 :<span class="tlaCBC">          86307 :     pos_var.ndigits = neg_var.ndigits = accum-&gt;ndigits;</span></span>
<span id="L12174" title="Line 12174: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12174</span>                 :<span class="tlaCBC">          86307 :     pos_var.weight = neg_var.weight = accum-&gt;weight;</span></span>
<span id="L12175" title="Line 12175: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12175</span>                 :<span class="tlaCBC">          86307 :     pos_var.dscale = neg_var.dscale = accum-&gt;dscale;</span></span>
<span id="L12176" title="Line 12176: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12176</span>                 :<span class="tlaCBC">          86307 :     pos_var.sign = NUMERIC_POS;</span></span>
<span id="L12177" title="Line 12177: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12177</span>                 :<span class="tlaCBC">          86307 :     neg_var.sign = NUMERIC_NEG;</span></span>
<span id="L12178" title="Line 12178: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12178</span>                 :                : </span>
<span id="L12179" title="Line 12179: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12179</span>                 :<span class="tlaCBC">          86307 :     pos_var.buf = pos_var.digits = digitbuf_alloc(accum-&gt;ndigits);</span></span>
<span id="L12180" title="Line 12180: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12180</span>                 :<span class="tlaCBC">          86307 :     neg_var.buf = neg_var.digits = digitbuf_alloc(accum-&gt;ndigits);</span></span>
<span id="L12181" title="Line 12181: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12181</span>                 :                : </span>
<span id="L12182" title="Line 12182: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12182</span>         [<span class="tlaCBC"> <a href="#L12184" title="CBC: Branch 0 was taken 1216259 times" class="branchTla">+</a> </span><span class="tlaCBC"> <a href="#L12184" title="CBC: Branch 1 was taken 86307 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1302566 :     for (i = 0; i &lt; accum-&gt;ndigits; i++)</span></span>
<span id="L12183" title="Line 12183: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12183</span>                 :                :     {</span>
<span id="L12184" title="Line 12184: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12184</span>         [<span class="tlaUBC"> <a href="#L12187" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#L12187" title="CBC: Branch 1 was taken 1216259 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1216259 :         Assert(accum-&gt;pos_digits[i] &lt; NBASE);</span></span>
<span id="L12185" title="Line 12185: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12185</span>                 :<span class="tlaCBC">        1216259 :         pos_var.digits[i] = (int16) accum-&gt;pos_digits[i];</span></span>
<span id="L12186" title="Line 12186: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12186</span>                 :                : </span>
<span id="L12187" title="Line 12187: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12187</span>         [<span class="tlaUBC"> <a href="#top" title="UBC: Branch 0 was not taken" class="branchTla">-</a> </span><span class="tlaCBC"> <a href="#top" title="CBC: Branch 1 was taken 1216259 times" class="branchTla">+</a> </span>]:<span class="tlaCBC">        1216259 :         Assert(accum-&gt;neg_digits[i] &lt; NBASE);</span></span>
<span id="L12188" title="Line 12188: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12188</span>                 :<span class="tlaCBC">        1216259 :         neg_var.digits[i] = (int16) accum-&gt;neg_digits[i];</span></span>
<span id="L12189" title="Line 12189: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12189</span>                 :                :     }</span>
<span id="L12190" title="Line 12190: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12190</span>                 :                : </span>
<span id="L12191" title="Line 12191: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12191</span>                 :                :     /* And add them together */</span>
<span id="L12192" title="Line 12192: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12192</span>                 :<span class="tlaCBC">          86307 :     add_var(&amp;pos_var, &amp;neg_var, result);</span></span>
<span id="L12193" title="Line 12193: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12193</span>                 :                : </span>
<span id="L12194" title="Line 12194: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12194</span>                 :                :     /* Remove leading/trailing zeroes */</span>
<span id="L12195" title="Line 12195: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12195</span>                 :<span class="tlaCBC">          86307 :     strip_var(result);</span></span>
<span id="L12196" title="Line 12196: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12196</span>                 :                : }</span>
<span id="L12197" title="Line 12197: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12197</span>                 :                : </span>
<span id="L12198" title="Line 12198: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12198</span>                 :                : /*</span>
<span id="L12199" title="Line 12199: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12199</span>                 :                :  * Copy an accumulator's state.</span>
<span id="L12200" title="Line 12200: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12200</span>                 :                :  *</span>
<span id="L12201" title="Line 12201: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12201</span>                 :                :  * 'dst' is assumed to be uninitialized beforehand.  No attempt is made at</span>
<span id="L12202" title="Line 12202: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12202</span>                 :                :  * freeing old values.</span>
<span id="L12203" title="Line 12203: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12203</span>                 :                :  */</span>
<span id="L12204" title="Line 12204: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12204</span>                 :                : static void</span>
<span id="L12205" title="Line 12205: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12205</span>                 :<span class="tlaCBC">             21 : accum_sum_copy(NumericSumAccum *dst, NumericSumAccum *src)</span></span>
<span id="L12206" title="Line 12206: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12206</span>                 :                : {</span>
<span id="L12207" title="Line 12207: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12207</span>                 :<span class="tlaCBC">             21 :     dst-&gt;pos_digits = palloc(src-&gt;ndigits * sizeof(int32));</span></span>
<span id="L12208" title="Line 12208: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12208</span>                 :<span class="tlaCBC">             21 :     dst-&gt;neg_digits = palloc(src-&gt;ndigits * sizeof(int32));</span></span>
<span id="L12209" title="Line 12209: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12209</span>                 :                : </span>
<span id="L12210" title="Line 12210: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12210</span>                 :<span class="tlaCBC">             21 :     memcpy(dst-&gt;pos_digits, src-&gt;pos_digits, src-&gt;ndigits * sizeof(int32));</span></span>
<span id="L12211" title="Line 12211: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12211</span>                 :<span class="tlaCBC">             21 :     memcpy(dst-&gt;neg_digits, src-&gt;neg_digits, src-&gt;ndigits * sizeof(int32));</span></span>
<span id="L12212" title="Line 12212: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12212</span>                 :<span class="tlaCBC">             21 :     dst-&gt;num_uncarried = src-&gt;num_uncarried;</span></span>
<span id="L12213" title="Line 12213: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12213</span>                 :<span class="tlaCBC">             21 :     dst-&gt;ndigits = src-&gt;ndigits;</span></span>
<span id="L12214" title="Line 12214: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12214</span>                 :<span class="tlaCBC">             21 :     dst-&gt;weight = src-&gt;weight;</span></span>
<span id="L12215" title="Line 12215: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12215</span>                 :<span class="tlaCBC">             21 :     dst-&gt;dscale = src-&gt;dscale;</span></span>
<span id="L12216" title="Line 12216: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12216</span>                 :<span class="tlaCBC">             21 : }</span></span>
<span id="L12217" title="Line 12217: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12217</span>                 :                : </span>
<span id="L12218" title="Line 12218: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12218</span>                 :                : /*</span>
<span id="L12219" title="Line 12219: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12219</span>                 :                :  * Add the current value of 'accum2' into 'accum'.</span>
<span id="L12220" title="Line 12220: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12220</span>                 :                :  */</span>
<span id="L12221" title="Line 12221: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12221</span>                 :                : static void</span>
<span id="L12222" title="Line 12222: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12222</span>                 :<span class="tlaCBC">             27 : accum_sum_combine(NumericSumAccum *accum, NumericSumAccum *accum2)</span></span>
<span id="L12223" title="Line 12223: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12223</span>                 :                : {</span>
<span id="L12224" title="Line 12224: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12224</span>                 :                :     NumericVar  tmp_var;</span>
<span id="L12225" title="Line 12225: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12225</span>                 :                : </span>
<span id="L12226" title="Line 12226: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12226</span>                 :<span class="tlaCBC">             27 :     init_var(&amp;tmp_var);</span></span>
<span id="L12227" title="Line 12227: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12227</span>                 :                : </span>
<span id="L12228" title="Line 12228: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12228</span>                 :<span class="tlaCBC">             27 :     accum_sum_final(accum2, &amp;tmp_var);</span></span>
<span id="L12229" title="Line 12229: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12229</span>                 :<span class="tlaCBC">             27 :     accum_sum_add(accum, &amp;tmp_var);</span></span>
<span id="L12230" title="Line 12230: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12230</span>                 :                : </span>
<span id="L12231" title="Line 12231: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12231</span>                 :<span class="tlaCBC">             27 :     free_var(&amp;tmp_var);</span></span>
<span id="L12232" title="Line 12232: commit 9cca11c915e4 on 2016-09-02 by heikki.linnakangas@iki.fi">                           <span class="lineNum">   12232</span>                 :<span class="tlaCBC">             27 : }</span></span>
        </pre>
              </td>
            </tr>
          </table>
          <br>

          <table width="100%" border=0 cellspacing=0 cellpadding=0>
            <tr><td class="ruler"><img src="../../../../glass.png" width=3 height=3 alt=""></td></tr>
            <tr><td class="versionInfo">Generated by: <a href="https://github.com//linux-test-project/lcov" target="_parent">LCOV version 2.3.2-beta</a></td></tr>
          </table>
          <br>

</body>
</html>
